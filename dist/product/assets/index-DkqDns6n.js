const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-B4Ds-FoW.js","assets/graph-DLUWSK2A.js","assets/_baseUniq-DxFVWToM.js","assets/layout-Bpb6CzTe.js","assets/min-BIxRQXjA.js","assets/clone-DmpOqWs7.js","assets/cose-bilkent-S5V4N54A-BxGw8V0o.js","assets/cytoscape.esm-BQaXIfA_.js","assets/c4Diagram-YG6GDRKO-BlZ9-DRx.js","assets/chunk-TZMSLE5B-DRH3lxGc.js","assets/flowDiagram-NV44I4VS-d49QxutV.js","assets/chunk-FMBD7UC4-OxeHT8sh.js","assets/chunk-55IACEB6-CZDwR4wm.js","assets/chunk-QN33PNHL-C1ZXGd1e.js","assets/channel-DjeuP7bD.js","assets/erDiagram-Q2GNP2WA-BhAWRnp7.js","assets/gitGraphDiagram-NY62KEGX-CH8L3eW9.js","assets/chunk-4BX2VUAB-TR74WbHM.js","assets/chunk-QZHKN3VN-BOoyLbsJ.js","assets/treemap-KMMF4GRG-CrJnzo4S.js","assets/ganttDiagram-JELNMOA3-BXYyVDU0.js","assets/linear-CUQkmgup.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-C4B-KCzX.js","assets/infoDiagram-WHAUD3N6-Da-LRQ-b.js","assets/pieDiagram-ADFJNKIX-QYCxAG69.js","assets/arc-CqgV6Imw.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-BIxbdnWm.js","assets/xychartDiagram-PRI3JC2R-ukhxKrXu.js","assets/requirementDiagram-UZGBJVZJ-215nwxt_.js","assets/sequenceDiagram-WL72ISMW-v0P6PYYT.js","assets/classDiagram-2ON5EDUG-CerL7RkB.js","assets/chunk-B4BG7PRW-CG3r6dbQ.js","assets/classDiagram-v2-WZHVMYZB-CerL7RkB.js","assets/stateDiagram-FKZM4ZOC-C9Nb6jX5.js","assets/chunk-DI55MBZ5-BqYp0Dr3.js","assets/stateDiagram-v2-4FDKWEC3-Bhqau-fA.js","assets/journeyDiagram-XKPGCS4Q-BT_z4LFc.js","assets/timeline-definition-IT6M3QCI-DlrQo0-L.js","assets/mindmap-definition-VGOIOE7T-CFwiSPq6.js","assets/kanban-definition-3W4ZIXB7-BR3vOd_P.js","assets/sankeyDiagram-TZEHDZUN-C74VZ6GU.js","assets/diagram-S2PKOQOG-CLh6H9IG.js","assets/diagram-QEK2KX5R-tNQZZEZH.js","assets/blockDiagram-VD42YOAC-DkfHFJoT.js","assets/architectureDiagram-VXUJARFQ-BYQAOcwa.js","assets/diagram-PSM6KHXK-C2qiNeeT.js"])))=>i.map(i=>d[i]);
var _Z=Object.defineProperty;var IU=t=>{throw TypeError(t)};var EZ=(t,e,r)=>e in t?_Z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var er=(t,e,r)=>EZ(t,typeof e!="symbol"?e+"":e,r),s3=(t,e,r)=>e.has(t)||IU("Cannot "+r);var _=(t,e,r)=>(s3(t,e,"read from private field"),r?r.call(t):e.get(t)),ge=(t,e,r)=>e.has(t)?IU("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ue=(t,e,r,n)=>(s3(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),de=(t,e,r)=>(s3(t,e,"access private method"),r);var Pc=(t,e,r,n)=>({set _(i){ue(t,e,i,r)},get _(){return _(t,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var gRe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $k(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var a3={exports:{}},Fv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kU;function BZ(){if(kU)return Fv;kU=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:t,type:n,key:a,ref:i!==void 0?i:null,props:s}}return Fv.Fragment=e,Fv.jsx=r,Fv.jsxs=r,Fv}var LU;function TZ(){return LU||(LU=1,a3.exports=BZ()),a3.exports}var d=TZ(),o3={exports:{}},nn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RU;function NZ(){if(RU)return nn;RU=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;function g(le){return le===null||typeof le!="object"?null:(le=p&&le[p]||le["@@iterator"],typeof le=="function"?le:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function S(le,M,G){this.props=le,this.context=M,this.refs=w,this.updater=G||y}S.prototype.isReactComponent={},S.prototype.setState=function(le,M){if(typeof le!="object"&&typeof le!="function"&&le!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,le,M,"setState")},S.prototype.forceUpdate=function(le){this.updater.enqueueForceUpdate(this,le,"forceUpdate")};function B(){}B.prototype=S.prototype;function F(le,M,G){this.props=le,this.context=M,this.refs=w,this.updater=G||y}var k=F.prototype=new B;k.constructor=F,x(k,S.prototype),k.isPureReactComponent=!0;var O=Array.isArray;function R(){}var D={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function V(le,M,G){var W=G.ref;return{$$typeof:t,type:le,key:M,ref:W!==void 0?W:null,props:G}}function re(le,M){return V(le.type,M,le.props)}function P(le){return typeof le=="object"&&le!==null&&le.$$typeof===t}function H(le){var M={"=":"=0",":":"=2"};return"$"+le.replace(/[=:]/g,function(G){return M[G]})}var q=/\/+/g;function Z(le,M){return typeof le=="object"&&le!==null&&le.key!=null?H(""+le.key):M.toString(36)}function se(le){switch(le.status){case"fulfilled":return le.value;case"rejected":throw le.reason;default:switch(typeof le.status=="string"?le.then(R,R):(le.status="pending",le.then(function(M){le.status==="pending"&&(le.status="fulfilled",le.value=M)},function(M){le.status==="pending"&&(le.status="rejected",le.reason=M)})),le.status){case"fulfilled":return le.value;case"rejected":throw le.reason}}throw le}function X(le,M,G,W,J){var ae=typeof le;(ae==="undefined"||ae==="boolean")&&(le=null);var ve=!1;if(le===null)ve=!0;else switch(ae){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(le.$$typeof){case t:case e:ve=!0;break;case u:return ve=le._init,X(ve(le._payload),M,G,W,J)}}if(ve)return J=J(le),ve=W===""?"."+Z(le,0):W,O(J)?(G="",ve!=null&&(G=ve.replace(q,"$&/")+"/"),X(J,M,G,"",function(He){return He})):J!=null&&(P(J)&&(J=re(J,G+(J.key==null||le&&le.key===J.key?"":(""+J.key).replace(q,"$&/")+"/")+ve)),M.push(J)),1;ve=0;var Fe=W===""?".":W+":";if(O(le))for(var Ie=0;Ie<le.length;Ie++)W=le[Ie],ae=Fe+Z(W,Ie),ve+=X(W,M,G,ae,J);else if(Ie=g(le),typeof Ie=="function")for(le=Ie.call(le),Ie=0;!(W=le.next()).done;)W=W.value,ae=Fe+Z(W,Ie++),ve+=X(W,M,G,ae,J);else if(ae==="object"){if(typeof le.then=="function")return X(se(le),M,G,W,J);throw M=String(le),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(le).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ve}function ee(le,M,G){if(le==null)return le;var W=[],J=0;return X(le,W,"","",function(ae){return M.call(G,ae,J++)}),W}function te(le){if(le._status===-1){var M=le._result;M=M(),M.then(function(G){(le._status===0||le._status===-1)&&(le._status=1,le._result=G)},function(G){(le._status===0||le._status===-1)&&(le._status=2,le._result=G)}),le._status===-1&&(le._status=0,le._result=M)}if(le._status===1)return le._result.default;throw le._result}var Ce=typeof reportError=="function"?reportError:function(le){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof le=="object"&&le!==null&&typeof le.message=="string"?String(le.message):String(le),error:le});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",le);return}console.error(le)},ke={map:ee,forEach:function(le,M,G){ee(le,function(){M.apply(this,arguments)},G)},count:function(le){var M=0;return ee(le,function(){M++}),M},toArray:function(le){return ee(le,function(M){return M})||[]},only:function(le){if(!P(le))throw Error("React.Children.only expected to receive a single React element child.");return le}};return nn.Activity=f,nn.Children=ke,nn.Component=S,nn.Fragment=r,nn.Profiler=i,nn.PureComponent=F,nn.StrictMode=n,nn.Suspense=l,nn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,nn.__COMPILER_RUNTIME={__proto__:null,c:function(le){return D.H.useMemoCache(le)}},nn.cache=function(le){return function(){return le.apply(null,arguments)}},nn.cacheSignal=function(){return null},nn.cloneElement=function(le,M,G){if(le==null)throw Error("The argument must be a React element, but you passed "+le+".");var W=x({},le.props),J=le.key;if(M!=null)for(ae in M.key!==void 0&&(J=""+M.key),M)!Q.call(M,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&M.ref===void 0||(W[ae]=M[ae]);var ae=arguments.length-2;if(ae===1)W.children=G;else if(1<ae){for(var ve=Array(ae),Fe=0;Fe<ae;Fe++)ve[Fe]=arguments[Fe+2];W.children=ve}return V(le.type,J,W)},nn.createContext=function(le){return le={$$typeof:a,_currentValue:le,_currentValue2:le,_threadCount:0,Provider:null,Consumer:null},le.Provider=le,le.Consumer={$$typeof:s,_context:le},le},nn.createElement=function(le,M,G){var W,J={},ae=null;if(M!=null)for(W in M.key!==void 0&&(ae=""+M.key),M)Q.call(M,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(J[W]=M[W]);var ve=arguments.length-2;if(ve===1)J.children=G;else if(1<ve){for(var Fe=Array(ve),Ie=0;Ie<ve;Ie++)Fe[Ie]=arguments[Ie+2];J.children=Fe}if(le&&le.defaultProps)for(W in ve=le.defaultProps,ve)J[W]===void 0&&(J[W]=ve[W]);return V(le,ae,J)},nn.createRef=function(){return{current:null}},nn.forwardRef=function(le){return{$$typeof:o,render:le}},nn.isValidElement=P,nn.lazy=function(le){return{$$typeof:u,_payload:{_status:-1,_result:le},_init:te}},nn.memo=function(le,M){return{$$typeof:c,type:le,compare:M===void 0?null:M}},nn.startTransition=function(le){var M=D.T,G={};D.T=G;try{var W=le(),J=D.S;J!==null&&J(G,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(R,Ce)}catch(ae){Ce(ae)}finally{M!==null&&G.types!==null&&(M.types=G.types),D.T=M}},nn.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},nn.use=function(le){return D.H.use(le)},nn.useActionState=function(le,M,G){return D.H.useActionState(le,M,G)},nn.useCallback=function(le,M){return D.H.useCallback(le,M)},nn.useContext=function(le){return D.H.useContext(le)},nn.useDebugValue=function(){},nn.useDeferredValue=function(le,M){return D.H.useDeferredValue(le,M)},nn.useEffect=function(le,M){return D.H.useEffect(le,M)},nn.useEffectEvent=function(le){return D.H.useEffectEvent(le)},nn.useId=function(){return D.H.useId()},nn.useImperativeHandle=function(le,M,G){return D.H.useImperativeHandle(le,M,G)},nn.useInsertionEffect=function(le,M){return D.H.useInsertionEffect(le,M)},nn.useLayoutEffect=function(le,M){return D.H.useLayoutEffect(le,M)},nn.useMemo=function(le,M){return D.H.useMemo(le,M)},nn.useOptimistic=function(le,M){return D.H.useOptimistic(le,M)},nn.useReducer=function(le,M,G){return D.H.useReducer(le,M,G)},nn.useRef=function(le){return D.H.useRef(le)},nn.useState=function(le){return D.H.useState(le)},nn.useSyncExternalStore=function(le,M,G){return D.H.useSyncExternalStore(le,M,G)},nn.useTransition=function(){return D.H.useTransition()},nn.version="19.2.3",nn}var MU;function qk(){return MU||(MU=1,o3.exports=NZ()),o3.exports}var Xe=qk();const hC=$k(Xe);var l3={exports:{}},Iv={},c3={exports:{}},A3={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UU;function FZ(){return UU||(UU=1,(function(t){function e(X,ee){var te=X.length;X.push(ee);e:for(;0<te;){var Ce=te-1>>>1,ke=X[Ce];if(0<i(ke,ee))X[Ce]=ee,X[te]=ke,te=Ce;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var ee=X[0],te=X.pop();if(te!==ee){X[0]=te;e:for(var Ce=0,ke=X.length,le=ke>>>1;Ce<le;){var M=2*(Ce+1)-1,G=X[M],W=M+1,J=X[W];if(0>i(G,te))W<ke&&0>i(J,G)?(X[Ce]=J,X[W]=te,Ce=W):(X[Ce]=G,X[M]=te,Ce=M);else if(W<ke&&0>i(J,te))X[Ce]=J,X[W]=te,Ce=W;else break e}}return ee}function i(X,ee){var te=X.sortIndex-ee.sortIndex;return te!==0?te:X.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,p=3,g=!1,y=!1,x=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function k(X){for(var ee=r(c);ee!==null;){if(ee.callback===null)n(c);else if(ee.startTime<=X)n(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=r(c)}}function O(X){if(x=!1,k(X),!y)if(r(l)!==null)y=!0,R||(R=!0,H());else{var ee=r(c);ee!==null&&se(O,ee.startTime-X)}}var R=!1,D=-1,Q=5,V=-1;function re(){return w?!0:!(t.unstable_now()-V<Q)}function P(){if(w=!1,R){var X=t.unstable_now();V=X;var ee=!0;try{e:{y=!1,x&&(x=!1,B(D),D=-1),g=!0;var te=p;try{t:{for(k(X),f=r(l);f!==null&&!(f.expirationTime>X&&re());){var Ce=f.callback;if(typeof Ce=="function"){f.callback=null,p=f.priorityLevel;var ke=Ce(f.expirationTime<=X);if(X=t.unstable_now(),typeof ke=="function"){f.callback=ke,k(X),ee=!0;break t}f===r(l)&&n(l),k(X)}else n(l);f=r(l)}if(f!==null)ee=!0;else{var le=r(c);le!==null&&se(O,le.startTime-X),ee=!1}}break e}finally{f=null,p=te,g=!1}ee=void 0}}finally{ee?H():R=!1}}}var H;if(typeof F=="function")H=function(){F(P)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Z=q.port2;q.port1.onmessage=P,H=function(){Z.postMessage(null)}}else H=function(){S(P,0)};function se(X,ee){D=S(function(){X(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(X){switch(p){case 1:case 2:case 3:var ee=3;break;default:ee=p}var te=p;p=ee;try{return X()}finally{p=te}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(X,ee){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var te=p;p=X;try{return ee()}finally{p=te}},t.unstable_scheduleCallback=function(X,ee,te){var Ce=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ce+te:Ce):te=Ce,X){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=te+ke,X={id:u++,callback:ee,priorityLevel:X,startTime:te,expirationTime:ke,sortIndex:-1},te>Ce?(X.sortIndex=te,e(c,X),r(l)===null&&X===r(c)&&(x?(B(D),D=-1):x=!0,se(O,te-Ce))):(X.sortIndex=ke,e(l,X),y||g||(y=!0,R||(R=!0,H()))),X},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(X){var ee=p;return function(){var te=p;p=ee;try{return X.apply(this,arguments)}finally{p=te}}}})(A3)),A3}var DU;function IZ(){return DU||(DU=1,c3.exports=FZ()),c3.exports}var u3={exports:{}},qo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OU;function kZ(){if(OU)return qo;OU=1;var t=qk();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)c+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,c,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:c,implementation:u}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return qo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,qo.createPortal=function(l,c){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return s(l,c,null,u)},qo.flushSync=function(l){var c=a.T,u=n.p;try{if(a.T=null,n.p=2,l)return l()}finally{a.T=c,n.p=u,n.d.f()}},qo.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(l,c))},qo.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},qo.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var u=c.as,f=o(u,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,g=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;u==="style"?n.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:g}):u==="script"&&n.d.X(l,{crossOrigin:f,integrity:p,fetchPriority:g,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},qo.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var u=o(c.as,c.crossOrigin);n.d.M(l,{crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(l)},qo.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var u=c.as,f=o(u,c.crossOrigin);n.d.L(l,u,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},qo.preloadModule=function(l,c){if(typeof l=="string")if(c){var u=o(c.as,c.crossOrigin);n.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(l)},qo.requestFormReset=function(l){n.d.r(l)},qo.unstable_batchedUpdates=function(l,c){return l(c)},qo.useFormState=function(l,c,u){return a.H.useFormState(l,c,u)},qo.useFormStatus=function(){return a.H.useHostTransitionStatus()},qo.version="19.2.3",qo}var PU;function LZ(){if(PU)return u3.exports;PU=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),u3.exports=kZ(),u3.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HU;function RZ(){if(HU)return Iv;HU=1;var t=IZ(),e=qk(),r=LZ();function n(A){var h="https://react.dev/errors/"+A;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+A+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function s(A){var h=A,m=A;if(A.alternate)for(;h.return;)h=h.return;else{A=h;do h=A,(h.flags&4098)!==0&&(m=h.return),A=h.return;while(A)}return h.tag===3?m:null}function a(A){if(A.tag===13){var h=A.memoizedState;if(h===null&&(A=A.alternate,A!==null&&(h=A.memoizedState)),h!==null)return h.dehydrated}return null}function o(A){if(A.tag===31){var h=A.memoizedState;if(h===null&&(A=A.alternate,A!==null&&(h=A.memoizedState)),h!==null)return h.dehydrated}return null}function l(A){if(s(A)!==A)throw Error(n(188))}function c(A){var h=A.alternate;if(!h){if(h=s(A),h===null)throw Error(n(188));return h!==A?null:A}for(var m=A,v=h;;){var T=m.return;if(T===null)break;var I=T.alternate;if(I===null){if(v=T.return,v!==null){m=v;continue}break}if(T.child===I.child){for(I=T.child;I;){if(I===m)return l(T),A;if(I===v)return l(T),h;I=I.sibling}throw Error(n(188))}if(m.return!==v.return)m=T,v=I;else{for(var Y=!1,fe=T.child;fe;){if(fe===m){Y=!0,m=T,v=I;break}if(fe===v){Y=!0,v=T,m=I;break}fe=fe.sibling}if(!Y){for(fe=I.child;fe;){if(fe===m){Y=!0,m=I,v=T;break}if(fe===v){Y=!0,v=I,m=T;break}fe=fe.sibling}if(!Y)throw Error(n(189))}}if(m.alternate!==v)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?A:h}function u(A){var h=A.tag;if(h===5||h===26||h===27||h===6)return A;for(A=A.child;A!==null;){if(h=u(A),h!==null)return h;A=A.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function H(A){return A===null||typeof A!="object"?null:(A=P&&A[P]||A["@@iterator"],typeof A=="function"?A:null)}var q=Symbol.for("react.client.reference");function Z(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===q?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case x:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList";case V:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case y:return"Portal";case F:return A.displayName||"Context";case B:return(A._context.displayName||"Context")+".Consumer";case k:var h=A.render;return A=A.displayName,A||(A=h.displayName||h.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case D:return h=A.displayName||null,h!==null?h:Z(A.type)||"Memo";case Q:h=A._payload,A=A._init;try{return Z(A(h))}catch{}}return null}var se=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Ce=[],ke=-1;function le(A){return{current:A}}function M(A){0>ke||(A.current=Ce[ke],Ce[ke]=null,ke--)}function G(A,h){ke++,Ce[ke]=A.current,A.current=h}var W=le(null),J=le(null),ae=le(null),ve=le(null);function Fe(A,h){switch(G(ae,h),G(J,A),G(W,null),h.nodeType){case 9:case 11:A=(A=h.documentElement)&&(A=A.namespaceURI)?eU(A):0;break;default:if(A=h.tagName,h=h.namespaceURI)h=eU(h),A=tU(h,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}M(W),G(W,A)}function Ie(){M(W),M(J),M(ae)}function He(A){A.memoizedState!==null&&G(ve,A);var h=W.current,m=tU(h,A.type);h!==m&&(G(J,A),G(W,m))}function at(A){J.current===A&&(M(W),M(J)),ve.current===A&&(M(ve),Ev._currentValue=te)}var lt,St;function Nt(A){if(lt===void 0)try{throw Error()}catch(m){var h=m.stack.trim().match(/\n( *(at )?)/);lt=h&&h[1]||"",St=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lt+A+St}var it=!1;function Be(A,h){if(!A||it)return"";it=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(h){var Ct=function(){throw Error()};if(Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(ct){var st=ct}Reflect.construct(A,[],Ct)}else{try{Ct.call()}catch(ct){st=ct}A.call(Ct.prototype)}}else{try{throw Error()}catch(ct){st=ct}(Ct=A())&&typeof Ct.catch=="function"&&Ct.catch(function(){})}}catch(ct){if(ct&&st&&typeof ct.stack=="string")return[ct.stack,st.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=v.DetermineComponentFrameRoot(),Y=I[0],fe=I[1];if(Y&&fe){var Re=Y.split(`
`),nt=fe.split(`
`);for(T=v=0;v<Re.length&&!Re[v].includes("DetermineComponentFrameRoot");)v++;for(;T<nt.length&&!nt[T].includes("DetermineComponentFrameRoot");)T++;if(v===Re.length||T===nt.length)for(v=Re.length-1,T=nt.length-1;1<=v&&0<=T&&Re[v]!==nt[T];)T--;for(;1<=v&&0<=T;v--,T--)if(Re[v]!==nt[T]){if(v!==1||T!==1)do if(v--,T--,0>T||Re[v]!==nt[T]){var pt=`
`+Re[v].replace(" at new "," at ");return A.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",A.displayName)),pt}while(1<=v&&0<=T);break}}}finally{it=!1,Error.prepareStackTrace=m}return(m=A?A.displayName||A.name:"")?Nt(m):""}function xt(A,h){switch(A.tag){case 26:case 27:case 5:return Nt(A.type);case 16:return Nt("Lazy");case 13:return A.child!==h&&h!==null?Nt("Suspense Fallback"):Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return Be(A.type,!1);case 11:return Be(A.type.render,!1);case 1:return Be(A.type,!0);case 31:return Nt("Activity");default:return""}}function Dt(A){try{var h="",m=null;do h+=xt(A,m),m=A,A=A.return;while(A);return h}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var vt=Object.prototype.hasOwnProperty,Ft=t.unstable_scheduleCallback,Lt=t.unstable_cancelCallback,Ut=t.unstable_shouldYield,ir=t.unstable_requestPaint,Vt=t.unstable_now,_r=t.unstable_getCurrentPriorityLevel,tr=t.unstable_ImmediatePriority,kr=t.unstable_UserBlockingPriority,zr=t.unstable_NormalPriority,xr=t.unstable_LowPriority,vr=t.unstable_IdlePriority,Mt=t.log,Ti=t.unstable_setDisableYieldValue,Ur=null,mn=null;function Br(A){if(typeof Mt=="function"&&Ti(A),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(Ur,A)}catch{}}var Gr=Math.clz32?Math.clz32:Ao,Wi=Math.log,Jr=Math.LN2;function Ao(A){return A>>>=0,A===0?32:31-(Wi(A)/Jr|0)|0}var fn=256,Yi=262144,Is=4194304;function rn(A){var h=A&42;if(h!==0)return h;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return A&261888;case 262144:case 524288:case 1048576:case 2097152:return A&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function Cr(A,h,m){var v=A.pendingLanes;if(v===0)return 0;var T=0,I=A.suspendedLanes,Y=A.pingedLanes;A=A.warmLanes;var fe=v&134217727;return fe!==0?(v=fe&~I,v!==0?T=rn(v):(Y&=fe,Y!==0?T=rn(Y):m||(m=fe&~A,m!==0&&(T=rn(m))))):(fe=v&~I,fe!==0?T=rn(fe):Y!==0?T=rn(Y):m||(m=v&~A,m!==0&&(T=rn(m)))),T===0?0:h!==0&&h!==T&&(h&I)===0&&(I=T&-T,m=h&-h,I>=m||I===32&&(m&4194048)!==0)?h:T}function an(A,h){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&h)===0}function Mn(A,h){switch(A){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hn(){var A=Is;return Is<<=1,(Is&62914560)===0&&(Is=4194304),A}function ks(A){for(var h=[],m=0;31>m;m++)h.push(A);return h}function ls(A,h){A.pendingLanes|=h,h!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function dr(A,h,m,v,T,I){var Y=A.pendingLanes;A.pendingLanes=m,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=m,A.entangledLanes&=m,A.errorRecoveryDisabledLanes&=m,A.shellSuspendCounter=0;var fe=A.entanglements,Re=A.expirationTimes,nt=A.hiddenUpdates;for(m=Y&~m;0<m;){var pt=31-Gr(m),Ct=1<<pt;fe[pt]=0,Re[pt]=-1;var st=nt[pt];if(st!==null)for(nt[pt]=null,pt=0;pt<st.length;pt++){var ct=st[pt];ct!==null&&(ct.lane&=-536870913)}m&=~Ct}v!==0&&Ls(A,v,0),I!==0&&T===0&&A.tag!==0&&(A.suspendedLanes|=I&~(Y&~h))}function Ls(A,h,m){A.pendingLanes|=h,A.suspendedLanes&=~h;var v=31-Gr(h);A.entangledLanes|=h,A.entanglements[v]=A.entanglements[v]|1073741824|m&261930}function cs(A,h){var m=A.entangledLanes|=h;for(A=A.entanglements;m;){var v=31-Gr(m),T=1<<v;T&h|A[v]&h&&(A[v]|=h),m&=~T}}function ws(A,h){var m=h&-h;return m=(m&42)!==0?1:cn(m),(m&(A.suspendedLanes|h))!==0?0:m}function cn(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function yn(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function oe(){var A=ee.p;return A!==0?A:(A=window.event,A===void 0?32:SU(A.type))}function _e(A,h){var m=ee.p;try{return ee.p=A,h()}finally{ee.p=m}}var xe=Math.random().toString(36).slice(2),pe="__reactFiber$"+xe,be="__reactProps$"+xe,we="__reactContainer$"+xe,qe="__reactEvents$"+xe,tt="__reactListeners$"+xe,ze="__reactHandles$"+xe,We="__reactResources$"+xe,Me="__reactMarker$"+xe;function ye(A){delete A[pe],delete A[be],delete A[qe],delete A[tt],delete A[ze]}function Qe(A){var h=A[pe];if(h)return h;for(var m=A.parentNode;m;){if(h=m[we]||m[pe]){if(m=h.alternate,h.child!==null||m!==null&&m.child!==null)for(A=lU(A);A!==null;){if(m=A[pe])return m;A=lU(A)}return h}A=m,m=A.parentNode}return null}function rt(A){if(A=A[pe]||A[we]){var h=A.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return A}return null}function ft(A){var h=A.tag;if(h===5||h===26||h===27||h===6)return A.stateNode;throw Error(n(33))}function wt(A){var h=A[We];return h||(h=A[We]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function It(A){A[Me]=!0}var nr=new Set,Kr={};function Dr(A,h){Pi(A,h),Pi(A+"Capture",h)}function Pi(A,h){for(Kr[A]=h,A=0;A<h.length;A++)nr.add(h[A])}var Tr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rs={},pi={};function Po(A){return vt.call(pi,A)?!0:vt.call(Rs,A)?!1:Tr.test(A)?pi[A]=!0:(Rs[A]=!0,!1)}function $n(A,h,m){if(Po(h))if(m===null)A.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":A.removeAttribute(h);return;case"boolean":var v=h.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){A.removeAttribute(h);return}}A.setAttribute(h,""+m)}}function ni(A,h,m){if(m===null)A.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(h);return}A.setAttribute(h,""+m)}}function es(A,h,m,v){if(v===null)A.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(m);return}A.setAttributeNS(h,m,""+v)}}function $s(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function Ca(A){var h=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function XA(A,h,m){var v=Object.getOwnPropertyDescriptor(A.constructor.prototype,h);if(!A.hasOwnProperty(h)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var T=v.get,I=v.set;return Object.defineProperty(A,h,{configurable:!0,get:function(){return T.call(this)},set:function(Y){m=""+Y,I.call(this,Y)}}),Object.defineProperty(A,h,{enumerable:v.enumerable}),{getValue:function(){return m},setValue:function(Y){m=""+Y},stopTracking:function(){A._valueTracker=null,delete A[h]}}}}function bs(A){if(!A._valueTracker){var h=Ca(A)?"checked":"value";A._valueTracker=XA(A,h,""+A[h])}}function Va(A){if(!A)return!1;var h=A._valueTracker;if(!h)return!0;var m=h.getValue(),v="";return A&&(v=Ca(A)?A.checked?"true":"false":A.value),A=v,A!==m?(h.setValue(A),!0):!1}function Lr(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var Ms=/[\n"\\]/g;function gi(A){return A.replace(Ms,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function oA(A,h,m,v,T,I,Y,fe){A.name="",Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?A.type=Y:A.removeAttribute("type"),h!=null?Y==="number"?(h===0&&A.value===""||A.value!=h)&&(A.value=""+$s(h)):A.value!==""+$s(h)&&(A.value=""+$s(h)):Y!=="submit"&&Y!=="reset"||A.removeAttribute("value"),h!=null?lA(A,Y,$s(h)):m!=null?lA(A,Y,$s(m)):v!=null&&A.removeAttribute("value"),T==null&&I!=null&&(A.defaultChecked=!!I),T!=null&&(A.checked=T&&typeof T!="function"&&typeof T!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?A.name=""+$s(fe):A.removeAttribute("name")}function $a(A,h,m,v,T,I,Y,fe){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(A.type=I),h!=null||m!=null){if(!(I!=="submit"&&I!=="reset"||h!=null)){bs(A);return}m=m!=null?""+$s(m):"",h=h!=null?""+$s(h):m,fe||h===A.value||(A.value=h),A.defaultValue=h}v=v??T,v=typeof v!="function"&&typeof v!="symbol"&&!!v,A.checked=fe?A.checked:!!v,A.defaultChecked=!!v,Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(A.name=Y),bs(A)}function lA(A,h,m){h==="number"&&Lr(A.ownerDocument)===A||A.defaultValue===""+m||(A.defaultValue=""+m)}function qs(A,h,m,v){if(A=A.options,h){h={};for(var T=0;T<m.length;T++)h["$"+m[T]]=!0;for(m=0;m<A.length;m++)T=h.hasOwnProperty("$"+A[m].value),A[m].selected!==T&&(A[m].selected=T),T&&v&&(A[m].defaultSelected=!0)}else{for(m=""+$s(m),h=null,T=0;T<A.length;T++){if(A[T].value===m){A[T].selected=!0,v&&(A[T].defaultSelected=!0);return}h!==null||A[T].disabled||(h=A[T])}h!==null&&(h.selected=!0)}}function JA(A,h,m){if(h!=null&&(h=""+$s(h),h!==A.value&&(A.value=h),m==null)){A.defaultValue!==h&&(A.defaultValue=h);return}A.defaultValue=m!=null?""+$s(m):""}function qa(A,h,m,v){if(h==null){if(v!=null){if(m!=null)throw Error(n(92));if(se(v)){if(1<v.length)throw Error(n(93));v=v[0]}m=v}m==null&&(m=""),h=m}m=$s(h),A.defaultValue=m,v=A.textContent,v===m&&v!==""&&v!==null&&(A.value=v),bs(A)}function Ho(A,h){if(h){var m=A.firstChild;if(m&&m===A.lastChild&&m.nodeType===3){m.nodeValue=h;return}}A.textContent=h}var Yl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sh(A,h,m){var v=h.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?A.setProperty(h,""):h==="float"?A.cssFloat="":A[h]="":v?A.setProperty(h,m):typeof m!="number"||m===0||Yl.has(h)?h==="float"?A.cssFloat=m:A[h]=(""+m).trim():A[h]=m+"px"}function Xl(A,h,m){if(h!=null&&typeof h!="object")throw Error(n(62));if(A=A.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||h!=null&&h.hasOwnProperty(v)||(v.indexOf("--")===0?A.setProperty(v,""):v==="float"?A.cssFloat="":A[v]="");for(var T in h)v=h[T],h.hasOwnProperty(T)&&m[T]!==v&&sh(A,T,v)}else for(var I in h)h.hasOwnProperty(I)&&sh(A,I,h[I])}function uo(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(A){return cA.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}function ci(){}var gl=null;function AA(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var cr=null,sa=null;function Sa(A){var h=rt(A);if(h&&(A=h.stateNode)){var m=A[be]||null;e:switch(A=h.stateNode,h.type){case"input":if(oA(A,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),h=m.name,m.type==="radio"&&h!=null){for(m=A;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+gi(""+h)+'"][type="radio"]'),h=0;h<m.length;h++){var v=m[h];if(v!==A&&v.form===A.form){var T=v[be]||null;if(!T)throw Error(n(90));oA(v,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(h=0;h<m.length;h++)v=m[h],v.form===A.form&&Va(v)}break e;case"textarea":JA(A,m.value,m.defaultValue);break e;case"select":h=m.value,h!=null&&qs(A,!!m.multiple,h,!1)}}}var wr=!1;function ZA(A,h,m){if(wr)return A(h,m);wr=!0;try{var v=A(h);return v}finally{if(wr=!1,(cr!==null||sa!==null)&&(rS(),cr&&(h=cr,A=sa,sa=cr=null,Sa(h),A)))for(h=0;h<A.length;h++)Sa(A[h])}}function Jl(A,h){var m=A.stateNode;if(m===null)return null;var v=m[be]||null;if(v===null)return null;m=v[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(A=A.type,v=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!v;break e;default:A=!1}if(A)return null;if(m&&typeof m!="function")throw Error(n(231,h,typeof m));return m}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zl=!1;if(za)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){Zl=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{Zl=!1}var Qo=null,Cf=null,Ka=null;function ml(){if(Ka)return Ka;var A,h=Cf,m=h.length,v,T="value"in Qo?Qo.value:Qo.textContent,I=T.length;for(A=0;A<m&&h[A]===T[A];A++);var Y=m-A;for(v=1;v<=Y&&h[m-v]===T[I-v];v++);return Ka=T.slice(A,1<v?1-v:void 0)}function aa(A){var h=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&h===13&&(A=13)):A=h,A===10&&(A=13),32<=A||A===13?A:0}function ah(){return!0}function ec(){return!1}function Ds(A){function h(m,v,T,I,Y){this._reactName=m,this._targetInst=T,this.type=v,this.nativeEvent=I,this.target=Y,this.currentTarget=null;for(var fe in A)A.hasOwnProperty(fe)&&(m=A[fe],this[fe]=m?m(I):I[fe]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?ah:ec,this.isPropagationStopped=ec,this}return f(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ah)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ah)},persist:function(){},isPersistent:ah}),h}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uA=Ds(ho),Un=f({},ho,{view:0,detail:0}),Sf=Ds(Un),eu,fo,Wa,tu=f({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fA,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Wa&&(Wa&&A.type==="mousemove"?(eu=A.screenX-Wa.screenX,fo=A.screenY-Wa.screenY):fo=eu=0,Wa=A),eu)},movementY:function(A){return"movementY"in A?A.movementY:fo}}),tc=Ds(tu),yl=f({},tu,{dataTransfer:0}),ru=Ds(yl),hA=f({},Un,{relatedTarget:0}),nu=Ds(hA),oh=f({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),e0=Ds(oh),_f=f({},ho,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),lh=Ds(_f),t0=f({},ho,{data:0}),Fc=Ds(t0),Ef={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r0(A){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(A):(A=Bf[A])?!!h[A]:!1}function fA(){return r0}var dA=f({},Un,{key:function(A){if(A.key){var h=Ef[A.key]||A.key;if(h!=="Unidentified")return h}return A.type==="keypress"?(A=aa(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?ch[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fA,charCode:function(A){return A.type==="keypress"?aa(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?aa(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),Ah=Ds(dA),jo=f({},tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uh=Ds(jo),L=f({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fA}),ne=Ds(L),Te=f({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),Le=Ds(Te),Ge=f({},tu,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),ht=Ds(Ge),Bt=f({},ho,{newState:0,oldState:0}),$t=Ds(Bt),gr=[9,13,27,32],Vr=za&&"CompositionEvent"in window,Rr=null;za&&"documentMode"in document&&(Rr=document.documentMode);var An=za&&"TextEvent"in window&&!Rr,Ai=za&&(!Vr||Rr&&8<Rr&&11>=Rr),Ni=" ",Hi=!1;function Cs(A,h){switch(A){case"keyup":return gr.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ts(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Ks=!1;function _a(A,h){switch(A){case"compositionend":return ts(h);case"keypress":return h.which!==32?null:(Hi=!0,Ni);case"textInput":return A=h.data,A===Ni&&Hi?null:A;default:return null}}function xl(A,h){if(Ks)return A==="compositionend"||!Vr&&Cs(A,h)?(A=ml(),Ka=Cf=Qo=null,Ks=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Ai&&h.locale!=="ko"?null:h.data;default:return null}}var hh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fh(A){var h=A&&A.nodeName&&A.nodeName.toLowerCase();return h==="input"?!!hh[A.type]:h==="textarea"}function pA(A,h,m,v){cr?sa?sa.push(v):sa=[v]:cr=v,h=cS(h,"onChange"),0<h.length&&(m=new uA("onChange","change",null,m,v),A.push({event:m,listeners:h}))}var rc=null,po=null;function iu(A){K6(A,0)}function vl(A){var h=ft(A);if(Va(h))return A}function Tn(A,h){if(A==="change")return h}var wl=!1;if(za){var gA;if(za){var mA="oninput"in document;if(!mA){var dh=document.createElement("div");dh.setAttribute("oninput","return;"),mA=typeof dh.oninput=="function"}gA=mA}else gA=!1;wl=gA&&(!document.documentMode||9<document.documentMode)}function Ea(){rc&&(rc.detachEvent("onpropertychange",n0),po=rc=null)}function n0(A){if(A.propertyName==="value"&&vl(po)){var h=[];pA(h,po,A,AA(A)),ZA(iu,h)}}function Tf(A,h,m){A==="focusin"?(Ea(),rc=h,po=m,rc.attachEvent("onpropertychange",n0)):A==="focusout"&&Ea()}function Rt(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return vl(po)}function Ya(A,h){if(A==="click")return vl(h)}function ph(A,h){if(A==="input"||A==="change")return vl(h)}function i0(A,h){return A===h&&(A!==0||1/A===1/h)||A!==A&&h!==h}var oa=typeof Object.is=="function"?Object.is:i0;function Go(A,h){if(oa(A,h))return!0;if(typeof A!="object"||A===null||typeof h!="object"||h===null)return!1;var m=Object.keys(A),v=Object.keys(h);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var T=m[v];if(!vt.call(h,T)||!oa(A[T],h[T]))return!1}return!0}function yA(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function Ba(A,h){var m=yA(A);A=0;for(var v;m;){if(m.nodeType===3){if(v=A+m.textContent.length,A<=h&&v>=h)return{node:m,offset:h-A};A=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=yA(m)}}function la(A,h){return A&&h?A===h?!0:A&&A.nodeType===3?!1:h&&h.nodeType===3?la(A,h.parentNode):"contains"in A?A.contains(h):A.compareDocumentPosition?!!(A.compareDocumentPosition(h)&16):!1:!1}function Xa(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var h=Lr(A.document);h instanceof A.HTMLIFrameElement;){try{var m=typeof h.contentWindow.location.href=="string"}catch{m=!1}if(m)A=h.contentWindow;else break;h=Lr(A.document)}return h}function bl(A){var h=A&&A.nodeName&&A.nodeName.toLowerCase();return h&&(h==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||h==="textarea"||A.contentEditable==="true")}var Ic=za&&"documentMode"in document&&11>=document.documentMode,Cl=null,Sl=null,mi=null,su=!1;function ca(A,h,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;su||Cl==null||Cl!==Lr(v)||(v=Cl,"selectionStart"in v&&bl(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),mi&&Go(mi,v)||(mi=v,v=cS(Sl,"onSelect"),0<v.length&&(h=new uA("onSelect","select",null,h,m),A.push({event:h,listeners:v}),h.target=Cl)))}function Os(A,h){var m={};return m[A.toLowerCase()]=h.toLowerCase(),m["Webkit"+A]="webkit"+h,m["Moz"+A]="moz"+h,m}var _l={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},gh={},mh={};za&&(mh=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function go(A){if(gh[A])return gh[A];if(!_l[A])return A;var h=_l[A],m;for(m in h)if(h.hasOwnProperty(m)&&m in mh)return gh[A]=h[m];return A}var kc=go("animationend"),Lc=go("animationiteration"),xA=go("animationstart"),yh=go("transitionrun"),au=go("transitionstart"),vA=go("transitioncancel"),xh=go("transitionend"),mo=new Map,Ja="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ja.push("scrollEnd");function on(A,h){mo.set(A,h),Dr(h,[A])}var qn=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Nn=[],Fi=0,El=0;function wA(){for(var A=Fi,h=El=Fi=0;h<A;){var m=Nn[h];Nn[h++]=null;var v=Nn[h];Nn[h++]=null;var T=Nn[h];Nn[h++]=null;var I=Nn[h];if(Nn[h++]=null,v!==null&&T!==null){var Y=v.pending;Y===null?T.next=T:(T.next=Y.next,Y.next=T),v.pending=T}I!==0&&wh(m,T,I)}}function Rc(A,h,m,v){Nn[Fi++]=A,Nn[Fi++]=h,Nn[Fi++]=m,Nn[Fi++]=v,El|=v,A.lanes|=v,A=A.alternate,A!==null&&(A.lanes|=v)}function vh(A,h,m,v){return Rc(A,h,m,v),Qi(A)}function ui(A,h){return Rc(A,null,null,h),Qi(A)}function wh(A,h,m){A.lanes|=m;var v=A.alternate;v!==null&&(v.lanes|=m);for(var T=!1,I=A.return;I!==null;)I.childLanes|=m,v=I.alternate,v!==null&&(v.childLanes|=m),I.tag===22&&(A=I.stateNode,A===null||A._visibility&1||(T=!0)),A=I,I=I.return;return A.tag===3?(I=A.stateNode,T&&h!==null&&(T=31-Gr(m),A=I.hiddenUpdates,v=A[T],v===null?A[T]=[h]:v.push(h),h.lane=m|536870912),I):null}function Qi(A){if(50<xv)throw xv=0,N4=null,Error(n(185));for(var h=A.return;h!==null;)A=h,h=A.return;return A.tag===3?A.stateNode:null}var As={};function s0(A,h,m,v){this.tag=A,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(A,h,m,v){return new s0(A,h,m,v)}function bh(A){return A=A.prototype,!(!A||!A.isReactComponent)}function Za(A,h){var m=A.alternate;return m===null?(m=Ss(A.tag,h,A.key,A.mode),m.elementType=A.elementType,m.type=A.type,m.stateNode=A.stateNode,m.alternate=A,A.alternate=m):(m.pendingProps=h,m.type=A.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=A.flags&65011712,m.childLanes=A.childLanes,m.lanes=A.lanes,m.child=A.child,m.memoizedProps=A.memoizedProps,m.memoizedState=A.memoizedState,m.updateQueue=A.updateQueue,h=A.dependencies,m.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},m.sibling=A.sibling,m.index=A.index,m.ref=A.ref,m.refCleanup=A.refCleanup,m}function Ee(A,h){A.flags&=65011714;var m=A.alternate;return m===null?(A.childLanes=0,A.lanes=h,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=m.childLanes,A.lanes=m.lanes,A.child=m.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=m.memoizedProps,A.memoizedState=m.memoizedState,A.updateQueue=m.updateQueue,A.type=m.type,h=m.dependencies,A.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),A}function Ke(A,h,m,v,T,I){var Y=0;if(v=A,typeof A=="function")bh(A)&&(Y=1);else if(typeof A=="string")Y=fZ(A,m,W.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case V:return A=Ss(31,m,h,T),A.elementType=V,A.lanes=I,A;case x:return Ve(m.children,T,I,h);case w:Y=8,T|=24;break;case S:return A=Ss(12,m,h,T|2),A.elementType=S,A.lanes=I,A;case O:return A=Ss(13,m,h,T),A.elementType=O,A.lanes=I,A;case R:return A=Ss(19,m,h,T),A.elementType=R,A.lanes=I,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case F:Y=10;break e;case B:Y=9;break e;case k:Y=11;break e;case D:Y=14;break e;case Q:Y=16,v=null;break e}Y=29,m=Error(n(130,A===null?"null":typeof A,"")),v=null}return h=Ss(Y,m,h,T),h.elementType=A,h.type=v,h.lanes=I,h}function Ve(A,h,m,v){return A=Ss(7,A,v,h),A.lanes=m,A}function At(A,h,m){return A=Ss(6,A,null,h),A.lanes=m,A}function ot(A){var h=Ss(18,null,null,0);return h.stateNode=A,h}function kt(A,h,m){return h=Ss(4,A.children!==null?A.children:[],A.key,h),h.lanes=m,h.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},h}var jt=new WeakMap;function Ar(A,h){if(typeof A=="object"&&A!==null){var m=jt.get(A);return m!==void 0?m:(h={value:A,source:h,stack:Dt(h)},jt.set(A,h),h)}return{value:A,source:h,stack:Dt(h)}}var Or=[],Qn=0,Wn=null,_s=0,Dn=[],qt=0,Er=null,rs=1,ji="";function Es(A,h){Or[Qn++]=_s,Or[Qn++]=Wn,Wn=A,_s=h}function ou(A,h,m){Dn[qt++]=rs,Dn[qt++]=ji,Dn[qt++]=Er,Er=A;var v=rs;A=ji;var T=32-Gr(v)-1;v&=~(1<<T),m+=1;var I=32-Gr(h)+T;if(30<I){var Y=T-T%5;I=(v&(1<<Y)-1).toString(32),v>>=Y,T-=Y,rs=1<<32-Gr(h)+T|m<<T|v,ji=I+A}else rs=1<<I|m<<T|v,ji=A}function lu(A){A.return!==null&&(Es(A,1),ou(A,1,0))}function zn(A){for(;A===Wn;)Wn=Or[--Qn],Or[Qn]=null,_s=Or[--Qn],Or[Qn]=null;for(;A===Er;)Er=Dn[--qt],Dn[qt]=null,ji=Dn[--qt],Dn[qt]=null,rs=Dn[--qt],Dn[qt]=null}function nc(A,h){Dn[qt++]=rs,Dn[qt++]=ji,Dn[qt++]=Er,rs=h.id,ji=h.overflow,Er=A}var Xi=null,Gi=null,xn=!1,yo=null,us=!1,Mc=Error(n(519));function Ch(A){var h=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw a0(Ar(h,A)),Mc}function Zx(A){var h=A.stateNode,m=A.type,v=A.memoizedProps;switch(h[pe]=A,h[be]=v,m){case"dialog":bn("cancel",h),bn("close",h);break;case"iframe":case"object":case"embed":bn("load",h);break;case"video":case"audio":for(m=0;m<wv.length;m++)bn(wv[m],h);break;case"source":bn("error",h);break;case"img":case"image":case"link":bn("error",h),bn("load",h);break;case"details":bn("toggle",h);break;case"input":bn("invalid",h),$a(h,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":bn("invalid",h);break;case"textarea":bn("invalid",h),qa(h,v.value,v.defaultValue,v.children)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||h.textContent===""+m||v.suppressHydrationWarning===!0||J6(h.textContent,m)?(v.popover!=null&&(bn("beforetoggle",h),bn("toggle",h)),v.onScroll!=null&&bn("scroll",h),v.onScrollEnd!=null&&bn("scrollend",h),v.onClick!=null&&(h.onclick=ci),h=!0):h=!1,h||Ch(A,!0)}function cu(A){for(Xi=A.return;Xi;)switch(Xi.tag){case 5:case 31:case 13:us=!1;return;case 27:case 3:us=!0;return;default:Xi=Xi.return}}function Ta(A){if(A!==Xi)return!1;if(!xn)return cu(A),xn=!0,!1;var h=A.tag,m;if((m=h!==3&&h!==27)&&((m=h===5)&&(m=A.type,m=!(m!=="form"&&m!=="button")||V4(A.type,A.memoizedProps)),m=!m),m&&Gi&&Ch(A),cu(A),h===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));Gi=oU(A)}else if(h===31){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));Gi=oU(A)}else h===27?(h=Gi,v0(A.type)?(A=W4,W4=null,Gi=A):Gi=h):Gi=Xi?TA(A.stateNode.nextSibling):null;return!0}function Nf(){Gi=Xi=null,xn=!1}function ev(){var A=yo;return A!==null&&(cc===null?cc=A:cc.push.apply(cc,A),yo=null),A}function a0(A){yo===null?yo=[A]:yo.push(A)}var Jm=le(null),Sh=null,bA=null;function _h(A,h,m){G(Jm,h._currentValue),h._currentValue=m}function ic(A){A._currentValue=Jm.current,M(Jm)}function o0(A,h,m){for(;A!==null;){var v=A.alternate;if((A.childLanes&h)!==h?(A.childLanes|=h,v!==null&&(v.childLanes|=h)):v!==null&&(v.childLanes&h)!==h&&(v.childLanes|=h),A===m)break;A=A.return}}function Ff(A,h,m,v){var T=A.child;for(T!==null&&(T.return=A);T!==null;){var I=T.dependencies;if(I!==null){var Y=T.child;I=I.firstContext;e:for(;I!==null;){var fe=I;I=T;for(var Re=0;Re<h.length;Re++)if(fe.context===h[Re]){I.lanes|=m,fe=I.alternate,fe!==null&&(fe.lanes|=m),o0(I.return,m,A),v||(Y=null);break e}I=fe.next}}else if(T.tag===18){if(Y=T.return,Y===null)throw Error(n(341));Y.lanes|=m,I=Y.alternate,I!==null&&(I.lanes|=m),o0(Y,m,A),Y=null}else Y=T.child;if(Y!==null)Y.return=T;else for(Y=T;Y!==null;){if(Y===A){Y=null;break}if(T=Y.sibling,T!==null){T.return=Y.return,Y=T;break}Y=Y.return}T=Y}}function Eh(A,h,m,v){A=null;for(var T=h,I=!1;T!==null;){if(!I){if((T.flags&524288)!==0)I=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var Y=T.alternate;if(Y===null)throw Error(n(387));if(Y=Y.memoizedProps,Y!==null){var fe=T.type;oa(T.pendingProps.value,Y.value)||(A!==null?A.push(fe):A=[fe])}}else if(T===ve.current){if(Y=T.alternate,Y===null)throw Error(n(387));Y.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(A!==null?A.push(Ev):A=[Ev])}T=T.return}A!==null&&Ff(h,A,m,v),h.flags|=262144}function Zm(A){for(A=A.firstContext;A!==null;){if(!oa(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function Bh(A){Sh=A,bA=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function Na(A){return DC(Sh,A)}function e1(A,h){return Sh===null&&Bh(A),DC(A,h)}function DC(A,h){var m=h._currentValue;if(h={context:h,memoizedValue:m,next:null},bA===null){if(A===null)throw Error(n(308));bA=h,A.dependencies={lanes:0,firstContext:h},A.flags|=524288}else bA=bA.next=h;return m}var KT=typeof AbortController<"u"?AbortController:function(){var A=[],h=this.signal={aborted:!1,addEventListener:function(m,v){A.push(v)}};this.abort=function(){h.aborted=!0,A.forEach(function(m){return m()})}},WT=t.unstable_scheduleCallback,YT=t.unstable_NormalPriority,Bs={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function l0(){return{controller:new KT,data:new Map,refCount:0}}function jp(A){A.refCount--,A.refCount===0&&WT(YT,function(){A.controller.abort()})}var Gp=null,t1=0,C=0,N=null;function U(A,h){if(Gp===null){var m=Gp=[];t1=0,C=M4(),N={status:"pending",value:void 0,then:function(v){m.push(v)}}}return t1++,h.then(z,z),h}function z(){if(--t1===0&&Gp!==null){N!==null&&(N.status="fulfilled");var A=Gp;Gp=null,C=0,N=null;for(var h=0;h<A.length;h++)(0,A[h])()}}function ie(A,h){var m=[],v={status:"pending",value:null,reason:null,then:function(T){m.push(T)}};return A.then(function(){v.status="fulfilled",v.value=h;for(var T=0;T<m.length;T++)(0,m[T])(h)},function(T){for(v.status="rejected",v.reason=T,T=0;T<m.length;T++)(0,m[T])(void 0)}),v}var ce=X.S;X.S=function(A,h){b6=Vt(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&U(A,h),ce!==null&&ce(A,h)};var Ae=le(null);function he(){var A=Ae.current;return A!==null?A:$i.pooledCache}function me(A,h){h===null?G(Ae,Ae.current):G(Ae,h.pool)}function Se(){var A=he();return A===null?null:{parent:Bs._currentValue,pool:A}}var Ue=Error(n(460)),Ze=Error(n(474)),Je=Error(n(542)),je={then:function(){}};function bt(A){return A=A.status,A==="fulfilled"||A==="rejected"}function ut(A,h,m){switch(m=A[m],m===void 0?A.push(h):m!==h&&(h.then(ci,ci),h=m),h.status){case"fulfilled":return h.value;case"rejected":throw A=h.reason,Et(A),A;default:if(typeof h.status=="string")h.then(ci,ci);else{if(A=$i,A!==null&&100<A.shellSuspendCounter)throw Error(n(482));A=h,A.status="pending",A.then(function(v){if(h.status==="pending"){var T=h;T.status="fulfilled",T.value=v}},function(v){if(h.status==="pending"){var T=h;T.status="rejected",T.reason=v}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw A=h.reason,Et(A),A}throw Pe=h,Ue}}function De(A){try{var h=A._init;return h(A._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Pe=m,Ue):m}}var Pe=null;function mt(){if(Pe===null)throw Error(n(459));var A=Pe;return Pe=null,A}function Et(A){if(A===Ue||A===Je)throw Error(n(483))}var gt=null,zt=0;function Pt(A){var h=zt;return zt+=1,gt===null&&(gt=[]),ut(gt,A,h)}function br(A,h){h=h.props.ref,A.ref=h!==void 0?h:null}function Qt(A,h){throw h.$$typeof===p?Error(n(525)):(A=Object.prototype.toString.call(h),Error(n(31,A==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":A)))}function jn(A){function h($e,Oe){if(A){var et=$e.deletions;et===null?($e.deletions=[Oe],$e.flags|=16):et.push(Oe)}}function m($e,Oe){if(!A)return null;for(;Oe!==null;)h($e,Oe),Oe=Oe.sibling;return null}function v($e){for(var Oe=new Map;$e!==null;)$e.key!==null?Oe.set($e.key,$e):Oe.set($e.index,$e),$e=$e.sibling;return Oe}function T($e,Oe){return $e=Za($e,Oe),$e.index=0,$e.sibling=null,$e}function I($e,Oe,et){return $e.index=et,A?(et=$e.alternate,et!==null?(et=et.index,et<Oe?($e.flags|=67108866,Oe):et):($e.flags|=67108866,Oe)):($e.flags|=1048576,Oe)}function Y($e){return A&&$e.alternate===null&&($e.flags|=67108866),$e}function fe($e,Oe,et,yt){return Oe===null||Oe.tag!==6?(Oe=At(et,$e.mode,yt),Oe.return=$e,Oe):(Oe=T(Oe,et),Oe.return=$e,Oe)}function Re($e,Oe,et,yt){var Nr=et.type;return Nr===x?pt($e,Oe,et.props.children,yt,et.key):Oe!==null&&(Oe.elementType===Nr||typeof Nr=="object"&&Nr!==null&&Nr.$$typeof===Q&&De(Nr)===Oe.type)?(Oe=T(Oe,et.props),br(Oe,et),Oe.return=$e,Oe):(Oe=Ke(et.type,et.key,et.props,null,$e.mode,yt),br(Oe,et),Oe.return=$e,Oe)}function nt($e,Oe,et,yt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==et.containerInfo||Oe.stateNode.implementation!==et.implementation?(Oe=kt(et,$e.mode,yt),Oe.return=$e,Oe):(Oe=T(Oe,et.children||[]),Oe.return=$e,Oe)}function pt($e,Oe,et,yt,Nr){return Oe===null||Oe.tag!==7?(Oe=Ve(et,$e.mode,yt,Nr),Oe.return=$e,Oe):(Oe=T(Oe,et),Oe.return=$e,Oe)}function Ct($e,Oe,et){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=At(""+Oe,$e.mode,et),Oe.return=$e,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case g:return et=Ke(Oe.type,Oe.key,Oe.props,null,$e.mode,et),br(et,Oe),et.return=$e,et;case y:return Oe=kt(Oe,$e.mode,et),Oe.return=$e,Oe;case Q:return Oe=De(Oe),Ct($e,Oe,et)}if(se(Oe)||H(Oe))return Oe=Ve(Oe,$e.mode,et,null),Oe.return=$e,Oe;if(typeof Oe.then=="function")return Ct($e,Pt(Oe),et);if(Oe.$$typeof===F)return Ct($e,e1($e,Oe),et);Qt($e,Oe)}return null}function st($e,Oe,et,yt){var Nr=Oe!==null?Oe.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Nr!==null?null:fe($e,Oe,""+et,yt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case g:return et.key===Nr?Re($e,Oe,et,yt):null;case y:return et.key===Nr?nt($e,Oe,et,yt):null;case Q:return et=De(et),st($e,Oe,et,yt)}if(se(et)||H(et))return Nr!==null?null:pt($e,Oe,et,yt,null);if(typeof et.then=="function")return st($e,Oe,Pt(et),yt);if(et.$$typeof===F)return st($e,Oe,e1($e,et),yt);Qt($e,et)}return null}function ct($e,Oe,et,yt,Nr){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return $e=$e.get(et)||null,fe(Oe,$e,""+yt,Nr);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case g:return $e=$e.get(yt.key===null?et:yt.key)||null,Re(Oe,$e,yt,Nr);case y:return $e=$e.get(yt.key===null?et:yt.key)||null,nt(Oe,$e,yt,Nr);case Q:return yt=De(yt),ct($e,Oe,et,yt,Nr)}if(se(yt)||H(yt))return $e=$e.get(et)||null,pt(Oe,$e,yt,Nr,null);if(typeof yt.then=="function")return ct($e,Oe,et,Pt(yt),Nr);if(yt.$$typeof===F)return ct($e,Oe,et,e1(Oe,yt),Nr);Qt(Oe,yt)}return null}function sr($e,Oe,et,yt){for(var Nr=null,Xn=null,mr=Oe,ln=Oe=0,kn=null;mr!==null&&ln<et.length;ln++){mr.index>ln?(kn=mr,mr=null):kn=mr.sibling;var Jn=st($e,mr,et[ln],yt);if(Jn===null){mr===null&&(mr=kn);break}A&&mr&&Jn.alternate===null&&h($e,mr),Oe=I(Jn,Oe,ln),Xn===null?Nr=Jn:Xn.sibling=Jn,Xn=Jn,mr=kn}if(ln===et.length)return m($e,mr),xn&&Es($e,ln),Nr;if(mr===null){for(;ln<et.length;ln++)mr=Ct($e,et[ln],yt),mr!==null&&(Oe=I(mr,Oe,ln),Xn===null?Nr=mr:Xn.sibling=mr,Xn=mr);return xn&&Es($e,ln),Nr}for(mr=v(mr);ln<et.length;ln++)kn=ct(mr,$e,ln,et[ln],yt),kn!==null&&(A&&kn.alternate!==null&&mr.delete(kn.key===null?ln:kn.key),Oe=I(kn,Oe,ln),Xn===null?Nr=kn:Xn.sibling=kn,Xn=kn);return A&&mr.forEach(function(_0){return h($e,_0)}),xn&&Es($e,ln),Nr}function Hr($e,Oe,et,yt){if(et==null)throw Error(n(151));for(var Nr=null,Xn=null,mr=Oe,ln=Oe=0,kn=null,Jn=et.next();mr!==null&&!Jn.done;ln++,Jn=et.next()){mr.index>ln?(kn=mr,mr=null):kn=mr.sibling;var _0=st($e,mr,Jn.value,yt);if(_0===null){mr===null&&(mr=kn);break}A&&mr&&_0.alternate===null&&h($e,mr),Oe=I(_0,Oe,ln),Xn===null?Nr=_0:Xn.sibling=_0,Xn=_0,mr=kn}if(Jn.done)return m($e,mr),xn&&Es($e,ln),Nr;if(mr===null){for(;!Jn.done;ln++,Jn=et.next())Jn=Ct($e,Jn.value,yt),Jn!==null&&(Oe=I(Jn,Oe,ln),Xn===null?Nr=Jn:Xn.sibling=Jn,Xn=Jn);return xn&&Es($e,ln),Nr}for(mr=v(mr);!Jn.done;ln++,Jn=et.next())Jn=ct(mr,$e,ln,Jn.value,yt),Jn!==null&&(A&&Jn.alternate!==null&&mr.delete(Jn.key===null?ln:Jn.key),Oe=I(Jn,Oe,ln),Xn===null?Nr=Jn:Xn.sibling=Jn,Xn=Jn);return A&&mr.forEach(function(SZ){return h($e,SZ)}),xn&&Es($e,ln),Nr}function Li($e,Oe,et,yt){if(typeof et=="object"&&et!==null&&et.type===x&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case g:e:{for(var Nr=et.key;Oe!==null;){if(Oe.key===Nr){if(Nr=et.type,Nr===x){if(Oe.tag===7){m($e,Oe.sibling),yt=T(Oe,et.props.children),yt.return=$e,$e=yt;break e}}else if(Oe.elementType===Nr||typeof Nr=="object"&&Nr!==null&&Nr.$$typeof===Q&&De(Nr)===Oe.type){m($e,Oe.sibling),yt=T(Oe,et.props),br(yt,et),yt.return=$e,$e=yt;break e}m($e,Oe);break}else h($e,Oe);Oe=Oe.sibling}et.type===x?(yt=Ve(et.props.children,$e.mode,yt,et.key),yt.return=$e,$e=yt):(yt=Ke(et.type,et.key,et.props,null,$e.mode,yt),br(yt,et),yt.return=$e,$e=yt)}return Y($e);case y:e:{for(Nr=et.key;Oe!==null;){if(Oe.key===Nr)if(Oe.tag===4&&Oe.stateNode.containerInfo===et.containerInfo&&Oe.stateNode.implementation===et.implementation){m($e,Oe.sibling),yt=T(Oe,et.children||[]),yt.return=$e,$e=yt;break e}else{m($e,Oe);break}else h($e,Oe);Oe=Oe.sibling}yt=kt(et,$e.mode,yt),yt.return=$e,$e=yt}return Y($e);case Q:return et=De(et),Li($e,Oe,et,yt)}if(se(et))return sr($e,Oe,et,yt);if(H(et)){if(Nr=H(et),typeof Nr!="function")throw Error(n(150));return et=Nr.call(et),Hr($e,Oe,et,yt)}if(typeof et.then=="function")return Li($e,Oe,Pt(et),yt);if(et.$$typeof===F)return Li($e,Oe,e1($e,et),yt);Qt($e,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,Oe!==null&&Oe.tag===6?(m($e,Oe.sibling),yt=T(Oe,et),yt.return=$e,$e=yt):(m($e,Oe),yt=At(et,$e.mode,yt),yt.return=$e,$e=yt),Y($e)):m($e,Oe)}return function($e,Oe,et,yt){try{zt=0;var Nr=Li($e,Oe,et,yt);return gt=null,Nr}catch(mr){if(mr===Ue||mr===Je)throw mr;var Xn=Ss(29,mr,null,$e.mode);return Xn.lanes=yt,Xn.return=$e,Xn}finally{}}}var vn=jn(!0),Fn=jn(!1),Zr=!1;function ii(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yn(A,h){A=A.updateQueue,h.updateQueue===A&&(h.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function Pr(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function yi(A,h,m){var v=A.updateQueue;if(v===null)return null;if(v=v.shared,(si&2)!==0){var T=v.pending;return T===null?h.next=h:(h.next=T.next,T.next=h),v.pending=h,h=Qi(A),wh(A,null,m),h}return Rc(A,v,h,m),Qi(A)}function Aa(A,h,m){if(h=h.updateQueue,h!==null&&(h=h.shared,(m&4194048)!==0)){var v=h.lanes;v&=A.pendingLanes,m|=v,h.lanes=m,cs(A,m)}}function hs(A,h){var m=A.updateQueue,v=A.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var T=null,I=null;if(m=m.firstBaseUpdate,m!==null){do{var Y={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};I===null?T=I=Y:I=I.next=Y,m=m.next}while(m!==null);I===null?T=I=h:I=I.next=h}else T=I=h;m={baseState:v.baseState,firstBaseUpdate:T,lastBaseUpdate:I,shared:v.shared,callbacks:v.callbacks},A.updateQueue=m;return}A=m.lastBaseUpdate,A===null?m.firstBaseUpdate=h:A.next=h,m.lastBaseUpdate=h}var eo=!1;function On(){if(eo){var A=N;if(A!==null)throw A}}function Fa(A,h,m,v){eo=!1;var T=A.updateQueue;Zr=!1;var I=T.firstBaseUpdate,Y=T.lastBaseUpdate,fe=T.shared.pending;if(fe!==null){T.shared.pending=null;var Re=fe,nt=Re.next;Re.next=null,Y===null?I=nt:Y.next=nt,Y=Re;var pt=A.alternate;pt!==null&&(pt=pt.updateQueue,fe=pt.lastBaseUpdate,fe!==Y&&(fe===null?pt.firstBaseUpdate=nt:fe.next=nt,pt.lastBaseUpdate=Re))}if(I!==null){var Ct=T.baseState;Y=0,pt=nt=Re=null,fe=I;do{var st=fe.lane&-536870913,ct=st!==fe.lane;if(ct?(In&st)===st:(v&st)===st){st!==0&&st===C&&(eo=!0),pt!==null&&(pt=pt.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var sr=A,Hr=fe;st=h;var Li=m;switch(Hr.tag){case 1:if(sr=Hr.payload,typeof sr=="function"){Ct=sr.call(Li,Ct,st);break e}Ct=sr;break e;case 3:sr.flags=sr.flags&-65537|128;case 0:if(sr=Hr.payload,st=typeof sr=="function"?sr.call(Li,Ct,st):sr,st==null)break e;Ct=f({},Ct,st);break e;case 2:Zr=!0}}st=fe.callback,st!==null&&(A.flags|=64,ct&&(A.flags|=8192),ct=T.callbacks,ct===null?T.callbacks=[st]:ct.push(st))}else ct={lane:st,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},pt===null?(nt=pt=ct,Re=Ct):pt=pt.next=ct,Y|=st;if(fe=fe.next,fe===null){if(fe=T.shared.pending,fe===null)break;ct=fe,fe=ct.next,ct.next=null,T.lastBaseUpdate=ct,T.shared.pending=null}}while(!0);pt===null&&(Re=Ct),T.baseState=Re,T.firstBaseUpdate=nt,T.lastBaseUpdate=pt,I===null&&(T.shared.lanes=0),p0|=Y,A.lanes=Y,A.memoizedState=Ct}}function Vo(A,h){if(typeof A!="function")throw Error(n(191,A));A.call(h)}function Ws(A,h){var m=A.callbacks;if(m!==null)for(A.callbacks=null,A=0;A<m.length;A++)Vo(m[A],h)}var fs=le(null),ua=le(0);function Bl(A,h){A=jf,G(ua,A),G(fs,h),jf=A|h.baseLanes}function sc(){G(ua,jf),G(fs,fs.current)}function Ps(){jf=ua.current,M(fs),M(ua)}var Ts=le(null),ha=null;function Tl(A){var h=A.alternate;G(ds,ds.current&1),G(Ts,A),ha===null&&(h===null||fs.current!==null||h.memoizedState!==null)&&(ha=A)}function CA(A){G(ds,ds.current),G(Ts,A),ha===null&&(ha=A)}function ns(A){A.tag===22?(G(ds,ds.current),G(Ts,A),ha===null&&(ha=A)):SA()}function SA(){G(ds,ds.current),G(Ts,Ts.current)}function $o(A){M(Ts),ha===A&&(ha=null),M(ds)}var ds=le(0);function If(A){for(var h=A;h!==null;){if(h.tag===13){var m=h.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||z4(m)||K4(m)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===A)break;for(;h.sibling===null;){if(h.return===null||h.return===A)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Nl=0,Wr=null,un=null,Vi=null,Au=!1,kf=!1,_A=!1,Vp=0,Th=0,Nh=null,r1=0;function Ii(){throw Error(n(321))}function tv(A,h){if(h===null)return!1;for(var m=0;m<h.length&&m<A.length;m++)if(!oa(A[m],h[m]))return!1;return!0}function rv(A,h,m,v,T,I){return Nl=I,Wr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,X.H=A===null||A.memoizedState===null?LM:i4,_A=!1,I=m(v,T),_A=!1,kf&&(I=uu(h,m,v,T)),n1(A),I}function n1(A){X.H=Av;var h=un!==null&&un.next!==null;if(Nl=0,Vi=un=Wr=null,Au=!1,Th=0,Nh=null,h)throw Error(n(300));A===null||da||(A=A.dependencies,A!==null&&Zm(A)&&(da=!0))}function uu(A,h,m,v){Wr=A;var T=0;do{if(kf&&(Nh=null),Th=0,kf=!1,25<=T)throw Error(n(301));if(T+=1,Vi=un=null,A.updateQueue!=null){var I=A.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}X.H=RM,I=h(m,v)}while(kf);return I}function XT(){var A=X.H,h=A.useState()[0];return h=typeof h.then=="function"?Fh(h):h,A=A.useState()[0],(un!==null?un.memoizedState:null)!==A&&(Wr.flags|=1024),h}function nv(){var A=Vp!==0;return Vp=0,A}function iv(A,h,m){h.updateQueue=A.updateQueue,h.flags&=-2053,A.lanes&=~m}function i1(A){if(Au){for(A=A.memoizedState;A!==null;){var h=A.queue;h!==null&&(h.pending=null),A=A.next}Au=!1}Nl=0,Vi=un=Wr=null,kf=!1,Th=Vp=0,Nh=null}function fa(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vi===null?Wr.memoizedState=Vi=A:Vi=Vi.next=A,Vi}function ps(){if(un===null){var A=Wr.alternate;A=A!==null?A.memoizedState:null}else A=un.next;var h=Vi===null?Wr.memoizedState:Vi.next;if(h!==null)Vi=h,un=A;else{if(A===null)throw Wr.alternate===null?Error(n(467)):Error(n(310));un=A,A={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},Vi===null?Wr.memoizedState=Vi=A:Vi=Vi.next=A}return Vi}function $p(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fh(A){var h=Th;return Th+=1,Nh===null&&(Nh=[]),A=ut(Nh,A,h),h=Wr,(Vi===null?h.memoizedState:Vi.next)===null&&(h=h.alternate,X.H=h===null||h.memoizedState===null?LM:i4),A}function c0(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return Fh(A);if(A.$$typeof===F)return Na(A)}throw Error(n(438,String(A)))}function Lf(A){var h=null,m=Wr.updateQueue;if(m!==null&&(h=m.memoCache),h==null){var v=Wr.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(h={data:v.data.map(function(T){return T.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),m===null&&(m=$p(),Wr.updateQueue=m),m.memoCache=h,m=h.data[h.index],m===void 0)for(m=h.data[h.index]=Array(A),v=0;v<A;v++)m[v]=re;return h.index++,m}function EA(A,h){return typeof h=="function"?h(A):h}function s1(A){var h=ps();return A0(h,un,A)}function A0(A,h,m){var v=A.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=m;var T=A.baseQueue,I=v.pending;if(I!==null){if(T!==null){var Y=T.next;T.next=I.next,I.next=Y}h.baseQueue=T=I,v.pending=null}if(I=A.baseState,T===null)A.memoizedState=I;else{h=T.next;var fe=Y=null,Re=null,nt=h,pt=!1;do{var Ct=nt.lane&-536870913;if(Ct!==nt.lane?(In&Ct)===Ct:(Nl&Ct)===Ct){var st=nt.revertLane;if(st===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,gesture:null,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),Ct===C&&(pt=!0);else if((Nl&st)===st){nt=nt.next,st===C&&(pt=!0);continue}else Ct={lane:0,revertLane:nt.revertLane,gesture:null,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},Re===null?(fe=Re=Ct,Y=I):Re=Re.next=Ct,Wr.lanes|=st,p0|=st;Ct=nt.action,_A&&m(I,Ct),I=nt.hasEagerState?nt.eagerState:m(I,Ct)}else st={lane:Ct,revertLane:nt.revertLane,gesture:nt.gesture,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},Re===null?(fe=Re=st,Y=I):Re=Re.next=st,Wr.lanes|=Ct,p0|=Ct;nt=nt.next}while(nt!==null&&nt!==h);if(Re===null?Y=I:Re.next=fe,!oa(I,A.memoizedState)&&(da=!0,pt&&(m=N,m!==null)))throw m;A.memoizedState=I,A.baseState=Y,A.baseQueue=Re,v.lastRenderedState=I}return T===null&&(v.lanes=0),[A.memoizedState,v.dispatch]}function a1(A){var h=ps(),m=h.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=A;var v=m.dispatch,T=m.pending,I=h.memoizedState;if(T!==null){m.pending=null;var Y=T=T.next;do I=A(I,Y.action),Y=Y.next;while(Y!==T);oa(I,h.memoizedState)||(da=!0),h.memoizedState=I,h.baseQueue===null&&(h.baseState=I),m.lastRenderedState=I}return[I,v]}function o1(A,h,m){var v=Wr,T=ps(),I=xn;if(I){if(m===void 0)throw Error(n(407));m=m()}else m=h();var Y=!oa((un||T).memoizedState,m);if(Y&&(T.memoizedState=m,da=!0),T=T.queue,JT(av.bind(null,v,T,A),[A]),T.getSnapshot!==h||Y||Vi!==null&&Vi.memoizedState.tag&1){if(v.flags|=2048,Mf(9,{destroy:void 0},sv.bind(null,v,T,m,h),null),$i===null)throw Error(n(349));I||(Nl&127)!==0||hu(v,h,m)}return m}function hu(A,h,m){A.flags|=16384,A={getSnapshot:h,value:m},h=Wr.updateQueue,h===null?(h=$p(),Wr.updateQueue=h,h.stores=[A]):(m=h.stores,m===null?h.stores=[A]:m.push(A))}function sv(A,h,m,v){h.value=m,h.getSnapshot=v,OC(h)&&ov(A)}function av(A,h,m){return m(function(){OC(h)&&ov(A)})}function OC(A){var h=A.getSnapshot;A=A.value;try{var m=h();return!oa(A,m)}catch{return!0}}function ov(A){var h=ui(A,2);h!==null&&Ac(h,A,2)}function Ih(A){var h=fa();if(typeof A=="function"){var m=A;if(A=m(),_A){Br(!0);try{m()}finally{Br(!1)}}}return h.memoizedState=h.baseState=A,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:EA,lastRenderedState:A},h}function PC(A,h,m,v){return A.baseState=m,A0(A,un,typeof v=="function"?v:EA)}function HC(A,h,m,v,T){if(VC(A))throw Error(n(485));if(A=h.action,A!==null){var I={payload:T,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){I.listeners.push(Y)}};X.T!==null?m(!0):I.isTransition=!1,v(I),m=h.pending,m===null?(I.next=h.pending=I,QC(h,I)):(I.next=m.next,h.pending=m.next=I)}}function QC(A,h){var m=h.action,v=h.payload,T=A.state;if(h.isTransition){var I=X.T,Y={};X.T=Y;try{var fe=m(T,v),Re=X.S;Re!==null&&Re(Y,fe),lv(A,h,fe)}catch(nt){Rf(A,h,nt)}finally{I!==null&&Y.types!==null&&(I.types=Y.types),X.T=I}}else try{I=m(T,v),lv(A,h,I)}catch(nt){Rf(A,h,nt)}}function lv(A,h,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){jC(A,h,v)},function(v){return Rf(A,h,v)}):jC(A,h,m)}function jC(A,h,m){h.status="fulfilled",h.value=m,l1(h),A.state=m,h=A.pending,h!==null&&(m=h.next,m===h?A.pending=null:(m=m.next,h.next=m,QC(A,m)))}function Rf(A,h,m){var v=A.pending;if(A.pending=null,v!==null){v=v.next;do h.status="rejected",h.reason=m,l1(h),h=h.next;while(h!==v)}A.action=null}function l1(A){A=A.listeners;for(var h=0;h<A.length;h++)(0,A[h])()}function qp(A,h){return h}function BA(A,h){if(xn){var m=$i.formState;if(m!==null){e:{var v=Wr;if(xn){if(Gi){t:{for(var T=Gi,I=us;T.nodeType!==8;){if(!I){T=null;break t}if(T=TA(T.nextSibling),T===null){T=null;break t}}I=T.data,T=I==="F!"||I==="F"?T:null}if(T){Gi=TA(T.nextSibling),v=T.data==="F!";break e}}Ch(v)}v=!1}v&&(h=m[0])}}return m=fa(),m.memoizedState=m.baseState=h,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qp,lastRenderedState:h},m.queue=v,m=FM.bind(null,Wr,v),v.dispatch=m,v=Ih(!1),I=n4.bind(null,Wr,!1,v.queue),v=fa(),T={state:h,dispatch:null,action:A,pending:null},v.queue=T,m=HC.bind(null,Wr,T,I,m),T.dispatch=m,v.memoizedState=A,[h,m,!1]}function fu(A){var h=ps();return du(h,un,A)}function du(A,h,m){if(h=A0(A,h,qp)[0],A=s1(EA)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var v=Fh(h)}catch(Y){throw Y===Ue?Je:Y}else v=h;h=ps();var T=h.queue,I=T.dispatch;return m!==h.memoizedState&&(Wr.flags|=2048,Mf(9,{destroy:void 0},c1.bind(null,T,m),null)),[v,I,A]}function c1(A,h){A.action=h}function A1(A){var h=ps(),m=un;if(m!==null)return du(h,m,A);ps(),h=h.memoizedState,m=ps();var v=m.queue.dispatch;return m.memoizedState=A,[h,v,!1]}function Mf(A,h,m,v){return A={tag:A,create:m,deps:v,inst:h,next:null},h=Wr.updateQueue,h===null&&(h=$p(),Wr.updateQueue=h),m=h.lastEffect,m===null?h.lastEffect=A.next=A:(v=m.next,m.next=A,A.next=v,h.lastEffect=A),A}function GC(){return ps().memoizedState}function u0(A,h,m,v){var T=fa();Wr.flags|=A,T.memoizedState=Mf(1|h,{destroy:void 0},m,v===void 0?null:v)}function h0(A,h,m,v){var T=ps();v=v===void 0?null:v;var I=T.memoizedState.inst;un!==null&&v!==null&&tv(v,un.memoizedState.deps)?T.memoizedState=Mf(h,I,m,v):(Wr.flags|=A,T.memoizedState=Mf(1|h,I,m,v))}function gM(A,h){u0(8390656,8,A,h)}function JT(A,h){h0(2048,8,A,h)}function yJ(A){Wr.flags|=4;var h=Wr.updateQueue;if(h===null)h=$p(),Wr.updateQueue=h,h.events=[A];else{var m=h.events;m===null?h.events=[A]:m.push(A)}}function mM(A){var h=ps().memoizedState;return yJ({ref:h,nextImpl:A}),function(){if((si&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}function yM(A,h){return h0(4,2,A,h)}function xM(A,h){return h0(4,4,A,h)}function vM(A,h){if(typeof h=="function"){A=A();var m=h(A);return function(){typeof m=="function"?m():h(null)}}if(h!=null)return A=A(),h.current=A,function(){h.current=null}}function wM(A,h,m){m=m!=null?m.concat([A]):null,h0(4,4,vM.bind(null,h,A),m)}function ZT(){}function bM(A,h){var m=ps();h=h===void 0?null:h;var v=m.memoizedState;return h!==null&&tv(h,v[1])?v[0]:(m.memoizedState=[A,h],A)}function CM(A,h){var m=ps();h=h===void 0?null:h;var v=m.memoizedState;if(h!==null&&tv(h,v[1]))return v[0];if(v=A(),_A){Br(!0);try{A()}finally{Br(!1)}}return m.memoizedState=[v,h],v}function e4(A,h,m){return m===void 0||(Nl&1073741824)!==0&&(In&261930)===0?A.memoizedState=h:(A.memoizedState=m,A=S6(),Wr.lanes|=A,p0|=A,m)}function SM(A,h,m,v){return oa(m,h)?m:fs.current!==null?(A=e4(A,m,v),oa(A,h)||(da=!0),A):(Nl&42)===0||(Nl&1073741824)!==0&&(In&261930)===0?(da=!0,A.memoizedState=m):(A=S6(),Wr.lanes|=A,p0|=A,h)}function _M(A,h,m,v,T){var I=ee.p;ee.p=I!==0&&8>I?I:8;var Y=X.T,fe={};X.T=fe,n4(A,!1,h,m);try{var Re=T(),nt=X.S;if(nt!==null&&nt(fe,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var pt=ie(Re,v);cv(A,h,pt,Oc(A))}else cv(A,h,v,Oc(A))}catch(Ct){cv(A,h,{then:function(){},status:"rejected",reason:Ct},Oc())}finally{ee.p=I,Y!==null&&fe.types!==null&&(Y.types=fe.types),X.T=Y}}function xJ(){}function t4(A,h,m,v){if(A.tag!==5)throw Error(n(476));var T=EM(A).queue;_M(A,T,h,te,m===null?xJ:function(){return BM(A),m(v)})}function EM(A){var h=A.memoizedState;if(h!==null)return h;h={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:EA,lastRenderedState:te},next:null};var m={};return h.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:EA,lastRenderedState:m},next:null},A.memoizedState=h,A=A.alternate,A!==null&&(A.memoizedState=h),h}function BM(A){var h=EM(A);h.next===null&&(h=A.alternate.memoizedState),cv(A,h.next.queue,{},Oc())}function r4(){return Na(Ev)}function TM(){return ps().memoizedState}function NM(){return ps().memoizedState}function vJ(A){for(var h=A.return;h!==null;){switch(h.tag){case 24:case 3:var m=Oc();A=Pr(m);var v=yi(h,A,m);v!==null&&(Ac(v,h,m),Aa(v,h,m)),h={cache:l0()},A.payload=h;return}h=h.return}}function wJ(A,h,m){var v=Oc();m={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},VC(A)?IM(h,m):(m=vh(A,h,m,v),m!==null&&(Ac(m,A,v),kM(m,h,v)))}function FM(A,h,m){var v=Oc();cv(A,h,m,v)}function cv(A,h,m,v){var T={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(VC(A))IM(h,T);else{var I=A.alternate;if(A.lanes===0&&(I===null||I.lanes===0)&&(I=h.lastRenderedReducer,I!==null))try{var Y=h.lastRenderedState,fe=I(Y,m);if(T.hasEagerState=!0,T.eagerState=fe,oa(fe,Y))return Rc(A,h,T,0),$i===null&&wA(),!1}catch{}finally{}if(m=vh(A,h,T,v),m!==null)return Ac(m,A,v),kM(m,h,v),!0}return!1}function n4(A,h,m,v){if(v={lane:2,revertLane:M4(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},VC(A)){if(h)throw Error(n(479))}else h=vh(A,m,v,2),h!==null&&Ac(h,A,2)}function VC(A){var h=A.alternate;return A===Wr||h!==null&&h===Wr}function IM(A,h){kf=Au=!0;var m=A.pending;m===null?h.next=h:(h.next=m.next,m.next=h),A.pending=h}function kM(A,h,m){if((m&4194048)!==0){var v=h.lanes;v&=A.pendingLanes,m|=v,h.lanes=m,cs(A,m)}}var Av={readContext:Na,use:c0,useCallback:Ii,useContext:Ii,useEffect:Ii,useImperativeHandle:Ii,useLayoutEffect:Ii,useInsertionEffect:Ii,useMemo:Ii,useReducer:Ii,useRef:Ii,useState:Ii,useDebugValue:Ii,useDeferredValue:Ii,useTransition:Ii,useSyncExternalStore:Ii,useId:Ii,useHostTransitionStatus:Ii,useFormState:Ii,useActionState:Ii,useOptimistic:Ii,useMemoCache:Ii,useCacheRefresh:Ii};Av.useEffectEvent=Ii;var LM={readContext:Na,use:c0,useCallback:function(A,h){return fa().memoizedState=[A,h===void 0?null:h],A},useContext:Na,useEffect:gM,useImperativeHandle:function(A,h,m){m=m!=null?m.concat([A]):null,u0(4194308,4,vM.bind(null,h,A),m)},useLayoutEffect:function(A,h){return u0(4194308,4,A,h)},useInsertionEffect:function(A,h){u0(4,2,A,h)},useMemo:function(A,h){var m=fa();h=h===void 0?null:h;var v=A();if(_A){Br(!0);try{A()}finally{Br(!1)}}return m.memoizedState=[v,h],v},useReducer:function(A,h,m){var v=fa();if(m!==void 0){var T=m(h);if(_A){Br(!0);try{m(h)}finally{Br(!1)}}}else T=h;return v.memoizedState=v.baseState=T,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:T},v.queue=A,A=A.dispatch=wJ.bind(null,Wr,A),[v.memoizedState,A]},useRef:function(A){var h=fa();return A={current:A},h.memoizedState=A},useState:function(A){A=Ih(A);var h=A.queue,m=FM.bind(null,Wr,h);return h.dispatch=m,[A.memoizedState,m]},useDebugValue:ZT,useDeferredValue:function(A,h){var m=fa();return e4(m,A,h)},useTransition:function(){var A=Ih(!1);return A=_M.bind(null,Wr,A.queue,!0,!1),fa().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,h,m){var v=Wr,T=fa();if(xn){if(m===void 0)throw Error(n(407));m=m()}else{if(m=h(),$i===null)throw Error(n(349));(In&127)!==0||hu(v,h,m)}T.memoizedState=m;var I={value:m,getSnapshot:h};return T.queue=I,gM(av.bind(null,v,I,A),[A]),v.flags|=2048,Mf(9,{destroy:void 0},sv.bind(null,v,I,m,h),null),m},useId:function(){var A=fa(),h=$i.identifierPrefix;if(xn){var m=ji,v=rs;m=(v&~(1<<32-Gr(v)-1)).toString(32)+m,h="_"+h+"R_"+m,m=Vp++,0<m&&(h+="H"+m.toString(32)),h+="_"}else m=r1++,h="_"+h+"r_"+m.toString(32)+"_";return A.memoizedState=h},useHostTransitionStatus:r4,useFormState:BA,useActionState:BA,useOptimistic:function(A){var h=fa();h.memoizedState=h.baseState=A;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=m,h=n4.bind(null,Wr,!0,m),m.dispatch=h,[A,h]},useMemoCache:Lf,useCacheRefresh:function(){return fa().memoizedState=vJ.bind(null,Wr)},useEffectEvent:function(A){var h=fa(),m={impl:A};return h.memoizedState=m,function(){if((si&2)!==0)throw Error(n(440));return m.impl.apply(void 0,arguments)}}},i4={readContext:Na,use:c0,useCallback:bM,useContext:Na,useEffect:JT,useImperativeHandle:wM,useInsertionEffect:yM,useLayoutEffect:xM,useMemo:CM,useReducer:s1,useRef:GC,useState:function(){return s1(EA)},useDebugValue:ZT,useDeferredValue:function(A,h){var m=ps();return SM(m,un.memoizedState,A,h)},useTransition:function(){var A=s1(EA)[0],h=ps().memoizedState;return[typeof A=="boolean"?A:Fh(A),h]},useSyncExternalStore:o1,useId:TM,useHostTransitionStatus:r4,useFormState:fu,useActionState:fu,useOptimistic:function(A,h){var m=ps();return PC(m,un,A,h)},useMemoCache:Lf,useCacheRefresh:NM};i4.useEffectEvent=mM;var RM={readContext:Na,use:c0,useCallback:bM,useContext:Na,useEffect:JT,useImperativeHandle:wM,useInsertionEffect:yM,useLayoutEffect:xM,useMemo:CM,useReducer:a1,useRef:GC,useState:function(){return a1(EA)},useDebugValue:ZT,useDeferredValue:function(A,h){var m=ps();return un===null?e4(m,A,h):SM(m,un.memoizedState,A,h)},useTransition:function(){var A=a1(EA)[0],h=ps().memoizedState;return[typeof A=="boolean"?A:Fh(A),h]},useSyncExternalStore:o1,useId:TM,useHostTransitionStatus:r4,useFormState:A1,useActionState:A1,useOptimistic:function(A,h){var m=ps();return un!==null?PC(m,un,A,h):(m.baseState=A,[A,m.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:NM};RM.useEffectEvent=mM;function s4(A,h,m,v){h=A.memoizedState,m=m(v,h),m=m==null?h:f({},h,m),A.memoizedState=m,A.lanes===0&&(A.updateQueue.baseState=m)}var a4={enqueueSetState:function(A,h,m){A=A._reactInternals;var v=Oc(),T=Pr(v);T.payload=h,m!=null&&(T.callback=m),h=yi(A,T,v),h!==null&&(Ac(h,A,v),Aa(h,A,v))},enqueueReplaceState:function(A,h,m){A=A._reactInternals;var v=Oc(),T=Pr(v);T.tag=1,T.payload=h,m!=null&&(T.callback=m),h=yi(A,T,v),h!==null&&(Ac(h,A,v),Aa(h,A,v))},enqueueForceUpdate:function(A,h){A=A._reactInternals;var m=Oc(),v=Pr(m);v.tag=2,h!=null&&(v.callback=h),h=yi(A,v,m),h!==null&&(Ac(h,A,m),Aa(h,A,m))}};function MM(A,h,m,v,T,I,Y){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(v,I,Y):h.prototype&&h.prototype.isPureReactComponent?!Go(m,v)||!Go(T,I):!0}function UM(A,h,m,v){A=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(m,v),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(m,v),h.state!==A&&a4.enqueueReplaceState(h,h.state,null)}function zp(A,h){var m=h;if("ref"in h){m={};for(var v in h)v!=="ref"&&(m[v]=h[v])}if(A=A.defaultProps){m===h&&(m=f({},m));for(var T in A)m[T]===void 0&&(m[T]=A[T])}return m}function DM(A){qn(A)}function OM(A){console.error(A)}function PM(A){qn(A)}function $C(A,h){try{var m=A.onUncaughtError;m(h.value,{componentStack:h.stack})}catch(v){setTimeout(function(){throw v})}}function HM(A,h,m){try{var v=A.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function o4(A,h,m){return m=Pr(m),m.tag=3,m.payload={element:null},m.callback=function(){$C(A,h)},m}function QM(A){return A=Pr(A),A.tag=3,A}function jM(A,h,m,v){var T=m.type.getDerivedStateFromError;if(typeof T=="function"){var I=v.value;A.payload=function(){return T(I)},A.callback=function(){HM(h,m,v)}}var Y=m.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(A.callback=function(){HM(h,m,v),typeof T!="function"&&(g0===null?g0=new Set([this]):g0.add(this));var fe=v.stack;this.componentDidCatch(v.value,{componentStack:fe!==null?fe:""})})}function bJ(A,h,m,v,T){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(h=m.alternate,h!==null&&Eh(h,m,T,!0),m=Ts.current,m!==null){switch(m.tag){case 31:case 13:return ha===null?nS():m.alternate===null&&Hs===0&&(Hs=3),m.flags&=-257,m.flags|=65536,m.lanes=T,v===je?m.flags|=16384:(h=m.updateQueue,h===null?m.updateQueue=new Set([v]):h.add(v),k4(A,v,T)),!1;case 22:return m.flags|=65536,v===je?m.flags|=16384:(h=m.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=h):(m=h.retryQueue,m===null?h.retryQueue=new Set([v]):m.add(v)),k4(A,v,T)),!1}throw Error(n(435,m.tag))}return k4(A,v,T),nS(),!1}if(xn)return h=Ts.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=T,v!==Mc&&(A=Error(n(422),{cause:v}),a0(Ar(A,m)))):(v!==Mc&&(h=Error(n(423),{cause:v}),a0(Ar(h,m))),A=A.current.alternate,A.flags|=65536,T&=-T,A.lanes|=T,v=Ar(v,m),T=o4(A.stateNode,v,T),hs(A,T),Hs!==4&&(Hs=2)),!1;var I=Error(n(520),{cause:v});if(I=Ar(I,m),yv===null?yv=[I]:yv.push(I),Hs!==4&&(Hs=2),h===null)return!0;v=Ar(v,m),m=h;do{switch(m.tag){case 3:return m.flags|=65536,A=T&-T,m.lanes|=A,A=o4(m.stateNode,v,A),hs(m,A),!1;case 1:if(h=m.type,I=m.stateNode,(m.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(g0===null||!g0.has(I))))return m.flags|=65536,T&=-T,m.lanes|=T,T=QM(T),jM(T,A,m,v),hs(m,T),!1}m=m.return}while(m!==null);return!1}var l4=Error(n(461)),da=!1;function xo(A,h,m,v){h.child=A===null?Fn(h,null,m,v):vn(h,A.child,m,v)}function GM(A,h,m,v,T){m=m.render;var I=h.ref;if("ref"in v){var Y={};for(var fe in v)fe!=="ref"&&(Y[fe]=v[fe])}else Y=v;return Bh(h),v=rv(A,h,m,Y,I,T),fe=nv(),A!==null&&!da?(iv(A,h,T),Uf(A,h,T)):(xn&&fe&&lu(h),h.flags|=1,xo(A,h,v,T),h.child)}function VM(A,h,m,v,T){if(A===null){var I=m.type;return typeof I=="function"&&!bh(I)&&I.defaultProps===void 0&&m.compare===null?(h.tag=15,h.type=I,$M(A,h,I,v,T)):(A=Ke(m.type,null,v,h,h.mode,T),A.ref=h.ref,A.return=h,h.child=A)}if(I=A.child,!g4(A,T)){var Y=I.memoizedProps;if(m=m.compare,m=m!==null?m:Go,m(Y,v)&&A.ref===h.ref)return Uf(A,h,T)}return h.flags|=1,A=Za(I,v),A.ref=h.ref,A.return=h,h.child=A}function $M(A,h,m,v,T){if(A!==null){var I=A.memoizedProps;if(Go(I,v)&&A.ref===h.ref)if(da=!1,h.pendingProps=v=I,g4(A,T))(A.flags&131072)!==0&&(da=!0);else return h.lanes=A.lanes,Uf(A,h,T)}return c4(A,h,m,v,T)}function qM(A,h,m,v){var T=v.children,I=A!==null?A.memoizedState:null;if(A===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((h.flags&128)!==0){if(I=I!==null?I.baseLanes|m:m,A!==null){for(v=h.child=A.child,T=0;v!==null;)T=T|v.lanes|v.childLanes,v=v.sibling;v=T&~I}else v=0,h.child=null;return zM(A,h,I,m,v)}if((m&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},A!==null&&me(h,I!==null?I.cachePool:null),I!==null?Bl(h,I):sc(),ns(h);else return v=h.lanes=536870912,zM(A,h,I!==null?I.baseLanes|m:m,m,v)}else I!==null?(me(h,I.cachePool),Bl(h,I),SA(),h.memoizedState=null):(A!==null&&me(h,null),sc(),SA());return xo(A,h,T,m),h.child}function uv(A,h){return A!==null&&A.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function zM(A,h,m,v,T){var I=he();return I=I===null?null:{parent:Bs._currentValue,pool:I},h.memoizedState={baseLanes:m,cachePool:I},A!==null&&me(h,null),sc(),ns(h),A!==null&&Eh(A,h,v,!0),h.childLanes=T,null}function qC(A,h){return h=KC({mode:h.mode,children:h.children},A.mode),h.ref=A.ref,A.child=h,h.return=A,h}function KM(A,h,m){return vn(h,A.child,null,m),A=qC(h,h.pendingProps),A.flags|=2,$o(h),h.memoizedState=null,A}function CJ(A,h,m){var v=h.pendingProps,T=(h.flags&128)!==0;if(h.flags&=-129,A===null){if(xn){if(v.mode==="hidden")return A=qC(h,v),h.lanes=536870912,uv(null,A);if(CA(h),(A=Gi)?(A=aU(A,us),A=A!==null&&A.data==="&"?A:null,A!==null&&(h.memoizedState={dehydrated:A,treeContext:Er!==null?{id:rs,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},m=ot(A),m.return=h,h.child=m,Xi=h,Gi=null)):A=null,A===null)throw Ch(h);return h.lanes=536870912,null}return qC(h,v)}var I=A.memoizedState;if(I!==null){var Y=I.dehydrated;if(CA(h),T)if(h.flags&256)h.flags&=-257,h=KM(A,h,m);else if(h.memoizedState!==null)h.child=A.child,h.flags|=128,h=null;else throw Error(n(558));else if(da||Eh(A,h,m,!1),T=(m&A.childLanes)!==0,da||T){if(v=$i,v!==null&&(Y=ws(v,m),Y!==0&&Y!==I.retryLane))throw I.retryLane=Y,ui(A,Y),Ac(v,A,Y),l4;nS(),h=KM(A,h,m)}else A=I.treeContext,Gi=TA(Y.nextSibling),Xi=h,xn=!0,yo=null,us=!1,A!==null&&nc(h,A),h=qC(h,v),h.flags|=4096;return h}return A=Za(A.child,{mode:v.mode,children:v.children}),A.ref=h.ref,h.child=A,A.return=h,A}function zC(A,h){var m=h.ref;if(m===null)A!==null&&A.ref!==null&&(h.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(A===null||A.ref!==m)&&(h.flags|=4194816)}}function c4(A,h,m,v,T){return Bh(h),m=rv(A,h,m,v,void 0,T),v=nv(),A!==null&&!da?(iv(A,h,T),Uf(A,h,T)):(xn&&v&&lu(h),h.flags|=1,xo(A,h,m,T),h.child)}function WM(A,h,m,v,T,I){return Bh(h),h.updateQueue=null,m=uu(h,v,m,T),n1(A),v=nv(),A!==null&&!da?(iv(A,h,I),Uf(A,h,I)):(xn&&v&&lu(h),h.flags|=1,xo(A,h,m,I),h.child)}function YM(A,h,m,v,T){if(Bh(h),h.stateNode===null){var I=As,Y=m.contextType;typeof Y=="object"&&Y!==null&&(I=Na(Y)),I=new m(v,I),h.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=a4,h.stateNode=I,I._reactInternals=h,I=h.stateNode,I.props=v,I.state=h.memoizedState,I.refs={},ii(h),Y=m.contextType,I.context=typeof Y=="object"&&Y!==null?Na(Y):As,I.state=h.memoizedState,Y=m.getDerivedStateFromProps,typeof Y=="function"&&(s4(h,m,Y,v),I.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(Y=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),Y!==I.state&&a4.enqueueReplaceState(I,I.state,null),Fa(h,v,I,T),On(),I.state=h.memoizedState),typeof I.componentDidMount=="function"&&(h.flags|=4194308),v=!0}else if(A===null){I=h.stateNode;var fe=h.memoizedProps,Re=zp(m,fe);I.props=Re;var nt=I.context,pt=m.contextType;Y=As,typeof pt=="object"&&pt!==null&&(Y=Na(pt));var Ct=m.getDerivedStateFromProps;pt=typeof Ct=="function"||typeof I.getSnapshotBeforeUpdate=="function",fe=h.pendingProps!==fe,pt||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(fe||nt!==Y)&&UM(h,I,v,Y),Zr=!1;var st=h.memoizedState;I.state=st,Fa(h,v,I,T),On(),nt=h.memoizedState,fe||st!==nt||Zr?(typeof Ct=="function"&&(s4(h,m,Ct,v),nt=h.memoizedState),(Re=Zr||MM(h,m,Re,v,st,nt,Y))?(pt||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(h.flags|=4194308)):(typeof I.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=v,h.memoizedState=nt),I.props=v,I.state=nt,I.context=Y,v=Re):(typeof I.componentDidMount=="function"&&(h.flags|=4194308),v=!1)}else{I=h.stateNode,Yn(A,h),Y=h.memoizedProps,pt=zp(m,Y),I.props=pt,Ct=h.pendingProps,st=I.context,nt=m.contextType,Re=As,typeof nt=="object"&&nt!==null&&(Re=Na(nt)),fe=m.getDerivedStateFromProps,(nt=typeof fe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(Y!==Ct||st!==Re)&&UM(h,I,v,Re),Zr=!1,st=h.memoizedState,I.state=st,Fa(h,v,I,T),On();var ct=h.memoizedState;Y!==Ct||st!==ct||Zr||A!==null&&A.dependencies!==null&&Zm(A.dependencies)?(typeof fe=="function"&&(s4(h,m,fe,v),ct=h.memoizedState),(pt=Zr||MM(h,m,pt,v,st,ct,Re)||A!==null&&A.dependencies!==null&&Zm(A.dependencies))?(nt||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(v,ct,Re),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(v,ct,Re)),typeof I.componentDidUpdate=="function"&&(h.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof I.componentDidUpdate!="function"||Y===A.memoizedProps&&st===A.memoizedState||(h.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||Y===A.memoizedProps&&st===A.memoizedState||(h.flags|=1024),h.memoizedProps=v,h.memoizedState=ct),I.props=v,I.state=ct,I.context=Re,v=pt):(typeof I.componentDidUpdate!="function"||Y===A.memoizedProps&&st===A.memoizedState||(h.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||Y===A.memoizedProps&&st===A.memoizedState||(h.flags|=1024),v=!1)}return I=v,zC(A,h),v=(h.flags&128)!==0,I||v?(I=h.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:I.render(),h.flags|=1,A!==null&&v?(h.child=vn(h,A.child,null,T),h.child=vn(h,null,m,T)):xo(A,h,m,T),h.memoizedState=I.state,A=h.child):A=Uf(A,h,T),A}function XM(A,h,m,v){return Nf(),h.flags|=256,xo(A,h,m,v),h.child}var A4={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function u4(A){return{baseLanes:A,cachePool:Se()}}function h4(A,h,m){return A=A!==null?A.childLanes&~m:0,h&&(A|=Dc),A}function JM(A,h,m){var v=h.pendingProps,T=!1,I=(h.flags&128)!==0,Y;if((Y=I)||(Y=A!==null&&A.memoizedState===null?!1:(ds.current&2)!==0),Y&&(T=!0,h.flags&=-129),Y=(h.flags&32)!==0,h.flags&=-33,A===null){if(xn){if(T?Tl(h):SA(),(A=Gi)?(A=aU(A,us),A=A!==null&&A.data!=="&"?A:null,A!==null&&(h.memoizedState={dehydrated:A,treeContext:Er!==null?{id:rs,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},m=ot(A),m.return=h,h.child=m,Xi=h,Gi=null)):A=null,A===null)throw Ch(h);return K4(A)?h.lanes=32:h.lanes=536870912,null}var fe=v.children;return v=v.fallback,T?(SA(),T=h.mode,fe=KC({mode:"hidden",children:fe},T),v=Ve(v,T,m,null),fe.return=h,v.return=h,fe.sibling=v,h.child=fe,v=h.child,v.memoizedState=u4(m),v.childLanes=h4(A,Y,m),h.memoizedState=A4,uv(null,v)):(Tl(h),f4(h,fe))}var Re=A.memoizedState;if(Re!==null&&(fe=Re.dehydrated,fe!==null)){if(I)h.flags&256?(Tl(h),h.flags&=-257,h=d4(A,h,m)):h.memoizedState!==null?(SA(),h.child=A.child,h.flags|=128,h=null):(SA(),fe=v.fallback,T=h.mode,v=KC({mode:"visible",children:v.children},T),fe=Ve(fe,T,m,null),fe.flags|=2,v.return=h,fe.return=h,v.sibling=fe,h.child=v,vn(h,A.child,null,m),v=h.child,v.memoizedState=u4(m),v.childLanes=h4(A,Y,m),h.memoizedState=A4,h=uv(null,v));else if(Tl(h),K4(fe)){if(Y=fe.nextSibling&&fe.nextSibling.dataset,Y)var nt=Y.dgst;Y=nt,v=Error(n(419)),v.stack="",v.digest=Y,a0({value:v,source:null,stack:null}),h=d4(A,h,m)}else if(da||Eh(A,h,m,!1),Y=(m&A.childLanes)!==0,da||Y){if(Y=$i,Y!==null&&(v=ws(Y,m),v!==0&&v!==Re.retryLane))throw Re.retryLane=v,ui(A,v),Ac(Y,A,v),l4;z4(fe)||nS(),h=d4(A,h,m)}else z4(fe)?(h.flags|=192,h.child=A.child,h=null):(A=Re.treeContext,Gi=TA(fe.nextSibling),Xi=h,xn=!0,yo=null,us=!1,A!==null&&nc(h,A),h=f4(h,v.children),h.flags|=4096);return h}return T?(SA(),fe=v.fallback,T=h.mode,Re=A.child,nt=Re.sibling,v=Za(Re,{mode:"hidden",children:v.children}),v.subtreeFlags=Re.subtreeFlags&65011712,nt!==null?fe=Za(nt,fe):(fe=Ve(fe,T,m,null),fe.flags|=2),fe.return=h,v.return=h,v.sibling=fe,h.child=v,uv(null,v),v=h.child,fe=A.child.memoizedState,fe===null?fe=u4(m):(T=fe.cachePool,T!==null?(Re=Bs._currentValue,T=T.parent!==Re?{parent:Re,pool:Re}:T):T=Se(),fe={baseLanes:fe.baseLanes|m,cachePool:T}),v.memoizedState=fe,v.childLanes=h4(A,Y,m),h.memoizedState=A4,uv(A.child,v)):(Tl(h),m=A.child,A=m.sibling,m=Za(m,{mode:"visible",children:v.children}),m.return=h,m.sibling=null,A!==null&&(Y=h.deletions,Y===null?(h.deletions=[A],h.flags|=16):Y.push(A)),h.child=m,h.memoizedState=null,m)}function f4(A,h){return h=KC({mode:"visible",children:h},A.mode),h.return=A,A.child=h}function KC(A,h){return A=Ss(22,A,null,h),A.lanes=0,A}function d4(A,h,m){return vn(h,A.child,null,m),A=f4(h,h.pendingProps.children),A.flags|=2,h.memoizedState=null,A}function ZM(A,h,m){A.lanes|=h;var v=A.alternate;v!==null&&(v.lanes|=h),o0(A.return,h,m)}function p4(A,h,m,v,T,I){var Y=A.memoizedState;Y===null?A.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:T,treeForkCount:I}:(Y.isBackwards=h,Y.rendering=null,Y.renderingStartTime=0,Y.last=v,Y.tail=m,Y.tailMode=T,Y.treeForkCount=I)}function e6(A,h,m){var v=h.pendingProps,T=v.revealOrder,I=v.tail;v=v.children;var Y=ds.current,fe=(Y&2)!==0;if(fe?(Y=Y&1|2,h.flags|=128):Y&=1,G(ds,Y),xo(A,h,v,m),v=xn?_s:0,!fe&&A!==null&&(A.flags&128)!==0)e:for(A=h.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&ZM(A,m,h);else if(A.tag===19)ZM(A,m,h);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===h)break e;for(;A.sibling===null;){if(A.return===null||A.return===h)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}switch(T){case"forwards":for(m=h.child,T=null;m!==null;)A=m.alternate,A!==null&&If(A)===null&&(T=m),m=m.sibling;m=T,m===null?(T=h.child,h.child=null):(T=m.sibling,m.sibling=null),p4(h,!1,T,m,I,v);break;case"backwards":case"unstable_legacy-backwards":for(m=null,T=h.child,h.child=null;T!==null;){if(A=T.alternate,A!==null&&If(A)===null){h.child=T;break}A=T.sibling,T.sibling=m,m=T,T=A}p4(h,!0,m,null,I,v);break;case"together":p4(h,!1,null,null,void 0,v);break;default:h.memoizedState=null}return h.child}function Uf(A,h,m){if(A!==null&&(h.dependencies=A.dependencies),p0|=h.lanes,(m&h.childLanes)===0)if(A!==null){if(Eh(A,h,m,!1),(m&h.childLanes)===0)return null}else return null;if(A!==null&&h.child!==A.child)throw Error(n(153));if(h.child!==null){for(A=h.child,m=Za(A,A.pendingProps),h.child=m,m.return=h;A.sibling!==null;)A=A.sibling,m=m.sibling=Za(A,A.pendingProps),m.return=h;m.sibling=null}return h.child}function g4(A,h){return(A.lanes&h)!==0?!0:(A=A.dependencies,!!(A!==null&&Zm(A)))}function SJ(A,h,m){switch(h.tag){case 3:Fe(h,h.stateNode.containerInfo),_h(h,Bs,A.memoizedState.cache),Nf();break;case 27:case 5:He(h);break;case 4:Fe(h,h.stateNode.containerInfo);break;case 10:_h(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,CA(h),null;break;case 13:var v=h.memoizedState;if(v!==null)return v.dehydrated!==null?(Tl(h),h.flags|=128,null):(m&h.child.childLanes)!==0?JM(A,h,m):(Tl(h),A=Uf(A,h,m),A!==null?A.sibling:null);Tl(h);break;case 19:var T=(A.flags&128)!==0;if(v=(m&h.childLanes)!==0,v||(Eh(A,h,m,!1),v=(m&h.childLanes)!==0),T){if(v)return e6(A,h,m);h.flags|=128}if(T=h.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),G(ds,ds.current),v)break;return null;case 22:return h.lanes=0,qM(A,h,m,h.pendingProps);case 24:_h(h,Bs,A.memoizedState.cache)}return Uf(A,h,m)}function t6(A,h,m){if(A!==null)if(A.memoizedProps!==h.pendingProps)da=!0;else{if(!g4(A,m)&&(h.flags&128)===0)return da=!1,SJ(A,h,m);da=(A.flags&131072)!==0}else da=!1,xn&&(h.flags&1048576)!==0&&ou(h,_s,h.index);switch(h.lanes=0,h.tag){case 16:e:{var v=h.pendingProps;if(A=De(h.elementType),h.type=A,typeof A=="function")bh(A)?(v=zp(A,v),h.tag=1,h=YM(null,h,A,v,m)):(h.tag=0,h=c4(null,h,A,v,m));else{if(A!=null){var T=A.$$typeof;if(T===k){h.tag=11,h=GM(null,h,A,v,m);break e}else if(T===D){h.tag=14,h=VM(null,h,A,v,m);break e}}throw h=Z(A)||A,Error(n(306,h,""))}}return h;case 0:return c4(A,h,h.type,h.pendingProps,m);case 1:return v=h.type,T=zp(v,h.pendingProps),YM(A,h,v,T,m);case 3:e:{if(Fe(h,h.stateNode.containerInfo),A===null)throw Error(n(387));v=h.pendingProps;var I=h.memoizedState;T=I.element,Yn(A,h),Fa(h,v,null,m);var Y=h.memoizedState;if(v=Y.cache,_h(h,Bs,v),v!==I.cache&&Ff(h,[Bs],m,!0),On(),v=Y.element,I.isDehydrated)if(I={element:v,isDehydrated:!1,cache:Y.cache},h.updateQueue.baseState=I,h.memoizedState=I,h.flags&256){h=XM(A,h,v,m);break e}else if(v!==T){T=Ar(Error(n(424)),h),a0(T),h=XM(A,h,v,m);break e}else{switch(A=h.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for(Gi=TA(A.firstChild),Xi=h,xn=!0,yo=null,us=!0,m=Fn(h,null,v,m),h.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Nf(),v===T){h=Uf(A,h,m);break e}xo(A,h,v,m)}h=h.child}return h;case 26:return zC(A,h),A===null?(m=hU(h.type,null,h.pendingProps,null))?h.memoizedState=m:xn||(m=h.type,A=h.pendingProps,v=AS(ae.current).createElement(m),v[pe]=h,v[be]=A,vo(v,m,A),It(v),h.stateNode=v):h.memoizedState=hU(h.type,A.memoizedProps,h.pendingProps,A.memoizedState),null;case 27:return He(h),A===null&&xn&&(v=h.stateNode=cU(h.type,h.pendingProps,ae.current),Xi=h,us=!0,T=Gi,v0(h.type)?(W4=T,Gi=TA(v.firstChild)):Gi=T),xo(A,h,h.pendingProps.children,m),zC(A,h),A===null&&(h.flags|=4194304),h.child;case 5:return A===null&&xn&&((T=v=Gi)&&(v=eZ(v,h.type,h.pendingProps,us),v!==null?(h.stateNode=v,Xi=h,Gi=TA(v.firstChild),us=!1,T=!0):T=!1),T||Ch(h)),He(h),T=h.type,I=h.pendingProps,Y=A!==null?A.memoizedProps:null,v=I.children,V4(T,I)?v=null:Y!==null&&V4(T,Y)&&(h.flags|=32),h.memoizedState!==null&&(T=rv(A,h,XT,null,null,m),Ev._currentValue=T),zC(A,h),xo(A,h,v,m),h.child;case 6:return A===null&&xn&&((A=m=Gi)&&(m=tZ(m,h.pendingProps,us),m!==null?(h.stateNode=m,Xi=h,Gi=null,A=!0):A=!1),A||Ch(h)),null;case 13:return JM(A,h,m);case 4:return Fe(h,h.stateNode.containerInfo),v=h.pendingProps,A===null?h.child=vn(h,null,v,m):xo(A,h,v,m),h.child;case 11:return GM(A,h,h.type,h.pendingProps,m);case 7:return xo(A,h,h.pendingProps,m),h.child;case 8:return xo(A,h,h.pendingProps.children,m),h.child;case 12:return xo(A,h,h.pendingProps.children,m),h.child;case 10:return v=h.pendingProps,_h(h,h.type,v.value),xo(A,h,v.children,m),h.child;case 9:return T=h.type._context,v=h.pendingProps.children,Bh(h),T=Na(T),v=v(T),h.flags|=1,xo(A,h,v,m),h.child;case 14:return VM(A,h,h.type,h.pendingProps,m);case 15:return $M(A,h,h.type,h.pendingProps,m);case 19:return e6(A,h,m);case 31:return CJ(A,h,m);case 22:return qM(A,h,m,h.pendingProps);case 24:return Bh(h),v=Na(Bs),A===null?(T=he(),T===null&&(T=$i,I=l0(),T.pooledCache=I,I.refCount++,I!==null&&(T.pooledCacheLanes|=m),T=I),h.memoizedState={parent:v,cache:T},ii(h),_h(h,Bs,T)):((A.lanes&m)!==0&&(Yn(A,h),Fa(h,null,null,m),On()),T=A.memoizedState,I=h.memoizedState,T.parent!==v?(T={parent:v,cache:v},h.memoizedState=T,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=T),_h(h,Bs,v)):(v=I.cache,_h(h,Bs,v),v!==T.cache&&Ff(h,[Bs],m,!0))),xo(A,h,h.pendingProps.children,m),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}function Df(A){A.flags|=4}function m4(A,h,m,v,T){if((h=(A.mode&32)!==0)&&(h=!1),h){if(A.flags|=16777216,(T&335544128)===T)if(A.stateNode.complete)A.flags|=8192;else if(T6())A.flags|=8192;else throw Pe=je,Ze}else A.flags&=-16777217}function r6(A,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!mU(h))if(T6())A.flags|=8192;else throw Pe=je,Ze}function WC(A,h){h!==null&&(A.flags|=4),A.flags&16384&&(h=A.tag!==22?Hn():536870912,A.lanes|=h,d1|=h)}function hv(A,h){if(!xn)switch(A.tailMode){case"hidden":h=A.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?A.tail=null:m.sibling=null;break;case"collapsed":m=A.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?h||A.tail===null?A.tail=null:A.tail.sibling=null:v.sibling=null}}function is(A){var h=A.alternate!==null&&A.alternate.child===A.child,m=0,v=0;if(h)for(var T=A.child;T!==null;)m|=T.lanes|T.childLanes,v|=T.subtreeFlags&65011712,v|=T.flags&65011712,T.return=A,T=T.sibling;else for(T=A.child;T!==null;)m|=T.lanes|T.childLanes,v|=T.subtreeFlags,v|=T.flags,T.return=A,T=T.sibling;return A.subtreeFlags|=v,A.childLanes=m,h}function _J(A,h,m){var v=h.pendingProps;switch(zn(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return is(h),null;case 1:return is(h),null;case 3:return m=h.stateNode,v=null,A!==null&&(v=A.memoizedState.cache),h.memoizedState.cache!==v&&(h.flags|=2048),ic(Bs),Ie(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(A===null||A.child===null)&&(Ta(h)?Df(h):A===null||A.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,ev())),is(h),null;case 26:var T=h.type,I=h.memoizedState;return A===null?(Df(h),I!==null?(is(h),r6(h,I)):(is(h),m4(h,T,null,v,m))):I?I!==A.memoizedState?(Df(h),is(h),r6(h,I)):(is(h),h.flags&=-16777217):(A=A.memoizedProps,A!==v&&Df(h),is(h),m4(h,T,A,v,m)),null;case 27:if(at(h),m=ae.current,T=h.type,A!==null&&h.stateNode!=null)A.memoizedProps!==v&&Df(h);else{if(!v){if(h.stateNode===null)throw Error(n(166));return is(h),null}A=W.current,Ta(h)?Zx(h):(A=cU(T,v,m),h.stateNode=A,Df(h))}return is(h),null;case 5:if(at(h),T=h.type,A!==null&&h.stateNode!=null)A.memoizedProps!==v&&Df(h);else{if(!v){if(h.stateNode===null)throw Error(n(166));return is(h),null}if(I=W.current,Ta(h))Zx(h);else{var Y=AS(ae.current);switch(I){case 1:I=Y.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:I=Y.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":I=Y.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":I=Y.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":I=Y.createElement("div"),I.innerHTML="<script><\/script>",I=I.removeChild(I.firstChild);break;case"select":I=typeof v.is=="string"?Y.createElement("select",{is:v.is}):Y.createElement("select"),v.multiple?I.multiple=!0:v.size&&(I.size=v.size);break;default:I=typeof v.is=="string"?Y.createElement(T,{is:v.is}):Y.createElement(T)}}I[pe]=h,I[be]=v;e:for(Y=h.child;Y!==null;){if(Y.tag===5||Y.tag===6)I.appendChild(Y.stateNode);else if(Y.tag!==4&&Y.tag!==27&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===h)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===h)break e;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}h.stateNode=I;e:switch(vo(I,T,v),T){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Df(h)}}return is(h),m4(h,h.type,A===null?null:A.memoizedProps,h.pendingProps,m),null;case 6:if(A&&h.stateNode!=null)A.memoizedProps!==v&&Df(h);else{if(typeof v!="string"&&h.stateNode===null)throw Error(n(166));if(A=ae.current,Ta(h)){if(A=h.stateNode,m=h.memoizedProps,v=null,T=Xi,T!==null)switch(T.tag){case 27:case 5:v=T.memoizedProps}A[pe]=h,A=!!(A.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||J6(A.nodeValue,m)),A||Ch(h,!0)}else A=AS(A).createTextNode(v),A[pe]=h,h.stateNode=A}return is(h),null;case 31:if(m=h.memoizedState,A===null||A.memoizedState!==null){if(v=Ta(h),m!==null){if(A===null){if(!v)throw Error(n(318));if(A=h.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(557));A[pe]=h}else Nf(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;is(h),A=!1}else m=ev(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=m),A=!0;if(!A)return h.flags&256?($o(h),h):($o(h),null);if((h.flags&128)!==0)throw Error(n(558))}return is(h),null;case 13:if(v=h.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(T=Ta(h),v!==null&&v.dehydrated!==null){if(A===null){if(!T)throw Error(n(318));if(T=h.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[pe]=h}else Nf(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;is(h),T=!1}else T=ev(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=T),T=!0;if(!T)return h.flags&256?($o(h),h):($o(h),null)}return $o(h),(h.flags&128)!==0?(h.lanes=m,h):(m=v!==null,A=A!==null&&A.memoizedState!==null,m&&(v=h.child,T=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(T=v.alternate.memoizedState.cachePool.pool),I=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(I=v.memoizedState.cachePool.pool),I!==T&&(v.flags|=2048)),m!==A&&m&&(h.child.flags|=8192),WC(h,h.updateQueue),is(h),null);case 4:return Ie(),A===null&&P4(h.stateNode.containerInfo),is(h),null;case 10:return ic(h.type),is(h),null;case 19:if(M(ds),v=h.memoizedState,v===null)return is(h),null;if(T=(h.flags&128)!==0,I=v.rendering,I===null)if(T)hv(v,!1);else{if(Hs!==0||A!==null&&(A.flags&128)!==0)for(A=h.child;A!==null;){if(I=If(A),I!==null){for(h.flags|=128,hv(v,!1),A=I.updateQueue,h.updateQueue=A,WC(h,A),h.subtreeFlags=0,A=m,m=h.child;m!==null;)Ee(m,A),m=m.sibling;return G(ds,ds.current&1|2),xn&&Es(h,v.treeForkCount),h.child}A=A.sibling}v.tail!==null&&Vt()>eS&&(h.flags|=128,T=!0,hv(v,!1),h.lanes=4194304)}else{if(!T)if(A=If(I),A!==null){if(h.flags|=128,T=!0,A=A.updateQueue,h.updateQueue=A,WC(h,A),hv(v,!0),v.tail===null&&v.tailMode==="hidden"&&!I.alternate&&!xn)return is(h),null}else 2*Vt()-v.renderingStartTime>eS&&m!==536870912&&(h.flags|=128,T=!0,hv(v,!1),h.lanes=4194304);v.isBackwards?(I.sibling=h.child,h.child=I):(A=v.last,A!==null?A.sibling=I:h.child=I,v.last=I)}return v.tail!==null?(A=v.tail,v.rendering=A,v.tail=A.sibling,v.renderingStartTime=Vt(),A.sibling=null,m=ds.current,G(ds,T?m&1|2:m&1),xn&&Es(h,v.treeForkCount),A):(is(h),null);case 22:case 23:return $o(h),Ps(),v=h.memoizedState!==null,A!==null?A.memoizedState!==null!==v&&(h.flags|=8192):v&&(h.flags|=8192),v?(m&536870912)!==0&&(h.flags&128)===0&&(is(h),h.subtreeFlags&6&&(h.flags|=8192)):is(h),m=h.updateQueue,m!==null&&WC(h,m.retryQueue),m=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(m=A.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==m&&(h.flags|=2048),A!==null&&M(Ae),null;case 24:return m=null,A!==null&&(m=A.memoizedState.cache),h.memoizedState.cache!==m&&(h.flags|=2048),ic(Bs),is(h),null;case 25:return null;case 30:return null}throw Error(n(156,h.tag))}function EJ(A,h){switch(zn(h),h.tag){case 1:return A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 3:return ic(Bs),Ie(),A=h.flags,(A&65536)!==0&&(A&128)===0?(h.flags=A&-65537|128,h):null;case 26:case 27:case 5:return at(h),null;case 31:if(h.memoizedState!==null){if($o(h),h.alternate===null)throw Error(n(340));Nf()}return A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 13:if($o(h),A=h.memoizedState,A!==null&&A.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Nf()}return A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 19:return M(ds),null;case 4:return Ie(),null;case 10:return ic(h.type),null;case 22:case 23:return $o(h),Ps(),A!==null&&M(Ae),A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 24:return ic(Bs),null;case 25:return null;default:return null}}function n6(A,h){switch(zn(h),h.tag){case 3:ic(Bs),Ie();break;case 26:case 27:case 5:at(h);break;case 4:Ie();break;case 31:h.memoizedState!==null&&$o(h);break;case 13:$o(h);break;case 19:M(ds);break;case 10:ic(h.type);break;case 22:case 23:$o(h),Ps(),A!==null&&M(Ae);break;case 24:ic(Bs)}}function fv(A,h){try{var m=h.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var T=v.next;m=T;do{if((m.tag&A)===A){v=void 0;var I=m.create,Y=m.inst;v=I(),Y.destroy=v}m=m.next}while(m!==T)}}catch(fe){vi(h,h.return,fe)}}function f0(A,h,m){try{var v=h.updateQueue,T=v!==null?v.lastEffect:null;if(T!==null){var I=T.next;v=I;do{if((v.tag&A)===A){var Y=v.inst,fe=Y.destroy;if(fe!==void 0){Y.destroy=void 0,T=h;var Re=m,nt=fe;try{nt()}catch(pt){vi(T,Re,pt)}}}v=v.next}while(v!==I)}}catch(pt){vi(h,h.return,pt)}}function i6(A){var h=A.updateQueue;if(h!==null){var m=A.stateNode;try{Ws(h,m)}catch(v){vi(A,A.return,v)}}}function s6(A,h,m){m.props=zp(A.type,A.memoizedProps),m.state=A.memoizedState;try{m.componentWillUnmount()}catch(v){vi(A,h,v)}}function dv(A,h){try{var m=A.ref;if(m!==null){switch(A.tag){case 26:case 27:case 5:var v=A.stateNode;break;case 30:v=A.stateNode;break;default:v=A.stateNode}typeof m=="function"?A.refCleanup=m(v):m.current=v}}catch(T){vi(A,h,T)}}function kh(A,h){var m=A.ref,v=A.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(T){vi(A,h,T)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(T){vi(A,h,T)}else m.current=null}function a6(A){var h=A.type,m=A.memoizedProps,v=A.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(T){vi(A,A.return,T)}}function y4(A,h,m){try{var v=A.stateNode;KJ(v,A.type,m,h),v[be]=h}catch(T){vi(A,A.return,T)}}function o6(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&v0(A.type)||A.tag===4}function x4(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||o6(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&v0(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function v4(A,h,m){var v=A.tag;if(v===5||v===6)A=A.stateNode,h?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(A,h):(h=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,h.appendChild(A),m=m._reactRootContainer,m!=null||h.onclick!==null||(h.onclick=ci));else if(v!==4&&(v===27&&v0(A.type)&&(m=A.stateNode,h=null),A=A.child,A!==null))for(v4(A,h,m),A=A.sibling;A!==null;)v4(A,h,m),A=A.sibling}function YC(A,h,m){var v=A.tag;if(v===5||v===6)A=A.stateNode,h?m.insertBefore(A,h):m.appendChild(A);else if(v!==4&&(v===27&&v0(A.type)&&(m=A.stateNode),A=A.child,A!==null))for(YC(A,h,m),A=A.sibling;A!==null;)YC(A,h,m),A=A.sibling}function l6(A){var h=A.stateNode,m=A.memoizedProps;try{for(var v=A.type,T=h.attributes;T.length;)h.removeAttributeNode(T[0]);vo(h,v,m),h[pe]=A,h[be]=m}catch(I){vi(A,A.return,I)}}var Of=!1,pa=!1,w4=!1,c6=typeof WeakSet=="function"?WeakSet:Set,to=null;function BJ(A,h){if(A=A.containerInfo,j4=mS,A=Xa(A),bl(A)){if("selectionStart"in A)var m={start:A.selectionStart,end:A.selectionEnd};else e:{m=(m=A.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var T=v.anchorOffset,I=v.focusNode;v=v.focusOffset;try{m.nodeType,I.nodeType}catch{m=null;break e}var Y=0,fe=-1,Re=-1,nt=0,pt=0,Ct=A,st=null;t:for(;;){for(var ct;Ct!==m||T!==0&&Ct.nodeType!==3||(fe=Y+T),Ct!==I||v!==0&&Ct.nodeType!==3||(Re=Y+v),Ct.nodeType===3&&(Y+=Ct.nodeValue.length),(ct=Ct.firstChild)!==null;)st=Ct,Ct=ct;for(;;){if(Ct===A)break t;if(st===m&&++nt===T&&(fe=Y),st===I&&++pt===v&&(Re=Y),(ct=Ct.nextSibling)!==null)break;Ct=st,st=Ct.parentNode}Ct=ct}m=fe===-1||Re===-1?null:{start:fe,end:Re}}else m=null}m=m||{start:0,end:0}}else m=null;for(G4={focusedElem:A,selectionRange:m},mS=!1,to=h;to!==null;)if(h=to,A=h.child,(h.subtreeFlags&1028)!==0&&A!==null)A.return=h,to=A;else for(;to!==null;){switch(h=to,I=h.alternate,A=h.flags,h.tag){case 0:if((A&4)!==0&&(A=h.updateQueue,A=A!==null?A.events:null,A!==null))for(m=0;m<A.length;m++)T=A[m],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((A&1024)!==0&&I!==null){A=void 0,m=h,T=I.memoizedProps,I=I.memoizedState,v=m.stateNode;try{var sr=zp(m.type,T);A=v.getSnapshotBeforeUpdate(sr,I),v.__reactInternalSnapshotBeforeUpdate=A}catch(Hr){vi(m,m.return,Hr)}}break;case 3:if((A&1024)!==0){if(A=h.stateNode.containerInfo,m=A.nodeType,m===9)q4(A);else if(m===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":q4(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(n(163))}if(A=h.sibling,A!==null){A.return=h.return,to=A;break}to=h.return}}function A6(A,h,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:Hf(A,m),v&4&&fv(5,m);break;case 1:if(Hf(A,m),v&4)if(A=m.stateNode,h===null)try{A.componentDidMount()}catch(Y){vi(m,m.return,Y)}else{var T=zp(m.type,h.memoizedProps);h=h.memoizedState;try{A.componentDidUpdate(T,h,A.__reactInternalSnapshotBeforeUpdate)}catch(Y){vi(m,m.return,Y)}}v&64&&i6(m),v&512&&dv(m,m.return);break;case 3:if(Hf(A,m),v&64&&(A=m.updateQueue,A!==null)){if(h=null,m.child!==null)switch(m.child.tag){case 27:case 5:h=m.child.stateNode;break;case 1:h=m.child.stateNode}try{Ws(A,h)}catch(Y){vi(m,m.return,Y)}}break;case 27:h===null&&v&4&&l6(m);case 26:case 5:Hf(A,m),h===null&&v&4&&a6(m),v&512&&dv(m,m.return);break;case 12:Hf(A,m);break;case 31:Hf(A,m),v&4&&f6(A,m);break;case 13:Hf(A,m),v&4&&d6(A,m),v&64&&(A=m.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(m=UJ.bind(null,m),rZ(A,m))));break;case 22:if(v=m.memoizedState!==null||Of,!v){h=h!==null&&h.memoizedState!==null||pa,T=Of;var I=pa;Of=v,(pa=h)&&!I?Qf(A,m,(m.subtreeFlags&8772)!==0):Hf(A,m),Of=T,pa=I}break;case 30:break;default:Hf(A,m)}}function u6(A){var h=A.alternate;h!==null&&(A.alternate=null,u6(h)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(h=A.stateNode,h!==null&&ye(h)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var gs=null,ac=!1;function Pf(A,h,m){for(m=m.child;m!==null;)h6(A,h,m),m=m.sibling}function h6(A,h,m){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Ur,m)}catch{}switch(m.tag){case 26:pa||kh(m,h),Pf(A,h,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:pa||kh(m,h);var v=gs,T=ac;v0(m.type)&&(gs=m.stateNode,ac=!1),Pf(A,h,m),Cv(m.stateNode),gs=v,ac=T;break;case 5:pa||kh(m,h);case 6:if(v=gs,T=ac,gs=null,Pf(A,h,m),gs=v,ac=T,gs!==null)if(ac)try{(gs.nodeType===9?gs.body:gs.nodeName==="HTML"?gs.ownerDocument.body:gs).removeChild(m.stateNode)}catch(I){vi(m,h,I)}else try{gs.removeChild(m.stateNode)}catch(I){vi(m,h,I)}break;case 18:gs!==null&&(ac?(A=gs,iU(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,m.stateNode),b1(A)):iU(gs,m.stateNode));break;case 4:v=gs,T=ac,gs=m.stateNode.containerInfo,ac=!0,Pf(A,h,m),gs=v,ac=T;break;case 0:case 11:case 14:case 15:f0(2,m,h),pa||f0(4,m,h),Pf(A,h,m);break;case 1:pa||(kh(m,h),v=m.stateNode,typeof v.componentWillUnmount=="function"&&s6(m,h,v)),Pf(A,h,m);break;case 21:Pf(A,h,m);break;case 22:pa=(v=pa)||m.memoizedState!==null,Pf(A,h,m),pa=v;break;default:Pf(A,h,m)}}function f6(A,h){if(h.memoizedState===null&&(A=h.alternate,A!==null&&(A=A.memoizedState,A!==null))){A=A.dehydrated;try{b1(A)}catch(m){vi(h,h.return,m)}}}function d6(A,h){if(h.memoizedState===null&&(A=h.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{b1(A)}catch(m){vi(h,h.return,m)}}function TJ(A){switch(A.tag){case 31:case 13:case 19:var h=A.stateNode;return h===null&&(h=A.stateNode=new c6),h;case 22:return A=A.stateNode,h=A._retryCache,h===null&&(h=A._retryCache=new c6),h;default:throw Error(n(435,A.tag))}}function XC(A,h){var m=TJ(A);h.forEach(function(v){if(!m.has(v)){m.add(v);var T=DJ.bind(null,A,v);v.then(T,T)}})}function oc(A,h){var m=h.deletions;if(m!==null)for(var v=0;v<m.length;v++){var T=m[v],I=A,Y=h,fe=Y;e:for(;fe!==null;){switch(fe.tag){case 27:if(v0(fe.type)){gs=fe.stateNode,ac=!1;break e}break;case 5:gs=fe.stateNode,ac=!1;break e;case 3:case 4:gs=fe.stateNode.containerInfo,ac=!0;break e}fe=fe.return}if(gs===null)throw Error(n(160));h6(I,Y,T),gs=null,ac=!1,I=T.alternate,I!==null&&(I.return=null),T.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)p6(h,A),h=h.sibling}var pu=null;function p6(A,h){var m=A.alternate,v=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:oc(h,A),lc(A),v&4&&(f0(3,A,A.return),fv(3,A),f0(5,A,A.return));break;case 1:oc(h,A),lc(A),v&512&&(pa||m===null||kh(m,m.return)),v&64&&Of&&(A=A.updateQueue,A!==null&&(v=A.callbacks,v!==null&&(m=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var T=pu;if(oc(h,A),lc(A),v&512&&(pa||m===null||kh(m,m.return)),v&4){var I=m!==null?m.memoizedState:null;if(v=A.memoizedState,m===null)if(v===null)if(A.stateNode===null){e:{v=A.type,m=A.memoizedProps,T=T.ownerDocument||T;t:switch(v){case"title":I=T.getElementsByTagName("title")[0],(!I||I[Me]||I[pe]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=T.createElement(v),T.head.insertBefore(I,T.querySelector("head > title"))),vo(I,v,m),I[pe]=A,It(I),v=I;break e;case"link":var Y=pU("link","href",T).get(v+(m.href||""));if(Y){for(var fe=0;fe<Y.length;fe++)if(I=Y[fe],I.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&I.getAttribute("rel")===(m.rel==null?null:m.rel)&&I.getAttribute("title")===(m.title==null?null:m.title)&&I.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){Y.splice(fe,1);break t}}I=T.createElement(v),vo(I,v,m),T.head.appendChild(I);break;case"meta":if(Y=pU("meta","content",T).get(v+(m.content||""))){for(fe=0;fe<Y.length;fe++)if(I=Y[fe],I.getAttribute("content")===(m.content==null?null:""+m.content)&&I.getAttribute("name")===(m.name==null?null:m.name)&&I.getAttribute("property")===(m.property==null?null:m.property)&&I.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&I.getAttribute("charset")===(m.charSet==null?null:m.charSet)){Y.splice(fe,1);break t}}I=T.createElement(v),vo(I,v,m),T.head.appendChild(I);break;default:throw Error(n(468,v))}I[pe]=A,It(I),v=I}A.stateNode=v}else gU(T,A.type,A.stateNode);else A.stateNode=dU(T,v,A.memoizedProps);else I!==v?(I===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):I.count--,v===null?gU(T,A.type,A.stateNode):dU(T,v,A.memoizedProps)):v===null&&A.stateNode!==null&&y4(A,A.memoizedProps,m.memoizedProps)}break;case 27:oc(h,A),lc(A),v&512&&(pa||m===null||kh(m,m.return)),m!==null&&v&4&&y4(A,A.memoizedProps,m.memoizedProps);break;case 5:if(oc(h,A),lc(A),v&512&&(pa||m===null||kh(m,m.return)),A.flags&32){T=A.stateNode;try{Ho(T,"")}catch(sr){vi(A,A.return,sr)}}v&4&&A.stateNode!=null&&(T=A.memoizedProps,y4(A,T,m!==null?m.memoizedProps:T)),v&1024&&(w4=!0);break;case 6:if(oc(h,A),lc(A),v&4){if(A.stateNode===null)throw Error(n(162));v=A.memoizedProps,m=A.stateNode;try{m.nodeValue=v}catch(sr){vi(A,A.return,sr)}}break;case 3:if(fS=null,T=pu,pu=uS(h.containerInfo),oc(h,A),pu=T,lc(A),v&4&&m!==null&&m.memoizedState.isDehydrated)try{b1(h.containerInfo)}catch(sr){vi(A,A.return,sr)}w4&&(w4=!1,g6(A));break;case 4:v=pu,pu=uS(A.stateNode.containerInfo),oc(h,A),lc(A),pu=v;break;case 12:oc(h,A),lc(A);break;case 31:oc(h,A),lc(A),v&4&&(v=A.updateQueue,v!==null&&(A.updateQueue=null,XC(A,v)));break;case 13:oc(h,A),lc(A),A.child.flags&8192&&A.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(ZC=Vt()),v&4&&(v=A.updateQueue,v!==null&&(A.updateQueue=null,XC(A,v)));break;case 22:T=A.memoizedState!==null;var Re=m!==null&&m.memoizedState!==null,nt=Of,pt=pa;if(Of=nt||T,pa=pt||Re,oc(h,A),pa=pt,Of=nt,lc(A),v&8192)e:for(h=A.stateNode,h._visibility=T?h._visibility&-2:h._visibility|1,T&&(m===null||Re||Of||pa||Kp(A)),m=null,h=A;;){if(h.tag===5||h.tag===26){if(m===null){Re=m=h;try{if(I=Re.stateNode,T)Y=I.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none";else{fe=Re.stateNode;var Ct=Re.memoizedProps.style,st=Ct!=null&&Ct.hasOwnProperty("display")?Ct.display:null;fe.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(sr){vi(Re,Re.return,sr)}}}else if(h.tag===6){if(m===null){Re=h;try{Re.stateNode.nodeValue=T?"":Re.memoizedProps}catch(sr){vi(Re,Re.return,sr)}}}else if(h.tag===18){if(m===null){Re=h;try{var ct=Re.stateNode;T?sU(ct,!0):sU(Re.stateNode,!1)}catch(sr){vi(Re,Re.return,sr)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===A)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===A)break e;for(;h.sibling===null;){if(h.return===null||h.return===A)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}v&4&&(v=A.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,XC(A,m))));break;case 19:oc(h,A),lc(A),v&4&&(v=A.updateQueue,v!==null&&(A.updateQueue=null,XC(A,v)));break;case 30:break;case 21:break;default:oc(h,A),lc(A)}}function lc(A){var h=A.flags;if(h&2){try{for(var m,v=A.return;v!==null;){if(o6(v)){m=v;break}v=v.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var T=m.stateNode,I=x4(A);YC(A,I,T);break;case 5:var Y=m.stateNode;m.flags&32&&(Ho(Y,""),m.flags&=-33);var fe=x4(A);YC(A,fe,Y);break;case 3:case 4:var Re=m.stateNode.containerInfo,nt=x4(A);v4(A,nt,Re);break;default:throw Error(n(161))}}catch(pt){vi(A,A.return,pt)}A.flags&=-3}h&4096&&(A.flags&=-4097)}function g6(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var h=A;g6(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),A=A.sibling}}function Hf(A,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)A6(A,h.alternate,h),h=h.sibling}function Kp(A){for(A=A.child;A!==null;){var h=A;switch(h.tag){case 0:case 11:case 14:case 15:f0(4,h,h.return),Kp(h);break;case 1:kh(h,h.return);var m=h.stateNode;typeof m.componentWillUnmount=="function"&&s6(h,h.return,m),Kp(h);break;case 27:Cv(h.stateNode);case 26:case 5:kh(h,h.return),Kp(h);break;case 22:h.memoizedState===null&&Kp(h);break;case 30:Kp(h);break;default:Kp(h)}A=A.sibling}}function Qf(A,h,m){for(m=m&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var v=h.alternate,T=A,I=h,Y=I.flags;switch(I.tag){case 0:case 11:case 15:Qf(T,I,m),fv(4,I);break;case 1:if(Qf(T,I,m),v=I,T=v.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(nt){vi(v,v.return,nt)}if(v=I,T=v.updateQueue,T!==null){var fe=v.stateNode;try{var Re=T.shared.hiddenCallbacks;if(Re!==null)for(T.shared.hiddenCallbacks=null,T=0;T<Re.length;T++)Vo(Re[T],fe)}catch(nt){vi(v,v.return,nt)}}m&&Y&64&&i6(I),dv(I,I.return);break;case 27:l6(I);case 26:case 5:Qf(T,I,m),m&&v===null&&Y&4&&a6(I),dv(I,I.return);break;case 12:Qf(T,I,m);break;case 31:Qf(T,I,m),m&&Y&4&&f6(T,I);break;case 13:Qf(T,I,m),m&&Y&4&&d6(T,I);break;case 22:I.memoizedState===null&&Qf(T,I,m),dv(I,I.return);break;case 30:break;default:Qf(T,I,m)}h=h.sibling}}function b4(A,h){var m=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(m=A.memoizedState.cachePool.pool),A=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(A=h.memoizedState.cachePool.pool),A!==m&&(A!=null&&A.refCount++,m!=null&&jp(m))}function C4(A,h){A=null,h.alternate!==null&&(A=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==A&&(h.refCount++,A!=null&&jp(A))}function gu(A,h,m,v){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)m6(A,h,m,v),h=h.sibling}function m6(A,h,m,v){var T=h.flags;switch(h.tag){case 0:case 11:case 15:gu(A,h,m,v),T&2048&&fv(9,h);break;case 1:gu(A,h,m,v);break;case 3:gu(A,h,m,v),T&2048&&(A=null,h.alternate!==null&&(A=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==A&&(h.refCount++,A!=null&&jp(A)));break;case 12:if(T&2048){gu(A,h,m,v),A=h.stateNode;try{var I=h.memoizedProps,Y=I.id,fe=I.onPostCommit;typeof fe=="function"&&fe(Y,h.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(Re){vi(h,h.return,Re)}}else gu(A,h,m,v);break;case 31:gu(A,h,m,v);break;case 13:gu(A,h,m,v);break;case 23:break;case 22:I=h.stateNode,Y=h.alternate,h.memoizedState!==null?I._visibility&2?gu(A,h,m,v):pv(A,h):I._visibility&2?gu(A,h,m,v):(I._visibility|=2,u1(A,h,m,v,(h.subtreeFlags&10256)!==0||!1)),T&2048&&b4(Y,h);break;case 24:gu(A,h,m,v),T&2048&&C4(h.alternate,h);break;default:gu(A,h,m,v)}}function u1(A,h,m,v,T){for(T=T&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var I=A,Y=h,fe=m,Re=v,nt=Y.flags;switch(Y.tag){case 0:case 11:case 15:u1(I,Y,fe,Re,T),fv(8,Y);break;case 23:break;case 22:var pt=Y.stateNode;Y.memoizedState!==null?pt._visibility&2?u1(I,Y,fe,Re,T):pv(I,Y):(pt._visibility|=2,u1(I,Y,fe,Re,T)),T&&nt&2048&&b4(Y.alternate,Y);break;case 24:u1(I,Y,fe,Re,T),T&&nt&2048&&C4(Y.alternate,Y);break;default:u1(I,Y,fe,Re,T)}h=h.sibling}}function pv(A,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var m=A,v=h,T=v.flags;switch(v.tag){case 22:pv(m,v),T&2048&&b4(v.alternate,v);break;case 24:pv(m,v),T&2048&&C4(v.alternate,v);break;default:pv(m,v)}h=h.sibling}}var gv=8192;function h1(A,h,m){if(A.subtreeFlags&gv)for(A=A.child;A!==null;)y6(A,h,m),A=A.sibling}function y6(A,h,m){switch(A.tag){case 26:h1(A,h,m),A.flags&gv&&A.memoizedState!==null&&dZ(m,pu,A.memoizedState,A.memoizedProps);break;case 5:h1(A,h,m);break;case 3:case 4:var v=pu;pu=uS(A.stateNode.containerInfo),h1(A,h,m),pu=v;break;case 22:A.memoizedState===null&&(v=A.alternate,v!==null&&v.memoizedState!==null?(v=gv,gv=16777216,h1(A,h,m),gv=v):h1(A,h,m));break;default:h1(A,h,m)}}function x6(A){var h=A.alternate;if(h!==null&&(A=h.child,A!==null)){h.child=null;do h=A.sibling,A.sibling=null,A=h;while(A!==null)}}function mv(A){var h=A.deletions;if((A.flags&16)!==0){if(h!==null)for(var m=0;m<h.length;m++){var v=h[m];to=v,w6(v,A)}x6(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)v6(A),A=A.sibling}function v6(A){switch(A.tag){case 0:case 11:case 15:mv(A),A.flags&2048&&f0(9,A,A.return);break;case 3:mv(A);break;case 12:mv(A);break;case 22:var h=A.stateNode;A.memoizedState!==null&&h._visibility&2&&(A.return===null||A.return.tag!==13)?(h._visibility&=-3,JC(A)):mv(A);break;default:mv(A)}}function JC(A){var h=A.deletions;if((A.flags&16)!==0){if(h!==null)for(var m=0;m<h.length;m++){var v=h[m];to=v,w6(v,A)}x6(A)}for(A=A.child;A!==null;){switch(h=A,h.tag){case 0:case 11:case 15:f0(8,h,h.return),JC(h);break;case 22:m=h.stateNode,m._visibility&2&&(m._visibility&=-3,JC(h));break;default:JC(h)}A=A.sibling}}function w6(A,h){for(;to!==null;){var m=to;switch(m.tag){case 0:case 11:case 15:f0(8,m,h);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:jp(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,to=v;else e:for(m=A;to!==null;){v=to;var T=v.sibling,I=v.return;if(u6(v),v===m){to=null;break e}if(T!==null){T.return=I,to=T;break e}to=I}}}var NJ={getCacheForType:function(A){var h=Na(Bs),m=h.data.get(A);return m===void 0&&(m=A(),h.data.set(A,m)),m},cacheSignal:function(){return Na(Bs).controller.signal}},FJ=typeof WeakMap=="function"?WeakMap:Map,si=0,$i=null,wn=null,In=0,xi=0,Uc=null,d0=!1,f1=!1,S4=!1,jf=0,Hs=0,p0=0,Wp=0,_4=0,Dc=0,d1=0,yv=null,cc=null,E4=!1,ZC=0,b6=0,eS=1/0,tS=null,g0=null,Ia=0,m0=null,p1=null,Gf=0,B4=0,T4=null,C6=null,xv=0,N4=null;function Oc(){return(si&2)!==0&&In!==0?In&-In:X.T!==null?M4():oe()}function S6(){if(Dc===0)if((In&536870912)===0||xn){var A=Yi;Yi<<=1,(Yi&3932160)===0&&(Yi=262144),Dc=A}else Dc=536870912;return A=Ts.current,A!==null&&(A.flags|=32),Dc}function Ac(A,h,m){(A===$i&&(xi===2||xi===9)||A.cancelPendingCommit!==null)&&(g1(A,0),y0(A,In,Dc,!1)),ls(A,m),((si&2)===0||A!==$i)&&(A===$i&&((si&2)===0&&(Wp|=m),Hs===4&&y0(A,In,Dc,!1)),Lh(A))}function _6(A,h,m){if((si&6)!==0)throw Error(n(327));var v=!m&&(h&127)===0&&(h&A.expiredLanes)===0||an(A,h),T=v?LJ(A,h):I4(A,h,!0),I=v;do{if(T===0){f1&&!v&&y0(A,h,0,!1);break}else{if(m=A.current.alternate,I&&!IJ(m)){T=I4(A,h,!1),I=!1;continue}if(T===2){if(I=h,A.errorRecoveryDisabledLanes&I)var Y=0;else Y=A.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){h=Y;e:{var fe=A;T=yv;var Re=fe.current.memoizedState.isDehydrated;if(Re&&(g1(fe,Y).flags|=256),Y=I4(fe,Y,!1),Y!==2){if(S4&&!Re){fe.errorRecoveryDisabledLanes|=I,Wp|=I,T=4;break e}I=cc,cc=T,I!==null&&(cc===null?cc=I:cc.push.apply(cc,I))}T=Y}if(I=!1,T!==2)continue}}if(T===1){g1(A,0),y0(A,h,0,!0);break}e:{switch(v=A,I=T,I){case 0:case 1:throw Error(n(345));case 4:if((h&4194048)!==h)break;case 6:y0(v,h,Dc,!d0);break e;case 2:cc=null;break;case 3:case 5:break;default:throw Error(n(329))}if((h&62914560)===h&&(T=ZC+300-Vt(),10<T)){if(y0(v,h,Dc,!d0),Cr(v,0,!0)!==0)break e;Gf=h,v.timeoutHandle=rU(E6.bind(null,v,m,cc,tS,E4,h,Dc,Wp,d1,d0,I,"Throttled",-0,0),T);break e}E6(v,m,cc,tS,E4,h,Dc,Wp,d1,d0,I,null,-0,0)}}break}while(!0);Lh(A)}function E6(A,h,m,v,T,I,Y,fe,Re,nt,pt,Ct,st,ct){if(A.timeoutHandle=-1,Ct=h.subtreeFlags,Ct&8192||(Ct&16785408)===16785408){Ct={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},y6(h,I,Ct);var sr=(I&62914560)===I?ZC-Vt():(I&4194048)===I?b6-Vt():0;if(sr=pZ(Ct,sr),sr!==null){Gf=I,A.cancelPendingCommit=sr(R6.bind(null,A,h,I,m,v,T,Y,fe,Re,pt,Ct,null,st,ct)),y0(A,I,Y,!nt);return}}R6(A,h,I,m,v,T,Y,fe,Re)}function IJ(A){for(var h=A;;){var m=h.tag;if((m===0||m===11||m===15)&&h.flags&16384&&(m=h.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var T=m[v],I=T.getSnapshot;T=T.value;try{if(!oa(I(),T))return!1}catch{return!1}}if(m=h.child,h.subtreeFlags&16384&&m!==null)m.return=h,h=m;else{if(h===A)break;for(;h.sibling===null;){if(h.return===null||h.return===A)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function y0(A,h,m,v){h&=~_4,h&=~Wp,A.suspendedLanes|=h,A.pingedLanes&=~h,v&&(A.warmLanes|=h),v=A.expirationTimes;for(var T=h;0<T;){var I=31-Gr(T),Y=1<<I;v[I]=-1,T&=~Y}m!==0&&Ls(A,m,h)}function rS(){return(si&6)===0?(vv(0),!1):!0}function F4(){if(wn!==null){if(xi===0)var A=wn.return;else A=wn,bA=Sh=null,i1(A),gt=null,zt=0,A=wn;for(;A!==null;)n6(A.alternate,A),A=A.return;wn=null}}function g1(A,h){var m=A.timeoutHandle;m!==-1&&(A.timeoutHandle=-1,XJ(m)),m=A.cancelPendingCommit,m!==null&&(A.cancelPendingCommit=null,m()),Gf=0,F4(),$i=A,wn=m=Za(A.current,null),In=h,xi=0,Uc=null,d0=!1,f1=an(A,h),S4=!1,d1=Dc=_4=Wp=p0=Hs=0,cc=yv=null,E4=!1,(h&8)!==0&&(h|=h&32);var v=A.entangledLanes;if(v!==0)for(A=A.entanglements,v&=h;0<v;){var T=31-Gr(v),I=1<<T;h|=A[T],v&=~I}return jf=h,wA(),m}function B6(A,h){Wr=null,X.H=Av,h===Ue||h===Je?(h=mt(),xi=3):h===Ze?(h=mt(),xi=4):xi=h===l4?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Uc=h,wn===null&&(Hs=1,$C(A,Ar(h,A.current)))}function T6(){var A=Ts.current;return A===null?!0:(In&4194048)===In?ha===null:(In&62914560)===In||(In&536870912)!==0?A===ha:!1}function N6(){var A=X.H;return X.H=Av,A===null?Av:A}function F6(){var A=X.A;return X.A=NJ,A}function nS(){Hs=4,d0||(In&4194048)!==In&&Ts.current!==null||(f1=!0),(p0&134217727)===0&&(Wp&134217727)===0||$i===null||y0($i,In,Dc,!1)}function I4(A,h,m){var v=si;si|=2;var T=N6(),I=F6();($i!==A||In!==h)&&(tS=null,g1(A,h)),h=!1;var Y=Hs;e:do try{if(xi!==0&&wn!==null){var fe=wn,Re=Uc;switch(xi){case 8:F4(),Y=6;break e;case 3:case 2:case 9:case 6:Ts.current===null&&(h=!0);var nt=xi;if(xi=0,Uc=null,m1(A,fe,Re,nt),m&&f1){Y=0;break e}break;default:nt=xi,xi=0,Uc=null,m1(A,fe,Re,nt)}}kJ(),Y=Hs;break}catch(pt){B6(A,pt)}while(!0);return h&&A.shellSuspendCounter++,bA=Sh=null,si=v,X.H=T,X.A=I,wn===null&&($i=null,In=0,wA()),Y}function kJ(){for(;wn!==null;)I6(wn)}function LJ(A,h){var m=si;si|=2;var v=N6(),T=F6();$i!==A||In!==h?(tS=null,eS=Vt()+500,g1(A,h)):f1=an(A,h);e:do try{if(xi!==0&&wn!==null){h=wn;var I=Uc;t:switch(xi){case 1:xi=0,Uc=null,m1(A,h,I,1);break;case 2:case 9:if(bt(I)){xi=0,Uc=null,k6(h);break}h=function(){xi!==2&&xi!==9||$i!==A||(xi=7),Lh(A)},I.then(h,h);break e;case 3:xi=7;break e;case 4:xi=5;break e;case 7:bt(I)?(xi=0,Uc=null,k6(h)):(xi=0,Uc=null,m1(A,h,I,7));break;case 5:var Y=null;switch(wn.tag){case 26:Y=wn.memoizedState;case 5:case 27:var fe=wn;if(Y?mU(Y):fe.stateNode.complete){xi=0,Uc=null;var Re=fe.sibling;if(Re!==null)wn=Re;else{var nt=fe.return;nt!==null?(wn=nt,iS(nt)):wn=null}break t}}xi=0,Uc=null,m1(A,h,I,5);break;case 6:xi=0,Uc=null,m1(A,h,I,6);break;case 8:F4(),Hs=6;break e;default:throw Error(n(462))}}RJ();break}catch(pt){B6(A,pt)}while(!0);return bA=Sh=null,X.H=v,X.A=T,si=m,wn!==null?0:($i=null,In=0,wA(),Hs)}function RJ(){for(;wn!==null&&!Ut();)I6(wn)}function I6(A){var h=t6(A.alternate,A,jf);A.memoizedProps=A.pendingProps,h===null?iS(A):wn=h}function k6(A){var h=A,m=h.alternate;switch(h.tag){case 15:case 0:h=WM(m,h,h.pendingProps,h.type,void 0,In);break;case 11:h=WM(m,h,h.pendingProps,h.type.render,h.ref,In);break;case 5:i1(h);default:n6(m,h),h=wn=Ee(h,jf),h=t6(m,h,jf)}A.memoizedProps=A.pendingProps,h===null?iS(A):wn=h}function m1(A,h,m,v){bA=Sh=null,i1(h),gt=null,zt=0;var T=h.return;try{if(bJ(A,T,h,m,In)){Hs=1,$C(A,Ar(m,A.current)),wn=null;return}}catch(I){if(T!==null)throw wn=T,I;Hs=1,$C(A,Ar(m,A.current)),wn=null;return}h.flags&32768?(xn||v===1?A=!0:f1||(In&536870912)!==0?A=!1:(d0=A=!0,(v===2||v===9||v===3||v===6)&&(v=Ts.current,v!==null&&v.tag===13&&(v.flags|=16384))),L6(h,A)):iS(h)}function iS(A){var h=A;do{if((h.flags&32768)!==0){L6(h,d0);return}A=h.return;var m=_J(h.alternate,h,jf);if(m!==null){wn=m;return}if(h=h.sibling,h!==null){wn=h;return}wn=h=A}while(h!==null);Hs===0&&(Hs=5)}function L6(A,h){do{var m=EJ(A.alternate,A);if(m!==null){m.flags&=32767,wn=m;return}if(m=A.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!h&&(A=A.sibling,A!==null)){wn=A;return}wn=A=m}while(A!==null);Hs=6,wn=null}function R6(A,h,m,v,T,I,Y,fe,Re){A.cancelPendingCommit=null;do sS();while(Ia!==0);if((si&6)!==0)throw Error(n(327));if(h!==null){if(h===A.current)throw Error(n(177));if(I=h.lanes|h.childLanes,I|=El,dr(A,m,I,Y,fe,Re),A===$i&&(wn=$i=null,In=0),p1=h,m0=A,Gf=m,B4=I,T4=T,C6=v,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,OJ(zr,function(){return P6(),null})):(A.callbackNode=null,A.callbackPriority=0),v=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||v){v=X.T,X.T=null,T=ee.p,ee.p=2,Y=si,si|=4;try{BJ(A,h,m)}finally{si=Y,ee.p=T,X.T=v}}Ia=1,M6(),U6(),D6()}}function M6(){if(Ia===1){Ia=0;var A=m0,h=p1,m=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||m){m=X.T,X.T=null;var v=ee.p;ee.p=2;var T=si;si|=4;try{p6(h,A);var I=G4,Y=Xa(A.containerInfo),fe=I.focusedElem,Re=I.selectionRange;if(Y!==fe&&fe&&fe.ownerDocument&&la(fe.ownerDocument.documentElement,fe)){if(Re!==null&&bl(fe)){var nt=Re.start,pt=Re.end;if(pt===void 0&&(pt=nt),"selectionStart"in fe)fe.selectionStart=nt,fe.selectionEnd=Math.min(pt,fe.value.length);else{var Ct=fe.ownerDocument||document,st=Ct&&Ct.defaultView||window;if(st.getSelection){var ct=st.getSelection(),sr=fe.textContent.length,Hr=Math.min(Re.start,sr),Li=Re.end===void 0?Hr:Math.min(Re.end,sr);!ct.extend&&Hr>Li&&(Y=Li,Li=Hr,Hr=Y);var $e=Ba(fe,Hr),Oe=Ba(fe,Li);if($e&&Oe&&(ct.rangeCount!==1||ct.anchorNode!==$e.node||ct.anchorOffset!==$e.offset||ct.focusNode!==Oe.node||ct.focusOffset!==Oe.offset)){var et=Ct.createRange();et.setStart($e.node,$e.offset),ct.removeAllRanges(),Hr>Li?(ct.addRange(et),ct.extend(Oe.node,Oe.offset)):(et.setEnd(Oe.node,Oe.offset),ct.addRange(et))}}}}for(Ct=[],ct=fe;ct=ct.parentNode;)ct.nodeType===1&&Ct.push({element:ct,left:ct.scrollLeft,top:ct.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<Ct.length;fe++){var yt=Ct[fe];yt.element.scrollLeft=yt.left,yt.element.scrollTop=yt.top}}mS=!!j4,G4=j4=null}finally{si=T,ee.p=v,X.T=m}}A.current=h,Ia=2}}function U6(){if(Ia===2){Ia=0;var A=m0,h=p1,m=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||m){m=X.T,X.T=null;var v=ee.p;ee.p=2;var T=si;si|=4;try{A6(A,h.alternate,h)}finally{si=T,ee.p=v,X.T=m}}Ia=3}}function D6(){if(Ia===4||Ia===3){Ia=0,ir();var A=m0,h=p1,m=Gf,v=C6;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Ia=5:(Ia=0,p1=m0=null,O6(A,A.pendingLanes));var T=A.pendingLanes;if(T===0&&(g0=null),yn(m),h=h.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Ur,h,void 0,(h.current.flags&128)===128)}catch{}if(v!==null){h=X.T,T=ee.p,ee.p=2,X.T=null;try{for(var I=A.onRecoverableError,Y=0;Y<v.length;Y++){var fe=v[Y];I(fe.value,{componentStack:fe.stack})}}finally{X.T=h,ee.p=T}}(Gf&3)!==0&&sS(),Lh(A),T=A.pendingLanes,(m&261930)!==0&&(T&42)!==0?A===N4?xv++:(xv=0,N4=A):xv=0,vv(0)}}function O6(A,h){(A.pooledCacheLanes&=h)===0&&(h=A.pooledCache,h!=null&&(A.pooledCache=null,jp(h)))}function sS(){return M6(),U6(),D6(),P6()}function P6(){if(Ia!==5)return!1;var A=m0,h=B4;B4=0;var m=yn(Gf),v=X.T,T=ee.p;try{ee.p=32>m?32:m,X.T=null,m=T4,T4=null;var I=m0,Y=Gf;if(Ia=0,p1=m0=null,Gf=0,(si&6)!==0)throw Error(n(331));var fe=si;if(si|=4,v6(I.current),m6(I,I.current,Y,m),si=fe,vv(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Ur,I)}catch{}return!0}finally{ee.p=T,X.T=v,O6(A,h)}}function H6(A,h,m){h=Ar(m,h),h=o4(A.stateNode,h,2),A=yi(A,h,2),A!==null&&(ls(A,2),Lh(A))}function vi(A,h,m){if(A.tag===3)H6(A,A,m);else for(;h!==null;){if(h.tag===3){H6(h,A,m);break}else if(h.tag===1){var v=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(g0===null||!g0.has(v))){A=Ar(m,A),m=QM(2),v=yi(h,m,2),v!==null&&(jM(m,v,h,A),ls(v,2),Lh(v));break}}h=h.return}}function k4(A,h,m){var v=A.pingCache;if(v===null){v=A.pingCache=new FJ;var T=new Set;v.set(h,T)}else T=v.get(h),T===void 0&&(T=new Set,v.set(h,T));T.has(m)||(S4=!0,T.add(m),A=MJ.bind(null,A,h,m),h.then(A,A))}function MJ(A,h,m){var v=A.pingCache;v!==null&&v.delete(h),A.pingedLanes|=A.suspendedLanes&m,A.warmLanes&=~m,$i===A&&(In&m)===m&&(Hs===4||Hs===3&&(In&62914560)===In&&300>Vt()-ZC?(si&2)===0&&g1(A,0):_4|=m,d1===In&&(d1=0)),Lh(A)}function Q6(A,h){h===0&&(h=Hn()),A=ui(A,h),A!==null&&(ls(A,h),Lh(A))}function UJ(A){var h=A.memoizedState,m=0;h!==null&&(m=h.retryLane),Q6(A,m)}function DJ(A,h){var m=0;switch(A.tag){case 31:case 13:var v=A.stateNode,T=A.memoizedState;T!==null&&(m=T.retryLane);break;case 19:v=A.stateNode;break;case 22:v=A.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(h),Q6(A,m)}function OJ(A,h){return Ft(A,h)}var aS=null,y1=null,L4=!1,oS=!1,R4=!1,x0=0;function Lh(A){A!==y1&&A.next===null&&(y1===null?aS=y1=A:y1=y1.next=A),oS=!0,L4||(L4=!0,HJ())}function vv(A,h){if(!R4&&oS){R4=!0;do for(var m=!1,v=aS;v!==null;){if(A!==0){var T=v.pendingLanes;if(T===0)var I=0;else{var Y=v.suspendedLanes,fe=v.pingedLanes;I=(1<<31-Gr(42|A)+1)-1,I&=T&~(Y&~fe),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(m=!0,$6(v,I))}else I=In,I=Cr(v,v===$i?I:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(I&3)===0||an(v,I)||(m=!0,$6(v,I));v=v.next}while(m);R4=!1}}function PJ(){j6()}function j6(){oS=L4=!1;var A=0;x0!==0&&YJ()&&(A=x0);for(var h=Vt(),m=null,v=aS;v!==null;){var T=v.next,I=G6(v,h);I===0?(v.next=null,m===null?aS=T:m.next=T,T===null&&(y1=m)):(m=v,(A!==0||(I&3)!==0)&&(oS=!0)),v=T}Ia!==0&&Ia!==5||vv(A),x0!==0&&(x0=0)}function G6(A,h){for(var m=A.suspendedLanes,v=A.pingedLanes,T=A.expirationTimes,I=A.pendingLanes&-62914561;0<I;){var Y=31-Gr(I),fe=1<<Y,Re=T[Y];Re===-1?((fe&m)===0||(fe&v)!==0)&&(T[Y]=Mn(fe,h)):Re<=h&&(A.expiredLanes|=fe),I&=~fe}if(h=$i,m=In,m=Cr(A,A===h?m:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),v=A.callbackNode,m===0||A===h&&(xi===2||xi===9)||A.cancelPendingCommit!==null)return v!==null&&v!==null&&Lt(v),A.callbackNode=null,A.callbackPriority=0;if((m&3)===0||an(A,m)){if(h=m&-m,h===A.callbackPriority)return h;switch(v!==null&&Lt(v),yn(m)){case 2:case 8:m=kr;break;case 32:m=zr;break;case 268435456:m=vr;break;default:m=zr}return v=V6.bind(null,A),m=Ft(m,v),A.callbackPriority=h,A.callbackNode=m,h}return v!==null&&v!==null&&Lt(v),A.callbackPriority=2,A.callbackNode=null,2}function V6(A,h){if(Ia!==0&&Ia!==5)return A.callbackNode=null,A.callbackPriority=0,null;var m=A.callbackNode;if(sS()&&A.callbackNode!==m)return null;var v=In;return v=Cr(A,A===$i?v:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),v===0?null:(_6(A,v,h),G6(A,Vt()),A.callbackNode!=null&&A.callbackNode===m?V6.bind(null,A):null)}function $6(A,h){if(sS())return null;_6(A,h,!0)}function HJ(){JJ(function(){(si&6)!==0?Ft(tr,PJ):j6()})}function M4(){if(x0===0){var A=C;A===0&&(A=fn,fn<<=1,(fn&261888)===0&&(fn=256)),x0=A}return x0}function q6(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:ia(""+A)}function z6(A,h){var m=h.ownerDocument.createElement("input");return m.name=h.name,m.value=h.value,A.id&&m.setAttribute("form",A.id),h.parentNode.insertBefore(m,h),A=new FormData(A),m.parentNode.removeChild(m),A}function QJ(A,h,m,v,T){if(h==="submit"&&m&&m.stateNode===T){var I=q6((T[be]||null).action),Y=v.submitter;Y&&(h=(h=Y[be]||null)?q6(h.formAction):Y.getAttribute("formAction"),h!==null&&(I=h,Y=null));var fe=new uA("action","action",null,v,T);A.push({event:fe,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(x0!==0){var Re=Y?z6(T,Y):new FormData(T);t4(m,{pending:!0,data:Re,method:T.method,action:I},null,Re)}}else typeof I=="function"&&(fe.preventDefault(),Re=Y?z6(T,Y):new FormData(T),t4(m,{pending:!0,data:Re,method:T.method,action:I},I,Re))},currentTarget:T}]})}}for(var U4=0;U4<Ja.length;U4++){var D4=Ja[U4],jJ=D4.toLowerCase(),GJ=D4[0].toUpperCase()+D4.slice(1);on(jJ,"on"+GJ)}on(kc,"onAnimationEnd"),on(Lc,"onAnimationIteration"),on(xA,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(yh,"onTransitionRun"),on(au,"onTransitionStart"),on(vA,"onTransitionCancel"),on(xh,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VJ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wv));function K6(A,h){h=(h&4)!==0;for(var m=0;m<A.length;m++){var v=A[m],T=v.event;v=v.listeners;e:{var I=void 0;if(h)for(var Y=v.length-1;0<=Y;Y--){var fe=v[Y],Re=fe.instance,nt=fe.currentTarget;if(fe=fe.listener,Re!==I&&T.isPropagationStopped())break e;I=fe,T.currentTarget=nt;try{I(T)}catch(pt){qn(pt)}T.currentTarget=null,I=Re}else for(Y=0;Y<v.length;Y++){if(fe=v[Y],Re=fe.instance,nt=fe.currentTarget,fe=fe.listener,Re!==I&&T.isPropagationStopped())break e;I=fe,T.currentTarget=nt;try{I(T)}catch(pt){qn(pt)}T.currentTarget=null,I=Re}}}}function bn(A,h){var m=h[qe];m===void 0&&(m=h[qe]=new Set);var v=A+"__bubble";m.has(v)||(W6(h,A,2,!1),m.add(v))}function O4(A,h,m){var v=0;h&&(v|=4),W6(m,A,v,h)}var lS="_reactListening"+Math.random().toString(36).slice(2);function P4(A){if(!A[lS]){A[lS]=!0,nr.forEach(function(m){m!=="selectionchange"&&(VJ.has(m)||O4(m,!1,A),O4(m,!0,A))});var h=A.nodeType===9?A:A.ownerDocument;h===null||h[lS]||(h[lS]=!0,O4("selectionchange",!1,h))}}function W6(A,h,m,v){switch(SU(h)){case 2:var T=yZ;break;case 8:T=xZ;break;default:T=e3}m=T.bind(null,h,m,A),T=void 0,!Zl||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(T=!0),v?T!==void 0?A.addEventListener(h,m,{capture:!0,passive:T}):A.addEventListener(h,m,!0):T!==void 0?A.addEventListener(h,m,{passive:T}):A.addEventListener(h,m,!1)}function H4(A,h,m,v,T){var I=v;if((h&1)===0&&(h&2)===0&&v!==null)e:for(;;){if(v===null)return;var Y=v.tag;if(Y===3||Y===4){var fe=v.stateNode.containerInfo;if(fe===T)break;if(Y===4)for(Y=v.return;Y!==null;){var Re=Y.tag;if((Re===3||Re===4)&&Y.stateNode.containerInfo===T)return;Y=Y.return}for(;fe!==null;){if(Y=Qe(fe),Y===null)return;if(Re=Y.tag,Re===5||Re===6||Re===26||Re===27){v=I=Y;continue e}fe=fe.parentNode}}v=v.return}ZA(function(){var nt=I,pt=AA(m),Ct=[];e:{var st=mo.get(A);if(st!==void 0){var ct=uA,sr=A;switch(A){case"keypress":if(aa(m)===0)break e;case"keydown":case"keyup":ct=Ah;break;case"focusin":sr="focus",ct=nu;break;case"focusout":sr="blur",ct=nu;break;case"beforeblur":case"afterblur":ct=nu;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=ne;break;case kc:case Lc:case xA:ct=e0;break;case xh:ct=Le;break;case"scroll":case"scrollend":ct=Sf;break;case"wheel":ct=ht;break;case"copy":case"cut":case"paste":ct=lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=uh;break;case"toggle":case"beforetoggle":ct=$t}var Hr=(h&4)!==0,Li=!Hr&&(A==="scroll"||A==="scrollend"),$e=Hr?st!==null?st+"Capture":null:st;Hr=[];for(var Oe=nt,et;Oe!==null;){var yt=Oe;if(et=yt.stateNode,yt=yt.tag,yt!==5&&yt!==26&&yt!==27||et===null||$e===null||(yt=Jl(Oe,$e),yt!=null&&Hr.push(bv(Oe,yt,et))),Li)break;Oe=Oe.return}0<Hr.length&&(st=new ct(st,sr,null,m,pt),Ct.push({event:st,listeners:Hr}))}}if((h&7)===0){e:{if(st=A==="mouseover"||A==="pointerover",ct=A==="mouseout"||A==="pointerout",st&&m!==gl&&(sr=m.relatedTarget||m.fromElement)&&(Qe(sr)||sr[we]))break e;if((ct||st)&&(st=pt.window===pt?pt:(st=pt.ownerDocument)?st.defaultView||st.parentWindow:window,ct?(sr=m.relatedTarget||m.toElement,ct=nt,sr=sr?Qe(sr):null,sr!==null&&(Li=s(sr),Hr=sr.tag,sr!==Li||Hr!==5&&Hr!==27&&Hr!==6)&&(sr=null)):(ct=null,sr=nt),ct!==sr)){if(Hr=tc,yt="onMouseLeave",$e="onMouseEnter",Oe="mouse",(A==="pointerout"||A==="pointerover")&&(Hr=uh,yt="onPointerLeave",$e="onPointerEnter",Oe="pointer"),Li=ct==null?st:ft(ct),et=sr==null?st:ft(sr),st=new Hr(yt,Oe+"leave",ct,m,pt),st.target=Li,st.relatedTarget=et,yt=null,Qe(pt)===nt&&(Hr=new Hr($e,Oe+"enter",sr,m,pt),Hr.target=et,Hr.relatedTarget=Li,yt=Hr),Li=yt,ct&&sr)t:{for(Hr=$J,$e=ct,Oe=sr,et=0,yt=$e;yt;yt=Hr(yt))et++;yt=0;for(var Nr=Oe;Nr;Nr=Hr(Nr))yt++;for(;0<et-yt;)$e=Hr($e),et--;for(;0<yt-et;)Oe=Hr(Oe),yt--;for(;et--;){if($e===Oe||Oe!==null&&$e===Oe.alternate){Hr=$e;break t}$e=Hr($e),Oe=Hr(Oe)}Hr=null}else Hr=null;ct!==null&&Y6(Ct,st,ct,Hr,!1),sr!==null&&Li!==null&&Y6(Ct,Li,sr,Hr,!0)}}e:{if(st=nt?ft(nt):window,ct=st.nodeName&&st.nodeName.toLowerCase(),ct==="select"||ct==="input"&&st.type==="file")var Xn=Tn;else if(fh(st))if(wl)Xn=ph;else{Xn=Rt;var mr=Tf}else ct=st.nodeName,!ct||ct.toLowerCase()!=="input"||st.type!=="checkbox"&&st.type!=="radio"?nt&&uo(nt.elementType)&&(Xn=Tn):Xn=Ya;if(Xn&&(Xn=Xn(A,nt))){pA(Ct,Xn,m,pt);break e}mr&&mr(A,st,nt),A==="focusout"&&nt&&st.type==="number"&&nt.memoizedProps.value!=null&&lA(st,"number",st.value)}switch(mr=nt?ft(nt):window,A){case"focusin":(fh(mr)||mr.contentEditable==="true")&&(Cl=mr,Sl=nt,mi=null);break;case"focusout":mi=Sl=Cl=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,ca(Ct,m,pt);break;case"selectionchange":if(Ic)break;case"keydown":case"keyup":ca(Ct,m,pt)}var ln;if(Vr)e:{switch(A){case"compositionstart":var kn="onCompositionStart";break e;case"compositionend":kn="onCompositionEnd";break e;case"compositionupdate":kn="onCompositionUpdate";break e}kn=void 0}else Ks?Cs(A,m)&&(kn="onCompositionEnd"):A==="keydown"&&m.keyCode===229&&(kn="onCompositionStart");kn&&(Ai&&m.locale!=="ko"&&(Ks||kn!=="onCompositionStart"?kn==="onCompositionEnd"&&Ks&&(ln=ml()):(Qo=pt,Cf="value"in Qo?Qo.value:Qo.textContent,Ks=!0)),mr=cS(nt,kn),0<mr.length&&(kn=new Fc(kn,A,null,m,pt),Ct.push({event:kn,listeners:mr}),ln?kn.data=ln:(ln=ts(m),ln!==null&&(kn.data=ln)))),(ln=An?_a(A,m):xl(A,m))&&(kn=cS(nt,"onBeforeInput"),0<kn.length&&(mr=new Fc("onBeforeInput","beforeinput",null,m,pt),Ct.push({event:mr,listeners:kn}),mr.data=ln)),QJ(Ct,A,nt,m,pt)}K6(Ct,h)})}function bv(A,h,m){return{instance:A,listener:h,currentTarget:m}}function cS(A,h){for(var m=h+"Capture",v=[];A!==null;){var T=A,I=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||I===null||(T=Jl(A,m),T!=null&&v.unshift(bv(A,T,I)),T=Jl(A,h),T!=null&&v.push(bv(A,T,I))),A.tag===3)return v;A=A.return}return[]}function $J(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function Y6(A,h,m,v,T){for(var I=h._reactName,Y=[];m!==null&&m!==v;){var fe=m,Re=fe.alternate,nt=fe.stateNode;if(fe=fe.tag,Re!==null&&Re===v)break;fe!==5&&fe!==26&&fe!==27||nt===null||(Re=nt,T?(nt=Jl(m,I),nt!=null&&Y.unshift(bv(m,nt,Re))):T||(nt=Jl(m,I),nt!=null&&Y.push(bv(m,nt,Re)))),m=m.return}Y.length!==0&&A.push({event:h,listeners:Y})}var qJ=/\r\n?/g,zJ=/\u0000|\uFFFD/g;function X6(A){return(typeof A=="string"?A:""+A).replace(qJ,`
`).replace(zJ,"")}function J6(A,h){return h=X6(h),X6(A)===h}function ki(A,h,m,v,T,I){switch(m){case"children":typeof v=="string"?h==="body"||h==="textarea"&&v===""||Ho(A,v):(typeof v=="number"||typeof v=="bigint")&&h!=="body"&&Ho(A,""+v);break;case"className":ni(A,"class",v);break;case"tabIndex":ni(A,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(A,m,v);break;case"style":Xl(A,v,I);break;case"data":if(h!=="object"){ni(A,"data",v);break}case"src":case"href":if(v===""&&(h!=="a"||m!=="href")){A.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){A.removeAttribute(m);break}v=ia(""+v),A.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){A.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(m==="formAction"?(h!=="input"&&ki(A,h,"name",T.name,T,null),ki(A,h,"formEncType",T.formEncType,T,null),ki(A,h,"formMethod",T.formMethod,T,null),ki(A,h,"formTarget",T.formTarget,T,null)):(ki(A,h,"encType",T.encType,T,null),ki(A,h,"method",T.method,T,null),ki(A,h,"target",T.target,T,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){A.removeAttribute(m);break}v=ia(""+v),A.setAttribute(m,v);break;case"onClick":v!=null&&(A.onclick=ci);break;case"onScroll":v!=null&&bn("scroll",A);break;case"onScrollEnd":v!=null&&bn("scrollend",A);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(m=v.__html,m!=null){if(T.children!=null)throw Error(n(60));A.innerHTML=m}}break;case"multiple":A.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":A.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){A.removeAttribute("xlink:href");break}m=ia(""+v),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?A.setAttribute(m,""+v):A.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?A.setAttribute(m,""):A.removeAttribute(m);break;case"capture":case"download":v===!0?A.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?A.setAttribute(m,v):A.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?A.setAttribute(m,v):A.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?A.removeAttribute(m):A.setAttribute(m,v);break;case"popover":bn("beforetoggle",A),bn("toggle",A),$n(A,"popover",v);break;case"xlinkActuate":es(A,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":es(A,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":es(A,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":es(A,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":es(A,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":es(A,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":es(A,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":es(A,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":es(A,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":$n(A,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=zs.get(m)||m,$n(A,m,v))}}function Q4(A,h,m,v,T,I){switch(m){case"style":Xl(A,v,I);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(m=v.__html,m!=null){if(T.children!=null)throw Error(n(60));A.innerHTML=m}}break;case"children":typeof v=="string"?Ho(A,v):(typeof v=="number"||typeof v=="bigint")&&Ho(A,""+v);break;case"onScroll":v!=null&&bn("scroll",A);break;case"onScrollEnd":v!=null&&bn("scrollend",A);break;case"onClick":v!=null&&(A.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kr.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(T=m.endsWith("Capture"),h=m.slice(2,T?m.length-7:void 0),I=A[be]||null,I=I!=null?I[m]:null,typeof I=="function"&&A.removeEventListener(h,I,T),typeof v=="function")){typeof I!="function"&&I!==null&&(m in A?A[m]=null:A.hasAttribute(m)&&A.removeAttribute(m)),A.addEventListener(h,v,T);break e}m in A?A[m]=v:v===!0?A.setAttribute(m,""):$n(A,m,v)}}}function vo(A,h,m){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bn("error",A),bn("load",A);var v=!1,T=!1,I;for(I in m)if(m.hasOwnProperty(I)){var Y=m[I];if(Y!=null)switch(I){case"src":v=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:ki(A,h,I,Y,m,null)}}T&&ki(A,h,"srcSet",m.srcSet,m,null),v&&ki(A,h,"src",m.src,m,null);return;case"input":bn("invalid",A);var fe=I=Y=T=null,Re=null,nt=null;for(v in m)if(m.hasOwnProperty(v)){var pt=m[v];if(pt!=null)switch(v){case"name":T=pt;break;case"type":Y=pt;break;case"checked":Re=pt;break;case"defaultChecked":nt=pt;break;case"value":I=pt;break;case"defaultValue":fe=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(n(137,h));break;default:ki(A,h,v,pt,m,null)}}$a(A,I,fe,Re,nt,Y,T,!1);return;case"select":bn("invalid",A),v=Y=I=null;for(T in m)if(m.hasOwnProperty(T)&&(fe=m[T],fe!=null))switch(T){case"value":I=fe;break;case"defaultValue":Y=fe;break;case"multiple":v=fe;default:ki(A,h,T,fe,m,null)}h=I,m=Y,A.multiple=!!v,h!=null?qs(A,!!v,h,!1):m!=null&&qs(A,!!v,m,!0);return;case"textarea":bn("invalid",A),I=T=v=null;for(Y in m)if(m.hasOwnProperty(Y)&&(fe=m[Y],fe!=null))switch(Y){case"value":v=fe;break;case"defaultValue":T=fe;break;case"children":I=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(91));break;default:ki(A,h,Y,fe,m,null)}qa(A,v,T,I);return;case"option":for(Re in m)if(m.hasOwnProperty(Re)&&(v=m[Re],v!=null))switch(Re){case"selected":A.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:ki(A,h,Re,v,m,null)}return;case"dialog":bn("beforetoggle",A),bn("toggle",A),bn("cancel",A),bn("close",A);break;case"iframe":case"object":bn("load",A);break;case"video":case"audio":for(v=0;v<wv.length;v++)bn(wv[v],A);break;case"image":bn("error",A),bn("load",A);break;case"details":bn("toggle",A);break;case"embed":case"source":case"link":bn("error",A),bn("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(nt in m)if(m.hasOwnProperty(nt)&&(v=m[nt],v!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:ki(A,h,nt,v,m,null)}return;default:if(uo(h)){for(pt in m)m.hasOwnProperty(pt)&&(v=m[pt],v!==void 0&&Q4(A,h,pt,v,m,void 0));return}}for(fe in m)m.hasOwnProperty(fe)&&(v=m[fe],v!=null&&ki(A,h,fe,v,m,null))}function KJ(A,h,m,v){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,I=null,Y=null,fe=null,Re=null,nt=null,pt=null;for(ct in m){var Ct=m[ct];if(m.hasOwnProperty(ct)&&Ct!=null)switch(ct){case"checked":break;case"value":break;case"defaultValue":Re=Ct;default:v.hasOwnProperty(ct)||ki(A,h,ct,null,v,Ct)}}for(var st in v){var ct=v[st];if(Ct=m[st],v.hasOwnProperty(st)&&(ct!=null||Ct!=null))switch(st){case"type":I=ct;break;case"name":T=ct;break;case"checked":nt=ct;break;case"defaultChecked":pt=ct;break;case"value":Y=ct;break;case"defaultValue":fe=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(n(137,h));break;default:ct!==Ct&&ki(A,h,st,ct,v,Ct)}}oA(A,Y,fe,Re,nt,pt,I,T);return;case"select":ct=Y=fe=st=null;for(I in m)if(Re=m[I],m.hasOwnProperty(I)&&Re!=null)switch(I){case"value":break;case"multiple":ct=Re;default:v.hasOwnProperty(I)||ki(A,h,I,null,v,Re)}for(T in v)if(I=v[T],Re=m[T],v.hasOwnProperty(T)&&(I!=null||Re!=null))switch(T){case"value":st=I;break;case"defaultValue":fe=I;break;case"multiple":Y=I;default:I!==Re&&ki(A,h,T,I,v,Re)}h=fe,m=Y,v=ct,st!=null?qs(A,!!m,st,!1):!!v!=!!m&&(h!=null?qs(A,!!m,h,!0):qs(A,!!m,m?[]:"",!1));return;case"textarea":ct=st=null;for(fe in m)if(T=m[fe],m.hasOwnProperty(fe)&&T!=null&&!v.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:ki(A,h,fe,null,v,T)}for(Y in v)if(T=v[Y],I=m[Y],v.hasOwnProperty(Y)&&(T!=null||I!=null))switch(Y){case"value":st=T;break;case"defaultValue":ct=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==I&&ki(A,h,Y,T,v,I)}JA(A,st,ct);return;case"option":for(var sr in m)if(st=m[sr],m.hasOwnProperty(sr)&&st!=null&&!v.hasOwnProperty(sr))switch(sr){case"selected":A.selected=!1;break;default:ki(A,h,sr,null,v,st)}for(Re in v)if(st=v[Re],ct=m[Re],v.hasOwnProperty(Re)&&st!==ct&&(st!=null||ct!=null))switch(Re){case"selected":A.selected=st&&typeof st!="function"&&typeof st!="symbol";break;default:ki(A,h,Re,st,v,ct)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Hr in m)st=m[Hr],m.hasOwnProperty(Hr)&&st!=null&&!v.hasOwnProperty(Hr)&&ki(A,h,Hr,null,v,st);for(nt in v)if(st=v[nt],ct=m[nt],v.hasOwnProperty(nt)&&st!==ct&&(st!=null||ct!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(n(137,h));break;default:ki(A,h,nt,st,v,ct)}return;default:if(uo(h)){for(var Li in m)st=m[Li],m.hasOwnProperty(Li)&&st!==void 0&&!v.hasOwnProperty(Li)&&Q4(A,h,Li,void 0,v,st);for(pt in v)st=v[pt],ct=m[pt],!v.hasOwnProperty(pt)||st===ct||st===void 0&&ct===void 0||Q4(A,h,pt,st,v,ct);return}}for(var $e in m)st=m[$e],m.hasOwnProperty($e)&&st!=null&&!v.hasOwnProperty($e)&&ki(A,h,$e,null,v,st);for(Ct in v)st=v[Ct],ct=m[Ct],!v.hasOwnProperty(Ct)||st===ct||st==null&&ct==null||ki(A,h,Ct,st,v,ct)}function Z6(A){switch(A){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WJ(){if(typeof performance.getEntriesByType=="function"){for(var A=0,h=0,m=performance.getEntriesByType("resource"),v=0;v<m.length;v++){var T=m[v],I=T.transferSize,Y=T.initiatorType,fe=T.duration;if(I&&fe&&Z6(Y)){for(Y=0,fe=T.responseEnd,v+=1;v<m.length;v++){var Re=m[v],nt=Re.startTime;if(nt>fe)break;var pt=Re.transferSize,Ct=Re.initiatorType;pt&&Z6(Ct)&&(Re=Re.responseEnd,Y+=pt*(Re<fe?1:(fe-nt)/(Re-nt)))}if(--v,h+=8*(I+Y)/(T.duration/1e3),A++,10<A)break}}if(0<A)return h/A/1e6}return navigator.connection&&(A=navigator.connection.downlink,typeof A=="number")?A:5}var j4=null,G4=null;function AS(A){return A.nodeType===9?A:A.ownerDocument}function eU(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tU(A,h){if(A===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&h==="foreignObject"?0:A}function V4(A,h){return A==="textarea"||A==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var $4=null;function YJ(){var A=window.event;return A&&A.type==="popstate"?A===$4?!1:($4=A,!0):($4=null,!1)}var rU=typeof setTimeout=="function"?setTimeout:void 0,XJ=typeof clearTimeout=="function"?clearTimeout:void 0,nU=typeof Promise=="function"?Promise:void 0,JJ=typeof queueMicrotask=="function"?queueMicrotask:typeof nU<"u"?function(A){return nU.resolve(null).then(A).catch(ZJ)}:rU;function ZJ(A){setTimeout(function(){throw A})}function v0(A){return A==="head"}function iU(A,h){var m=h,v=0;do{var T=m.nextSibling;if(A.removeChild(m),T&&T.nodeType===8)if(m=T.data,m==="/$"||m==="/&"){if(v===0){A.removeChild(T),b1(h);return}v--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")v++;else if(m==="html")Cv(A.ownerDocument.documentElement);else if(m==="head"){m=A.ownerDocument.head,Cv(m);for(var I=m.firstChild;I;){var Y=I.nextSibling,fe=I.nodeName;I[Me]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&I.rel.toLowerCase()==="stylesheet"||m.removeChild(I),I=Y}}else m==="body"&&Cv(A.ownerDocument.body);m=T}while(m);b1(h)}function sU(A,h){var m=A;A=0;do{var v=m.nextSibling;if(m.nodeType===1?h?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(h?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),v&&v.nodeType===8)if(m=v.data,m==="/$"){if(A===0)break;A--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||A++;m=v}while(m)}function q4(A){var h=A.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var m=h;switch(h=h.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":q4(m),ye(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}A.removeChild(m)}}function eZ(A,h,m,v){for(;A.nodeType===1;){var T=m;if(A.nodeName.toLowerCase()!==h.toLowerCase()){if(!v&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(v){if(!A[Me])switch(h){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(I=A.getAttribute("rel"),I==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(I!==T.rel||A.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||A.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||A.getAttribute("title")!==(T.title==null?null:T.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(I=A.getAttribute("src"),(I!==(T.src==null?null:T.src)||A.getAttribute("type")!==(T.type==null?null:T.type)||A.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&I&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(h==="input"&&A.type==="hidden"){var I=T.name==null?null:""+T.name;if(T.type==="hidden"&&A.getAttribute("name")===I)return A}else return A;if(A=TA(A.nextSibling),A===null)break}return null}function tZ(A,h,m){if(h==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!m||(A=TA(A.nextSibling),A===null))return null;return A}function aU(A,h){for(;A.nodeType!==8;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!h||(A=TA(A.nextSibling),A===null))return null;return A}function z4(A){return A.data==="$?"||A.data==="$~"}function K4(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState!=="loading"}function rZ(A,h){var m=A.ownerDocument;if(A.data==="$~")A._reactRetry=h;else if(A.data!=="$?"||m.readyState!=="loading")h();else{var v=function(){h(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),A._reactRetry=v}}function TA(A){for(;A!=null;A=A.nextSibling){var h=A.nodeType;if(h===1||h===3)break;if(h===8){if(h=A.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return A}var W4=null;function oU(A){A=A.nextSibling;for(var h=0;A;){if(A.nodeType===8){var m=A.data;if(m==="/$"||m==="/&"){if(h===0)return TA(A.nextSibling);h--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||h++}A=A.nextSibling}return null}function lU(A){A=A.previousSibling;for(var h=0;A;){if(A.nodeType===8){var m=A.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(h===0)return A;h--}else m!=="/$"&&m!=="/&"||h++}A=A.previousSibling}return null}function cU(A,h,m){switch(h=AS(m),A){case"html":if(A=h.documentElement,!A)throw Error(n(452));return A;case"head":if(A=h.head,!A)throw Error(n(453));return A;case"body":if(A=h.body,!A)throw Error(n(454));return A;default:throw Error(n(451))}}function Cv(A){for(var h=A.attributes;h.length;)A.removeAttributeNode(h[0]);ye(A)}var NA=new Map,AU=new Set;function uS(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var Vf=ee.d;ee.d={f:nZ,r:iZ,D:sZ,C:aZ,L:oZ,m:lZ,X:AZ,S:cZ,M:uZ};function nZ(){var A=Vf.f(),h=rS();return A||h}function iZ(A){var h=rt(A);h!==null&&h.tag===5&&h.type==="form"?BM(h):Vf.r(A)}var x1=typeof document>"u"?null:document;function uU(A,h,m){var v=x1;if(v&&typeof h=="string"&&h){var T=gi(h);T='link[rel="'+A+'"][href="'+T+'"]',typeof m=="string"&&(T+='[crossorigin="'+m+'"]'),AU.has(T)||(AU.add(T),A={rel:A,crossOrigin:m,href:h},v.querySelector(T)===null&&(h=v.createElement("link"),vo(h,"link",A),It(h),v.head.appendChild(h)))}}function sZ(A){Vf.D(A),uU("dns-prefetch",A,null)}function aZ(A,h){Vf.C(A,h),uU("preconnect",A,h)}function oZ(A,h,m){Vf.L(A,h,m);var v=x1;if(v&&A&&h){var T='link[rel="preload"][as="'+gi(h)+'"]';h==="image"&&m&&m.imageSrcSet?(T+='[imagesrcset="'+gi(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(T+='[imagesizes="'+gi(m.imageSizes)+'"]')):T+='[href="'+gi(A)+'"]';var I=T;switch(h){case"style":I=v1(A);break;case"script":I=w1(A)}NA.has(I)||(A=f({rel:"preload",href:h==="image"&&m&&m.imageSrcSet?void 0:A,as:h},m),NA.set(I,A),v.querySelector(T)!==null||h==="style"&&v.querySelector(Sv(I))||h==="script"&&v.querySelector(_v(I))||(h=v.createElement("link"),vo(h,"link",A),It(h),v.head.appendChild(h)))}}function lZ(A,h){Vf.m(A,h);var m=x1;if(m&&A){var v=h&&typeof h.as=="string"?h.as:"script",T='link[rel="modulepreload"][as="'+gi(v)+'"][href="'+gi(A)+'"]',I=T;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=w1(A)}if(!NA.has(I)&&(A=f({rel:"modulepreload",href:A},h),NA.set(I,A),m.querySelector(T)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(_v(I)))return}v=m.createElement("link"),vo(v,"link",A),It(v),m.head.appendChild(v)}}}function cZ(A,h,m){Vf.S(A,h,m);var v=x1;if(v&&A){var T=wt(v).hoistableStyles,I=v1(A);h=h||"default";var Y=T.get(I);if(!Y){var fe={loading:0,preload:null};if(Y=v.querySelector(Sv(I)))fe.loading=5;else{A=f({rel:"stylesheet",href:A,"data-precedence":h},m),(m=NA.get(I))&&Y4(A,m);var Re=Y=v.createElement("link");It(Re),vo(Re,"link",A),Re._p=new Promise(function(nt,pt){Re.onload=nt,Re.onerror=pt}),Re.addEventListener("load",function(){fe.loading|=1}),Re.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,hS(Y,h,v)}Y={type:"stylesheet",instance:Y,count:1,state:fe},T.set(I,Y)}}}function AZ(A,h){Vf.X(A,h);var m=x1;if(m&&A){var v=wt(m).hoistableScripts,T=w1(A),I=v.get(T);I||(I=m.querySelector(_v(T)),I||(A=f({src:A,async:!0},h),(h=NA.get(T))&&X4(A,h),I=m.createElement("script"),It(I),vo(I,"link",A),m.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(T,I))}}function uZ(A,h){Vf.M(A,h);var m=x1;if(m&&A){var v=wt(m).hoistableScripts,T=w1(A),I=v.get(T);I||(I=m.querySelector(_v(T)),I||(A=f({src:A,async:!0,type:"module"},h),(h=NA.get(T))&&X4(A,h),I=m.createElement("script"),It(I),vo(I,"link",A),m.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(T,I))}}function hU(A,h,m,v){var T=(T=ae.current)?uS(T):null;if(!T)throw Error(n(446));switch(A){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(h=v1(m.href),m=wt(T).hoistableStyles,v=m.get(h),v||(v={type:"style",instance:null,count:0,state:null},m.set(h,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){A=v1(m.href);var I=wt(T).hoistableStyles,Y=I.get(A);if(Y||(T=T.ownerDocument||T,Y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(A,Y),(I=T.querySelector(Sv(A)))&&!I._p&&(Y.instance=I,Y.state.loading=5),NA.has(A)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},NA.set(A,m),I||hZ(T,A,m,Y.state))),h&&v===null)throw Error(n(528,""));return Y}if(h&&v!==null)throw Error(n(529,""));return null;case"script":return h=m.async,m=m.src,typeof m=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=w1(m),m=wt(T).hoistableScripts,v=m.get(h),v||(v={type:"script",instance:null,count:0,state:null},m.set(h,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,A))}}function v1(A){return'href="'+gi(A)+'"'}function Sv(A){return'link[rel="stylesheet"]['+A+"]"}function fU(A){return f({},A,{"data-precedence":A.precedence,precedence:null})}function hZ(A,h,m,v){A.querySelector('link[rel="preload"][as="style"]['+h+"]")?v.loading=1:(h=A.createElement("link"),v.preload=h,h.addEventListener("load",function(){return v.loading|=1}),h.addEventListener("error",function(){return v.loading|=2}),vo(h,"link",m),It(h),A.head.appendChild(h))}function w1(A){return'[src="'+gi(A)+'"]'}function _v(A){return"script[async]"+A}function dU(A,h,m){if(h.count++,h.instance===null)switch(h.type){case"style":var v=A.querySelector('style[data-href~="'+gi(m.href)+'"]');if(v)return h.instance=v,It(v),v;var T=f({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(A.ownerDocument||A).createElement("style"),It(v),vo(v,"style",T),hS(v,m.precedence,A),h.instance=v;case"stylesheet":T=v1(m.href);var I=A.querySelector(Sv(T));if(I)return h.state.loading|=4,h.instance=I,It(I),I;v=fU(m),(T=NA.get(T))&&Y4(v,T),I=(A.ownerDocument||A).createElement("link"),It(I);var Y=I;return Y._p=new Promise(function(fe,Re){Y.onload=fe,Y.onerror=Re}),vo(I,"link",v),h.state.loading|=4,hS(I,m.precedence,A),h.instance=I;case"script":return I=w1(m.src),(T=A.querySelector(_v(I)))?(h.instance=T,It(T),T):(v=m,(T=NA.get(I))&&(v=f({},m),X4(v,T)),A=A.ownerDocument||A,T=A.createElement("script"),It(T),vo(T,"link",v),A.head.appendChild(T),h.instance=T);case"void":return null;default:throw Error(n(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(v=h.instance,h.state.loading|=4,hS(v,m.precedence,A));return h.instance}function hS(A,h,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=v.length?v[v.length-1]:null,I=T,Y=0;Y<v.length;Y++){var fe=v[Y];if(fe.dataset.precedence===h)I=fe;else if(I!==T)break}I?I.parentNode.insertBefore(A,I.nextSibling):(h=m.nodeType===9?m.head:m,h.insertBefore(A,h.firstChild))}function Y4(A,h){A.crossOrigin==null&&(A.crossOrigin=h.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=h.referrerPolicy),A.title==null&&(A.title=h.title)}function X4(A,h){A.crossOrigin==null&&(A.crossOrigin=h.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=h.referrerPolicy),A.integrity==null&&(A.integrity=h.integrity)}var fS=null;function pU(A,h,m){if(fS===null){var v=new Map,T=fS=new Map;T.set(m,v)}else T=fS,v=T.get(m),v||(v=new Map,T.set(m,v));if(v.has(A))return v;for(v.set(A,null),m=m.getElementsByTagName(A),T=0;T<m.length;T++){var I=m[T];if(!(I[Me]||I[pe]||A==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var Y=I.getAttribute(h)||"";Y=A+Y;var fe=v.get(Y);fe?fe.push(I):v.set(Y,[I])}}return v}function gU(A,h,m){A=A.ownerDocument||A,A.head.insertBefore(m,h==="title"?A.querySelector("head > title"):null)}function fZ(A,h,m){if(m===1||h.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return A=h.disabled,typeof h.precedence=="string"&&A==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function mU(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}function dZ(A,h,m,v){if(m.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var T=v1(v.href),I=h.querySelector(Sv(T));if(I){h=I._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(A.count++,A=dS.bind(A),h.then(A,A)),m.state.loading|=4,m.instance=I,It(I);return}I=h.ownerDocument||h,v=fU(v),(T=NA.get(T))&&Y4(v,T),I=I.createElement("link"),It(I);var Y=I;Y._p=new Promise(function(fe,Re){Y.onload=fe,Y.onerror=Re}),vo(I,"link",v),m.instance=I}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(m,h),(h=m.state.preload)&&(m.state.loading&3)===0&&(A.count++,m=dS.bind(A),h.addEventListener("load",m),h.addEventListener("error",m))}}var J4=0;function pZ(A,h){return A.stylesheets&&A.count===0&&gS(A,A.stylesheets),0<A.count||0<A.imgCount?function(m){var v=setTimeout(function(){if(A.stylesheets&&gS(A,A.stylesheets),A.unsuspend){var I=A.unsuspend;A.unsuspend=null,I()}},6e4+h);0<A.imgBytes&&J4===0&&(J4=62500*WJ());var T=setTimeout(function(){if(A.waitingForImages=!1,A.count===0&&(A.stylesheets&&gS(A,A.stylesheets),A.unsuspend)){var I=A.unsuspend;A.unsuspend=null,I()}},(A.imgBytes>J4?50:800)+h);return A.unsuspend=m,function(){A.unsuspend=null,clearTimeout(v),clearTimeout(T)}}:null}function dS(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gS(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var pS=null;function gS(A,h){A.stylesheets=null,A.unsuspend!==null&&(A.count++,pS=new Map,h.forEach(gZ,A),pS=null,dS.call(A))}function gZ(A,h){if(!(h.state.loading&4)){var m=pS.get(A);if(m)var v=m.get(null);else{m=new Map,pS.set(A,m);for(var T=A.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<T.length;I++){var Y=T[I];(Y.nodeName==="LINK"||Y.getAttribute("media")!=="not all")&&(m.set(Y.dataset.precedence,Y),v=Y)}v&&m.set(null,v)}T=h.instance,Y=T.getAttribute("data-precedence"),I=m.get(Y)||v,I===v&&m.set(null,T),m.set(Y,T),this.count++,v=dS.bind(this),T.addEventListener("load",v),T.addEventListener("error",v),I?I.parentNode.insertBefore(T,I.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(T,A.firstChild)),h.state.loading|=4}}var Ev={$$typeof:F,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function mZ(A,h,m,v,T,I,Y,fe,Re){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ks(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ks(0),this.hiddenUpdates=ks(null),this.identifierPrefix=v,this.onUncaughtError=T,this.onCaughtError=I,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Re,this.incompleteTransitions=new Map}function yU(A,h,m,v,T,I,Y,fe,Re,nt,pt,Ct){return A=new mZ(A,h,m,Y,Re,nt,pt,Ct,fe),h=1,I===!0&&(h|=24),I=Ss(3,null,null,h),A.current=I,I.stateNode=A,h=l0(),h.refCount++,A.pooledCache=h,h.refCount++,I.memoizedState={element:v,isDehydrated:m,cache:h},ii(I),A}function xU(A){return A?(A=As,A):As}function vU(A,h,m,v,T,I){T=xU(T),v.context===null?v.context=T:v.pendingContext=T,v=Pr(h),v.payload={element:m},I=I===void 0?null:I,I!==null&&(v.callback=I),m=yi(A,v,h),m!==null&&(Ac(m,A,h),Aa(m,A,h))}function wU(A,h){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var m=A.retryLane;A.retryLane=m!==0&&m<h?m:h}}function Z4(A,h){wU(A,h),(A=A.alternate)&&wU(A,h)}function bU(A){if(A.tag===13||A.tag===31){var h=ui(A,67108864);h!==null&&Ac(h,A,67108864),Z4(A,67108864)}}function CU(A){if(A.tag===13||A.tag===31){var h=Oc();h=cn(h);var m=ui(A,h);m!==null&&Ac(m,A,h),Z4(A,h)}}var mS=!0;function yZ(A,h,m,v){var T=X.T;X.T=null;var I=ee.p;try{ee.p=2,e3(A,h,m,v)}finally{ee.p=I,X.T=T}}function xZ(A,h,m,v){var T=X.T;X.T=null;var I=ee.p;try{ee.p=8,e3(A,h,m,v)}finally{ee.p=I,X.T=T}}function e3(A,h,m,v){if(mS){var T=t3(v);if(T===null)H4(A,h,v,yS,m),_U(A,v);else if(wZ(T,A,h,m,v))v.stopPropagation();else if(_U(A,v),h&4&&-1<vZ.indexOf(A)){for(;T!==null;){var I=rt(T);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var Y=rn(I.pendingLanes);if(Y!==0){var fe=I;for(fe.pendingLanes|=2,fe.entangledLanes|=2;Y;){var Re=1<<31-Gr(Y);fe.entanglements[1]|=Re,Y&=~Re}Lh(I),(si&6)===0&&(eS=Vt()+500,vv(0))}}break;case 31:case 13:fe=ui(I,2),fe!==null&&Ac(fe,I,2),rS(),Z4(I,2)}if(I=t3(v),I===null&&H4(A,h,v,yS,m),I===T)break;T=I}T!==null&&v.stopPropagation()}else H4(A,h,v,null,m)}}function t3(A){return A=AA(A),r3(A)}var yS=null;function r3(A){if(yS=null,A=Qe(A),A!==null){var h=s(A);if(h===null)A=null;else{var m=h.tag;if(m===13){if(A=a(h),A!==null)return A;A=null}else if(m===31){if(A=o(h),A!==null)return A;A=null}else if(m===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;A=null}else h!==A&&(A=null)}}return yS=A,null}function SU(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case tr:return 2;case kr:return 8;case zr:case xr:return 32;case vr:return 268435456;default:return 32}default:return 32}}var n3=!1,w0=null,b0=null,C0=null,Bv=new Map,Tv=new Map,S0=[],vZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _U(A,h){switch(A){case"focusin":case"focusout":w0=null;break;case"dragenter":case"dragleave":b0=null;break;case"mouseover":case"mouseout":C0=null;break;case"pointerover":case"pointerout":Bv.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tv.delete(h.pointerId)}}function Nv(A,h,m,v,T,I){return A===null||A.nativeEvent!==I?(A={blockedOn:h,domEventName:m,eventSystemFlags:v,nativeEvent:I,targetContainers:[T]},h!==null&&(h=rt(h),h!==null&&bU(h)),A):(A.eventSystemFlags|=v,h=A.targetContainers,T!==null&&h.indexOf(T)===-1&&h.push(T),A)}function wZ(A,h,m,v,T){switch(h){case"focusin":return w0=Nv(w0,A,h,m,v,T),!0;case"dragenter":return b0=Nv(b0,A,h,m,v,T),!0;case"mouseover":return C0=Nv(C0,A,h,m,v,T),!0;case"pointerover":var I=T.pointerId;return Bv.set(I,Nv(Bv.get(I)||null,A,h,m,v,T)),!0;case"gotpointercapture":return I=T.pointerId,Tv.set(I,Nv(Tv.get(I)||null,A,h,m,v,T)),!0}return!1}function EU(A){var h=Qe(A.target);if(h!==null){var m=s(h);if(m!==null){if(h=m.tag,h===13){if(h=a(m),h!==null){A.blockedOn=h,_e(A.priority,function(){CU(m)});return}}else if(h===31){if(h=o(m),h!==null){A.blockedOn=h,_e(A.priority,function(){CU(m)});return}}else if(h===3&&m.stateNode.current.memoizedState.isDehydrated){A.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}A.blockedOn=null}function xS(A){if(A.blockedOn!==null)return!1;for(var h=A.targetContainers;0<h.length;){var m=t3(A.nativeEvent);if(m===null){m=A.nativeEvent;var v=new m.constructor(m.type,m);gl=v,m.target.dispatchEvent(v),gl=null}else return h=rt(m),h!==null&&bU(h),A.blockedOn=m,!1;h.shift()}return!0}function BU(A,h,m){xS(A)&&m.delete(h)}function bZ(){n3=!1,w0!==null&&xS(w0)&&(w0=null),b0!==null&&xS(b0)&&(b0=null),C0!==null&&xS(C0)&&(C0=null),Bv.forEach(BU),Tv.forEach(BU)}function vS(A,h){A.blockedOn===h&&(A.blockedOn=null,n3||(n3=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bZ)))}var wS=null;function TU(A){wS!==A&&(wS=A,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wS===A&&(wS=null);for(var h=0;h<A.length;h+=3){var m=A[h],v=A[h+1],T=A[h+2];if(typeof v!="function"){if(r3(v||m)===null)continue;break}var I=rt(m);I!==null&&(A.splice(h,3),h-=3,t4(I,{pending:!0,data:T,method:m.method,action:v},v,T))}}))}function b1(A){function h(Re){return vS(Re,A)}w0!==null&&vS(w0,A),b0!==null&&vS(b0,A),C0!==null&&vS(C0,A),Bv.forEach(h),Tv.forEach(h);for(var m=0;m<S0.length;m++){var v=S0[m];v.blockedOn===A&&(v.blockedOn=null)}for(;0<S0.length&&(m=S0[0],m.blockedOn===null);)EU(m),m.blockedOn===null&&S0.shift();if(m=(A.ownerDocument||A).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var T=m[v],I=m[v+1],Y=T[be]||null;if(typeof I=="function")Y||TU(m);else if(Y){var fe=null;if(I&&I.hasAttribute("formAction")){if(T=I,Y=I[be]||null)fe=Y.formAction;else if(r3(T)!==null)continue}else fe=Y.action;typeof fe=="function"?m[v+1]=fe:(m.splice(v,3),v-=3),TU(m)}}}function NU(){function A(I){I.canIntercept&&I.info==="react-transition"&&I.intercept({handler:function(){return new Promise(function(Y){return T=Y})},focusReset:"manual",scroll:"manual"})}function h(){T!==null&&(T(),T=null),v||setTimeout(m,20)}function m(){if(!v&&!navigation.transition){var I=navigation.currentEntry;I&&I.url!=null&&navigation.navigate(I.url,{state:I.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,T=null;return navigation.addEventListener("navigate",A),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(m,100),function(){v=!0,navigation.removeEventListener("navigate",A),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),T!==null&&(T(),T=null)}}}function i3(A){this._internalRoot=A}bS.prototype.render=i3.prototype.render=function(A){var h=this._internalRoot;if(h===null)throw Error(n(409));var m=h.current,v=Oc();vU(m,v,A,h,null,null)},bS.prototype.unmount=i3.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var h=A.containerInfo;vU(A.current,2,null,A,null,null),rS(),h[we]=null}};function bS(A){this._internalRoot=A}bS.prototype.unstable_scheduleHydration=function(A){if(A){var h=oe();A={blockedOn:null,target:A,priority:h};for(var m=0;m<S0.length&&h!==0&&h<S0[m].priority;m++);S0.splice(m,0,A),m===0&&EU(A)}};var FU=e.version;if(FU!=="19.2.3")throw Error(n(527,FU,"19.2.3"));ee.findDOMNode=function(A){var h=A._reactInternals;if(h===void 0)throw typeof A.render=="function"?Error(n(188)):(A=Object.keys(A).join(","),Error(n(268,A)));return A=c(h),A=A!==null?u(A):null,A=A===null?null:A.stateNode,A};var CZ={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var CS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!CS.isDisabled&&CS.supportsFiber)try{Ur=CS.inject(CZ),mn=CS}catch{}}return Iv.createRoot=function(A,h){if(!i(A))throw Error(n(299));var m=!1,v="",T=DM,I=OM,Y=PM;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(T=h.onUncaughtError),h.onCaughtError!==void 0&&(I=h.onCaughtError),h.onRecoverableError!==void 0&&(Y=h.onRecoverableError)),h=yU(A,1,!1,null,null,m,v,null,T,I,Y,NU),A[we]=h.current,P4(A),new i3(h)},Iv.hydrateRoot=function(A,h,m){if(!i(A))throw Error(n(299));var v=!1,T="",I=DM,Y=OM,fe=PM,Re=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onUncaughtError!==void 0&&(I=m.onUncaughtError),m.onCaughtError!==void 0&&(Y=m.onCaughtError),m.onRecoverableError!==void 0&&(fe=m.onRecoverableError),m.formState!==void 0&&(Re=m.formState)),h=yU(A,1,!0,h,m??null,v,T,Re,I,Y,fe,NU),h.context=xU(null),m=h.current,v=Oc(),v=cn(v),T=Pr(v),T.callback=null,yi(m,T,v),m=v,h.current.lanes=m,ls(h,m),Lh(h),A[we]=h.current,P4(A),new bS(h)},Iv.version="19.2.3",Iv}var QU;function MZ(){if(QU)return l3.exports;QU=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),l3.exports=RZ(),l3.exports}var UZ=MZ();const DZ=$k(UZ),OZ="modulepreload",PZ=function(t){return"/product/"+t},jU={},Sn=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(r.map(c=>{if(c=PZ(c),c in jU)return;jU[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":OZ,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((g,y)=>{p.addEventListener("load",g),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function _i(t){"@babel/helpers - typeof";return _i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_i(t)}var ol=Uint8Array,nA=Uint16Array,zk=Int32Array,vB=new ol([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),wB=new ol([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),BN=new ol([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jH=function(t,e){for(var r=new nA(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new zk(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},GH=jH(vB,2),VH=GH.b,TN=GH.r;VH[28]=258,TN[258]=28;var $H=jH(wB,0),HZ=$H.b,GU=$H.r,NN=new nA(32768);for(var as=0;as<32768;++as){var E0=(as&43690)>>1|(as&21845)<<1;E0=(E0&52428)>>2|(E0&13107)<<2,E0=(E0&61680)>>4|(E0&3855)<<4,NN[as]=((E0&65280)>>8|(E0&255)<<8)>>1}var Af=(function(t,e,r){for(var n=t.length,i=0,s=new nA(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new nA(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new nA(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=a[t[i]-1]++<<u,p=f|(1<<u)-1;f<=p;++f)o[NN[f]>>l]=c}else for(o=new nA(n),i=0;i<n;++i)t[i]&&(o[i]=NN[a[t[i]-1]++]>>15-t[i]);return o}),vp=new ol(288);for(var as=0;as<144;++as)vp[as]=8;for(var as=144;as<256;++as)vp[as]=9;for(var as=256;as<280;++as)vp[as]=7;for(var as=280;as<288;++as)vp[as]=8;var aw=new ol(32);for(var as=0;as<32;++as)aw[as]=5;var QZ=Af(vp,9,0),jZ=Af(vp,9,1),GZ=Af(aw,5,0),VZ=Af(aw,5,1),h3=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},mu=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},f3=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},Kk=function(t){return(t+7)/8|0},qH=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new ol(t.subarray(e,r))},$Z=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Eu=function(t,e,r){var n=new Error(e||$Z[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Eu),!r)throw n;return n},qZ=function(t,e,r,n){var i=t.length,s=0;if(!i||e.f&&!e.l)return r||new ol(0);var a=!r,o=a||e.i!=2,l=e.i;a&&(r=new ol(i*3));var c=function(at){var lt=r.length;if(at>lt){var St=new ol(Math.max(lt*2,at));St.set(r),r=St}},u=e.f||0,f=e.p||0,p=e.b||0,g=e.l,y=e.d,x=e.m,w=e.n,S=i*8;do{if(!g){u=mu(t,f,1);var B=mu(t,f+1,3);if(f+=3,B)if(B==1)g=jZ,y=VZ,x=9,w=5;else if(B==2){var R=mu(t,f,31)+257,D=mu(t,f+10,15)+4,Q=R+mu(t,f+5,31)+1;f+=14;for(var V=new ol(Q),re=new ol(19),P=0;P<D;++P)re[BN[P]]=mu(t,f+P*3,7);f+=D*3;for(var H=h3(re),q=(1<<H)-1,Z=Af(re,H,1),P=0;P<Q;){var se=Z[mu(t,f,q)];f+=se&15;var F=se>>4;if(F<16)V[P++]=F;else{var X=0,ee=0;for(F==16?(ee=3+mu(t,f,3),f+=2,X=V[P-1]):F==17?(ee=3+mu(t,f,7),f+=3):F==18&&(ee=11+mu(t,f,127),f+=7);ee--;)V[P++]=X}}var te=V.subarray(0,R),Ce=V.subarray(R);x=h3(te),w=h3(Ce),g=Af(te,x,1),y=Af(Ce,w,1)}else Eu(1);else{var F=Kk(f)+4,k=t[F-4]|t[F-3]<<8,O=F+k;if(O>i){l&&Eu(0);break}o&&c(p+k),r.set(t.subarray(F,O),p),e.b=p+=k,e.p=f=O*8,e.f=u;continue}if(f>S){l&&Eu(0);break}}o&&c(p+131072);for(var ke=(1<<x)-1,le=(1<<w)-1,M=f;;M=f){var X=g[f3(t,f)&ke],G=X>>4;if(f+=X&15,f>S){l&&Eu(0);break}if(X||Eu(2),G<256)r[p++]=G;else if(G==256){M=f,g=null;break}else{var W=G-254;if(G>264){var P=G-257,J=vB[P];W=mu(t,f,(1<<J)-1)+VH[P],f+=J}var ae=y[f3(t,f)&le],ve=ae>>4;ae||Eu(3),f+=ae&15;var Ce=HZ[ve];if(ve>3){var J=wB[ve];Ce+=f3(t,f)&(1<<J)-1,f+=J}if(f>S){l&&Eu(0);break}o&&c(p+131072);var Fe=p+W;if(p<Ce){var Ie=s-Ce,He=Math.min(Ce,Fe);for(Ie+p<0&&Eu(3);p<He;++p)r[p]=n[Ie+p]}for(;p<Fe;++p)r[p]=r[p-Ce]}}e.l=g,e.p=M,e.b=p,e.f=u,g&&(u=1,e.m=x,e.d=y,e.n=w)}while(!u);return p!=r.length&&a?qH(r,0,p):r.subarray(0,p)},$f=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},kv=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},d3=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:KH,l:0};if(i==1){var a=new ol(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(O,R){return O.f-R.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=s[0].s,n=1;n<i;++n)s[n].s>p&&(p=s[n].s);var g=new nA(p+1),y=FN(r[u-1],g,0);if(y>e){var n=0,x=0,w=y-e,S=1<<w;for(s.sort(function(R,D){return g[D.s]-g[R.s]||R.f-D.f});n<i;++n){var B=s[n].s;if(g[B]>e)x+=S-(1<<y-g[B]),g[B]=e;else break}for(x>>=w;x>0;){var F=s[n].s;g[F]<e?x-=1<<e-g[F]++-1:++n}for(;n>=0&&x;--n){var k=s[n].s;g[k]==e&&(--g[k],++x)}y=e}return{t:new ol(g),l:y}},FN=function(t,e,r){return t.s==-1?Math.max(FN(t.l,e,r+1),FN(t.r,e,r+1)):e[t.s]=r},VU=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new nA(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},Lv=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},zH=function(t,e,r){var n=r.length,i=Kk(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},$U=function(t,e,r,n,i,s,a,o,l,c,u){$f(e,u++,r),++i[256];for(var f=d3(i,15),p=f.t,g=f.l,y=d3(s,15),x=y.t,w=y.l,S=VU(p),B=S.c,F=S.n,k=VU(x),O=k.c,R=k.n,D=new nA(19),Q=0;Q<B.length;++Q)++D[B[Q]&31];for(var Q=0;Q<O.length;++Q)++D[O[Q]&31];for(var V=d3(D,7),re=V.t,P=V.l,H=19;H>4&&!re[BN[H-1]];--H);var q=c+5<<3,Z=Lv(i,vp)+Lv(s,aw)+a,se=Lv(i,p)+Lv(s,x)+a+14+3*H+Lv(D,re)+2*D[16]+3*D[17]+7*D[18];if(l>=0&&q<=Z&&q<=se)return zH(e,u,t.subarray(l,l+c));var X,ee,te,Ce;if($f(e,u,1+(se<Z)),u+=2,se<Z){X=Af(p,g,0),ee=p,te=Af(x,w,0),Ce=x;var ke=Af(re,P,0);$f(e,u,F-257),$f(e,u+5,R-1),$f(e,u+10,H-4),u+=14;for(var Q=0;Q<H;++Q)$f(e,u+3*Q,re[BN[Q]]);u+=3*H;for(var le=[B,O],M=0;M<2;++M)for(var G=le[M],Q=0;Q<G.length;++Q){var W=G[Q]&31;$f(e,u,ke[W]),u+=re[W],W>15&&($f(e,u,G[Q]>>5&127),u+=G[Q]>>12)}}else X=QZ,ee=vp,te=GZ,Ce=aw;for(var Q=0;Q<o;++Q){var J=n[Q];if(J>255){var W=J>>18&31;kv(e,u,X[W+257]),u+=ee[W+257],W>7&&($f(e,u,J>>23&31),u+=vB[W]);var ae=J&31;kv(e,u,te[ae]),u+=Ce[ae],ae>3&&(kv(e,u,J>>5&8191),u+=wB[ae])}else kv(e,u,X[J]),u+=ee[J]}return kv(e,u,X[256]),u+ee[256]},zZ=new zk([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),KH=new ol(0),KZ=function(t,e,r,n,i,s){var a=s.z||t.length,o=new ol(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var f=zZ[e-1],p=f>>13,g=f&8191,y=(1<<r)-1,x=s.p||new nA(32768),w=s.h||new nA(y+1),S=Math.ceil(r/3),B=2*S,F=function(Nt){return(t[Nt]^t[Nt+1]<<S^t[Nt+2]<<B)&y},k=new zk(25e3),O=new nA(288),R=new nA(32),D=0,Q=0,V=s.i||0,re=0,P=s.w||0,H=0;V+2<a;++V){var q=F(V),Z=V&32767,se=w[q];if(x[Z]=se,w[q]=Z,P<=V){var X=a-V;if((D>7e3||re>24576)&&(X>423||!c)){u=$U(t,l,0,k,O,R,Q,re,H,V-H,u),re=D=Q=0,H=V;for(var ee=0;ee<286;++ee)O[ee]=0;for(var ee=0;ee<30;++ee)R[ee]=0}var te=2,Ce=0,ke=g,le=Z-se&32767;if(X>2&&q==F(V-le))for(var M=Math.min(p,X)-1,G=Math.min(32767,V),W=Math.min(258,X);le<=G&&--ke&&Z!=se;){if(t[V+te]==t[V+te-le]){for(var J=0;J<W&&t[V+J]==t[V+J-le];++J);if(J>te){if(te=J,Ce=le,J>M)break;for(var ae=Math.min(le,J-2),ve=0,ee=0;ee<ae;++ee){var Fe=V-le+ee&32767,Ie=x[Fe],He=Fe-Ie&32767;He>ve&&(ve=He,se=Fe)}}}Z=se,se=x[Z],le+=Z-se&32767}if(Ce){k[re++]=268435456|TN[te]<<18|GU[Ce];var at=TN[te]&31,lt=GU[Ce]&31;Q+=vB[at]+wB[lt],++O[257+at],++R[lt],P=V+te,++D}else k[re++]=t[V],++O[t[V]]}}for(V=Math.max(V,P);V<a;++V)k[re++]=t[V],++O[t[V]];u=$U(t,l,c,k,O,R,Q,re,H,V-H,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=w,s.p=x,s.i=V,s.w=P)}else{for(var V=s.w||0;V<a+c;V+=65535){var St=V+65535;St>=a&&(l[u/8|0]=c,St=a),u=zH(l,u+1,t.subarray(V,St))}s.i=a}return qH(o,0,n+Kk(u)+i)},WH=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},WZ=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new ol(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return KZ(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},YH=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},YZ=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=WH();i.p(e.dictionary),YH(t,2,i.d())}},XZ=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Eu(6,"invalid zlib data"),(t[1]>>5&1)==1&&Eu(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function IN(t,e){e||(e={});var r=WH();r.p(t);var n=WZ(t,e,e.dictionary?6:2,4);return YZ(n,e),YH(n,n.length-4,r.d()),n}function JZ(t,e){return qZ(t.subarray(XZ(t),-4),{i:2},e,e)}var ZZ=typeof TextDecoder<"u"&&new TextDecoder,eee=0;try{ZZ.decode(KH,{stream:!0}),eee=1}catch{}var $r=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function p3(){$r.console&&typeof $r.console.log=="function"&&$r.console.log.apply($r.console,arguments)}var zi={log:p3,warn:function(t){$r.console&&(typeof $r.console.warn=="function"?$r.console.warn.apply($r.console,arguments):p3.call(null,arguments))},error:function(t){$r.console&&(typeof $r.console.error=="function"?$r.console.error.apply($r.console,arguments):p3(t))}};function g3(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Jp(n.response,e,r)},n.onerror=function(){zi.error("could not download file")},n.send()}function qU(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function SS(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var O2,kN,Jp=$r.saveAs||((typeof window>"u"?"undefined":_i(window))!=="object"||window!==$r?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=$r.URL||$r.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?qU(i.href)?g3(t,e,r):SS(i,i.target="_blank"):SS(i)):(i.href=n.createObjectURL(t),setTimeout((function(){n.revokeObjectURL(i.href)}),4e4),setTimeout((function(){SS(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(qU(t))g3(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout((function(){SS(n)}))}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:_i(s)!=="object"&&(zi.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return g3(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test($r.HTMLElement)||$r.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":_i(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(t)}else{var l=$r.URL||$r.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout((function(){l.revokeObjectURL(c)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function XH(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function m3(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=zo(r,n,i,s,e[0],7,-680876936),s=zo(s,r,n,i,e[1],12,-389564586),i=zo(i,s,r,n,e[2],17,606105819),n=zo(n,i,s,r,e[3],22,-1044525330),r=zo(r,n,i,s,e[4],7,-176418897),s=zo(s,r,n,i,e[5],12,1200080426),i=zo(i,s,r,n,e[6],17,-1473231341),n=zo(n,i,s,r,e[7],22,-45705983),r=zo(r,n,i,s,e[8],7,1770035416),s=zo(s,r,n,i,e[9],12,-1958414417),i=zo(i,s,r,n,e[10],17,-42063),n=zo(n,i,s,r,e[11],22,-1990404162),r=zo(r,n,i,s,e[12],7,1804603682),s=zo(s,r,n,i,e[13],12,-40341101),i=zo(i,s,r,n,e[14],17,-1502002290),r=Ko(r,n=zo(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Ko(s,r,n,i,e[6],9,-1069501632),i=Ko(i,s,r,n,e[11],14,643717713),n=Ko(n,i,s,r,e[0],20,-373897302),r=Ko(r,n,i,s,e[5],5,-701558691),s=Ko(s,r,n,i,e[10],9,38016083),i=Ko(i,s,r,n,e[15],14,-660478335),n=Ko(n,i,s,r,e[4],20,-405537848),r=Ko(r,n,i,s,e[9],5,568446438),s=Ko(s,r,n,i,e[14],9,-1019803690),i=Ko(i,s,r,n,e[3],14,-187363961),n=Ko(n,i,s,r,e[8],20,1163531501),r=Ko(r,n,i,s,e[13],5,-1444681467),s=Ko(s,r,n,i,e[2],9,-51403784),i=Ko(i,s,r,n,e[7],14,1735328473),r=Wo(r,n=Ko(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Wo(s,r,n,i,e[8],11,-2022574463),i=Wo(i,s,r,n,e[11],16,1839030562),n=Wo(n,i,s,r,e[14],23,-35309556),r=Wo(r,n,i,s,e[1],4,-1530992060),s=Wo(s,r,n,i,e[4],11,1272893353),i=Wo(i,s,r,n,e[7],16,-155497632),n=Wo(n,i,s,r,e[10],23,-1094730640),r=Wo(r,n,i,s,e[13],4,681279174),s=Wo(s,r,n,i,e[0],11,-358537222),i=Wo(i,s,r,n,e[3],16,-722521979),n=Wo(n,i,s,r,e[6],23,76029189),r=Wo(r,n,i,s,e[9],4,-640364487),s=Wo(s,r,n,i,e[12],11,-421815835),i=Wo(i,s,r,n,e[15],16,530742520),r=Yo(r,n=Wo(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Yo(s,r,n,i,e[7],10,1126891415),i=Yo(i,s,r,n,e[14],15,-1416354905),n=Yo(n,i,s,r,e[5],21,-57434055),r=Yo(r,n,i,s,e[12],6,1700485571),s=Yo(s,r,n,i,e[3],10,-1894986606),i=Yo(i,s,r,n,e[10],15,-1051523),n=Yo(n,i,s,r,e[1],21,-2054922799),r=Yo(r,n,i,s,e[8],6,1873313359),s=Yo(s,r,n,i,e[15],10,-30611744),i=Yo(i,s,r,n,e[6],15,-1560198380),n=Yo(n,i,s,r,e[13],21,1309151649),r=Yo(r,n,i,s,e[4],6,-145523070),s=Yo(s,r,n,i,e[11],10,-1120210379),i=Yo(i,s,r,n,e[2],15,718787259),n=Yo(n,i,s,r,e[9],21,-343485551),t[0]=Ap(r,t[0]),t[1]=Ap(n,t[1]),t[2]=Ap(i,t[2]),t[3]=Ap(s,t[3])}function bB(t,e,r,n,i,s){return e=Ap(Ap(e,t),Ap(n,s)),Ap(e<<i|e>>>32-i,r)}function zo(t,e,r,n,i,s,a){return bB(e&r|~e&n,t,e,i,s,a)}function Ko(t,e,r,n,i,s,a){return bB(e&n|r&~n,t,e,i,s,a)}function Wo(t,e,r,n,i,s,a){return bB(e^r^n,t,e,i,s,a)}function Yo(t,e,r,n,i,s,a){return bB(r^(e|~n),t,e,i,s,a)}function JH(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)m3(n,tee(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(m3(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,m3(n,i),n}function tee(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}O2=$r.atob.bind($r),kN=$r.btoa.bind($r);var zU="0123456789abcdef".split("");function ree(t){for(var e="",r=0;r<4;r++)e+=zU[t>>8*r+4&15]+zU[t>>8*r&15];return e}function nee(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function LN(t){return JH(t).map(nee).join("")}var iee=(function(t){for(var e=0;e<t.length;e++)t[e]=ree(t[e]);return t.join("")})(JH("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ap(t,e){if(iee){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function RN(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=t,n=o}else o=n;var f=e.length,p=0,g=0,y="";for(l=0;l<f;l++)g=(g+(u=o[p=(p+1)%256]))%256,o[p]=o[g],o[g]=u,a=o[(o[p]+o[g])%256],y+=String.fromCharCode(e.charCodeAt(l)^a);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var KU={print:4,modify:8,copy:16,"annot-forms":32};function D1(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach((function(o){if(KU.perm!==void 0)throw new Error("Invalid permission: "+o);i+=KU[o]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=LN(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=RN(this.encryptionKey,this.padding)}function O1(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function WU(t){if(_i(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){$r.console&&zi.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function T_(t){if(!(this instanceof T_))return new T_(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function ZH(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ag(t,e,r,n,i){if(!(this instanceof ag))return new ag(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,ZH.call(this,n,i)}function X1(t,e,r,n,i){if(!(this instanceof X1))return new X1(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,ZH.call(this,n,i)}function Qr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;_i(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=WU;var y="1.3",x=g.__private__.getPdfVersion=function(){return y};g.__private__.setPdfVersion=function(L){y=L};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return w};var S=g.__private__.getPageFormat=function(L){return w[L]};i=i||"a4";var B={COMPAT:"compat",ADVANCED:"advanced"},F=B.COMPAT;function k(){this.saveGraphicsState(),Be(new dr(Mt,0,0,-Mt,0,jo()*Mt).toString()+" cm"),this.setFontSize(this.getFontSize()/Mt),c="n",F=B.ADVANCED}function O(){this.restoreGraphicsState(),c="S",F=B.COMPAT}var R=g.__private__.combineFontStyleAndFontWeight=function(L,ne){if(L=="bold"&&ne=="normal"||L=="bold"&&ne==400||L=="normal"&&ne=="italic"||L=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(L=ne==400||ne==="normal"?L==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||L!=="normal"?(ne==700?"bold":ne)+""+L:"bold"),L};g.advancedAPI=function(L){var ne=F===B.COMPAT;return ne&&k.call(this),typeof L!="function"||(L(this),ne&&O.call(this)),this},g.compatAPI=function(L){var ne=F===B.ADVANCED;return ne&&O.call(this),typeof L!="function"||(L(this),ne&&k.call(this)),this},g.isAdvancedAPI=function(){return F===B.ADVANCED};var D,Q=function(L){if(F!==B.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=g.roundToPrecision=g.__private__.roundToPrecision=function(L,ne){var Te=e||ne;if(isNaN(L)||isNaN(Te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Te).replace(/0+$/,"")};D=g.hpf=g.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return V(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return V(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return V(L,16)};var re=g.f2=g.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return V(L,2)},P=g.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return V(L,3)},H=g.scale=g.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return F===B.COMPAT?L*Mt:F===B.ADVANCED?L:void 0},q=function(L){return F===B.COMPAT?jo()-L:F===B.ADVANCED?L:void 0},Z=function(L){return H(q(L))};g.__private__.setPrecision=g.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(e=parseInt(L,10))};var se,X="00000000000000000000000000000000",ee=g.__private__.getFileId=function(){return X},te=g.__private__.setFileId=function(L){return X=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():X.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),u!==null&&(ci=new D1(u.userPermissions,u.userPassword,u.ownerPassword,X)),X};g.setFileId=function(L){return te(L),this},g.getFileId=function(){return ee()};var Ce=g.__private__.convertDateToPDFDate=function(L){var ne=L.getTimezoneOffset(),Te=ne<0?"+":"-",Le=Math.floor(Math.abs(ne/60)),Ge=Math.abs(ne%60),ht=[Te,W(Le),"'",W(Ge),"'"].join("");return["D:",L.getFullYear(),W(L.getMonth()+1),W(L.getDate()),W(L.getHours()),W(L.getMinutes()),W(L.getSeconds()),ht].join("")},ke=g.__private__.convertPDFDateToDate=function(L){var ne=parseInt(L.substr(2,4),10),Te=parseInt(L.substr(6,2),10)-1,Le=parseInt(L.substr(8,2),10),Ge=parseInt(L.substr(10,2),10),ht=parseInt(L.substr(12,2),10),Bt=parseInt(L.substr(14,2),10);return new Date(ne,Te,Le,Ge,ht,Bt,0)},le=g.__private__.setCreationDate=function(L){var ne;if(L===void 0&&(L=new Date),L instanceof Date)ne=Ce(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=L}return se=ne},M=g.__private__.getCreationDate=function(L){var ne=se;return L==="jsDate"&&(ne=ke(se)),ne};g.setCreationDate=function(L){return le(L),this},g.getCreationDate=function(L){return M(L)};var G,W=g.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},J=g.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},ae=0,ve=[],Fe=[],Ie=0,He=[],at=[],lt=!1,St=Fe,Nt=function(){ae=0,Ie=0,Fe=[],ve=[],He=[],xe=yn(),pe=yn()};g.__private__.setCustomOutputDestination=function(L){lt=!0,St=L};var it=function(L){lt||(St=L)};g.__private__.resetCustomOutputDestination=function(){lt=!1,St=Fe};var Be=g.__private__.out=function(L){return L=L.toString(),Ie+=L.length+1,St.push(L),St},xt=g.__private__.write=function(L){return Be(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Dt=g.__private__.getArrayBuffer=function(L){for(var ne=L.length,Te=new ArrayBuffer(ne),Le=new Uint8Array(Te);ne--;)Le[ne]=L.charCodeAt(ne);return Te},vt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return vt};var Ft=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(L){return Ft=F===B.ADVANCED?L/Mt:L,this};var Lt,Ut=g.__private__.getFontSize=g.getFontSize=function(){return F===B.COMPAT?Ft:Ft*Mt},ir=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(L){return ir=L,this},g.__private__.getR2L=g.getR2L=function(){return ir};var Vt,_r=g.__private__.setZoomMode=function(L){var ne=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))Lt=L;else if(isNaN(L)){if(ne.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');Lt=L}else Lt=parseInt(L,10)};g.__private__.getZoomMode=function(){return Lt};var tr,kr=g.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Vt=L};g.__private__.getPageMode=function(){return Vt};var zr=g.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');tr=L};g.__private__.getLayoutMode=function(){return tr},g.__private__.setDisplayMode=g.setDisplayMode=function(L,ne,Te){return _r(L),zr(ne),kr(Te),this};var xr={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(L){if(Object.keys(xr).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xr[L]},g.__private__.getDocumentProperties=function(){return xr},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(L){for(var ne in xr)xr.hasOwnProperty(ne)&&L[ne]&&(xr[ne]=L[ne]);return this},g.__private__.setDocumentProperty=function(L,ne){if(Object.keys(xr).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xr[L]=ne};var vr,Mt,Ti,Ur,mn,Br={},Gr={},Wi=[],Jr={},Ao={},fn={},Yi={},Is=null,rn=0,Cr=[],an=new WU(g),Mn=t.hotfixes||[],Hn={},ks={},ls=[],dr=function L(ne,Te,Le,Ge,ht,Bt){if(!(this instanceof L))return new L(ne,Te,Le,Ge,ht,Bt);isNaN(ne)&&(ne=1),isNaN(Te)&&(Te=0),isNaN(Le)&&(Le=0),isNaN(Ge)&&(Ge=1),isNaN(ht)&&(ht=0),isNaN(Bt)&&(Bt=0),this._matrix=[ne,Te,Le,Ge,ht,Bt]};Object.defineProperty(dr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(dr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(dr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(dr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(dr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(dr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(dr.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(dr.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(dr.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(dr.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(dr.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(dr.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(dr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dr.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(L)},dr.prototype.multiply=function(L){var ne=L.sx*this.sx+L.shy*this.shx,Te=L.sx*this.shy+L.shy*this.sy,Le=L.shx*this.sx+L.sy*this.shx,Ge=L.shx*this.shy+L.sy*this.sy,ht=L.tx*this.sx+L.ty*this.shx+this.tx,Bt=L.tx*this.shy+L.ty*this.sy+this.ty;return new dr(ne,Te,Le,Ge,ht,Bt)},dr.prototype.decompose=function(){var L=this.sx,ne=this.shy,Te=this.shx,Le=this.sy,Ge=this.tx,ht=this.ty,Bt=Math.sqrt(L*L+ne*ne),$t=(L/=Bt)*Te+(ne/=Bt)*Le;Te-=L*$t,Le-=ne*$t;var gr=Math.sqrt(Te*Te+Le*Le);return $t/=gr,L*(Le/=gr)<ne*(Te/=gr)&&(L=-L,ne=-ne,$t=-$t,Bt=-Bt),{scale:new dr(Bt,0,0,gr,0,0),translate:new dr(1,0,0,1,Ge,ht),rotate:new dr(L,ne,-ne,L,0,0),skew:new dr(1,0,$t,1,0,0)}},dr.prototype.toString=function(L){return this.join(" ")},dr.prototype.inversed=function(){var L=this.sx,ne=this.shy,Te=this.shx,Le=this.sy,Ge=this.tx,ht=this.ty,Bt=1/(L*Le-ne*Te),$t=Le*Bt,gr=-ne*Bt,Vr=-Te*Bt,Rr=L*Bt;return new dr($t,gr,Vr,Rr,-$t*Ge-Vr*ht,-gr*Ge-Rr*ht)},dr.prototype.applyToPoint=function(L){var ne=L.x*this.sx+L.y*this.shx+this.tx,Te=L.x*this.shy+L.y*this.sy+this.ty;return new Fc(ne,Te)},dr.prototype.applyToRectangle=function(L){var ne=this.applyToPoint(L),Te=this.applyToPoint(new Fc(L.x+L.w,L.y+L.h));return new Ef(ne.x,ne.y,Te.x-ne.x,Te.y-ne.y)},dr.prototype.clone=function(){var L=this.sx,ne=this.shy,Te=this.shx,Le=this.sy,Ge=this.tx,ht=this.ty;return new dr(L,ne,Te,Le,Ge,ht)},g.Matrix=dr;var Ls=g.matrixMult=function(L,ne){return ne.multiply(L)},cs=new dr(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=cs;var ws=function(L,ne){if(!Ao[L]){var Te=(ne instanceof ag?"Sh":"P")+(Object.keys(Jr).length+1).toString(10);ne.id=Te,Ao[L]=Te,Jr[Te]=ne,an.publish("addPattern",ne)}};g.ShadingPattern=ag,g.TilingPattern=X1,g.addShadingPattern=function(L,ne){return Q("addShadingPattern()"),ws(L,ne),this},g.beginTilingPattern=function(L){Q("beginTilingPattern()"),Bf(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},g.endTilingPattern=function(L,ne){Q("endTilingPattern()"),ne.stream=at[G].join(`
`),ws(L,ne),an.publish("endTilingPattern",ne),ls.pop().restore()};var cn=g.__private__.newObject=function(){var L=yn();return oe(L,!0),L},yn=g.__private__.newObjectDeferred=function(){return ae++,ve[ae]=function(){return Ie},ae},oe=function(L,ne){return ne=typeof ne=="boolean"&&ne,ve[L]=Ie,ne&&Be(L+" 0 obj"),L},_e=g.__private__.newAdditionalObject=function(){var L={objId:yn(),content:""};return He.push(L),L},xe=yn(),pe=yn(),be=g.__private__.decodeColorString=function(L){var ne=L.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length===5&&(ne[4]==="k"||ne[4]==="K")&&(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var Te=parseFloat(ne[0]);ne=[Te,Te,Te,"r"]}for(var Le="#",Ge=0;Ge<3;Ge++)Le+=("0"+Math.floor(255*parseFloat(ne[Ge])).toString(16)).slice(-2);return Le},we=g.__private__.encodeColorString=function(L){var ne;typeof L=="string"&&(L={ch1:L});var Te=L.ch1,Le=L.ch2,Ge=L.ch3,ht=L.ch4,Bt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Te=="string"&&Te.charAt(0)!=="#"){var $t=new XH(Te);if($t.ok)Te=$t.toHex();else if(!/^\d*\.?\d*$/.test(Te))throw new Error('Invalid color "'+Te+'" passed to jsPDF.encodeColorString.')}if(typeof Te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Te)&&(Te="#"+Te[1]+Te[1]+Te[2]+Te[2]+Te[3]+Te[3]),typeof Te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Te)){var gr=parseInt(Te.substr(1),16);Te=gr>>16&255,Le=gr>>8&255,Ge=255&gr}if(Le===void 0||ht===void 0&&Te===Le&&Le===Ge)if(typeof Te=="string")ne=Te+" "+Bt[0];else switch(L.precision){case 2:ne=re(Te/255)+" "+Bt[0];break;case 3:default:ne=P(Te/255)+" "+Bt[0]}else if(ht===void 0||_i(ht)==="object"){if(ht&&!isNaN(ht.a)&&ht.a===0)return ne=["1.","1.","1.",Bt[1]].join(" ");if(typeof Te=="string")ne=[Te,Le,Ge,Bt[1]].join(" ");else switch(L.precision){case 2:ne=[re(Te/255),re(Le/255),re(Ge/255),Bt[1]].join(" ");break;default:case 3:ne=[P(Te/255),P(Le/255),P(Ge/255),Bt[1]].join(" ")}}else if(typeof Te=="string")ne=[Te,Le,Ge,ht,Bt[2]].join(" ");else switch(L.precision){case 2:ne=[re(Te),re(Le),re(Ge),re(ht),Bt[2]].join(" ");break;case 3:default:ne=[P(Te),P(Le),P(Ge),P(ht),Bt[2]].join(" ")}return ne},qe=g.__private__.getFilters=function(){return a},tt=g.__private__.putStream=function(L){var ne=(L=L||{}).data||"",Te=L.filters||qe(),Le=L.alreadyAppliedFilters||[],Ge=L.addLength1||!1,ht=ne.length,Bt=L.objectId,$t=function(Cs){return Cs};if(u!==null&&Bt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&($t=ci.encryptor(Bt,0));var gr={};Te===!0&&(Te=["FlateEncode"]);var Vr=L.additionalKeyValues||[],Rr=(gr=Qr.API.processDataByFilters!==void 0?Qr.API.processDataByFilters(ne,Te):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(Le)?Le.join(" "):Le.toString());if(gr.data.length!==0&&(Vr.push({key:"Length",value:gr.data.length}),Ge===!0&&Vr.push({key:"Length1",value:ht})),Rr.length!=0)if(Rr.split("/").length-1==1)Vr.push({key:"Filter",value:Rr});else{Vr.push({key:"Filter",value:"["+Rr+"]"});for(var An=0;An<Vr.length;An+=1)if(Vr[An].key==="DecodeParms"){for(var Ai=[],Ni=0;Ni<gr.reverseChain.split("/").length-1;Ni+=1)Ai.push("null");Ai.push(Vr[An].value),Vr[An].value="["+Ai.join(" ")+"]"}}Be("<<");for(var Hi=0;Hi<Vr.length;Hi++)Be("/"+Vr[Hi].key+" "+Vr[Hi].value);Be(">>"),gr.data.length!==0&&(Be("stream"),Be($t(gr.data)),Be("endstream"))},ze=g.__private__.putPage=function(L){var ne=L.number,Te=L.data,Le=L.objId,Ge=L.contentsObjId;oe(Le,!0),Be("<</Type /Page"),Be("/Parent "+L.rootDictionaryObjId+" 0 R"),Be("/Resources "+L.resourceDictionaryObjId+" 0 R"),Be("/MediaBox ["+parseFloat(D(L.mediaBox.bottomLeftX))+" "+parseFloat(D(L.mediaBox.bottomLeftY))+" "+D(L.mediaBox.topRightX)+" "+D(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&Be("/CropBox ["+D(L.cropBox.bottomLeftX)+" "+D(L.cropBox.bottomLeftY)+" "+D(L.cropBox.topRightX)+" "+D(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&Be("/BleedBox ["+D(L.bleedBox.bottomLeftX)+" "+D(L.bleedBox.bottomLeftY)+" "+D(L.bleedBox.topRightX)+" "+D(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&Be("/TrimBox ["+D(L.trimBox.bottomLeftX)+" "+D(L.trimBox.bottomLeftY)+" "+D(L.trimBox.topRightX)+" "+D(L.trimBox.topRightY)+"]"),L.artBox!==null&&Be("/ArtBox ["+D(L.artBox.bottomLeftX)+" "+D(L.artBox.bottomLeftY)+" "+D(L.artBox.topRightX)+" "+D(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&Be("/UserUnit "+L.userUnit),an.publish("putPage",{objId:Le,pageContext:Cr[ne],pageNumber:ne,page:Te}),Be("/Contents "+Ge+" 0 R"),Be(">>"),Be("endobj");var ht=Te.join(`
`);return F===B.ADVANCED&&(ht+=`
Q`),oe(Ge,!0),tt({data:ht,filters:qe(),objectId:Ge}),Be("endobj"),Le},We=g.__private__.putPages=function(){var L,ne,Te=[];for(L=1;L<=rn;L++)Cr[L].objId=yn(),Cr[L].contentsObjId=yn();for(L=1;L<=rn;L++)Te.push(ze({number:L,data:at[L],objId:Cr[L].objId,contentsObjId:Cr[L].contentsObjId,mediaBox:Cr[L].mediaBox,cropBox:Cr[L].cropBox,bleedBox:Cr[L].bleedBox,trimBox:Cr[L].trimBox,artBox:Cr[L].artBox,userUnit:Cr[L].userUnit,rootDictionaryObjId:xe,resourceDictionaryObjId:pe}));oe(xe,!0),Be("<</Type /Pages");var Le="/Kids [";for(ne=0;ne<rn;ne++)Le+=Te[ne]+" 0 R ";Be(Le+"]"),Be("/Count "+rn),Be(">>"),Be("endobj"),an.publish("postPutPages")},Me=function(L){an.publish("putFont",{font:L,out:Be,newObject:cn,putStream:tt}),L.isAlreadyPutted!==!0&&(L.objectNumber=cn(),Be("<<"),Be("/Type /Font"),Be("/BaseFont /"+O1(L.postScriptName)),Be("/Subtype /Type1"),typeof L.encoding=="string"&&Be("/Encoding /"+L.encoding),Be("/FirstChar 32"),Be("/LastChar 255"),Be(">>"),Be("endobj"))},ye=function(){for(var L in Br)Br.hasOwnProperty(L)&&(f===!1||f===!0&&p.hasOwnProperty(L))&&Me(Br[L])},Qe=function(L){L.objectNumber=cn();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[D(L.x),D(L.y),D(L.x+L.width),D(L.y+L.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Te=L.pages[1].join(`
`);tt({data:Te,additionalKeyValues:ne,objectId:L.objectNumber}),Be("endobj")},rt=function(){for(var L in Hn)Hn.hasOwnProperty(L)&&Qe(Hn[L])},ft=function(L,ne){var Te,Le=[],Ge=1/(ne-1);for(Te=0;Te<1;Te+=Ge)Le.push(Te);if(Le.push(1),L[0].offset!=0){var ht={offset:0,color:L[0].color};L.unshift(ht)}if(L[L.length-1].offset!=1){var Bt={offset:1,color:L[L.length-1].color};L.push(Bt)}for(var $t="",gr=0,Vr=0;Vr<Le.length;Vr++){for(Te=Le[Vr];Te>L[gr+1].offset;)gr++;var Rr=L[gr].offset,An=(Te-Rr)/(L[gr+1].offset-Rr),Ai=L[gr].color,Ni=L[gr+1].color;$t+=J(Math.round((1-An)*Ai[0]+An*Ni[0]).toString(16))+J(Math.round((1-An)*Ai[1]+An*Ni[1]).toString(16))+J(Math.round((1-An)*Ai[2]+An*Ni[2]).toString(16))}return $t.trim()},wt=function(L,ne){ne||(ne=21);var Te=cn(),Le=ft(L.colors,ne),Ge=[];Ge.push({key:"FunctionType",value:"0"}),Ge.push({key:"Domain",value:"[0.0 1.0]"}),Ge.push({key:"Size",value:"["+ne+"]"}),Ge.push({key:"BitsPerSample",value:"8"}),Ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt({data:Le,additionalKeyValues:Ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Te}),Be("endobj"),L.objectNumber=cn(),Be("<< /ShadingType "+L.type),Be("/ColorSpace /DeviceRGB");var ht="/Coords ["+D(parseFloat(L.coords[0]))+" "+D(parseFloat(L.coords[1]))+" ";L.type===2?ht+=D(parseFloat(L.coords[2]))+" "+D(parseFloat(L.coords[3])):ht+=D(parseFloat(L.coords[2]))+" "+D(parseFloat(L.coords[3]))+" "+D(parseFloat(L.coords[4]))+" "+D(parseFloat(L.coords[5])),Be(ht+="]"),L.matrix&&Be("/Matrix ["+L.matrix.toString()+"]"),Be("/Function "+Te+" 0 R"),Be("/Extend [true true]"),Be(">>"),Be("endobj")},It=function(L,ne){var Te=yn(),Le=cn();ne.push({resourcesOid:Te,objectOid:Le}),L.objectNumber=Le;var Ge=[];Ge.push({key:"Type",value:"/Pattern"}),Ge.push({key:"PatternType",value:"1"}),Ge.push({key:"PaintType",value:"1"}),Ge.push({key:"TilingType",value:"1"}),Ge.push({key:"BBox",value:"["+L.boundingBox.map(D).join(" ")+"]"}),Ge.push({key:"XStep",value:D(L.xStep)}),Ge.push({key:"YStep",value:D(L.yStep)}),Ge.push({key:"Resources",value:Te+" 0 R"}),L.matrix&&Ge.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),tt({data:L.stream,additionalKeyValues:Ge,objectId:L.objectNumber}),Be("endobj")},nr=function(L){var ne;for(ne in Jr)Jr.hasOwnProperty(ne)&&(Jr[ne]instanceof ag?wt(Jr[ne]):Jr[ne]instanceof X1&&It(Jr[ne],L))},Kr=function(L){for(var ne in L.objectNumber=cn(),Be("<<"),L)switch(ne){case"opacity":Be("/ca "+re(L[ne]));break;case"stroke-opacity":Be("/CA "+re(L[ne]))}Be(">>"),Be("endobj")},Dr=function(){var L;for(L in fn)fn.hasOwnProperty(L)&&Kr(fn[L])},Pi=function(){for(var L in Be("/XObject <<"),Hn)Hn.hasOwnProperty(L)&&Hn[L].objectNumber>=0&&Be("/"+L+" "+Hn[L].objectNumber+" 0 R");an.publish("putXobjectDict"),Be(">>")},Tr=function(){ci.oid=cn(),Be("<<"),Be("/Filter /Standard"),Be("/V "+ci.v),Be("/R "+ci.r),Be("/U <"+ci.toHexString(ci.U)+">"),Be("/O <"+ci.toHexString(ci.O)+">"),Be("/P "+ci.P),Be(">>"),Be("endobj")},Rs=function(){for(var L in Be("/Font <<"),Br)Br.hasOwnProperty(L)&&(f===!1||f===!0&&p.hasOwnProperty(L))&&Be("/"+L+" "+Br[L].objectNumber+" 0 R");Be(">>")},pi=function(){if(Object.keys(Jr).length>0){for(var L in Be("/Shading <<"),Jr)Jr.hasOwnProperty(L)&&Jr[L]instanceof ag&&Jr[L].objectNumber>=0&&Be("/"+L+" "+Jr[L].objectNumber+" 0 R");an.publish("putShadingPatternDict"),Be(">>")}},Po=function(L){if(Object.keys(Jr).length>0){for(var ne in Be("/Pattern <<"),Jr)Jr.hasOwnProperty(ne)&&Jr[ne]instanceof g.TilingPattern&&Jr[ne].objectNumber>=0&&Jr[ne].objectNumber<L&&Be("/"+ne+" "+Jr[ne].objectNumber+" 0 R");an.publish("putTilingPatternDict"),Be(">>")}},$n=function(){if(Object.keys(fn).length>0){var L;for(L in Be("/ExtGState <<"),fn)fn.hasOwnProperty(L)&&fn[L].objectNumber>=0&&Be("/"+L+" "+fn[L].objectNumber+" 0 R");an.publish("putGStateDict"),Be(">>")}},ni=function(L){oe(L.resourcesOid,!0),Be("<<"),Be("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Rs(),pi(),Po(L.objectOid),$n(),Pi(),Be(">>"),Be("endobj")},es=function(){var L=[];ye(),Dr(),rt(),nr(L),an.publish("putResources"),L.forEach(ni),ni({resourcesOid:pe,objectOid:Number.MAX_SAFE_INTEGER}),an.publish("postPutResources")},$s=function(){an.publish("putAdditionalObjects");for(var L=0;L<He.length;L++){var ne=He[L];oe(ne.objId,!0),Be(ne.content),Be("endobj")}an.publish("postPutAdditionalObjects")},Ca=function(L){Gr[L.fontName]=Gr[L.fontName]||{},Gr[L.fontName][L.fontStyle]=L.id},XA=function(L,ne,Te,Le,Ge){var ht={id:"F"+(Object.keys(Br).length+1).toString(10),postScriptName:L,fontName:ne,fontStyle:Te,encoding:Le,isStandardFont:Ge||!1,metadata:{}};return an.publish("addFont",{font:ht,instance:this}),Br[ht.id]=ht,Ca(ht),ht.id},bs=function(L){for(var ne=0,Te=vt.length;ne<Te;ne++){var Le=XA.call(this,L[ne][0],L[ne][1],L[ne][2],vt[ne][3],!0);f===!1&&(p[Le]=!0);var Ge=L[ne][0].split("-");Ca({id:Le,fontName:Ge[0],fontStyle:Ge[1]||""})}an.publish("addFonts",{fonts:Br,dictionary:Gr})},Va=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(Le){var ne=Le.stack||"";~ne.indexOf(" at ")&&(ne=ne.split(" at ")[1]);var Te="Error in function "+ne.split(`
`)[0].split("<")[0]+": "+Le.message;if(!$r.console)throw new Error(Te);$r.console.error(Te,Le),$r.alert&&alert(Te)}},L.foo.bar=L,L.foo},Lr=function(L,ne){var Te,Le,Ge,ht,Bt,$t,gr,Vr,Rr;if(Ge=(ne=ne||{}).sourceEncoding||"Unicode",Bt=ne.outputEncoding,(ne.autoencode||Bt)&&Br[vr].metadata&&Br[vr].metadata[Ge]&&Br[vr].metadata[Ge].encoding&&(ht=Br[vr].metadata[Ge].encoding,!Bt&&Br[vr].encoding&&(Bt=Br[vr].encoding),!Bt&&ht.codePages&&(Bt=ht.codePages[0]),typeof Bt=="string"&&(Bt=ht[Bt]),Bt)){for(gr=!1,$t=[],Te=0,Le=L.length;Te<Le;Te++)(Vr=Bt[L.charCodeAt(Te)])?$t.push(String.fromCharCode(Vr)):$t.push(L[Te]),$t[Te].charCodeAt(0)>>8&&(gr=!0);L=$t.join("")}for(Te=L.length;gr===void 0&&Te!==0;)L.charCodeAt(Te-1)>>8&&(gr=!0),Te--;if(!gr)return L;for($t=ne.noBOM?[]:[254,255],Te=0,Le=L.length;Te<Le;Te++){if((Rr=(Vr=L.charCodeAt(Te))>>8)>>8)throw new Error("Character at position "+Te+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$t.push(Rr),$t.push(Vr-(Rr<<8))}return String.fromCharCode.apply(void 0,$t)},Ms=g.__private__.pdfEscape=g.pdfEscape=function(L,ne){return Lr(L,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gi=g.__private__.beginPage=function(L){at[++rn]=[],Cr[rn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},lA(rn),it(at[G])},oA=function(L,ne){var Te,Le,Ge;switch(r=ne||r,typeof L=="string"&&(Te=S(L.toLowerCase()),Array.isArray(Te)&&(Le=Te[0],Ge=Te[1])),Array.isArray(L)&&(Le=L[0]*Mt,Ge=L[1]*Mt),isNaN(Le)&&(Le=i[0],Ge=i[1]),(Le>14400||Ge>14400)&&(zi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Le=Math.min(14400,Le),Ge=Math.min(14400,Ge)),i=[Le,Ge],r.substr(0,1)){case"l":Ge>Le&&(i=[Ge,Le]);break;case"p":Le>Ge&&(i=[Ge,Le])}gi(i),uA(Ds),Be(yl),_f!==0&&Be(_f+" J"),lh!==0&&Be(lh+" j"),an.publish("addPage",{pageNumber:rn})},$a=function(L){L>0&&L<=rn&&(at.splice(L,1),Cr.splice(L,1),rn--,G>rn&&(G=rn),this.setPage(G))},lA=function(L){L>0&&L<=rn&&(G=L)},qs=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return at.length-1},JA=function(L,ne,Te){var Le,Ge=void 0;return Te=Te||{},L=L!==void 0?L:Br[vr].fontName,ne=ne!==void 0?ne:Br[vr].fontStyle,Le=L.toLowerCase(),Gr[Le]!==void 0&&Gr[Le][ne]!==void 0?Ge=Gr[Le][ne]:Gr[L]!==void 0&&Gr[L][ne]!==void 0?Ge=Gr[L][ne]:Te.disableWarning===!1&&zi.warn("Unable to look up font label for font '"+L+"', '"+ne+"'. Refer to getFontList() for available fonts."),Ge||Te.noFallback||(Ge=Gr.times[ne])==null&&(Ge=Gr.times.normal),Ge},qa=g.__private__.putInfo=function(){var L=cn(),ne=function(Le){return Le};for(var Te in u!==null&&(ne=ci.encryptor(L,0)),Be("<<"),Be("/Producer ("+Ms(ne("jsPDF "+Qr.version))+")"),xr)xr.hasOwnProperty(Te)&&xr[Te]&&Be("/"+Te.substr(0,1).toUpperCase()+Te.substr(1)+" ("+Ms(ne(xr[Te]))+")");Be("/CreationDate ("+Ms(ne(se))+")"),Be(">>"),Be("endobj")},Ho=g.__private__.putCatalog=function(L){var ne=(L=L||{}).rootDictionaryObjId||xe;switch(cn(),Be("<<"),Be("/Type /Catalog"),Be("/Pages "+ne+" 0 R"),Lt||(Lt="fullwidth"),Lt){case"fullwidth":Be("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Be("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Be("/OpenAction [3 0 R /Fit]");break;case"original":Be("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Te=""+Lt;Te.substr(Te.length-1)==="%"&&(Lt=parseInt(Lt)/100),typeof Lt=="number"&&Be("/OpenAction [3 0 R /XYZ null null "+re(Lt)+"]")}switch(tr||(tr="continuous"),tr){case"continuous":Be("/PageLayout /OneColumn");break;case"single":Be("/PageLayout /SinglePage");break;case"two":case"twoleft":Be("/PageLayout /TwoColumnLeft");break;case"tworight":Be("/PageLayout /TwoColumnRight")}Vt&&Be("/PageMode /"+Vt),an.publish("putCatalog"),Be(">>"),Be("endobj")},Yl=g.__private__.putTrailer=function(){Be("trailer"),Be("<<"),Be("/Size "+(ae+1)),Be("/Root "+ae+" 0 R"),Be("/Info "+(ae-1)+" 0 R"),u!==null&&Be("/Encrypt "+ci.oid+" 0 R"),Be("/ID [ <"+X+"> <"+X+"> ]"),Be(">>")},sh=g.__private__.putHeader=function(){Be("%PDF-"+y),Be("%")},Xl=g.__private__.putXRef=function(){var L="0000000000";Be("xref"),Be("0 "+(ae+1)),Be("0000000000 65535 f ");for(var ne=1;ne<=ae;ne++)typeof ve[ne]=="function"?Be((L+ve[ne]()).slice(-10)+" 00000 n "):ve[ne]!==void 0?Be((L+ve[ne]).slice(-10)+" 00000 n "):Be("0000000000 00000 n ")},uo=g.__private__.buildDocument=function(){Nt(),it(Fe),an.publish("buildDocument"),sh(),We(),$s(),es(),u!==null&&Tr(),qa(),Ho();var L=Ie;return Xl(),Yl(),Be("startxref"),Be(""+L),Be("%%EOF"),it(at[G]),Fe.join(`
`)},zs=g.__private__.getBlob=function(L){return new Blob([Dt(L)],{type:"application/pdf"})},cA=g.output=g.__private__.output=Va((function(L,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",L){case void 0:return uo();case"save":g.save(ne.filename);break;case"arraybuffer":return Dt(uo());case"blob":return zs(uo());case"bloburi":case"bloburl":if($r.URL!==void 0&&typeof $r.URL.createObjectURL=="function")return $r.URL&&$r.URL.createObjectURL(zs(uo()))||void 0;zi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Te="",Le=uo();try{Te=kN(Le)}catch{Te=kN(unescape(encodeURIComponent(Le)))}return"data:application/pdf;filename="+ne.filename+";base64,"+Te;case"pdfobjectnewwindow":if(Object.prototype.toString.call($r)==="[object Window]"){var Ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ht=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(Ge=ne.pdfObjectUrl,ht="");var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ge+'"'+ht+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",$t=$r.open();return $t!==null&&$t.document.write(Bt),$t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call($r)==="[object Window]"){var gr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',Vr=$r.open();if(Vr!==null){Vr.document.write(gr);var Rr=this;Vr.document.documentElement.querySelector("#pdfViewer").onload=function(){Vr.document.title=ne.filename,Vr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Rr.output("bloburl"))}}return Vr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call($r)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var An='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',Ai=$r.open();if(Ai!==null&&(Ai.document.write(An),Ai.document.title=ne.filename),Ai||typeof safari>"u")return Ai;break;case"datauri":case"dataurl":return $r.document.location.href=this.output("datauristring",ne);default:return null}})),ia=function(L){return Array.isArray(Mn)===!0&&Mn.indexOf(L)>-1};switch(n){case"pt":Mt=1;break;case"mm":Mt=72/25.4;break;case"cm":Mt=72/2.54;break;case"in":Mt=72;break;case"px":Mt=ia("px_scaling")==1?.75:96/72;break;case"pc":case"em":Mt=12;break;case"ex":Mt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Mt=n}var ci=null;le(),te();var gl=function(L){return u!==null?ci.encryptor(L,0):function(ne){return ne}},AA=g.__private__.getPageInfo=g.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Cr[L].objId,pageNumber:L,pageContext:Cr[L]}},cr=g.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in Cr)if(Cr[ne].objId===L)break;return AA(ne)},sa=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Cr[G].objId,pageNumber:G,pageContext:Cr[G]}};g.addPage=function(){return oA.apply(this,arguments),this},g.setPage=function(){return lA.apply(this,arguments),it.call(this,at[G]),this},g.insertPage=function(L){return this.addPage(),this.movePage(G,L),this},g.movePage=function(L,ne){var Te,Le;if(L>ne){Te=at[L],Le=Cr[L];for(var Ge=L;Ge>ne;Ge--)at[Ge]=at[Ge-1],Cr[Ge]=Cr[Ge-1];at[ne]=Te,Cr[ne]=Le,this.setPage(ne)}else if(L<ne){Te=at[L],Le=Cr[L];for(var ht=L;ht<ne;ht++)at[ht]=at[ht+1],Cr[ht]=Cr[ht+1];at[ne]=Te,Cr[ne]=Le,this.setPage(ne)}return this},g.deletePage=function(){return $a.apply(this,arguments),this},g.__private__.text=g.text=function(L,ne,Te,Le,Ge){var ht,Bt,$t,gr,Vr,Rr,An,Ai,Ni,Hi=(Le=Le||{}).scope||this;if(typeof L=="number"&&typeof ne=="number"&&(typeof Te=="string"||Array.isArray(Te))){var Cs=Te;Te=ne,ne=L,L=Cs}if(arguments[3]instanceof dr?(Q("The transform parameter of text() with a Matrix value"),Ni=Ge):($t=arguments[4],gr=arguments[5],_i(An=arguments[3])==="object"&&An!==null||(typeof $t=="string"&&(gr=$t,$t=null),typeof An=="string"&&(gr=An,An=null),typeof An=="number"&&($t=An,An=null),Le={flags:An,angle:$t,align:gr})),isNaN(ne)||isNaN(Te)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return Hi;var ts="",Ks=!1,_a=typeof Le.lineHeightFactor=="number"?Le.lineHeightFactor:ec,xl=Hi.internal.scaleFactor;function hh(on){return on=on.split("	").join(Array(Le.TabLen||9).join(" ")),Ms(on,An)}function fh(on){for(var qn,Nn=on.concat(),Fi=[],El=Nn.length;El--;)typeof(qn=Nn.shift())=="string"?Fi.push(qn):Array.isArray(on)&&(qn.length===1||qn[1]===void 0&&qn[2]===void 0)?Fi.push(qn[0]):Fi.push([qn[0],qn[1],qn[2]]);return Fi}function pA(on,qn){var Nn;if(typeof on=="string")Nn=qn(on)[0];else if(Array.isArray(on)){for(var Fi,El,wA=on.concat(),Rc=[],vh=wA.length;vh--;)typeof(Fi=wA.shift())=="string"?Rc.push(qn(Fi)[0]):Array.isArray(Fi)&&typeof Fi[0]=="string"&&(El=qn(Fi[0],Fi[1],Fi[2]),Rc.push([El[0],El[1],El[2]]));Nn=Rc}return Nn}var rc=!1,po=!0;if(typeof L=="string")rc=!0;else if(Array.isArray(L)){var iu=L.concat();Bt=[];for(var vl,Tn=iu.length;Tn--;)(typeof(vl=iu.shift())!="string"||Array.isArray(vl)&&typeof vl[0]!="string")&&(po=!1);rc=po}if(rc===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var wl=Ft/Hi.internal.scaleFactor,gA=wl*(_a-1);switch(Le.baseline){case"bottom":Te-=gA;break;case"top":Te+=wl-gA;break;case"hanging":Te+=wl-2*gA;break;case"middle":Te+=wl/2-gA}if((Rr=Le.maxWidth||0)>0&&(typeof L=="string"?L=Hi.splitTextToSize(L,Rr):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce((function(on,qn){return on.concat(Hi.splitTextToSize(qn,Rr))}),[]))),ht={text:L,x:ne,y:Te,options:Le,mutex:{pdfEscape:Ms,activeFontKey:vr,fonts:Br,activeFontSize:Ft}},an.publish("preProcessText",ht),L=ht.text,$t=(Le=ht.options).angle,!(Ni instanceof dr)&&$t&&typeof $t=="number"){$t*=Math.PI/180,Le.rotationDirection===0&&($t=-$t),F===B.ADVANCED&&($t=-$t);var mA=Math.cos($t),dh=Math.sin($t);Ni=new dr(mA,dh,-dh,mA,0,0)}else $t&&$t instanceof dr&&(Ni=$t);F!==B.ADVANCED||Ni||(Ni=cs),(Vr=Le.charSpace||oh)!==void 0&&(ts+=D(H(Vr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ai=Le.horizontalScale)!==void 0&&(ts+=D(100*Ai)+` Tz
`),Le.lang;var Ea=-1,n0=Le.renderingMode!==void 0?Le.renderingMode:Le.stroke,Tf=Hi.internal.getCurrentPageInfo().pageContext;switch(n0){case 0:case!1:case"fill":Ea=0;break;case 1:case!0:case"stroke":Ea=1;break;case 2:case"fillThenStroke":Ea=2;break;case 3:case"invisible":Ea=3;break;case 4:case"fillAndAddForClipping":Ea=4;break;case 5:case"strokeAndAddPathForClipping":Ea=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ea=6;break;case 7:case"addToPathForClipping":Ea=7}var Rt=Tf.usedRenderingMode!==void 0?Tf.usedRenderingMode:-1;Ea!==-1?ts+=Ea+` Tr
`:Rt!==-1&&(ts+=`0 Tr
`),Ea!==-1&&(Tf.usedRenderingMode=Ea),gr=Le.align||"left";var Ya,ph=Ft*_a,i0=Hi.internal.pageSize.getWidth(),oa=Br[vr];Vr=Le.charSpace||oh,Rr=Le.maxWidth||0,An=Object.assign({autoencode:!0,noBOM:!0},Le.flags);var Go=[],yA=function(on){return Hi.getStringUnitWidth(on,{font:oa,charSpace:Vr,fontSize:Ft,doKerning:!1})*Ft/xl};if(Object.prototype.toString.call(L)==="[object Array]"){var Ba;Bt=fh(L),gr!=="left"&&(Ya=Bt.map(yA));var la,Xa=0;if(gr==="right"){ne-=Ya[0],L=[],Tn=Bt.length;for(var bl=0;bl<Tn;bl++)bl===0?(la=fo(ne),Ba=Wa(Te)):(la=H(Xa-Ya[bl]),Ba=-ph),L.push([Bt[bl],la,Ba]),Xa=Ya[bl]}else if(gr==="center"){ne-=Ya[0]/2,L=[],Tn=Bt.length;for(var Ic=0;Ic<Tn;Ic++)Ic===0?(la=fo(ne),Ba=Wa(Te)):(la=H((Xa-Ya[Ic])/2),Ba=-ph),L.push([Bt[Ic],la,Ba]),Xa=Ya[Ic]}else if(gr==="left"){L=[],Tn=Bt.length;for(var Cl=0;Cl<Tn;Cl++)L.push(Bt[Cl])}else if(gr==="justify"&&oa.encoding==="Identity-H"){L=[],Tn=Bt.length,Rr=Rr!==0?Rr:i0;for(var Sl=0,mi=0;mi<Tn;mi++)if(Ba=mi===0?Wa(Te):-ph,la=mi===0?fo(ne):Sl,mi<Tn-1){var su=H((Rr-Ya[mi])/(Bt[mi].split(" ").length-1)),ca=Bt[mi].split(" ");L.push([ca[0]+" ",la,Ba]),Sl=0;for(var Os=1;Os<ca.length;Os++){var _l=(yA(ca[Os-1]+" "+ca[Os])-yA(ca[Os]))*xl+su;Os==ca.length-1?L.push([ca[Os],_l,0]):L.push([ca[Os]+" ",_l,0]),Sl-=_l}}else L.push([Bt[mi],la,Ba]);L.push(["",Sl,0])}else{if(gr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],Tn=Bt.length,Rr=Rr!==0?Rr:i0,mi=0;mi<Tn;mi++)Ba=mi===0?Wa(Te):-ph,la=mi===0?fo(ne):0,mi<Tn-1?Go.push(D(H((Rr-Ya[mi])/(Bt[mi].split(" ").length-1)))):Go.push(0),L.push([Bt[mi],la,Ba])}}var gh=typeof Le.R2L=="boolean"?Le.R2L:ir;gh===!0&&(L=pA(L,(function(on,qn,Nn){return[on.split("").reverse().join(""),qn,Nn]}))),ht={text:L,x:ne,y:Te,options:Le,mutex:{pdfEscape:Ms,activeFontKey:vr,fonts:Br,activeFontSize:Ft}},an.publish("postProcessText",ht),L=ht.text,Ks=ht.mutex.isHex||!1;var mh=Br[vr].encoding;mh!=="WinAnsiEncoding"&&mh!=="StandardEncoding"||(L=pA(L,(function(on,qn,Nn){return[hh(on),qn,Nn]}))),Bt=fh(L),L=[];for(var go,kc,Lc,xA=0,yh=1,au=Array.isArray(Bt[0])?yh:xA,vA="",xh=function(on,qn,Nn){var Fi="";return Nn instanceof dr?(Nn=typeof Le.angle=="number"?Ls(Nn,new dr(1,0,0,1,on,qn)):Ls(new dr(1,0,0,1,on,qn),Nn),F===B.ADVANCED&&(Nn=Ls(new dr(1,0,0,-1,0,0),Nn)),Fi=Nn.join(" ")+` Tm
`):Fi=D(on)+" "+D(qn)+` Td
`,Fi},mo=0;mo<Bt.length;mo++){switch(vA="",au){case yh:Lc=(Ks?"<":"(")+Bt[mo][0]+(Ks?">":")"),go=parseFloat(Bt[mo][1]),kc=parseFloat(Bt[mo][2]);break;case xA:Lc=(Ks?"<":"(")+Bt[mo]+(Ks?">":")"),go=fo(ne),kc=Wa(Te)}Go!==void 0&&Go[mo]!==void 0&&(vA=Go[mo]+` Tw
`),mo===0?L.push(vA+xh(go,kc,Ni)+Lc):au===xA?L.push(vA+Lc):au===yh&&L.push(vA+xh(go,kc,Ni)+Lc)}L=au===xA?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var Ja=`BT
/`;return Ja+=vr+" "+Ft+` Tf
`,Ja+=D(Ft*_a)+` TL
`,Ja+=hA+`
`,Ja+=ts,Ja+=L,Be(Ja+="ET"),p[vr]=!0,Hi};var Sa=g.__private__.clip=g.clip=function(L){return Be(L==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Sa("evenodd")},g.__private__.discardPath=g.discardPath=function(){return Be("n"),this};var wr=g.__private__.isValidStyle=function(L){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(ne=!0),ne};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(L){return wr(L)&&(c=L),this};var ZA=g.__private__.getStyle=g.getStyle=function(L){var ne=c;switch(L){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=L}return ne},Jl=g.close=function(){return Be("h"),this};g.stroke=function(){return Be("S"),this},g.fill=function(L){return za("f",L),this},g.fillEvenOdd=function(L){return za("f*",L),this},g.fillStroke=function(L){return za("B",L),this},g.fillStrokeEvenOdd=function(L){return za("B*",L),this};var za=function(L,ne){_i(ne)==="object"?Qo(ne,L):Be(L)},Zl=function(L){L===null||F===B.ADVANCED&&L===void 0||(L=ZA(L),Be(L))};function Us(L,ne,Te,Le,Ge){var ht=new X1(ne||this.boundingBox,Te||this.xStep,Le||this.yStep,this.gState,Ge||this.matrix);ht.stream=this.stream;var Bt=L+"$$"+this.cloneIndex+++"$$";return ws(Bt,ht),ht}var Qo=function(L,ne){var Te=Ao[L.key],Le=Jr[Te];if(Le instanceof ag)Be("q"),Be(Cf(ne)),Le.gState&&g.setGState(Le.gState),Be(L.matrix.toString()+" cm"),Be("/"+Te+" sh"),Be("Q");else if(Le instanceof X1){var Ge=new dr(1,0,0,-1,0,jo());L.matrix&&(Ge=Ge.multiply(L.matrix||cs),Te=Us.call(Le,L.key,L.boundingBox,L.xStep,L.yStep,Ge).id),Be("q"),Be("/Pattern cs"),Be("/"+Te+" scn"),Le.gState&&g.setGState(Le.gState),Be(ne),Be("Q")}},Cf=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ka=g.moveTo=function(L,ne){return Be(D(H(L))+" "+D(Z(ne))+" m"),this},ml=g.lineTo=function(L,ne){return Be(D(H(L))+" "+D(Z(ne))+" l"),this},aa=g.curveTo=function(L,ne,Te,Le,Ge,ht){return Be([D(H(L)),D(Z(ne)),D(H(Te)),D(Z(Le)),D(H(Ge)),D(Z(ht)),"c"].join(" ")),this};g.__private__.line=g.line=function(L,ne,Te,Le,Ge){if(isNaN(L)||isNaN(ne)||isNaN(Te)||isNaN(Le)||!wr(Ge))throw new Error("Invalid arguments passed to jsPDF.line");return F===B.COMPAT?this.lines([[Te-L,Le-ne]],L,ne,[1,1],Ge||"S"):this.lines([[Te-L,Le-ne]],L,ne,[1,1]).stroke()},g.__private__.lines=g.lines=function(L,ne,Te,Le,Ge,ht){var Bt,$t,gr,Vr,Rr,An,Ai,Ni,Hi,Cs,ts,Ks;if(typeof L=="number"&&(Ks=Te,Te=ne,ne=L,L=Ks),Le=Le||[1,1],ht=ht||!1,isNaN(ne)||isNaN(Te)||!Array.isArray(L)||!Array.isArray(Le)||!wr(Ge)||typeof ht!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ka(ne,Te),Bt=Le[0],$t=Le[1],Vr=L.length,Cs=ne,ts=Te,gr=0;gr<Vr;gr++)(Rr=L[gr]).length===2?(Cs=Rr[0]*Bt+Cs,ts=Rr[1]*$t+ts,ml(Cs,ts)):(An=Rr[0]*Bt+Cs,Ai=Rr[1]*$t+ts,Ni=Rr[2]*Bt+Cs,Hi=Rr[3]*$t+ts,Cs=Rr[4]*Bt+Cs,ts=Rr[5]*$t+ts,aa(An,Ai,Ni,Hi,Cs,ts));return ht&&Jl(),Zl(Ge),this},g.path=function(L){for(var ne=0;ne<L.length;ne++){var Te=L[ne],Le=Te.c;switch(Te.op){case"m":Ka(Le[0],Le[1]);break;case"l":ml(Le[0],Le[1]);break;case"c":aa.apply(this,Le);break;case"h":Jl()}}return this},g.__private__.rect=g.rect=function(L,ne,Te,Le,Ge){if(isNaN(L)||isNaN(ne)||isNaN(Te)||isNaN(Le)||!wr(Ge))throw new Error("Invalid arguments passed to jsPDF.rect");return F===B.COMPAT&&(Le=-Le),Be([D(H(L)),D(Z(ne)),D(H(Te)),D(H(Le)),"re"].join(" ")),Zl(Ge),this},g.__private__.triangle=g.triangle=function(L,ne,Te,Le,Ge,ht,Bt){if(isNaN(L)||isNaN(ne)||isNaN(Te)||isNaN(Le)||isNaN(Ge)||isNaN(ht)||!wr(Bt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Te-L,Le-ne],[Ge-Te,ht-Le],[L-Ge,ne-ht]],L,ne,[1,1],Bt,!0),this},g.__private__.roundedRect=g.roundedRect=function(L,ne,Te,Le,Ge,ht,Bt){if(isNaN(L)||isNaN(ne)||isNaN(Te)||isNaN(Le)||isNaN(Ge)||isNaN(ht)||!wr(Bt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $t=4/3*(Math.SQRT2-1);return Ge=Math.min(Ge,.5*Te),ht=Math.min(ht,.5*Le),this.lines([[Te-2*Ge,0],[Ge*$t,0,Ge,ht-ht*$t,Ge,ht],[0,Le-2*ht],[0,ht*$t,-Ge*$t,ht,-Ge,ht],[2*Ge-Te,0],[-Ge*$t,0,-Ge,-ht*$t,-Ge,-ht],[0,2*ht-Le],[0,-ht*$t,Ge*$t,-ht,Ge,-ht]],L+Ge,ne,[1,1],Bt,!0),this},g.__private__.ellipse=g.ellipse=function(L,ne,Te,Le,Ge){if(isNaN(L)||isNaN(ne)||isNaN(Te)||isNaN(Le)||!wr(Ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ht=4/3*(Math.SQRT2-1)*Te,Bt=4/3*(Math.SQRT2-1)*Le;return Ka(L+Te,ne),aa(L+Te,ne-Bt,L+ht,ne-Le,L,ne-Le),aa(L-ht,ne-Le,L-Te,ne-Bt,L-Te,ne),aa(L-Te,ne+Bt,L-ht,ne+Le,L,ne+Le),aa(L+ht,ne+Le,L+Te,ne+Bt,L+Te,ne),Zl(Ge),this},g.__private__.circle=g.circle=function(L,ne,Te,Le){if(isNaN(L)||isNaN(ne)||isNaN(Te)||!wr(Le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,ne,Te,Te,Le)},g.setFont=function(L,ne,Te){return Te&&(ne=R(ne,Te)),vr=JA(L,ne,{disableWarning:!1}),this};var ah=g.__private__.getFont=g.getFont=function(){return Br[JA.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var L,ne,Te={};for(L in Gr)if(Gr.hasOwnProperty(L))for(ne in Te[L]=[],Gr[L])Gr[L].hasOwnProperty(ne)&&Te[L].push(ne);return Te},g.addFont=function(L,ne,Te,Le,Ge){var ht=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ht.indexOf(arguments[3])!==-1?Ge=arguments[3]:arguments[3]&&ht.indexOf(arguments[3])==-1&&(Te=R(Te,Le)),Ge=Ge||"Identity-H",XA.call(this,L,ne,Te,Ge)};var ec,Ds=t.lineWidth||.200025,ho=g.__private__.getLineWidth=g.getLineWidth=function(){return Ds},uA=g.__private__.setLineWidth=g.setLineWidth=function(L){return Ds=L,Be(D(H(L))+" w"),this};g.__private__.setLineDash=Qr.API.setLineDash=Qr.API.setLineDashPattern=function(L,ne){if(L=L||[],ne=ne||0,isNaN(ne)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map((function(Te){return D(H(Te))})).join(" "),ne=D(H(ne)),Be("["+L+"] "+ne+" d"),this};var Un=g.__private__.getLineHeight=g.getLineHeight=function(){return Ft*ec};g.__private__.getLineHeight=g.getLineHeight=function(){return Ft*ec};var Sf=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(ec=L),this},eu=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return ec};Sf(t.lineHeight);var fo=g.__private__.getHorizontalCoordinate=function(L){return H(L)},Wa=g.__private__.getVerticalCoordinate=function(L){return F===B.ADVANCED?L:Cr[G].mediaBox.topRightY-Cr[G].mediaBox.bottomLeftY-H(L)},tu=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(L){return D(fo(L))},tc=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(L){return D(Wa(L))},yl=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return be(yl)},g.__private__.setStrokeColor=g.setDrawColor=function(L,ne,Te,Le){return yl=we({ch1:L,ch2:ne,ch3:Te,ch4:Le,pdfColorType:"draw",precision:2}),Be(yl),this};var ru=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return be(ru)},g.__private__.setFillColor=g.setFillColor=function(L,ne,Te,Le){return ru=we({ch1:L,ch2:ne,ch3:Te,ch4:Le,pdfColorType:"fill",precision:2}),Be(ru),this};var hA=t.textColor||"0 g",nu=g.__private__.getTextColor=g.getTextColor=function(){return be(hA)};g.__private__.setTextColor=g.setTextColor=function(L,ne,Te,Le){return hA=we({ch1:L,ch2:ne,ch3:Te,ch4:Le,pdfColorType:"text",precision:3}),this};var oh=t.charSpace,e0=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(oh||0)};g.__private__.setCharSpace=g.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return oh=L,this};var _f=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(L){var ne=g.CapJoinStyles[L];if(ne===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _f=ne,Be(ne+" J"),this};var lh=0;g.__private__.setLineJoin=g.setLineJoin=function(L){var ne=g.CapJoinStyles[L];if(ne===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lh=ne,Be(ne+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Be(D(H(L))+" M"),this},g.GState=T_,g.setGState=function(L){(L=typeof L=="string"?fn[Yi[L]]:t0(null,L)).equals(Is)||(Be("/"+L.id+" gs"),Is=L)};var t0=function(L,ne){if(!L||!Yi[L]){var Te=!1;for(var Le in fn)if(fn.hasOwnProperty(Le)&&fn[Le].equals(ne)){Te=!0;break}if(Te)ne=fn[Le];else{var Ge="GS"+(Object.keys(fn).length+1).toString(10);fn[Ge]=ne,ne.id=Ge}return L&&(Yi[L]=ne.id),an.publish("addGState",ne),ne}};g.addGState=function(L,ne){return t0(L,ne),this},g.saveGraphicsState=function(){return Be("q"),Wi.push({key:vr,size:Ft,color:hA}),this},g.restoreGraphicsState=function(){Be("Q");var L=Wi.pop();return vr=L.key,Ft=L.size,hA=L.color,Is=null,this},g.setCurrentTransformationMatrix=function(L){return Be(L.toString()+" cm"),this},g.comment=function(L){return Be("#"+L),this};var Fc=function(L,ne){var Te=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Te},set:function(ht){isNaN(ht)||(Te=parseFloat(ht))}});var Le=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Le},set:function(ht){isNaN(ht)||(Le=parseFloat(ht))}});var Ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ge},set:function(ht){Ge=ht.toString()}}),this},Ef=function(L,ne,Te,Le){Fc.call(this,L,ne),this.type="rect";var Ge=Te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ge},set:function(Bt){isNaN(Bt)||(Ge=parseFloat(Bt))}});var ht=Le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ht},set:function(Bt){isNaN(Bt)||(ht=parseFloat(Bt))}}),this},ch=function(){this.page=rn,this.currentPage=G,this.pages=at.slice(0),this.pagesContext=Cr.slice(0),this.x=Ti,this.y=Ur,this.matrix=mn,this.width=dA(G),this.height=jo(G),this.outputDestination=St,this.id="",this.objectNumber=-1};ch.prototype.restore=function(){rn=this.page,G=this.currentPage,Cr=this.pagesContext,at=this.pages,Ti=this.x,Ur=this.y,mn=this.matrix,Ah(G,this.width),uh(G,this.height),St=this.outputDestination};var Bf=function(L,ne,Te,Le,Ge){ls.push(new ch),rn=G=0,at=[],Ti=L,Ur=ne,mn=Ge,gi([Te,Le])},r0=function(L){if(ks[L])ls.pop().restore();else{var ne=new ch,Te="Xo"+(Object.keys(Hn).length+1).toString(10);ne.id=Te,ks[L]=Te,Hn[Te]=ne,an.publish("addFormObject",ne),ls.pop().restore()}};for(var fA in g.beginFormObject=function(L,ne,Te,Le,Ge){return Bf(L,ne,Te,Le,Ge),this},g.endFormObject=function(L){return r0(L),this},g.doFormObject=function(L,ne){var Te=Hn[ks[L]];return Be("q"),Be(ne.toString()+" cm"),Be("/"+Te.id+" Do"),Be("Q"),this},g.getFormObject=function(L){var ne=Hn[ks[L]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},g.save=function(L,ne){return L=L||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(Jp(zs(uo()),L),typeof Jp.unload=="function"&&$r.setTimeout&&setTimeout(Jp.unload,911),this):new Promise((function(Te,Le){try{var Ge=Jp(zs(uo()),L);typeof Jp.unload=="function"&&$r.setTimeout&&setTimeout(Jp.unload,911),Te(Ge)}catch(ht){Le(ht.message)}}))},Qr.API)Qr.API.hasOwnProperty(fA)&&(fA==="events"&&Qr.API.events.length?(function(L,ne){var Te,Le,Ge;for(Ge=ne.length-1;Ge!==-1;Ge--)Te=ne[Ge][0],Le=ne[Ge][1],L.subscribe.apply(L,[Te].concat(typeof Le=="function"?[Le]:Le))})(an,Qr.API.events):g[fA]=Qr.API[fA]);var dA=g.getPageWidth=function(L){return(Cr[L=L||G].mediaBox.topRightX-Cr[L].mediaBox.bottomLeftX)/Mt},Ah=g.setPageWidth=function(L,ne){Cr[L].mediaBox.topRightX=ne*Mt+Cr[L].mediaBox.bottomLeftX},jo=g.getPageHeight=function(L){return(Cr[L=L||G].mediaBox.topRightY-Cr[L].mediaBox.bottomLeftY)/Mt},uh=g.setPageHeight=function(L,ne){Cr[L].mediaBox.topRightY=ne*Mt+Cr[L].mediaBox.bottomLeftY};return g.internal={pdfEscape:Ms,getStyle:ZA,getFont:ah,getFontSize:Ut,getCharSpace:e0,getTextColor:nu,getLineHeight:Un,getLineHeightFactor:eu,getLineWidth:ho,write:xt,getHorizontalCoordinate:fo,getVerticalCoordinate:Wa,getCoordinateString:tu,getVerticalCoordinateString:tc,collections:{},newObject:cn,newAdditionalObject:_e,newObjectDeferred:yn,newObjectDeferredBegin:oe,getFilters:qe,putStream:tt,events:an,scaleFactor:Mt,pageSize:{getWidth:function(){return dA(G)},setWidth:function(L){Ah(G,L)},getHeight:function(){return jo(G)},setHeight:function(L){uh(G,L)}},encryptionOptions:u,encryption:ci,getEncryptor:gl,output:cA,getNumberOfPages:qs,pages:at,out:Be,f2:re,f3:P,getPageInfo:AA,getPageInfoByObjId:cr,getCurrentPageInfo:sa,getPDFVersion:x,Point:Fc,Rectangle:Ef,Matrix:dr,hasHotfix:ia},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return dA(G)},set:function(L){Ah(G,L)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return jo(G)},set:function(L){uh(G,L)},enumerable:!0,configurable:!0}),bs.call(g,vt),vr="F1",oA(i,r),an.publish("initialized"),g}D1.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},D1.prototype.toHexString=function(t){return t.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},D1.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},D1.prototype.processOwnerPassword=function(t,e){return RN(LN(e).substr(0,5),t)},D1.prototype.encryptor=function(t,e){var r=LN(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return RN(r,n)}},T_.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||_i(t)!==_i(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Qr.API={events:[]},Qr.version="2.5.2";var js=Qr.API,Wk=1,Dm=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},C1=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},sn=function(t){return t.toFixed(2)},B0=function(t){return t.toFixed(5)};js.__acroform__={};var Nc=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},YU=function(t){return t*Wk},Ph=function(t){var e=new tQ,r=ar.internal.getHeight(t)||0,n=ar.internal.getWidth(t)||0;return e.BBox=[0,0,Number(sn(n)),Number(sn(r))],e},see=js.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},aee=js.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},oee=js.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},Zs=js.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return oee(t,e-1)},ea=js.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return see(t,e-1)},ta=js.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return aee(t,e-1)},lee=js.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(sn(l.lowerLeft_X)),Number(sn(l.lowerLeft_Y)),Number(sn(l.upperRight_X)),Number(sn(l.upperRight_Y))]},cee=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=MN(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+sn(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ph(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},MN=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map((function(P){return P.split(`
`)})):i.map((function(P){return[P]}));var s=r,a=ar.internal.getHeight(t)||0;a=a<0?-a:a;var o=ar.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(P,H,q){if(P+1<i.length){var Z=H+" "+i[P+1][0];return _S(Z,t,q).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,f=_S("3",t,s).height,p=t.multiline?a-s:(a-f)/2,g=p+=2,y=0,x=0,w=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+_S(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var S="",B=0,F=0;F<i.length;F++)if(i.hasOwnProperty(F)){var k=!1;if(i[F].length!==1&&w!==i[F].length-1){if((f+2)*(B+2)+2>a)continue e;S+=i[F][w],k=!0,x=F,F--}else{S=(S+=i[F][w]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var O=parseInt(F),R=l(O,S,s),D=F>=i.length-1;if(R&&!D){S+=" ",w=0;continue}if(R||D){if(D)x=O;else if(t.multiline&&(f+2)*(B+2)+2>a)continue e}else{if(!t.multiline||(f+2)*(B+2)+2>a)continue e;x=O}}for(var Q="",V=y;V<=x;V++){var re=i[V];if(t.multiline){if(V===x){Q+=re[w]+" ",w=(w+1)%re.length;continue}if(V===y){Q+=re[re.length-1]+" ";continue}}Q+=re[0]+" "}switch(Q=Q.substr(Q.length-1)==" "?Q.substr(0,Q.length-1):Q,u=_S(Q,t,s).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}e+=sn(c)+" "+sn(g)+` Td
`,e+="("+Dm(Q)+`) Tj
`,e+=-sn(c)+` 0 Td
`,g=-(s+2),u=0,y=k?x:x+1,B++,S=""}break}return n.text=e,n.fontSize=s,n},_S=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Aee={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},uee=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find((function(n){return n.type===r.type&&n.object===r.object}))===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},hee=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),_i(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},fee=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(eh.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Aee)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Wk=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new rQ,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",(function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)})),t.internal.events.subscribe("buildDocument",(function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&uee(s,r)}})(t)})),t.internal.events.subscribe("putCatalog",(function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)})),t.internal.events.subscribe("postPutPages",(function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=lee(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ar.createDefaultAppearanceStream(o),_i(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=cee(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var g=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var a in g)if(g.hasOwnProperty(a)){var y=g[a];typeof y=="function"&&(y=y.call(i,o)),f+="/"+a+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=g)=="function"&&(y=y.call(i,o)),f+="/"+a+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&hee(i.internal.acroformPlugin.xForms,i)})(r,t)})),t.internal.acroformPlugin.isInitialized=!0}},eQ=js.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),_i(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Dm(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},y3=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Dm(n(t))+")"},cf=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};cf.prototype.toString=function(){return this.objId+" 0 R"},cf.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},cf.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter((function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"}));for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:eQ(i,this.objId,this.scope)}):i instanceof cf?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var tQ=function(){cf.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Nc(tQ,cf);var rQ=function(){cf.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Dm(r(t))+")"}},set:function(r){t=r}})};Nc(rQ,cf);var eh=function t(){cf.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zs(e,3)},set:function(S){S?this.F=ea(e,3):this.F=ta(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');r=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof N_)return;s="FieldObject"+t.FieldNum++}var S=function(B){return B};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Dm(S(s))+")"},set:function(S){s=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(S){s=S}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(S){a=S}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(S){l=S}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Wk:c},set:function(S){c=S}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof N_||this instanceof hm))return y3(f,this.objId,this.scope)},set:function(S){S=S.toString(),f=S}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof so?p:y3(p,this.objId,this.scope)},set:function(S){S=S.toString(),p=this instanceof so?S:S.substr(0,1)==="("?C1(S.substr(1,S.length-2)):C1(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof so?C1(p.substr(1,p.length-1)):p},set:function(S){S=S.toString(),p=this instanceof so?"/"+S:S}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof so?g:y3(g,this.objId,this.scope)},set:function(S){S=S.toString(),g=this instanceof so?S:S.substr(0,1)==="("?C1(S.substr(1,S.length-2)):C1(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof so?C1(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof so?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(S){S=!!S,x=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(S){y=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,1)},set:function(S){S?this.Ff=ea(this.Ff,1):this.Ff=ta(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,2)},set:function(S){S?this.Ff=ea(this.Ff,2):this.Ff=ta(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,3)},set:function(S){S?this.Ff=ea(this.Ff,3):this.Ff=ta(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');w=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(w){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};Nc(eh,cf);var iy=function(){eh.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return eQ(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,18)},set:function(r){r?this.Ff=ea(this.Ff,18):this.Ff=ta(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ea(this.Ff,19):this.Ff=ta(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,20)},set:function(r){r?(this.Ff=ea(this.Ff,20),e.sort()):this.Ff=ta(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,22)},set:function(r){r?this.Ff=ea(this.Ff,22):this.Ff=ta(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,23)},set:function(r){r?this.Ff=ea(this.Ff,23):this.Ff=ta(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,27)},set:function(r){r?this.Ff=ea(this.Ff,27):this.Ff=ta(this.Ff,27)}}),this.hasAppearanceStream=!1};Nc(iy,eh);var sy=function(){iy.call(this),this.fontName="helvetica",this.combo=!1};Nc(sy,iy);var ay=function(){sy.call(this),this.combo=!0};Nc(ay,sy);var I5=function(){ay.call(this),this.edit=!0};Nc(I5,ay);var so=function(){eh.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,15)},set:function(r){r?this.Ff=ea(this.Ff,15):this.Ff=ta(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,16)},set:function(r){r?this.Ff=ea(this.Ff,16):this.Ff=ta(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,17)},set:function(r){r?this.Ff=ea(this.Ff,17):this.Ff=ta(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,26)},set:function(r){r?this.Ff=ea(this.Ff,26):this.Ff=ta(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Dm(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){_i(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Nc(so,eh);var k5=function(){so.call(this),this.pushButton=!0};Nc(k5,so);var oy=function(){so.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Nc(oy,so);var N_=function(){var t,e;eh.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Dm(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){_i(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ar.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Nc(N_,eh),oy.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},oy.prototype.createOption=function(t){var e=new N_;return e.Parent=this,e.optionName=t,this.Kids.push(e),dee.call(this.scope,e),e};var L5=function(){so.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ar.CheckBox.createAppearanceStream()};Nc(L5,so);var hm=function(){eh.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,13)},set:function(e){e?this.Ff=ea(this.Ff,13):this.Ff=ta(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,21)},set:function(e){e?this.Ff=ea(this.Ff,21):this.Ff=ta(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,23)},set:function(e){e?this.Ff=ea(this.Ff,23):this.Ff=ta(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,24)},set:function(e){e?this.Ff=ea(this.Ff,24):this.Ff=ta(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,25)},set:function(e){e?this.Ff=ea(this.Ff,25):this.Ff=ta(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,26)},set:function(e){e?this.Ff=ea(this.Ff,26):this.Ff=ta(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Nc(hm,eh);var R5=function(){hm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,14)},set:function(t){t?this.Ff=ea(this.Ff,14):this.Ff=ta(this.Ff,14)}}),this.password=!0};Nc(R5,hm);var ar={CheckBox:{createAppearanceStream:function(){return{N:{On:ar.CheckBox.YesNormal},D:{On:ar.CheckBox.YesPushDown,Off:ar.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ph(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=MN(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+sn(ar.internal.getWidth(t))+" "+sn(ar.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+sn(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Ph(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=ar.internal.getHeight(t),a=ar.internal.getWidth(t),o=MN(t,t.caption);return i.push("1 g"),i.push("0 0 "+sn(a)+" "+sn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+sn(a-1)+" "+sn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+sn(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ph(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+sn(ar.internal.getWidth(t))+" "+sn(ar.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ar.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ar.RadioButton.Circle.YesNormal,e.D[t]=ar.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ph(t);e.scope=t.scope;var r=[],n=ar.internal.getWidth(t)<=ar.internal.getHeight(t)?ar.internal.getWidth(t)/4:ar.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=ar.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+B0(ar.internal.getWidth(t)/2)+" "+B0(ar.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ph(t);e.scope=t.scope;var r=[],n=ar.internal.getWidth(t)<=ar.internal.getHeight(t)?ar.internal.getWidth(t)/4:ar.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*ar.internal.Bezier_C).toFixed(5)),a=Number((n*ar.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+B0(ar.internal.getWidth(t)/2)+" "+B0(ar.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+B0(ar.internal.getWidth(t)/2)+" "+B0(ar.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ph(t);e.scope=t.scope;var r=[],n=ar.internal.getWidth(t)<=ar.internal.getHeight(t)?ar.internal.getWidth(t)/4:ar.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*ar.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+B0(ar.internal.getWidth(t)/2)+" "+B0(ar.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ar.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ar.RadioButton.Cross.YesNormal,e.D[t]=ar.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ph(t);e.scope=t.scope;var r=[],n=ar.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+sn(ar.internal.getWidth(t)-2)+" "+sn(ar.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(sn(n.x1.x)+" "+sn(n.x1.y)+" m"),r.push(sn(n.x2.x)+" "+sn(n.x2.y)+" l"),r.push(sn(n.x4.x)+" "+sn(n.x4.y)+" m"),r.push(sn(n.x3.x)+" "+sn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ph(t);e.scope=t.scope;var r=ar.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+sn(ar.internal.getWidth(t))+" "+sn(ar.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+sn(ar.internal.getWidth(t)-2)+" "+sn(ar.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(sn(r.x1.x)+" "+sn(r.x1.y)+" m"),n.push(sn(r.x2.x)+" "+sn(r.x2.y)+" l"),n.push(sn(r.x4.x)+" "+sn(r.x4.y)+" m"),n.push(sn(r.x3.x)+" "+sn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ph(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+sn(ar.internal.getWidth(t))+" "+sn(ar.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};ar.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ar.internal.getWidth(t),r=ar.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},ar.internal.getWidth=function(t){var e=0;return _i(t)==="object"&&(e=YU(t.Rect[2])),e},ar.internal.getHeight=function(t){var e=0;return _i(t)==="object"&&(e=YU(t.Rect[3])),e};var dee=js.addField=function(t){if(fee(this,t),!(t instanceof eh))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};js.AcroFormChoiceField=iy,js.AcroFormListBox=sy,js.AcroFormComboBox=ay,js.AcroFormEditBox=I5,js.AcroFormButton=so,js.AcroFormPushButton=k5,js.AcroFormRadioButton=oy,js.AcroFormCheckBox=L5,js.AcroFormTextField=hm,js.AcroFormPasswordField=R5,js.AcroFormAppearance=ar,js.AcroForm={ChoiceField:iy,ListBox:sy,ComboBox:ay,EditBox:I5,Button:so,PushButton:k5,RadioButton:oy,CheckBox:L5,TextField:hm,PasswordField:R5,Appearance:ar},Qr.AcroForm={ChoiceField:iy,ListBox:sy,ComboBox:ay,EditBox:I5,Button:so,PushButton:k5,RadioButton:oy,CheckBox:L5,TextField:hm,PasswordField:R5,Appearance:ar};Qr.AcroForm;function nQ(t){return t.reduce((function(e,r,n){return e[r]=n,e}),{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(P,H){var q,Z,se,X,ee,te=e;if((H=H||e)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(R(P))for(ee in r)for(se=r[ee],q=0;q<se.length;q+=1){for(X=!0,Z=0;Z<se[q].length;Z+=1)if(se[q][Z]!==void 0&&se[q][Z]!==P[Z]){X=!1;break}if(X===!0){te=ee;break}}else for(ee in r)for(se=r[ee],q=0;q<se.length;q+=1){for(X=!0,Z=0;Z<se[q].length;Z+=1)if(se[q][Z]!==void 0&&se[q][Z]!==P.charCodeAt(Z)){X=!1;break}if(X===!0){te=ee;break}}return te===e&&H!==e&&(te=H),te},i=function P(H){for(var q=this.internal.write,Z=this.internal.putStream,se=(0,this.internal.getFilters)();se.indexOf("FlateEncode")!==-1;)se.splice(se.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:H.width}),X.push({key:"Height",value:H.height}),H.colorSpace===w.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===w.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)){for(var ee="",te=0,Ce=H.transparency.length;te<Ce;te++)ee+=H.transparency[te]+" "+H.transparency[te]+" ";X.push({key:"Mask",value:"["+ee+"]"})}H.sMask!==void 0&&X.push({key:"SMask",value:H.objectId+1+" 0 R"});var ke=H.filter!==void 0?["/"+H.filter]:void 0;if(Z({data:H.data,additionalKeyValues:X,alreadyAppliedFilters:ke,objectId:H.objectId}),q("endobj"),"sMask"in H&&H.sMask!==void 0){var le="/Predictor "+H.predictor+" /Colors 1 /BitsPerComponent "+H.bitsPerComponent+" /Columns "+H.width,M={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:H.bitsPerComponent,decodeParameters:le,data:H.sMask};"filter"in H&&(M.filter=H.filter),P.call(this,M)}if(H.colorSpace===w.INDEXED){var G=this.internal.newObject();Z({data:Q(new Uint8Array(H.palette)),objectId:G}),q("endobj")}},s=function(){var P=this.internal.collections.addImage_images;for(var H in P)i.call(this,P[H])},a=function(){var P,H=this.internal.collections.addImage_images,q=this.internal.write;for(var Z in H)q("/I"+(P=H[Z]).index,P.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var P=this.internal.collections.addImage_images;return o.call(this),P},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(P){return typeof t["process"+P.toUpperCase()]=="function"},f=function(P){return _i(P)==="object"&&P.nodeType===1},p=function(P,H){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var q=""+P.getAttribute("src");if(q.indexOf("data:image/")===0)return O2(unescape(q).split("base64,").pop());var Z=t.loadFile(q,!0);if(Z!==void 0)return Z}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var se;switch(H){case"PNG":se="image/png";break;case"WEBP":se="image/webp";break;case"JPEG":case"JPG":default:se="image/jpeg"}return O2(P.toDataURL(se,1).split("base64,").pop())}},g=function(P){var H=this.internal.collections.addImage_images;if(H){for(var q in H)if(P===H[q].alias)return H[q]}},y=function(P,H,q){return P||H||(P=-96,H=-96),P<0&&(P=-1*q.width*72/P/this.internal.scaleFactor),H<0&&(H=-1*q.height*72/H/this.internal.scaleFactor),P===0&&(P=H*q.width/q.height),H===0&&(H=P*q.height/q.width),[P,H]},x=function(P,H,q,Z,se,X){var ee=y.call(this,q,Z,se),te=this.internal.getCoordinateString,Ce=this.internal.getVerticalCoordinateString,ke=l.call(this);if(q=ee[0],Z=ee[1],ke[se.index]=se,X){X*=Math.PI/180;var le=Math.cos(X),M=Math.sin(X),G=function(J){return J.toFixed(4)},W=[G(le),G(M),G(-1*M),G(le),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,te(P),Ce(H+Z),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([te(q),"0","0",te(Z),"0","0","cm"].join(" "))):this.internal.write([te(q),"0","0",te(Z),te(P),Ce(H+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+se.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=t.__addimage__.sHashCode=function(P){var H,q,Z=0;if(typeof P=="string")for(q=P.length,H=0;H<q;H++)Z=(Z<<5)-Z+P.charCodeAt(H),Z|=0;else if(R(P))for(q=P.byteLength/2,H=0;H<q;H++)Z=(Z<<5)-Z+P[H],Z|=0;return Z},F=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var H=!0;return P.length===0&&(H=!1),P.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(H=!1),H},k=t.__addimage__.extractImageFromDataUrl=function(P){var H=(P=P||"").split("base64,"),q=null;if(H.length===2){var Z=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(H[0]);Array.isArray(Z)&&(q={mimeType:Z[1],charset:Z[2],data:H[1]})}return q},O=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(P){return O()&&P instanceof ArrayBuffer};var R=t.__addimage__.isArrayBufferView=function(P){return O()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},D=t.__addimage__.binaryStringToUint8Array=function(P){for(var H=P.length,q=new Uint8Array(H),Z=0;Z<H;Z++)q[Z]=P.charCodeAt(Z);return q},Q=t.__addimage__.arrayBufferToBinaryString=function(P){for(var H="",q=R(P)?P:new Uint8Array(P),Z=0;Z<q.length;Z+=8192)H+=String.fromCharCode.apply(null,q.subarray(Z,Z+8192));return H};t.addImage=function(){var P,H,q,Z,se,X,ee,te,Ce;if(typeof arguments[1]=="number"?(H=e,q=arguments[1],Z=arguments[2],se=arguments[3],X=arguments[4],ee=arguments[5],te=arguments[6],Ce=arguments[7]):(H=arguments[1],q=arguments[2],Z=arguments[3],se=arguments[4],X=arguments[5],ee=arguments[6],te=arguments[7],Ce=arguments[8]),_i(P=arguments[0])==="object"&&!f(P)&&"imageData"in P){var ke=P;P=ke.imageData,H=ke.format||H||e,q=ke.x||q||0,Z=ke.y||Z||0,se=ke.w||ke.width||se,X=ke.h||ke.height||X,ee=ke.alias||ee,te=ke.compression||te,Ce=ke.rotation||ke.angle||Ce}var le=this.internal.getFilters();if(te===void 0&&le.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(q)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var M=V.call(this,P,H,ee,te);return x.call(this,q,Z,se,X,M,Ce),this};var V=function(P,H,q,Z){var se,X,ee;if(typeof P=="string"&&n(P)===e){P=unescape(P);var te=re(P,!1);(te!==""||(te=t.loadFile(P,!0))!==void 0)&&(P=te)}if(f(P)&&(P=p(P,H)),H=n(P,H),!u(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((ee=q)==null||ee.length===0)&&(q=(function(Ce){return typeof Ce=="string"||R(Ce)?B(Ce):R(Ce.data)?B(Ce.data):null})(P)),(se=g.call(this,q))||(O()&&(P instanceof Uint8Array||H==="RGBA"||(X=P,P=D(P))),se=this["process"+H.toUpperCase()](P,c.call(this),q,(function(Ce){return Ce&&typeof Ce=="string"&&(Ce=Ce.toUpperCase()),Ce in t.image_compression?Ce:S.NONE})(Z),X)),!se)throw new Error("An unknown error occurred whilst processing the image.");return se},re=t.__addimage__.convertBase64ToBinaryString=function(P,H){var q;H=typeof H!="boolean"||H;var Z,se="";if(typeof P=="string"){Z=(q=k(P))!==null?q.data:P;try{se=O2(Z)}catch(X){if(H)throw F(Z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return se};t.getImageProperties=function(P){var H,q,Z="";if(f(P)&&(P=p(P)),typeof P=="string"&&n(P)===e&&((Z=re(P,!1))===""&&(Z=t.loadFile(P)||""),P=Z),q=n(P),!u(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(!O()||P instanceof Uint8Array||(P=D(P)),!(H=this["process"+q.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=q,H}})(Qr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Qr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var g=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(x.objId),B=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+g(S(n.contents))+")",s+=" /Popup "+w.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+g(S(B))+") >>",x.content=s;var F=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+F,n.open&&(s+=" /Open true"),s+=" >>",w.content=s,this.internal.write(x.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(y(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var R=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+R+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(r,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(r,n,i,s),i+=.2*c,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-c,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Qr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},o=t.__arabicParser__.isArabicEndLetter=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return a(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(x){var w=0,S=r,B="",F=0;for(w=0;w<x.length;w+=1)S[x.charCodeAt(w)]!==void 0?(F++,typeof(S=S[x.charCodeAt(w)])=="number"&&(B+=String.fromCharCode(S),S=r,F=0),w===x.length-1&&(S=r,B+=x.charAt(w-(F-1)),w-=F-1,F=0)):(S=r,B+=x.charAt(w-F),w-=F,F=0);return B};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(x,w,S){return a(x)?s(x)===!1?-1:!c(x)||!a(w)&&!a(S)||!a(S)&&o(w)||o(x)&&!a(w)||o(x)&&l(w)||o(x)&&o(w)?0:u(x)&&a(w)&&!o(w)&&a(S)&&c(S)?3:o(x)||!a(S)?1:2:-1},g=function(x){var w=0,S=0,B=0,F="",k="",O="",R=(x=x||"").split("\\s+"),D=[];for(w=0;w<R.length;w+=1){for(D.push(""),S=0;S<R[w].length;S+=1)F=R[w][S],k=R[w][S-1],O=R[w][S+1],a(F)?(B=p(F,k,O),D[w]+=B!==-1?String.fromCharCode(e[F.charCodeAt(0)][B]):F):D[w]+=F;D[w]=f(D[w])}return D.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var x,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(w)){var B=0;for(S=[],B=0;B<w.length;B+=1)Array.isArray(w[B])?S.push([g(w[B][0]),w[B][1],w[B][2]]):S.push([g(w[B])]);x=S}else x=g(w);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",y])})(Qr.API),Qr.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Qr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(x){y=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,g=0,y=0,x=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var S=c.maxWidth;S>0?typeof l=="string"?l=this.splitTextToSize(l,S):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce((function(F,k){return F.concat(w.splitTextToSize(k,S))}),[])):l=Array.isArray(l)?l:[l];for(var B=0;B<l.length;B++)g<(x=this.getStringUnitWidth(l[B],{font:f})*u)&&(g=x);return g!==0&&(y=l.length),{w:g/=p,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,g&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var g,y,x,w,S=[],B=[],F=[],k={},O={},R=[],D=[],Q=(p=p||{}).autoSize||!1,V=p.printHeaders!==!1,re=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,P=p.margins||Object.assign({width:this.getPageWidth()},e),H=typeof p.padding=="number"?p.padding:3,q=p.headerBackgroundColor||"#c8c8c8",Z=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=re,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=q,this.internal.__cell__.headerTextColor=Z,this.setFontSize(re),f==null)B=S=Object.keys(u[0]),F=S.map((function(){return"left"}));else if(Array.isArray(f)&&_i(f[0])==="object")for(S=f.map((function(ke){return ke.name})),B=f.map((function(ke){return ke.prompt||ke.name||""})),F=f.map((function(ke){return ke.align||"left"})),g=0;g<f.length;g+=1)O[f[g].name]=f[g].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(B=S=f,F=S.map((function(){return"left"})));if(Q||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<S.length;g+=1){for(k[w=S[g]]=u.map((function(ke){return ke[w]})),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(B[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=k[w],this.setFont(void 0,"normal"),x=0;x<y.length;x+=1)R.push(this.getTextDimensions(y[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[w]=Math.max.apply(null,R)+H+H,R=[]}if(V){var se={};for(g=0;g<S.length;g+=1)se[S[g]]={},se[S[g]].text=B[g],se[S[g]].align=F[g];var X=o.call(this,se,O);D=S.map((function(ke){return new s(l,c,O[ke],X,se[ke].text,void 0,se[ke].align)})),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var ee=f.reduce((function(ke,le){return ke[le.name]=le.align,ke}),{});for(g=0;g<u.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:u[g]},this);var te=o.call(this,u[g],O);for(x=0;x<S.length;x+=1){var Ce=u[g][S[x]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:x,data:Ce},this),a.call(this,new s(l,c,O[S[x]],te,Ce,g+2,ee[S[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map((function(g){var y=l[g];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[g]-u-u)}),this).map((function(g){return this.getLineHeightFactor()*g.length*f/p+u+u}),this).reduce((function(g,y){return Math.max(g,y)}),0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){u=this.internal.__cell__.tableHeaderRow[g].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}})(Qr.API);var iQ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},sQ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],UN=nQ(sQ),aQ=[100,200,300,400,500,600,700,800,900],pee=nQ(aQ);function DN(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(s){return iQ[s=s||"normal"]?s:"normal"})(t.style),n=(function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}})(t.weight),i=(function(s){return typeof UN[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function XU(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var gee={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},JU={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ZU(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function mee(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},gee,r.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=DN(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+ZU(s)+"' and default family '"+n+"'.");if(a=(function(l,c){if(c[l])return c[l];var u=UN[l],f=u<=UN.normal?-1:1,p=XU(c,sQ,u,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p})(s.stretch,a),a=(function(l,c){if(c[l])return c[l];for(var u=iQ[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)})(s.style,a),!(a=(function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=pee[l],f=XU(c,aQ,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f})(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+ZU(s)+"'.");return a}function eD(t){return t.trimLeft()}function yee(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function xee(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var ES,tD,rD,x3=["times"];(function(t){var e,r,n,i,s,a,o,l,c,u=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new a,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new a,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=M;Object.defineProperty(this,"pdf",{get:function(){return G}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(it){W=!!it}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(it){J=!!it}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(it){isNaN(it)||(ae=it)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(it){isNaN(it)||(ve=it)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(it){var Be;typeof it=="number"?Be=[it,it,it,it]:((Be=new Array(4))[0]=it[0],Be[1]=it.length>=2?it[1]:Be[0],Be[2]=it.length>=3?it[2]:Be[0],Be[3]=it.length>=4?it[3]:Be[1]),c.margin=Be}});var Fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Fe},set:function(it){Fe=it}});var Ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ie},set:function(it){Ie=it}});var He=[];Object.defineProperty(this,"pageBreaks",{get:function(){return He},set:function(it){He=it}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(it){it instanceof u&&(c=it)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(it){c.path=it}});var at=[];Object.defineProperty(this,"ctxStack",{get:function(){return at},set:function(it){at=it}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(it){var Be;Be=p(it),this.ctx.fillStyle=Be.style,this.ctx.isFillTransparent=Be.a===0,this.ctx.fillOpacity=Be.a,this.pdf.setFillColor(Be.r,Be.g,Be.b,{a:Be.a}),this.pdf.setTextColor(Be.r,Be.g,Be.b,{a:Be.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(it){var Be=p(it);this.ctx.strokeStyle=Be.style,this.ctx.isStrokeTransparent=Be.a===0,this.ctx.strokeOpacity=Be.a,Be.a===0?this.pdf.setDrawColor(255,255,255):(Be.a,this.pdf.setDrawColor(Be.r,Be.g,Be.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(it){["butt","round","square"].indexOf(it)!==-1&&(this.ctx.lineCap=it,this.pdf.setLineCap(it))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(it){isNaN(it)||(this.ctx.lineWidth=it,this.pdf.setLineWidth(it))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(it){["bevel","round","miter"].indexOf(it)!==-1&&(this.ctx.lineJoin=it,this.pdf.setLineJoin(it))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(it){isNaN(it)||(this.ctx.miterLimit=it,this.pdf.setMiterLimit(it))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(it){this.ctx.textBaseline=it}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(it){["right","end","center","left","start"].indexOf(it)!==-1&&(this.ctx.textAlign=it)}});var lt=null;function St(it,Be){if(lt===null){var xt=(function(Dt){var vt=[];return Object.keys(Dt).forEach((function(Ft){Dt[Ft].forEach((function(Lt){var Ut=null;switch(Lt){case"bold":Ut={family:Ft,weight:"bold"};break;case"italic":Ut={family:Ft,style:"italic"};break;case"bolditalic":Ut={family:Ft,weight:"bold",style:"italic"};break;case"":case"normal":Ut={family:Ft}}Ut!==null&&(Ut.ref={name:Ft,style:Lt},vt.push(Ut))}))})),vt})(it.getFontList());lt=(function(Dt){for(var vt={},Ft=0;Ft<Dt.length;++Ft){var Lt=DN(Dt[Ft]),Ut=Lt.family,ir=Lt.stretch,Vt=Lt.style,_r=Lt.weight;vt[Ut]=vt[Ut]||{},vt[Ut][ir]=vt[Ut][ir]||{},vt[Ut][ir][Vt]=vt[Ut][ir][Vt]||{},vt[Ut][ir][Vt][_r]=Lt}return vt})(xt.concat(Be))}return lt}var Nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Nt},set:function(it){lt=null,Nt=it}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(it){var Be;if(this.ctx.font=it,(Be=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(it))!==null){var xt=Be[1],Dt=(Be[2],Be[3]),vt=Be[4],Ft=(Be[5],Be[6]),Lt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(vt)[2];vt=Math.floor(Lt==="px"?parseFloat(vt)*this.pdf.internal.scaleFactor:Lt==="em"?parseFloat(vt)*this.pdf.getFontSize():parseFloat(vt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(vt);var Ut=(function(xr){var vr,Mt,Ti=[],Ur=xr.trim();if(Ur==="")return x3;if(Ur in JU)return[JU[Ur]];for(;Ur!=="";){switch(Mt=null,vr=(Ur=eD(Ur)).charAt(0)){case'"':case"'":Mt=yee(Ur.substring(1),vr);break;default:Mt=xee(Ur)}if(Mt===null||(Ti.push(Mt[0]),(Ur=eD(Mt[1]))!==""&&Ur.charAt(0)!==","))return x3;Ur=Ur.replace(/^,/,"")}return Ti})(Ft);if(this.fontFaces){var ir=mee(St(this.pdf,this.fontFaces),Ut.map((function(xr){return{family:xr,stretch:"normal",weight:Dt,style:xt}})));this.pdf.setFont(ir.ref.name,ir.ref.style)}else{var Vt="";(Dt==="bold"||parseInt(Dt,10)>=700||xt==="bold")&&(Vt="bold"),xt==="italic"&&(Vt+="italic"),Vt.length===0&&(Vt="normal");for(var _r="",tr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},kr=0;kr<Ut.length;kr++){if(this.pdf.internal.getFont(Ut[kr],Vt,{noFallback:!0,disableWarning:!0})!==void 0){_r=Ut[kr];break}if(Vt==="bolditalic"&&this.pdf.internal.getFont(Ut[kr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)_r=Ut[kr],Vt="bold";else if(this.pdf.internal.getFont(Ut[kr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){_r=Ut[kr],Vt="normal";break}}if(_r===""){for(var zr=0;zr<Ut.length;zr++)if(tr[Ut[zr]]){_r=tr[Ut[zr]];break}}_r=_r===""?"Times":_r,this.pdf.setFont(_r,Vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(it){this.ctx.globalCompositeOperation=it}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(it){this.ctx.globalAlpha=it}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(it){this.ctx.lineDashOffset=it,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(it){this.ctx.lineDash=it,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(it){this.ctx.ignoreClearRect=!!it}})};f.prototype.setLineDash=function(M){this.lineDash=M},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){k.call(this,"fill",!1)},f.prototype.stroke=function(){k.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(M,G){if(isNaN(M)||isNaN(G))throw zi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new a(M,G));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(M,G)},f.prototype.closePath=function(){var M=new a(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&_i(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){M=new a(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(M.x,M.y)},f.prototype.lineTo=function(M,G){if(isNaN(M)||isNaN(G))throw zi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new a(M,G));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(W.x,W.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},f.prototype.quadraticCurveTo=function(M,G,W,J){if(isNaN(W)||isNaN(J)||isNaN(M)||isNaN(G))throw zi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new a(W,J)),ve=this.ctx.transform.applyToPoint(new a(M,G));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new a(ae.x,ae.y)},f.prototype.bezierCurveTo=function(M,G,W,J,ae,ve){if(isNaN(ae)||isNaN(ve)||isNaN(M)||isNaN(G)||isNaN(W)||isNaN(J))throw zi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Fe=this.ctx.transform.applyToPoint(new a(ae,ve)),Ie=this.ctx.transform.applyToPoint(new a(M,G)),He=this.ctx.transform.applyToPoint(new a(W,J));this.path.push({type:"bct",x1:Ie.x,y1:Ie.y,x2:He.x,y2:He.y,x:Fe.x,y:Fe.y}),this.ctx.lastPoint=new a(Fe.x,Fe.y)},f.prototype.arc=function(M,G,W,J,ae,ve){if(isNaN(M)||isNaN(G)||isNaN(W)||isNaN(J)||isNaN(ae))throw zi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var Fe=this.ctx.transform.applyToPoint(new a(M,G));M=Fe.x,G=Fe.y;var Ie=this.ctx.transform.applyToPoint(new a(0,W)),He=this.ctx.transform.applyToPoint(new a(0,0));W=Math.sqrt(Math.pow(Ie.x-He.x,2)+Math.pow(Ie.y-He.y,2))}Math.abs(ae-J)>=2*Math.PI&&(J=0,ae=2*Math.PI),this.path.push({type:"arc",x:M,y:G,radius:W,startAngle:J,endAngle:ae,counterclockwise:ve})},f.prototype.arcTo=function(M,G,W,J,ae){throw new Error("arcTo not implemented.")},f.prototype.rect=function(M,G,W,J){if(isNaN(M)||isNaN(G)||isNaN(W)||isNaN(J))throw zi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,G),this.lineTo(M+W,G),this.lineTo(M+W,G+J),this.lineTo(M,G+J),this.lineTo(M,G),this.lineTo(M+W,G),this.lineTo(M,G)},f.prototype.fillRect=function(M,G,W,J){if(isNaN(M)||isNaN(G)||isNaN(W)||isNaN(J))throw zi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,G,W,J),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},f.prototype.strokeRect=function(M,G,W,J){if(isNaN(M)||isNaN(G)||isNaN(W)||isNaN(J))throw zi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(M,G,W,J),this.stroke())},f.prototype.clearRect=function(M,G,W,J){if(isNaN(M)||isNaN(G)||isNaN(W)||isNaN(J))throw zi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,G,W,J))},f.prototype.save=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},f.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(G),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(M){var G,W,J,ae;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))G=0,W=0,J=0,ae=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ve!==null)G=parseInt(ve[1]),W=parseInt(ve[2]),J=parseInt(ve[3]),ae=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)G=parseInt(ve[1]),W=parseInt(ve[2]),J=parseInt(ve[3]),ae=parseFloat(ve[4]);else{if(ae=1,typeof M=="string"&&M.charAt(0)!=="#"){var Fe=new XH(M);M=Fe.ok?Fe.toHex():"#000000"}M.length===4?(G=M.substring(1,2),G+=G,W=M.substring(2,3),W+=W,J=M.substring(3,4),J+=J):(G=M.substring(1,3),W=M.substring(3,5),J=M.substring(5,7)),G=parseInt(G,16),W=parseInt(W,16),J=parseInt(J,16)}}return{r:G,g:W,b:J,a:ae,style:M}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(M,G,W,J){if(isNaN(G)||isNaN(W)||typeof M!="string")throw zi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!g.call(this)){var ae=te(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;H.call(this,{text:M,x:G,y:W,scale:ve,angle:ae,align:this.textAlign,maxWidth:J})}},f.prototype.strokeText=function(M,G,W,J){if(isNaN(G)||isNaN(W)||typeof M!="string")throw zi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){J=isNaN(J)?void 0:J;var ae=te(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;H.call(this,{text:M,x:G,y:W,scale:ve,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:J})}},f.prototype.measureText=function(M){if(typeof M!="string")throw zi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,W=this.pdf.internal.scaleFactor,J=G.internal.getFontSize(),ae=G.getStringUnitWidth(M)*J/G.internal.scaleFactor,ve=function(Fe){var Ie=(Fe=Fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ie}}),this};return new ve({width:ae*=Math.round(96*W/72*1e4)/1e4})},f.prototype.scale=function(M,G){if(isNaN(M)||isNaN(G))throw zi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new l(M,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.rotate=function(M){if(isNaN(M))throw zi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.translate=function(M,G){if(isNaN(M)||isNaN(G))throw zi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new l(1,0,0,1,M,G);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.transform=function(M,G,W,J,ae,ve){if(isNaN(M)||isNaN(G)||isNaN(W)||isNaN(J)||isNaN(ae)||isNaN(ve))throw zi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Fe=new l(M,G,W,J,ae,ve);this.ctx.transform=this.ctx.transform.multiply(Fe)},f.prototype.setTransform=function(M,G,W,J,ae,ve){M=isNaN(M)?1:M,G=isNaN(G)?0:G,W=isNaN(W)?0:W,J=isNaN(J)?1:J,ae=isNaN(ae)?0:ae,ve=isNaN(ve)?0:ve,this.ctx.transform=new l(M,G,W,J,ae,ve)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(M,G,W,J,ae,ve,Fe,Ie,He){var at=this.pdf.getImageProperties(M),lt=1,St=1,Nt=1,it=1;J!==void 0&&Ie!==void 0&&(Nt=Ie/J,it=He/ae,lt=at.width/J*Ie/J,St=at.height/ae*He/ae),ve===void 0&&(ve=G,Fe=W,G=0,W=0),J!==void 0&&Ie===void 0&&(Ie=J,He=ae),J===void 0&&Ie===void 0&&(Ie=at.width,He=at.height);for(var Be,xt=this.ctx.transform.decompose(),Dt=te(xt.rotate.shx),vt=new l,Ft=(vt=(vt=(vt=vt.multiply(xt.translate)).multiply(xt.skew)).multiply(xt.scale)).applyToRectangle(new o(ve-G*Nt,Fe-W*it,J*lt,ae*St)),Lt=w.call(this,Ft),Ut=[],ir=0;ir<Lt.length;ir+=1)Ut.indexOf(Lt[ir])===-1&&Ut.push(Lt[ir]);if(F(Ut),this.autoPaging)for(var Vt=Ut[0],_r=Ut[Ut.length-1],tr=Vt;tr<_r+1;tr++){this.pdf.setPage(tr);var kr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],zr=tr===1?this.posY+this.margin[0]:this.margin[0],xr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Mt=tr===1?0:xr+(tr-2)*vr;if(this.ctx.clip_path.length!==0){var Ti=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Be,this.posX+this.margin[3],-Mt+zr+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=Ti}var Ur=JSON.parse(JSON.stringify(Ft));Ur=B([Ur],this.posX+this.margin[3],-Mt+zr+this.ctx.prevPageLastElemOffset)[0];var mn=(tr>Vt||tr<_r)&&x.call(this);mn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kr,vr,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Ur.x,Ur.y,Ur.w,Ur.h,null,null,Dt),mn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,Dt)};var w=function(M,G,W){var J=[];G=G||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":J.push(Math.floor((M.y+ae)/W)+1);break;case"arc":J.push(Math.floor((M.y+ae-M.radius)/W)+1),J.push(Math.floor((M.y+ae+M.radius)/W)+1);break;case"qct":var ve=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);J.push(Math.floor((ve.y+ae)/W)+1),J.push(Math.floor((ve.y+ve.h+ae)/W)+1);break;case"bct":var Fe=ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);J.push(Math.floor((Fe.y+ae)/W)+1),J.push(Math.floor((Fe.y+Fe.h+ae)/W)+1);break;case"rect":J.push(Math.floor((M.y+ae)/W)+1),J.push(Math.floor((M.y+M.h+ae)/W)+1)}for(var Ie=0;Ie<J.length;Ie+=1)for(;this.pdf.internal.getNumberOfPages()<J[Ie];)S.call(this);return J},S=function(){var M=this.fillStyle,G=this.strokeStyle,W=this.font,J=this.lineCap,ae=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=G,this.font=W,this.lineCap=J,this.lineWidth=ae,this.lineJoin=ve},B=function(M,G,W){for(var J=0;J<M.length;J++)switch(M[J].type){case"bct":M[J].x2+=G,M[J].y2+=W;case"qct":M[J].x1+=G,M[J].y1+=W;case"mt":case"lt":case"arc":default:M[J].x+=G,M[J].y+=W}return M},F=function(M){return M.sort((function(G,W){return G-W}))},k=function(M,G){for(var W,J,ae=this.fillStyle,ve=this.strokeStyle,Fe=this.lineCap,Ie=this.lineWidth,He=Math.abs(Ie*this.ctx.transform.scaleX),at=this.lineJoin,lt=JSON.parse(JSON.stringify(this.path)),St=JSON.parse(JSON.stringify(this.path)),Nt=[],it=0;it<St.length;it++)if(St[it].x!==void 0)for(var Be=w.call(this,St[it]),xt=0;xt<Be.length;xt+=1)Nt.indexOf(Be[xt])===-1&&Nt.push(Be[xt]);for(var Dt=0;Dt<Nt.length;Dt++)for(;this.pdf.internal.getNumberOfPages()<Nt[Dt];)S.call(this);if(F(Nt),this.autoPaging)for(var vt=Nt[0],Ft=Nt[Nt.length-1],Lt=vt;Lt<Ft+1;Lt++){this.pdf.setPage(Lt),this.fillStyle=ae,this.strokeStyle=ve,this.lineCap=Fe,this.lineWidth=He,this.lineJoin=at;var Ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ir=Lt===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_r=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tr=Lt===1?0:Vt+(Lt-2)*_r;if(this.ctx.clip_path.length!==0){var kr=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(W,this.posX+this.margin[3],-tr+ir+this.ctx.prevPageLastElemOffset),O.call(this,M,!0),this.path=kr}if(J=JSON.parse(JSON.stringify(lt)),this.path=B(J,this.posX+this.margin[3],-tr+ir+this.ctx.prevPageLastElemOffset),G===!1||Lt===0){var zr=(Lt>vt||Lt<Ft)&&x.call(this);zr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,_r,null).clip().discardPath()),O.call(this,M,G),zr&&this.pdf.restoreGraphicsState()}this.lineWidth=Ie}else this.lineWidth=He,O.call(this,M,G),this.lineWidth=Ie;this.path=lt},O=function(M,G){if((M!=="stroke"||G||!y.call(this))&&(M==="stroke"||G||!g.call(this))){for(var W,J,ae=[],ve=this.path,Fe=0;Fe<ve.length;Fe++){var Ie=ve[Fe];switch(Ie.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:Ie,deltas:[],abs:[]});break;case"lt":var He=ae.length;if(ve[Fe-1]&&!isNaN(ve[Fe-1].x)&&(W=[Ie.x-ve[Fe-1].x,Ie.y-ve[Fe-1].y],He>0)){for(;He>=0;He--)if(ae[He-1].close!==!0&&ae[He-1].begin!==!0){ae[He-1].deltas.push(W),ae[He-1].abs.push(Ie);break}}break;case"bct":W=[Ie.x1-ve[Fe-1].x,Ie.y1-ve[Fe-1].y,Ie.x2-ve[Fe-1].x,Ie.y2-ve[Fe-1].y,Ie.x-ve[Fe-1].x,Ie.y-ve[Fe-1].y],ae[ae.length-1].deltas.push(W);break;case"qct":var at=ve[Fe-1].x+2/3*(Ie.x1-ve[Fe-1].x),lt=ve[Fe-1].y+2/3*(Ie.y1-ve[Fe-1].y),St=Ie.x+2/3*(Ie.x1-Ie.x),Nt=Ie.y+2/3*(Ie.y1-Ie.y),it=Ie.x,Be=Ie.y;W=[at-ve[Fe-1].x,lt-ve[Fe-1].y,St-ve[Fe-1].x,Nt-ve[Fe-1].y,it-ve[Fe-1].x,Be-ve[Fe-1].y],ae[ae.length-1].deltas.push(W);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(Ie)}}J=G?null:M==="stroke"?"stroke":"fill";for(var xt=!1,Dt=0;Dt<ae.length;Dt++)if(ae[Dt].arc)for(var vt=ae[Dt].abs,Ft=0;Ft<vt.length;Ft++){var Lt=vt[Ft];Lt.type==="arc"?Q.call(this,Lt.x,Lt.y,Lt.radius,Lt.startAngle,Lt.endAngle,Lt.counterclockwise,void 0,G,!xt):q.call(this,Lt.x,Lt.y),xt=!0}else if(ae[Dt].close===!0)this.pdf.internal.out("h"),xt=!1;else if(ae[Dt].begin!==!0){var Ut=ae[Dt].start.x,ir=ae[Dt].start.y;Z.call(this,ae[Dt].deltas,Ut,ir),xt=!0}J&&V.call(this,J),G&&re.call(this)}},R=function(M){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-W;case"top":return M+G-W;case"hanging":return M+G-2*W;case"middle":return M+G/2-W;case"ideographic":return M;case"alphabetic":default:return M}},D=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(G,W){this.colorStops.push([G,W])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Q=function(M,G,W,J,ae,ve,Fe,Ie,He){for(var at=X.call(this,W,J,ae,ve),lt=0;lt<at.length;lt++){var St=at[lt];lt===0&&(He?P.call(this,St.x1+M,St.y1+G):q.call(this,St.x1+M,St.y1+G)),se.call(this,M,G,St.x2,St.y2,St.x3,St.y3,St.x4,St.y4)}Ie?re.call(this):V.call(this,Fe)},V=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},re=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(M,G){this.pdf.internal.out(r(M)+" "+n(G)+" m")},H=function(M){var G;switch(M.align){case"right":case"end":G="right";break;case"center":G="center";break;case"left":case"start":default:G="left"}var W=this.pdf.getTextDimensions(M.text),J=R.call(this,M.y),ae=D.call(this,J)-W.h,ve=this.ctx.transform.applyToPoint(new a(M.x,J)),Fe=this.ctx.transform.decompose(),Ie=new l;Ie=(Ie=(Ie=Ie.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale);for(var He,at,lt,St=this.ctx.transform.applyToRectangle(new o(M.x,J,W.w,W.h)),Nt=Ie.applyToRectangle(new o(M.x,ae,W.w,W.h)),it=w.call(this,Nt),Be=[],xt=0;xt<it.length;xt+=1)Be.indexOf(it[xt])===-1&&Be.push(it[xt]);if(F(Be),this.autoPaging)for(var Dt=Be[0],vt=Be[Be.length-1],Ft=Dt;Ft<vt+1;Ft++){this.pdf.setPage(Ft);var Lt=Ft===1?this.posY+this.margin[0]:this.margin[0],Ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ir=this.pdf.internal.pageSize.height-this.margin[2],Vt=ir-this.margin[0],_r=this.pdf.internal.pageSize.width-this.margin[1],tr=_r-this.margin[3],kr=Ft===1?0:Ut+(Ft-2)*Vt;if(this.ctx.clip_path.length!==0){var zr=this.path;He=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(He,this.posX+this.margin[3],-1*kr+Lt),O.call(this,"fill",!0),this.path=zr}var xr=B([JSON.parse(JSON.stringify(Nt))],this.posX+this.margin[3],-kr+Lt+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(at=this.pdf.internal.getFontSize(),this.pdf.setFontSize(at*M.scale),lt=this.lineWidth,this.lineWidth=lt*M.scale);var vr=this.autoPaging!=="text";if(vr||xr.y+xr.h<=ir){if(vr||xr.y>=Lt&&xr.x<=_r){var Mt=vr?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||_r-xr.x)[0],Ti=B([JSON.parse(JSON.stringify(St))],this.posX+this.margin[3],-kr+Lt+this.ctx.prevPageLastElemOffset)[0],Ur=vr&&(Ft>Dt||Ft<vt)&&x.call(this);Ur&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tr,Vt,null).clip().discardPath()),this.pdf.text(Mt,Ti.x,Ti.y,{angle:M.angle,align:G,renderingMode:M.renderingMode}),Ur&&this.pdf.restoreGraphicsState()}}else xr.y<ir&&(this.ctx.prevPageLastElemOffset+=ir-xr.y);M.scale>=.01&&(this.pdf.setFontSize(at),this.lineWidth=lt)}else M.scale>=.01&&(at=this.pdf.internal.getFontSize(),this.pdf.setFontSize(at*M.scale),lt=this.lineWidth,this.lineWidth=lt*M.scale),this.pdf.text(M.text,ve.x+this.posX,ve.y+this.posY,{angle:M.angle,align:G,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(at),this.lineWidth=lt)},q=function(M,G,W,J){W=W||0,J=J||0,this.pdf.internal.out(r(M+W)+" "+n(G+J)+" l")},Z=function(M,G,W){return this.pdf.lines(M,G,W,null,null)},se=function(M,G,W,J,ae,ve,Fe,Ie){this.pdf.internal.out([e(i(W+M)),e(s(J+G)),e(i(ae+M)),e(s(ve+G)),e(i(Fe+M)),e(s(Ie+G)),"c"].join(" "))},X=function(M,G,W,J){for(var ae=2*Math.PI,ve=Math.PI/2;G>W;)G-=ae;var Fe=Math.abs(W-G);Fe<ae&&J&&(Fe=ae-Fe);for(var Ie=[],He=J?-1:1,at=G;Fe>1e-5;){var lt=at+He*Math.min(Fe,ve);Ie.push(ee.call(this,M,at,lt)),Fe-=Math.abs(lt-at),at=lt}return Ie},ee=function(M,G,W){var J=(W-G)/2,ae=M*Math.cos(J),ve=M*Math.sin(J),Fe=ae,Ie=-ve,He=Fe*Fe+Ie*Ie,at=He+Fe*ae+Ie*ve,lt=4/3*(Math.sqrt(2*He*at)-at)/(Fe*ve-Ie*ae),St=Fe-lt*Ie,Nt=Ie+lt*Fe,it=St,Be=-Nt,xt=J+G,Dt=Math.cos(xt),vt=Math.sin(xt);return{x1:M*Math.cos(G),y1:M*Math.sin(G),x2:St*Dt-Nt*vt,y2:St*vt+Nt*Dt,x3:it*Dt-Be*vt,y3:it*vt+Be*Dt,x4:M*Math.cos(W),y4:M*Math.sin(W)}},te=function(M){return 180*M/Math.PI},Ce=function(M,G,W,J,ae,ve){var Fe=M+.5*(W-M),Ie=G+.5*(J-G),He=ae+.5*(W-ae),at=ve+.5*(J-ve),lt=Math.min(M,ae,Fe,He),St=Math.max(M,ae,Fe,He),Nt=Math.min(G,ve,Ie,at),it=Math.max(G,ve,Ie,at);return new o(lt,Nt,St-lt,it-Nt)},ke=function(M,G,W,J,ae,ve,Fe,Ie){var He,at,lt,St,Nt,it,Be,xt,Dt,vt,Ft,Lt,Ut,ir,Vt=W-M,_r=J-G,tr=ae-W,kr=ve-J,zr=Fe-ae,xr=Ie-ve;for(at=0;at<41;at++)Dt=(Be=(lt=M+(He=at/40)*Vt)+He*((Nt=W+He*tr)-lt))+He*(Nt+He*(ae+He*zr-Nt)-Be),vt=(xt=(St=G+He*_r)+He*((it=J+He*kr)-St))+He*(it+He*(ve+He*xr-it)-xt),at==0?(Ft=Dt,Lt=vt,Ut=Dt,ir=vt):(Ft=Math.min(Ft,Dt),Lt=Math.min(Lt,vt),Ut=Math.max(Ut,Dt),ir=Math.max(ir,vt));return new o(Math.round(Ft),Math.round(Lt),Math.round(Ut-Ft),Math.round(ir-Lt))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,G,W=(M=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:G}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(Qr.API),(function(t){var e=function(s){var a,o,l,c,u,f,p,g,y,x;for(o=[],l=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(x=u%85))/85)-(y=u%85))/85)-(g=u%85))/85)-(p=u%85))/85)%85,o.push(f+33,p+33,g+33,y+33,x+33)):o.push(122);return(function(w,S){for(var B=S;B>0;B--)w.pop()})(o,a.length),String.fromCharCode.apply(String,o)+"~>"},r=function(s){var a,o,l,c,u,f=String,p="length",g=255,y="charCodeAt",x="slice",w="replace";for(s[x](-2),s=s[x](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),l=[],c=0,u=(s+=a="uuuuu"[x](s[p]%5||5))[p];u>c;c+=5)o=52200625*(s[y](c)-33)+614125*(s[y](c+1)-33)+7225*(s[y](c+2)-33)+85*(s[y](c+3)-33)+(s[y](c+4)-33),l.push(g&o>>24,g&o>>16,g&o>>8,g&o);return(function(S,B){for(var F=B;F>0;F--)S.pop()})(l,a[p]),f.fromCharCode.apply(f,l)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=IN(a)).reduce((function(l,c){return l+String.fromCharCode(c)}),"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map((function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)})).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}})(Qr.API),(function(t){t.loadFile=function(e,r,n){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(l,c,u){var f=new XMLHttpRequest,p=0,g=function(y){var x=y.length,w=[],S=String.fromCharCode;for(p=0;p<x;p+=1)w.push(S(255&y.charCodeAt(p)));return w.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(g(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return g(f.responseText)})(i,s,a)}catch{}return o})(e,r,n)},t.loadImageFile=t.loadFile})(Qr.API),(function(t){function e(){return($r.html2canvas?Promise.resolve($r.html2canvas):Sn(()=>Promise.resolve().then(()=>oae),void 0)).catch((function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))})).then((function(a){return a.default?a.default:a}))}function r(){return($r.DOMPurify?Promise.resolve($r.DOMPurify):Sn(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(a){return Promise.reject(new Error("Could not load dompurify: "+a))})).then((function(a){return a.default?a.default:a}))}var n=function(a){var o=_i(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then((function(){switch(o=o||(function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(a)){case"string":return this.then(r).then((function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})}));case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}}))},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=(function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",(function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft}),!0)),f})(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then((function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)})).then((function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)}))},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then((function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var g=c[p],y=g.src.find((function(x){return x.format==="truetype"}));y&&l.addFont(y.url,g.ref.name,g.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)})).then((function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)}))},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a}))},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(a,o)}))},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}}))},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},s.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map((function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}}),this);return this.then((function(){return this.thenList(o)}))},s.prototype.get=function(a,o){return this.then((function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l}))},s.prototype.setMargin=function(a){return this.then((function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a})).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,c){return Math.floor(l*c/72*96)}return this.then((function(){(a=a||Qr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a}))},s.prototype.setProgress=function(a,o,l,c){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,c){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,(function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,(function(f){return l.updateProgress(null,c),f})).then(c,u).then((function(f){return l.updateProgress(1),f}))}))},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,a,o);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach((function(l){o=o.thenCore(l)})),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then((function(){throw new Error(a)}))},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Qr.getPageSize=function(a,o,l){if(_i(a)==="object"){var c=a;a=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var g,y=0,x=0;if(p.hasOwnProperty(f))y=p[f][1]/u,x=p[f][0]/u;else try{y=l[1],x=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",x>y&&(g=x,x=y,y=g);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",y>x&&(g=x,x=y,y=g)}return{width:x,height:y,unit:o,k:u,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(DN):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}})(Qr.API),Qr.API.addJS=function(t){return rD=t,this.internal.events.subscribe("postPutResources",(function(){ES=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ES+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),tD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+rD+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){ES!==void 0&&tD!==void 0&&this.internal.out("/Names <</JavaScript "+ES+" 0 R>>")})),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var f=r.internal.newObject();u.push(f);var p=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<u.length;s++)r.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])})(Qr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=(function(f){for(var p,g=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,x={width:0,height:0,numcomponents:1},w=4;w<y;w+=2){if(w+=g,e.indexOf(f.charCodeAt(w+1))!==-1){p=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),x={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:p,numcomponents:f.charCodeAt(w+9)};break}g=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return x})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}})(Qr.API);var S1,BS,nD,iD,sD,vee=(function(){var t,e,r;function n(s){var a,o,l,c,u,f,p,g,y,x,w,S,B,F;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(a=this.readUInt32(),y=(function(){var k,O;for(O=[],k=0;k<4;++k)O.push(String.fromCharCode(this.data[this.pos++]));return O}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,a-=4),s=(f!=null?f.data:void 0)||this.imgData,S=0;0<=a?S<a:S>a;0<=a?++S:--S)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((x=l-this.transparency.indexed.length)>0)for(B=0;0<=x?B<x:B>x;0<=x?++B:--B)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":p=(w=this.read(a)).indexOf(0),g=String.fromCharCode.apply(String,w.slice(0,p)),this.text[g]=String.fromCharCode.apply(String,w.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(F=this.colorType)===4||F===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(f,p,g,y){var x,w,S,B,F,k,O,R,D,Q,V,re,P,H,q,Z,se,X,ee,te,Ce,ke=Math.ceil((c.width-f)/g),le=Math.ceil((c.height-p)/y),M=c.width==ke&&c.height==le;for(H=a*ke,re=M?o:new Uint8Array(H*le),k=s.length,P=0,w=0;P<le&&l<k;){switch(s[l++]){case 0:for(B=se=0;se<H;B=se+=1)re[w++]=s[l++];break;case 1:for(B=X=0;X<H;B=X+=1)x=s[l++],F=B<a?0:re[w-a],re[w++]=(x+F)%256;break;case 2:for(B=ee=0;ee<H;B=ee+=1)x=s[l++],S=(B-B%a)/a,q=P&&re[(P-1)*H+S*a+B%a],re[w++]=(q+x)%256;break;case 3:for(B=te=0;te<H;B=te+=1)x=s[l++],S=(B-B%a)/a,F=B<a?0:re[w-a],q=P&&re[(P-1)*H+S*a+B%a],re[w++]=(x+Math.floor((F+q)/2))%256;break;case 4:for(B=Ce=0;Ce<H;B=Ce+=1)x=s[l++],S=(B-B%a)/a,F=B<a?0:re[w-a],P===0?q=Z=0:(q=re[(P-1)*H+S*a+B%a],Z=S&&re[(P-1)*H+(S-1)*a+B%a]),O=F+q-Z,R=Math.abs(O-F),Q=Math.abs(O-q),V=Math.abs(O-Z),D=R<=Q&&R<=V?F:Q<=V?q:Z,re[w++]=(x+D)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!M){var G=((p+P*y)*c.width+f)*a,W=P*H;for(B=0;B<ke;B+=1){for(var J=0;J<a;J+=1)o[G++]=re[W++];G+=(g-1)*a}}P++}}return s=JZ(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var s,a,o,l,c,u,f,p,g;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,s=0,a=f=0,p=o.length;f<p;a=f+=3)c[l++]=o[a],c[l++]=o[a+1],c[l++]=o[a+2],c[l++]=(g=u[s++])!=null?g:255;return c},n.prototype.copyToImageData=function(s,a){var o,l,c,u,f,p,g,y,x,w,S;if(l=this.colors,x=null,o=this.hasAlphaChannel,this.palette.length&&(x=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),l=4,o=!0),y=(c=s.data||s).length,f=x||a,u=p=0,l===1)for(;u<y;)g=x?4*a[u/4]:p,w=f[g++],c[u++]=w,c[u++]=w,c[u++]=w,c[u++]=o?f[g++]:255,p=g;else for(;u<y;)g=x?4*a[u/4]:p,c[u++]=f[g++],c[u++]=f[g++],c[u++]=f[g++],c[u++]=o?f[g++]:255,p=g},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call($r)==="[object Window]"){try{e=$r.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,o,l,c,u,f,p,g;if(this.animation){for(g=[],o=u=0,f=(p=this.animation.frames).length;u<f;o=++u)a=p[o],l=s.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,g.push(a.image=t(l));return g}},n.prototype.renderFrame=function(s,a){var o,l,c;return o=(l=this.animation.frames)[a],c=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var a,o,l,c,u,f,p=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(a=function(){var g,y;if(g=o++%c,y=l[g],p.renderFrame(s,g),c>1&&o/c<u)return p.animation._timeout=setTimeout(a,y.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function wee(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,u=[],f=0,p=null,g=0,y=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],(1&x)==0&&(p=null),g=x>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var w=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,B=t[e++]|t[e++]<<8,F=t[e++]|t[e++]<<8,k=t[e++],O=k>>6&1,R=1<<(7&k)+1,D=o,Q=l,V=!1;k>>7&&(V=!0,D=e,Q=R,e+=3*R);var re=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}u.push({x:w,y:S,width:B,height:F,has_local_palette:V,palette_offset:D,palette_size:Q,data_offset:re,data_length:e-re,transparent_index:p,interlaced:!!O,delay:f,disposal:g});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(H){if(H<0||H>=u.length)throw new Error("Frame index out of range.");return u[H]},this.decodeAndBlitFrameBGRA=function(H,q){var Z=this.frameInfo(H),se=Z.width*Z.height,X=new Uint8Array(se);aD(t,Z.data_offset,X,se);var ee=Z.palette_offset,te=Z.transparent_index;te===null&&(te=256);var Ce=Z.width,ke=r-Ce,le=Ce,M=4*(Z.y*r+Z.x),G=4*((Z.y+Z.height)*r+Z.x),W=M,J=4*ke;Z.interlaced===!0&&(J+=4*r*7);for(var ae=8,ve=0,Fe=X.length;ve<Fe;++ve){var Ie=X[ve];if(le===0&&(le=Ce,(W+=J)>=G&&(J=4*ke+4*r*(ae-1),W=M+(Ce+ke)*(ae<<1),ae>>=1)),Ie===te)W+=4;else{var He=t[ee+3*Ie],at=t[ee+3*Ie+1],lt=t[ee+3*Ie+2];q[W++]=lt,q[W++]=at,q[W++]=He,q[W++]=255}--le}},this.decodeAndBlitFrameRGBA=function(H,q){var Z=this.frameInfo(H),se=Z.width*Z.height,X=new Uint8Array(se);aD(t,Z.data_offset,X,se);var ee=Z.palette_offset,te=Z.transparent_index;te===null&&(te=256);var Ce=Z.width,ke=r-Ce,le=Ce,M=4*(Z.y*r+Z.x),G=4*((Z.y+Z.height)*r+Z.x),W=M,J=4*ke;Z.interlaced===!0&&(J+=4*r*7);for(var ae=8,ve=0,Fe=X.length;ve<Fe;++ve){var Ie=X[ve];if(le===0&&(le=Ce,(W+=J)>=G&&(J=4*ke+4*r*(ae-1),W=M+(Ce+ke)*(ae<<1),ae>>=1)),Ie===te)W+=4;else{var He=t[ee+3*Ie],at=t[ee+3*Ie+1],lt=t[ee+3*Ie+2];q[W++]=He,q[W++]=at,q[W++]=lt,q[W++]=255}--le}}}function aD(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,u=0,f=0,p=0,g=t[e++],y=new Int32Array(4096),x=null;;){for(;u<16&&g!==0;)f|=t[e++]<<u,u+=8,g===1?g=t[e++]:--g;if(u<l)break;var w=f&c;if(f>>=l,u-=l,w!==s){if(w===a)break;for(var S=w<o?w:x,B=0,F=S;F>s;)F=y[F]>>8,++B;var k=F;if(p+B+(S!==w?1:0)>n)return void zi.log("Warning, gif stream longer than expected.");r[p++]=k;var O=p+=B;for(S!==w&&(r[p++]=k),F=S;B--;)F=y[F],r[--O]=255&F,F>>=8;x!==null&&o<4096&&(y[o++]=x<<8|k,o>=c+1&&l<12&&(++l,c=c<<1|1)),x=w}else o=a+1,c=(1<<(l=i+1))-1,x=null}return p!==n&&zi.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function v3(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),p=new Array(65535),g=new Array(64),y=new Array(64),x=[],w=0,S=7,B=new Array(64),F=new Array(64),k=new Array(64),O=new Array(256),R=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(M,G){for(var W=0,J=0,ae=new Array,ve=1;ve<=16;ve++){for(var Fe=1;Fe<=M[ve];Fe++)ae[G[J]]=[],ae[G[J]][0]=W,ae[G[J]][1]=ve,J++,W++;W*=2}return ae}function ee(M){for(var G=M[0],W=M[1]-1;W>=0;)G&1<<W&&(w|=1<<S),W--,--S<0&&(w==255?(te(255),te(0)):te(w),S=7,w=0)}function te(M){x.push(M)}function Ce(M){te(M>>8&255),te(255&M)}function ke(M,G,W,J,ae){for(var ve,Fe=ae[0],Ie=ae[240],He=(function(vt,Ft){var Lt,Ut,ir,Vt,_r,tr,kr,zr,xr,vr,Mt=0;for(xr=0;xr<8;++xr){Lt=vt[Mt],Ut=vt[Mt+1],ir=vt[Mt+2],Vt=vt[Mt+3],_r=vt[Mt+4],tr=vt[Mt+5],kr=vt[Mt+6];var Ti=Lt+(zr=vt[Mt+7]),Ur=Lt-zr,mn=Ut+kr,Br=Ut-kr,Gr=ir+tr,Wi=ir-tr,Jr=Vt+_r,Ao=Vt-_r,fn=Ti+Jr,Yi=Ti-Jr,Is=mn+Gr,rn=mn-Gr;vt[Mt]=fn+Is,vt[Mt+4]=fn-Is;var Cr=.707106781*(rn+Yi);vt[Mt+2]=Yi+Cr,vt[Mt+6]=Yi-Cr;var an=.382683433*((fn=Ao+Wi)-(rn=Br+Ur)),Mn=.5411961*fn+an,Hn=1.306562965*rn+an,ks=.707106781*(Is=Wi+Br),ls=Ur+ks,dr=Ur-ks;vt[Mt+5]=dr+Mn,vt[Mt+3]=dr-Mn,vt[Mt+1]=ls+Hn,vt[Mt+7]=ls-Hn,Mt+=8}for(Mt=0,xr=0;xr<8;++xr){Lt=vt[Mt],Ut=vt[Mt+8],ir=vt[Mt+16],Vt=vt[Mt+24],_r=vt[Mt+32],tr=vt[Mt+40],kr=vt[Mt+48];var Ls=Lt+(zr=vt[Mt+56]),cs=Lt-zr,ws=Ut+kr,cn=Ut-kr,yn=ir+tr,oe=ir-tr,_e=Vt+_r,xe=Vt-_r,pe=Ls+_e,be=Ls-_e,we=ws+yn,qe=ws-yn;vt[Mt]=pe+we,vt[Mt+32]=pe-we;var tt=.707106781*(qe+be);vt[Mt+16]=be+tt,vt[Mt+48]=be-tt;var ze=.382683433*((pe=xe+oe)-(qe=cn+cs)),We=.5411961*pe+ze,Me=1.306562965*qe+ze,ye=.707106781*(we=oe+cn),Qe=cs+ye,rt=cs-ye;vt[Mt+40]=rt+We,vt[Mt+24]=rt-We,vt[Mt+8]=Qe+Me,vt[Mt+56]=Qe-Me,Mt++}for(xr=0;xr<64;++xr)vr=vt[xr]*Ft[xr],g[xr]=vr>0?vr+.5|0:vr-.5|0;return g})(M,G),at=0;at<64;++at)y[D[at]]=He[at];var lt=y[0]-W;W=y[0],lt==0?ee(J[0]):(ee(J[p[ve=32767+lt]]),ee(f[ve]));for(var St=63;St>0&&y[St]==0;)St--;if(St==0)return ee(Fe),W;for(var Nt,it=1;it<=St;){for(var Be=it;y[it]==0&&it<=St;)++it;var xt=it-Be;if(xt>=16){Nt=xt>>4;for(var Dt=1;Dt<=Nt;++Dt)ee(Ie);xt&=15}ve=32767+y[it],ee(ae[(xt<<4)+p[ve]]),ee(f[ve]),it++}return St!=63&&ee(Fe),W}function le(M){M=Math.min(Math.max(M,1),100),s!=M&&((function(G){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var ae=a((W[J]*G+50)/100);ae=Math.min(Math.max(ae,1),255),o[D[J]]=ae}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Fe=0;Fe<64;Fe++){var Ie=a((ve[Fe]*G+50)/100);Ie=Math.min(Math.max(Ie,1),255),l[D[Fe]]=Ie}for(var He=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],at=0,lt=0;lt<8;lt++)for(var St=0;St<8;St++)c[at]=1/(o[D[at]]*He[lt]*He[St]*8),u[at]=1/(l[D[at]]*He[lt]*He[St]*8),at++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,G){G&&le(G),x=new Array,w=0,S=7,Ce(65496),Ce(65504),Ce(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),Ce(1),Ce(1),te(0),te(0),(function(){Ce(65499),Ce(132),te(0);for(var Ut=0;Ut<64;Ut++)te(o[Ut]);te(1);for(var ir=0;ir<64;ir++)te(l[ir])})(),(function(Ut,ir){Ce(65472),Ce(17),te(8),Ce(ir),Ce(Ut),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)})(M.width,M.height),(function(){Ce(65476),Ce(418),te(0);for(var Ut=0;Ut<16;Ut++)te(Q[Ut+1]);for(var ir=0;ir<=11;ir++)te(V[ir]);te(16);for(var Vt=0;Vt<16;Vt++)te(re[Vt+1]);for(var _r=0;_r<=161;_r++)te(P[_r]);te(1);for(var tr=0;tr<16;tr++)te(H[tr+1]);for(var kr=0;kr<=11;kr++)te(q[kr]);te(17);for(var zr=0;zr<16;zr++)te(Z[zr+1]);for(var xr=0;xr<=161;xr++)te(se[xr])})(),Ce(65498),Ce(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var W=0,J=0,ae=0;w=0,S=7,this.encode.displayName="_encode_";for(var ve,Fe,Ie,He,at,lt,St,Nt,it,Be=M.data,xt=M.width,Dt=M.height,vt=4*xt,Ft=0;Ft<Dt;){for(ve=0;ve<vt;){for(at=vt*Ft+ve,St=-1,Nt=0,it=0;it<64;it++)lt=at+(Nt=it>>3)*vt+(St=4*(7&it)),Ft+Nt>=Dt&&(lt-=vt*(Ft+1+Nt-Dt)),ve+St>=vt&&(lt-=ve+St-vt+4),Fe=Be[lt++],Ie=Be[lt++],He=Be[lt++],B[it]=(R[Fe]+R[Ie+256>>0]+R[He+512>>0]>>16)-128,F[it]=(R[Fe+768>>0]+R[Ie+1024>>0]+R[He+1280>>0]>>16)-128,k[it]=(R[Fe+1280>>0]+R[Ie+1536>>0]+R[He+1792>>0]>>16)-128;W=ke(B,c,W,e,n),J=ke(F,u,J,r,i),ae=ke(k,u,ae,r,i),ve+=32}Ft+=8}if(S>=0){var Lt=[];Lt[1]=S+1,Lt[0]=(1<<S+1)-1,ee(Lt)}return Ce(65497),new Uint8Array(x)},t=t||50,(function(){for(var M=String.fromCharCode,G=0;G<256;G++)O[G]=M(G)})(),e=X(Q,V),r=X(H,q),n=X(re,P),i=X(Z,se),(function(){for(var M=1,G=2,W=1;W<=15;W++){for(var J=M;J<G;J++)p[32767+J]=W,f[32767+J]=[],f[32767+J][1]=W,f[32767+J][0]=J;for(var ae=-(G-1);ae<=-M;ae++)p[32767+ae]=W,f[32767+ae]=[],f[32767+ae][1]=W,f[32767+ae][0]=G-1+ae;M<<=1,G<<=1}})(),(function(){for(var M=0;M<256;M++)R[M]=19595*M,R[M+256>>0]=38470*M,R[M+512>>0]=7471*M+32768,R[M+768>>0]=-11059*M,R[M+1024>>0]=-21709*M,R[M+1280>>0]=32768*M+8421375,R[M+1536>>0]=-27439*M,R[M+1792>>0]=-5329*M})(),le(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function yu(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function oD(t){function e(Q){if(!Q)throw Error("assert :P")}function r(Q,V,re){for(var P=0;4>P;P++)if(Q[V+P]!=re.charCodeAt(P))return!0;return!1}function n(Q,V,re,P,H){for(var q=0;q<H;q++)Q[V+q]=re[P+q]}function i(Q,V,re,P){for(var H=0;H<P;H++)Q[V+H]=re}function s(Q){return new Int32Array(Q)}function a(Q,V){for(var re=[],P=0;P<Q;P++)re.push(new V);return re}function o(Q,V){var re=[];return(function P(H,q,Z){for(var se=Z[q],X=0;X<se&&(H.push(Z.length>q+1?[]:new V),!(Z.length<q+1));X++)P(H[X],q+1,Z)})(re,0,Q),re}var l=function(){var Q=this;function V(C,N){for(var U=1<<N-1>>>0;C&U;)U>>>=1;return U?(C&U-1)+U:C}function re(C,N,U,z,ie){e(!(z%U));do C[N+(z-=U)]=ie;while(0<z)}function P(C,N,U,z,ie){if(e(2328>=ie),512>=ie)var ce=s(512);else if((ce=s(ie))==null)return 0;return(function(Ae,he,me,Se,Ue,Ze){var Je,je,bt=he,ut=1<<me,De=s(16),Pe=s(16);for(e(Ue!=0),e(Se!=null),e(Ae!=null),e(0<me),je=0;je<Ue;++je){if(15<Se[je])return 0;++De[Se[je]]}if(De[0]==Ue)return 0;for(Pe[1]=0,Je=1;15>Je;++Je){if(De[Je]>1<<Je)return 0;Pe[Je+1]=Pe[Je]+De[Je]}for(je=0;je<Ue;++je)Je=Se[je],0<Se[je]&&(Ze[Pe[Je]++]=je);if(Pe[15]==1)return(Se=new H).g=0,Se.value=Ze[0],re(Ae,bt,1,ut,Se),ut;var mt,Et=-1,gt=ut-1,zt=0,Pt=1,br=1,Qt=1<<me;for(je=0,Je=1,Ue=2;Je<=me;++Je,Ue<<=1){if(Pt+=br<<=1,0>(br-=De[Je]))return 0;for(;0<De[Je];--De[Je])(Se=new H).g=Je,Se.value=Ze[je++],re(Ae,bt+zt,Ue,Qt,Se),zt=V(zt,Je)}for(Je=me+1,Ue=2;15>=Je;++Je,Ue<<=1){if(Pt+=br<<=1,0>(br-=De[Je]))return 0;for(;0<De[Je];--De[Je]){if(Se=new H,(zt&gt)!=Et){for(bt+=Qt,mt=1<<(Et=Je)-me;15>Et&&!(0>=(mt-=De[Et]));)++Et,mt<<=1;ut+=Qt=1<<(mt=Et-me),Ae[he+(Et=zt&gt)].g=mt+me,Ae[he+Et].value=bt-he-Et}Se.g=Je-me,Se.value=Ze[je++],re(Ae,bt+(zt>>me),Ue,Qt,Se),zt=V(zt,Je)}}return Pt!=2*Pe[15]-1?0:ut})(C,N,U,z,ie,ce)}function H(){this.value=this.g=0}function q(){this.value=this.g=0}function Z(){this.G=a(5,H),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Tn,q)}function se(C,N,U,z){e(C!=null),e(N!=null),e(2147483648>z),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=N,C.pa=U,C.Jd=N,C.Yc=U+z,C.Zc=4<=z?U+z-4+1:U,ve(C)}function X(C,N){for(var U=0;0<N--;)U|=Ie(C,128)<<N;return U}function ee(C,N){var U=X(C,N);return Fe(C)?-U:U}function te(C,N,U,z){var ie,ce=0;for(e(C!=null),e(N!=null),e(4294967288>z),C.Sb=z,C.Ra=0,C.u=0,C.h=0,4<z&&(z=4),ie=0;ie<z;++ie)ce+=N[U+ie]<<8*ie;C.Ra=ce,C.bb=z,C.oa=N,C.pa=U}function Ce(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<mA-8>>>0,++C.bb,C.u-=8;W(C)&&(C.h=1,C.u=0)}function ke(C,N){if(e(0<=N),!C.h&&N<=gA){var U=G(C)&wl[N];return C.u+=N,Ce(C),U}return C.h=1,C.u=0}function le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(C){return C.Ra>>>(C.u&mA-1)>>>0}function W(C){return e(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>mA}function J(C,N){C.u=N,C.h=W(C)}function ae(C){C.u>=dh&&(e(C.u>=dh),Ce(C))}function ve(C){e(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(e(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function Fe(C){return X(C,1)}function Ie(C,N){var U=C.Ca;0>C.b&&ve(C);var z=C.b,ie=U*N>>>8,ce=(C.I>>>z>ie)+0;for(ce?(U-=ie,C.I-=ie+1<<z>>>0):U=ie+1,z=U,ie=0;256<=z;)ie+=8,z>>=8;return z=7^ie+Ea[z],C.b-=z,C.Ca=(U<<z)-1,ce}function He(C,N,U){C[N+0]=U>>24&255,C[N+1]=U>>16&255,C[N+2]=U>>8&255,C[N+3]=U>>0&255}function at(C,N){return C[N+0]<<0|C[N+1]<<8}function lt(C,N){return at(C,N)|C[N+2]<<16}function St(C,N){return at(C,N)|at(C,N+2)<<16}function Nt(C,N){var U=1<<N;return e(C!=null),e(0<N),C.X=s(U),C.X==null?0:(C.Mb=32-N,C.Xa=N,1)}function it(C,N){e(C!=null),e(N!=null),e(C.Xa==N.Xa),n(N.X,0,C.X,0,1<<N.Xa)}function Be(){this.X=[],this.Xa=this.Mb=0}function xt(C,N,U,z){e(U!=null),e(z!=null);var ie=U[0],ce=z[0];return ie==0&&(ie=(C*ce+N/2)/N),ce==0&&(ce=(N*ie+C/2)/C),0>=ie||0>=ce?0:(U[0]=ie,z[0]=ce,1)}function Dt(C,N){return C+(1<<N)-1>>>N}function vt(C,N){return((4278255360&C)+(4278255360&N)>>>0&4278255360)+((16711935&C)+(16711935&N)>>>0&16711935)>>>0}function Ft(C,N){Q[N]=function(U,z,ie,ce,Ae,he,me){var Se;for(Se=0;Se<Ae;++Se){var Ue=Q[C](he[me+Se-1],ie,ce+Se);he[me+Se]=vt(U[z+Se],Ue)}}}function Lt(){this.ud=this.hd=this.jd=0}function Ut(C,N){return((4278124286&(C^N))>>>1)+(C&N)>>>0}function ir(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Vt(C,N){return ir(C+(C-N+.5>>1))}function _r(C,N,U){return Math.abs(N-U)-Math.abs(C-U)}function tr(C,N,U,z,ie,ce,Ae){for(z=ce[Ae-1],U=0;U<ie;++U)ce[Ae+U]=z=vt(C[N+U],z)}function kr(C,N,U,z,ie){var ce;for(ce=0;ce<U;++ce){var Ae=C[N+ce],he=Ae>>8&255,me=16711935&(me=(me=16711935&Ae)+((he<<16)+he));z[ie+ce]=(4278255360&Ae)+me>>>0}}function zr(C,N){N.jd=C>>0&255,N.hd=C>>8&255,N.ud=C>>16&255}function xr(C,N,U,z,ie,ce){var Ae;for(Ae=0;Ae<z;++Ae){var he=N[U+Ae],me=he>>>8,Se=he,Ue=255&(Ue=(Ue=he>>>16)+((C.jd<<24>>24)*(me<<24>>24)>>>5));Se=255&(Se=(Se=Se+((C.hd<<24>>24)*(me<<24>>24)>>>5))+((C.ud<<24>>24)*(Ue<<24>>24)>>>5)),ie[ce+Ae]=(4278255360&he)+(Ue<<16)+Se}}function vr(C,N,U,z,ie){Q[N]=function(ce,Ae,he,me,Se,Ue,Ze,Je,je){for(me=Ze;me<Je;++me)for(Ze=0;Ze<je;++Ze)Se[Ue++]=ie(he[z(ce[Ae++])])},Q[C]=function(ce,Ae,he,me,Se,Ue,Ze){var Je=8>>ce.b,je=ce.Ea,bt=ce.K[0],ut=ce.w;if(8>Je)for(ce=(1<<ce.b)-1,ut=(1<<Je)-1;Ae<he;++Ae){var De,Pe=0;for(De=0;De<je;++De)De&ce||(Pe=z(me[Se++])),Ue[Ze++]=ie(bt[Pe&ut]),Pe>>=Je}else Q["VP8LMapColor"+U](me,Se,bt,ut,Ue,Ze,Ae,he,je)}}function Mt(C,N,U,z,ie){for(U=N+U;N<U;){var ce=C[N++];z[ie++]=ce>>16&255,z[ie++]=ce>>8&255,z[ie++]=ce>>0&255}}function Ti(C,N,U,z,ie){for(U=N+U;N<U;){var ce=C[N++];z[ie++]=ce>>16&255,z[ie++]=ce>>8&255,z[ie++]=ce>>0&255,z[ie++]=ce>>24&255}}function Ur(C,N,U,z,ie){for(U=N+U;N<U;){var ce=(Ae=C[N++])>>16&240|Ae>>12&15,Ae=Ae>>0&240|Ae>>28&15;z[ie++]=ce,z[ie++]=Ae}}function mn(C,N,U,z,ie){for(U=N+U;N<U;){var ce=(Ae=C[N++])>>16&248|Ae>>13&7,Ae=Ae>>5&224|Ae>>3&31;z[ie++]=ce,z[ie++]=Ae}}function Br(C,N,U,z,ie){for(U=N+U;N<U;){var ce=C[N++];z[ie++]=ce>>0&255,z[ie++]=ce>>8&255,z[ie++]=ce>>16&255}}function Gr(C,N,U,z,ie,ce){if(ce==0)for(U=N+U;N<U;)He(z,((ce=C[N++])[0]>>24|ce[1]>>8&65280|ce[2]<<8&16711680|ce[3]<<24)>>>0),ie+=32;else n(z,ie,C,N,U)}function Wi(C,N){Q[N][0]=Q[C+"0"],Q[N][1]=Q[C+"1"],Q[N][2]=Q[C+"2"],Q[N][3]=Q[C+"3"],Q[N][4]=Q[C+"4"],Q[N][5]=Q[C+"5"],Q[N][6]=Q[C+"6"],Q[N][7]=Q[C+"7"],Q[N][8]=Q[C+"8"],Q[N][9]=Q[C+"9"],Q[N][10]=Q[C+"10"],Q[N][11]=Q[C+"11"],Q[N][12]=Q[C+"12"],Q[N][13]=Q[C+"13"],Q[N][14]=Q[C+"0"],Q[N][15]=Q[C+"0"]}function Jr(C){return C==At||C==ot||C==kt||C==jt}function Ao(){this.eb=[],this.size=this.A=this.fb=0}function fn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ao,this.f.kb=new fn,this.sd=null}function Is(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Cr(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function an(C,N){var U=C.T,z=N.ba.f.RGBA,ie=z.eb,ce=z.fb+C.ka*z.A,Ae=Ta[N.ba.S],he=C.y,me=C.O,Se=C.f,Ue=C.N,Ze=C.ea,Je=C.W,je=N.cc,bt=N.dc,ut=N.Mc,De=N.Nc,Pe=C.ka,mt=C.ka+C.T,Et=C.U,gt=Et+1>>1;for(Pe==0?Ae(he,me,null,null,Se,Ue,Ze,Je,Se,Ue,Ze,Je,ie,ce,null,null,Et):(Ae(N.ec,N.fc,he,me,je,bt,ut,De,Se,Ue,Ze,Je,ie,ce-z.A,ie,ce,Et),++U);Pe+2<mt;Pe+=2)je=Se,bt=Ue,ut=Ze,De=Je,Ue+=C.Rc,Je+=C.Rc,ce+=2*z.A,Ae(he,(me+=2*C.fa)-C.fa,he,me,je,bt,ut,De,Se,Ue,Ze,Je,ie,ce-z.A,ie,ce,Et);return me+=C.fa,C.j+mt<C.o?(n(N.ec,N.fc,he,me,Et),n(N.cc,N.dc,Se,Ue,gt),n(N.Mc,N.Nc,Ze,Je,gt),U--):1&mt||Ae(he,me,null,null,Se,Ue,Ze,Je,Se,Ue,Ze,Je,ie,ce+z.A,null,null,Et),U}function Mn(C,N,U){var z=C.F,ie=[C.J];if(z!=null){var ce=C.U,Ae=N.ba.S,he=Ae==Ee||Ae==kt;N=N.ba.f.RGBA;var me=[0],Se=C.ka;me[0]=C.T,C.Kb&&(Se==0?--me[0]:(--Se,ie[0]-=C.width),C.j+C.ka+C.T==C.o&&(me[0]=C.o-C.j-Se));var Ue=N.eb;Se=N.fb+Se*N.A,C=qn(z,ie[0],C.width,ce,me,Ue,Se+(he?0:3),N.A),e(U==me),C&&Jr(Ae)&&Ja(Ue,Se,he,ce,me,N.A)}return 0}function Hn(C){var N=C.ma,U=N.ba.S,z=11>U,ie=U==Ss||U==Za||U==Ee||U==Ke||U==12||Jr(U);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!po(N.Oa,C,ie?11:12))return 0;if(ie&&Jr(U)&&Bt(),C.da)alert("todo:use_scaling");else{if(z){if(N.Ib=Cr,C.Kb){if(U=C.U+1>>1,N.memory=s(C.U+2*U),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+C.U,N.Mc=N.cc,N.Nc=N.dc+U,N.Ib=an,Bt()}}else alert("todo:EmitYUV");ie&&(N.Jb=Mn,z&&Ge())}if(z&&!Bh){for(C=0;256>C;++C)Na[C]=89858*(C-128)+o0>>ic,KT[C]=-22014*(C-128)+o0,DC[C]=-45773*(C-128),e1[C]=113618*(C-128)+o0>>ic;for(C=Ff;C<Eh;++C)N=76283*(C-16)+o0>>ic,WT[C-Ff]=_a(N,255),YT[C-Ff]=_a(N+8>>4,15);Bh=1}return 1}function ks(C){var N=C.ma,U=C.U,z=C.T;return e(!(1&C.ka)),0>=U||0>=z?0:(U=N.Ib(C,N),N.Jb!=null&&N.Jb(C,N,U),N.Dc+=U,1)}function ls(C){C.ma.memory=null}function dr(C,N,U,z){return ke(C,8)!=47?0:(N[0]=ke(C,14)+1,U[0]=ke(C,14)+1,z[0]=ke(C,1),ke(C,3)!=0?0:!C.h)}function Ls(C,N){if(4>C)return C+1;var U=C-2>>1;return(2+(1&C)<<U)+ke(N,U)+1}function cs(C,N){return 120<N?N-120:1<=(U=((U=Dn[N-1])>>4)*C+(8-(15&U)))?U:1;var U}function ws(C,N,U){var z=G(U),ie=C[N+=255&z].g-8;return 0<ie&&(J(U,U.u+8),z=G(U),N+=C[N].value,N+=z&(1<<ie)-1),J(U,U.u+C[N].g),C[N].value}function cn(C,N,U){return U.g+=C.g,U.value+=C.value<<N>>>0,e(8>=U.g),C.g}function yn(C,N,U){var z=C.xc;return e((N=z==0?0:C.vc[C.md*(U>>z)+(N>>z)])<C.Wb),C.Ya[N]}function oe(C,N,U,z){var ie=C.ab,ce=C.c*N,Ae=C.C;N=Ae+N;var he=U,me=z;for(z=C.Ta,U=C.Ua;0<ie--;){var Se=C.gc[ie],Ue=Ae,Ze=N,Je=he,je=me,bt=(me=z,he=U,Se.Ea);switch(e(Ue<Ze),e(Ze<=Se.nc),Se.hc){case 2:Rt(Je,je,(Ze-Ue)*bt,me,he);break;case 0:var ut=Ue,De=Ze,Pe=me,mt=he,Et=(Qt=Se).Ea;ut==0&&(n0(Je,je,null,null,1,Pe,mt),tr(Je,je+1,0,0,Et-1,Pe,mt+1),je+=Et,mt+=Et,++ut);for(var gt=1<<Qt.b,zt=gt-1,Pt=Dt(Et,Qt.b),br=Qt.K,Qt=Qt.w+(ut>>Qt.b)*Pt;ut<De;){var jn=br,vn=Qt,Fn=1;for(Tf(Je,je,Pe,mt-Et,1,Pe,mt);Fn<Et;){var Zr=(Fn&~zt)+gt;Zr>Et&&(Zr=Et),(0,Go[jn[vn++]>>8&15])(Je,je+ +Fn,Pe,mt+Fn-Et,Zr-Fn,Pe,mt+Fn),Fn=Zr}je+=Et,mt+=Et,++ut&zt||(Qt+=Pt)}Ze!=Se.nc&&n(me,he-bt,me,he+(Ze-Ue-1)*bt,bt);break;case 1:for(bt=Je,De=je,Et=(Je=Se.Ea)-(mt=Je&~(Pe=(je=1<<Se.b)-1)),ut=Dt(Je,Se.b),gt=Se.K,Se=Se.w+(Ue>>Se.b)*ut;Ue<Ze;){for(zt=gt,Pt=Se,br=new Lt,Qt=De+mt,jn=De+Je;De<Qt;)zr(zt[Pt++],br),yA(br,bt,De,je,me,he),De+=je,he+=je;De<jn&&(zr(zt[Pt++],br),yA(br,bt,De,Et,me,he),De+=Et,he+=Et),++Ue&Pe||(Se+=ut)}break;case 3:if(Je==me&&je==he&&0<Se.b){for(De=me,Je=bt=he+(Ze-Ue)*bt-(mt=(Ze-Ue)*Dt(Se.Ea,Se.b)),je=me,Pe=he,ut=[],mt=(Et=mt)-1;0<=mt;--mt)ut[mt]=je[Pe+mt];for(mt=Et-1;0<=mt;--mt)De[Je+mt]=ut[mt];Ya(Se,Ue,Ze,me,bt,me,he)}else Ya(Se,Ue,Ze,Je,je,me,he)}he=z,me=U}me!=U&&n(z,U,he,me,ce)}function _e(C,N){var U=C.V,z=C.Ba+C.c*C.C,ie=N-C.C;if(e(N<=C.l.o),e(16>=ie),0<ie){var ce=C.l,Ae=C.Ta,he=C.Ua,me=ce.width;if(oe(C,ie,U,z),ie=he=[he],e((U=C.C)<(z=N)),e(ce.v<ce.va),z>ce.o&&(z=ce.o),U<ce.j){var Se=ce.j-U;U=ce.j,ie[0]+=Se*me}if(U>=z?U=0:(ie[0]+=4*ce.v,ce.ka=U-ce.j,ce.U=ce.va-ce.v,ce.T=z-U,U=1),U){if(he=he[0],11>(U=C.ca).S){var Ue=U.f.RGBA,Ze=(z=U.S,ie=ce.U,ce=ce.T,Se=Ue.eb,Ue.A),Je=ce;for(Ue=Ue.fb+C.Ma*Ue.A;0<Je--;){var je=Ae,bt=he,ut=ie,De=Se,Pe=Ue;switch(z){case s0:Ba(je,bt,ut,De,Pe);break;case Ss:la(je,bt,ut,De,Pe);break;case At:la(je,bt,ut,De,Pe),Ja(De,Pe,0,ut,1,0);break;case bh:Ic(je,bt,ut,De,Pe);break;case Za:Gr(je,bt,ut,De,Pe,1);break;case ot:Gr(je,bt,ut,De,Pe,1),Ja(De,Pe,0,ut,1,0);break;case Ee:Gr(je,bt,ut,De,Pe,0);break;case kt:Gr(je,bt,ut,De,Pe,0),Ja(De,Pe,1,ut,1,0);break;case Ke:Xa(je,bt,ut,De,Pe);break;case jt:Xa(je,bt,ut,De,Pe),on(De,Pe,ut,1,0);break;case Ve:bl(je,bt,ut,De,Pe);break;default:e(0)}he+=me,Ue+=Ze}C.Ma+=ce}else alert("todo:EmitRescaledRowsYUVA");e(C.Ma<=U.height)}}C.C=N,e(C.C<=C.i)}function xe(C){var N;if(0<C.ua)return 0;for(N=0;N<C.Wb;++N){var U=C.Ya[N].G,z=C.Ya[N].H;if(0<U[1][z[1]+0].g||0<U[2][z[2]+0].g||0<U[3][z[3]+0].g)return 0}return 1}function pe(C,N,U,z,ie,ce){if(C.Z!=0){var Ae=C.qd,he=C.rd;for(e(cu[C.Z]!=null);N<U;++N)cu[C.Z](Ae,he,z,ie,z,ie,ce),Ae=z,he=ie,ie+=ce;C.qd=Ae,C.rd=he}}function be(C,N){var U=C.l.ma,z=U.Z==0||U.Z==1?C.l.j:C.C;if(z=C.C<z?z:C.C,e(N<=C.l.o),N>z){var ie=C.l.width,ce=U.ca,Ae=U.tb+ie*z,he=C.V,me=C.Ba+C.c*z,Se=C.gc;e(C.ab==1),e(Se[0].hc==3),i0(Se[0],z,N,he,me,ce,Ae),pe(U,z,N,ce,Ae,ie)}C.C=C.Ma=N}function we(C,N,U,z,ie,ce,Ae){var he=C.$/z,me=C.$%z,Se=C.m,Ue=C.s,Ze=U+C.$,Je=Ze;ie=U+z*ie;var je=U+z*ce,bt=280+Ue.ua,ut=C.Pb?he:16777216,De=0<Ue.ua?Ue.Wa:null,Pe=Ue.wc,mt=Ze<je?yn(Ue,me,he):null;e(C.C<ce),e(je<=ie);var Et=!1;e:for(;;){for(;Et||Ze<je;){var gt=0;if(he>=ut){var zt=Ze-U;e((ut=C).Pb),ut.wd=ut.m,ut.xd=zt,0<ut.s.ua&&it(ut.s.Wa,ut.s.vb),ut=he+Er}if(me&Pe||(mt=yn(Ue,me,he)),e(mt!=null),mt.Qb&&(N[Ze]=mt.qb,Et=!0),!Et)if(ae(Se),mt.jc){gt=Se,zt=N;var Pt=Ze,br=mt.pd[G(gt)&Tn-1];e(mt.jc),256>br.g?(J(gt,gt.u+br.g),zt[Pt]=br.value,gt=0):(J(gt,gt.u+br.g-256),e(256<=br.value),gt=br.value),gt==0&&(Et=!0)}else gt=ws(mt.G[0],mt.H[0],Se);if(Se.h)break;if(Et||256>gt){if(!Et)if(mt.nd)N[Ze]=(mt.qb|gt<<8)>>>0;else{if(ae(Se),Et=ws(mt.G[1],mt.H[1],Se),ae(Se),zt=ws(mt.G[2],mt.H[2],Se),Pt=ws(mt.G[3],mt.H[3],Se),Se.h)break;N[Ze]=(Pt<<24|Et<<16|gt<<8|zt)>>>0}if(Et=!1,++Ze,++me>=z&&(me=0,++he,Ae!=null&&he<=ce&&!(he%16)&&Ae(C,he),De!=null))for(;Je<Ze;)gt=N[Je++],De.X[(506832829*gt&4294967295)>>>De.Mb]=gt}else if(280>gt){if(gt=Ls(gt-256,Se),zt=ws(mt.G[4],mt.H[4],Se),ae(Se),zt=cs(z,zt=Ls(zt,Se)),Se.h)break;if(Ze-U<zt||ie-Ze<gt)break e;for(Pt=0;Pt<gt;++Pt)N[Ze+Pt]=N[Ze+Pt-zt];for(Ze+=gt,me+=gt;me>=z;)me-=z,++he,Ae!=null&&he<=ce&&!(he%16)&&Ae(C,he);if(e(Ze<=ie),me&Pe&&(mt=yn(Ue,me,he)),De!=null)for(;Je<Ze;)gt=N[Je++],De.X[(506832829*gt&4294967295)>>>De.Mb]=gt}else{if(!(gt<bt))break e;for(Et=gt-280,e(De!=null);Je<Ze;)gt=N[Je++],De.X[(506832829*gt&4294967295)>>>De.Mb]=gt;gt=Ze,e(!(Et>>>(zt=De).Xa)),N[gt]=zt.X[Et],Et=!0}Et||e(Se.h==W(Se))}if(C.Pb&&Se.h&&Ze<ie)e(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&it(C.s.vb,C.s.Wa);else{if(Se.h)break e;Ae!=null&&Ae(C,he>ce?ce:he),C.a=0,C.$=Ze-U}return 1}return C.a=3,0}function qe(C){e(C!=null),C.vc=null,C.yc=null,C.Ya=null;var N=C.Wa;N!=null&&(N.X=null),C.vb=null,e(C!=null)}function tt(){var C=new r0;return C==null?null:(C.a=0,C.xb=Zx,Wi("Predictor","VP8LPredictors"),Wi("Predictor","VP8LPredictors_C"),Wi("PredictorAdd","VP8LPredictorsAdd"),Wi("PredictorAdd","VP8LPredictorsAdd_C"),Rt=kr,yA=xr,Ba=Mt,la=Ti,Xa=Ur,bl=mn,Ic=Br,Q.VP8LMapColor32b=ph,Q.VP8LMapColor8b=oa,C)}function ze(C,N,U,z,ie){var ce=1,Ae=[C],he=[N],me=z.m,Se=z.s,Ue=null,Ze=0;e:for(;;){if(U)for(;ce&&ke(me,1);){var Je=Ae,je=he,bt=z,ut=1,De=bt.m,Pe=bt.gc[bt.ab],mt=ke(De,2);if(bt.Oc&1<<mt)ce=0;else{switch(bt.Oc|=1<<mt,Pe.hc=mt,Pe.Ea=Je[0],Pe.nc=je[0],Pe.K=[null],++bt.ab,e(4>=bt.ab),mt){case 0:case 1:Pe.b=ke(De,3)+2,ut=ze(Dt(Pe.Ea,Pe.b),Dt(Pe.nc,Pe.b),0,bt,Pe.K),Pe.K=Pe.K[0];break;case 3:var Et,gt=ke(De,8)+1,zt=16<gt?0:4<gt?1:2<gt?2:3;if(Je[0]=Dt(Pe.Ea,zt),Pe.b=zt,Et=ut=ze(gt,1,0,bt,Pe.K)){var Pt,br=gt,Qt=Pe,jn=1<<(8>>Qt.b),vn=s(jn);if(vn==null)Et=0;else{var Fn=Qt.K[0],Zr=Qt.w;for(vn[0]=Qt.K[0][0],Pt=1;Pt<1*br;++Pt)vn[Pt]=vt(Fn[Zr+Pt],vn[Pt-1]);for(;Pt<4*jn;++Pt)vn[Pt]=0;Qt.K[0]=null,Qt.K[0]=vn,Et=1}}ut=Et;break;case 2:break;default:e(0)}ce=ut}}if(Ae=Ae[0],he=he[0],ce&&ke(me,1)&&!(ce=1<=(Ze=ke(me,4))&&11>=Ze)){z.a=3;break e}var ii;if(ii=ce)t:{var Yn,Pr,yi,Aa=z,hs=Ae,eo=he,On=Ze,Fa=U,Vo=Aa.m,Ws=Aa.s,fs=[null],ua=1,Bl=0,sc=qt[On];r:for(;;){if(Fa&&ke(Vo,1)){var Ps=ke(Vo,3)+2,Ts=Dt(hs,Ps),ha=Dt(eo,Ps),Tl=Ts*ha;if(!ze(Ts,ha,0,Aa,fs))break r;for(fs=fs[0],Ws.xc=Ps,Yn=0;Yn<Tl;++Yn){var CA=fs[Yn]>>8&65535;fs[Yn]=CA,CA>=ua&&(ua=CA+1)}}if(Vo.h)break r;for(Pr=0;5>Pr;++Pr){var ns=Qn[Pr];!Pr&&0<On&&(ns+=1<<On),Bl<ns&&(Bl=ns)}var SA=a(ua*sc,H),$o=ua,ds=a($o,Z);if(ds==null)var If=null;else e(65536>=$o),If=ds;var Nl=s(Bl);if(If==null||Nl==null||SA==null){Aa.a=1;break r}var Wr=SA;for(Yn=yi=0;Yn<ua;++Yn){var un=If[Yn],Vi=un.G,Au=un.H,kf=0,_A=1,Vp=0;for(Pr=0;5>Pr;++Pr){ns=Qn[Pr],Vi[Pr]=Wr,Au[Pr]=yi,!Pr&&0<On&&(ns+=1<<On);i:{var Th,Nh=ns,r1=Aa,Ii=Nl,tv=Wr,rv=yi,n1=0,uu=r1.m,XT=ke(uu,1);if(i(Ii,0,0,Nh),XT){var nv=ke(uu,1)+1,iv=ke(uu,1),i1=ke(uu,iv==0?1:8);Ii[i1]=1,nv==2&&(Ii[i1=ke(uu,8)]=1);var fa=1}else{var ps=s(19),$p=ke(uu,4)+4;if(19<$p){r1.a=3;var Fh=0;break i}for(Th=0;Th<$p;++Th)ps[_s[Th]]=ke(uu,3);var c0=void 0,Lf=void 0,EA=r1,s1=ps,A0=Nh,a1=Ii,o1=0,hu=EA.m,sv=8,av=a(128,H);n:for(;P(av,0,7,s1,19);){if(ke(hu,1)){var OC=2+2*ke(hu,3);if((c0=2+ke(hu,OC))>A0)break n}else c0=A0;for(Lf=0;Lf<A0&&c0--;){ae(hu);var ov=av[0+(127&G(hu))];J(hu,hu.u+ov.g);var Ih=ov.value;if(16>Ih)a1[Lf++]=Ih,Ih!=0&&(sv=Ih);else{var PC=Ih==16,HC=Ih-16,QC=Or[HC],lv=ke(hu,Ar[HC])+QC;if(Lf+lv>A0)break n;for(var jC=PC?sv:0;0<lv--;)a1[Lf++]=jC}}o1=1;break n}o1||(EA.a=3),fa=o1}(fa=fa&&!uu.h)&&(n1=P(tv,rv,8,Ii,Nh)),fa&&n1!=0?Fh=n1:(r1.a=3,Fh=0)}if(Fh==0)break r;if(_A&&Wn[Pr]==1&&(_A=Wr[yi].g==0),kf+=Wr[yi].g,yi+=Fh,3>=Pr){var Rf,l1=Nl[0];for(Rf=1;Rf<ns;++Rf)Nl[Rf]>l1&&(l1=Nl[Rf]);Vp+=l1}}if(un.nd=_A,un.Qb=0,_A&&(un.qb=(Vi[3][Au[3]+0].value<<24|Vi[1][Au[1]+0].value<<16|Vi[2][Au[2]+0].value)>>>0,kf==0&&256>Vi[0][Au[0]+0].value&&(un.Qb=1,un.qb+=Vi[0][Au[0]+0].value<<8)),un.jc=!un.Qb&&6>Vp,un.jc){var qp,BA=un;for(qp=0;qp<Tn;++qp){var fu=qp,du=BA.pd[fu],c1=BA.G[0][BA.H[0]+fu];256<=c1.value?(du.g=c1.g+256,du.value=c1.value):(du.g=0,du.value=0,fu>>=cn(c1,8,du),fu>>=cn(BA.G[1][BA.H[1]+fu],16,du),fu>>=cn(BA.G[2][BA.H[2]+fu],0,du),cn(BA.G[3][BA.H[3]+fu],24,du))}}}Ws.vc=fs,Ws.Wb=ua,Ws.Ya=If,Ws.yc=SA,ii=1;break t}ii=0}if(!(ce=ii)){z.a=3;break e}if(0<Ze){if(Se.ua=1<<Ze,!Nt(Se.Wa,Ze)){z.a=1,ce=0;break e}}else Se.ua=0;var A1=z,Mf=Ae,GC=he,u0=A1.s,h0=u0.xc;if(A1.c=Mf,A1.i=GC,u0.md=Dt(Mf,h0),u0.wc=h0==0?-1:(1<<h0)-1,U){z.xb=Ch;break e}if((Ue=s(Ae*he))==null){z.a=1,ce=0;break e}ce=(ce=we(z,Ue,0,Ae,he,he,null))&&!me.h;break e}return ce?(ie!=null?ie[0]=Ue:(e(Ue==null),e(U)),z.$=0,U||qe(Se)):qe(Se),ce}function We(C,N){var U=C.c*C.i,z=U+N+16*N;return e(C.c<=N),C.V=s(z),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+U+N,1)}function Me(C,N){var U=C.C,z=N-U,ie=C.V,ce=C.Ba+C.c*U;for(e(N<=C.l.o);0<z;){var Ae=16<z?16:z,he=C.l.ma,me=C.l.width,Se=me*Ae,Ue=he.ca,Ze=he.tb+me*U,Je=C.Ta,je=C.Ua;oe(C,Ae,ie,ce),Nn(Je,je,Ue,Ze,Se),pe(he,U,U+Ae,Ue,Ze,me),z-=Ae,ie+=Ae*C.c,U+=Ae}e(U==N),C.C=C.Ma=N}function ye(){this.ub=this.yd=this.td=this.Rb=0}function Qe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function rt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ft(){this.Yb=(function(){var C=[];return(function N(U,z,ie){for(var ce=ie[z],Ae=0;Ae<ce&&(U.push(ie.length>z+1?[]:0),!(ie.length<z+1));Ae++)N(U[Ae],z+1,ie)})(C,0,[3,11]),C})()}function wt(){this.jb=s(3),this.Wc=o([4,8],ft),this.Xc=o([4,17],ft)}function It(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function nr(){this.ld=this.La=this.dd=this.tc=0}function Kr(){this.Na=this.la=0}function Dr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pi(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Tr(){this.uc=this.M=this.Nb=0,this.wa=Array(new nr),this.Y=0,this.ya=Array(new Pi),this.aa=0,this.l=new Po}function Rs(){this.y=s(16),this.f=s(8),this.ea=s(8)}function pi(){this.cb=this.a=0,this.sc="",this.m=new le,this.Od=new ye,this.Kc=new Qe,this.ed=new It,this.Qa=new rt,this.Ic=this.$c=this.Aa=0,this.D=new Tr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,le),this.ia=0,this.pb=a(4,Dr),this.Pa=new wt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Rs),this.Hd=0,this.rb=Array(new Kr),this.sb=0,this.wa=Array(new nr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pi),this.L=this.aa=0,this.gd=o([4,2],nr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Po(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $n(){var C=new pi;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,Es||(Es=Ca)),C}function ni(C,N,U){return C.a==0&&(C.a=N,C.sc=U,C.cb=0),0}function es(C,N,U){return 3<=U&&C[N+0]==157&&C[N+1]==1&&C[N+2]==42}function $s(C,N){if(C==null)return 0;if(C.a=0,C.sc="OK",N==null)return ni(C,2,"null VP8Io passed to VP8GetHeaders()");var U=N.data,z=N.w,ie=N.ha;if(4>ie)return ni(C,7,"Truncated header.");var ce=U[z+0]|U[z+1]<<8|U[z+2]<<16,Ae=C.Od;if(Ae.Rb=!(1&ce),Ae.td=ce>>1&7,Ae.yd=ce>>4&1,Ae.ub=ce>>5,3<Ae.td)return ni(C,3,"Incorrect keyframe parameters.");if(!Ae.yd)return ni(C,4,"Frame not displayable.");z+=3,ie-=3;var he=C.Kc;if(Ae.Rb){if(7>ie)return ni(C,7,"cannot parse picture header");if(!es(U,z,ie))return ni(C,3,"Bad code word");he.c=16383&(U[z+4]<<8|U[z+3]),he.Td=U[z+4]>>6,he.i=16383&(U[z+6]<<8|U[z+5]),he.Ud=U[z+6]>>6,z+=7,ie-=7,C.za=he.c+15>>4,C.Ub=he.i+15>>4,N.width=he.c,N.height=he.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,i((ce=C.Pa).jb,0,255,ce.jb.length),e((ce=C.Qa)!=null),ce.Cb=0,ce.Bb=0,ce.Fb=1,i(ce.Zb,0,0,ce.Zb.length),i(ce.Lb,0,0,ce.Lb)}if(Ae.ub>ie)return ni(C,7,"bad partition length");se(ce=C.m,U,z,Ae.ub),z+=Ae.ub,ie-=Ae.ub,Ae.Rb&&(he.Ld=Fe(ce),he.Kd=Fe(ce)),he=C.Qa;var me,Se=C.Pa;if(e(ce!=null),e(he!=null),he.Cb=Fe(ce),he.Cb){if(he.Bb=Fe(ce),Fe(ce)){for(he.Fb=Fe(ce),me=0;4>me;++me)he.Zb[me]=Fe(ce)?ee(ce,7):0;for(me=0;4>me;++me)he.Lb[me]=Fe(ce)?ee(ce,6):0}if(he.Bb)for(me=0;3>me;++me)Se.jb[me]=Fe(ce)?X(ce,8):255}else he.Bb=0;if(ce.Ka)return ni(C,3,"cannot parse segment header");if((he=C.ed).zd=Fe(ce),he.Tb=X(ce,6),he.wb=X(ce,3),he.Pc=Fe(ce),he.Pc&&Fe(ce)){for(Se=0;4>Se;++Se)Fe(ce)&&(he.vd[Se]=ee(ce,6));for(Se=0;4>Se;++Se)Fe(ce)&&(he.od[Se]=ee(ce,6))}if(C.L=he.Tb==0?0:he.zd?1:2,ce.Ka)return ni(C,3,"cannot parse filter header");var Ue=ie;if(ie=me=z,z=me+Ue,he=Ue,C.Xb=(1<<X(C.m,2))-1,Ue<3*(Se=C.Xb))U=7;else{for(me+=3*Se,he-=3*Se,Ue=0;Ue<Se;++Ue){var Ze=U[ie+0]|U[ie+1]<<8|U[ie+2]<<16;Ze>he&&(Ze=he),se(C.Jc[+Ue],U,me,Ze),me+=Ze,he-=Ze,ie+=3}se(C.Jc[+Se],U,me,he),U=me<z?0:5}if(U!=0)return ni(C,U,"cannot parse partitions");for(U=X(me=C.m,7),ie=Fe(me)?ee(me,4):0,z=Fe(me)?ee(me,4):0,he=Fe(me)?ee(me,4):0,Se=Fe(me)?ee(me,4):0,me=Fe(me)?ee(me,4):0,Ue=C.Qa,Ze=0;4>Ze;++Ze){if(Ue.Cb){var Je=Ue.Zb[Ze];Ue.Fb||(Je+=U)}else{if(0<Ze){C.pb[Ze]=C.pb[0];continue}Je=U}var je=C.pb[Ze];je.Sc[0]=rs[_a(Je+ie,127)],je.Sc[1]=ji[_a(Je+0,127)],je.Eb[0]=2*rs[_a(Je+z,127)],je.Eb[1]=101581*ji[_a(Je+he,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=rs[_a(Je+Se,117)],je.Qc[1]=ji[_a(Je+me,127)],je.lc=Je+me}if(!Ae.Rb)return ni(C,4,"Not a key frame.");for(Fe(ce),Ae=C.Pa,U=0;4>U;++U){for(ie=0;8>ie;++ie)for(z=0;3>z;++z)for(he=0;11>he;++he)Se=Ie(ce,Gi[U][ie][z][he])?X(ce,8):nc[U][ie][z][he],Ae.Wc[U][ie].Yb[z][he]=Se;for(ie=0;17>ie;++ie)Ae.Xc[U][ie]=Ae.Wc[U][xn[ie]]}return C.kc=Fe(ce),C.kc&&(C.Bd=X(ce,8)),C.cb=1}function Ca(C,N,U,z,ie,ce,Ae){var he=N[ie].Yb[U];for(U=0;16>ie;++ie){if(!Ie(C,he[U+0]))return ie;for(;!Ie(C,he[U+1]);)if(he=N[++ie].Yb[0],U=0,ie==16)return 16;var me=N[ie+1].Yb;if(Ie(C,he[U+2])){var Se=C,Ue=0;if(Ie(Se,(Je=he)[(Ze=U)+3]))if(Ie(Se,Je[Ze+6])){for(he=0,Ze=2*(Ue=Ie(Se,Je[Ze+8]))+(Je=Ie(Se,Je[Ze+9+Ue])),Ue=0,Je=ou[Ze];Je[he];++he)Ue+=Ue+Ie(Se,Je[he]);Ue+=3+(8<<Ze)}else Ie(Se,Je[Ze+7])?(Ue=7+2*Ie(Se,165),Ue+=Ie(Se,145)):Ue=5+Ie(Se,159);else Ue=Ie(Se,Je[Ze+4])?3+Ie(Se,Je[Ze+5]):2;he=me[2]}else Ue=1,he=me[1];me=Ae+lu[ie],0>(Se=C).b&&ve(Se);var Ze,Je=Se.b,je=(Ze=Se.Ca>>1)-(Se.I>>Je)>>31;--Se.b,Se.Ca+=je,Se.Ca|=1,Se.I-=(Ze+1&je)<<Je,ce[me]=((Ue^je)-je)*z[(0<ie)+0]}return 16}function XA(C){var N=C.rb[C.sb-1];N.la=0,N.Na=0,i(C.zc,0,0,C.zc.length),C.ja=0}function bs(C,N){if(C==null)return 0;if(N==null)return ni(C,2,"NULL VP8Io parameter in VP8Decode().");if(!C.cb&&!$s(C,N))return 0;if(e(C.cb),N.ac==null||N.ac(N)){N.ob&&(C.L=0);var U=l0[C.L];if(C.L==2?(C.yb=0,C.zb=0):(C.yb=N.v-U>>4,C.zb=N.j-U>>4,0>C.yb&&(C.yb=0),0>C.zb&&(C.zb=0)),C.Va=N.o+15+U>>4,C.Hb=N.va+15+U>>4,C.Hb>C.za&&(C.Hb=C.za),C.Va>C.Ub&&(C.Va=C.Ub),0<C.L){var z=C.ed;for(U=0;4>U;++U){var ie;if(C.Qa.Cb){var ce=C.Qa.Lb[U];C.Qa.Fb||(ce+=z.Tb)}else ce=z.Tb;for(ie=0;1>=ie;++ie){var Ae=C.gd[U][ie],he=ce;if(z.Pc&&(he+=z.vd[0],ie&&(he+=z.od[0])),0<(he=0>he?0:63<he?63:he)){var me=he;0<z.wb&&(me=4<z.wb?me>>2:me>>1)>9-z.wb&&(me=9-z.wb),1>me&&(me=1),Ae.dd=me,Ae.tc=2*he+me,Ae.ld=40<=he?2:15<=he?1:0}else Ae.tc=0;Ae.La=ie}}}U=0}else ni(C,6,"Frame setup failed"),U=C.a;if(U=U==0){if(U){C.$c=0,0<C.Aa||(C.Ic=Gp);e:{U=C.Ic,z=4*(me=C.za);var Se=32*me,Ue=me+1,Ze=0<C.L?me*(0<C.Aa?2:1):0,Je=(C.Aa==2?2:1)*me;if((Ae=z+832+(ie=3*(16*U+l0[C.L])/2*Se)+(ce=C.Fa!=null&&0<C.Fa.length?C.Kc.c*C.Kc.i:0))!=Ae)U=0;else{if(Ae>C.Vb){if(C.Vb=0,C.Ec=s(Ae),C.Fc=0,C.Ec==null){U=ni(C,1,"no memory during frame initialization.");break e}C.Vb=Ae}Ae=C.Ec,he=C.Fc,C.Ac=Ae,C.Bc=he,he+=z,C.Gd=a(Se,Rs),C.Hd=0,C.rb=a(Ue+1,Kr),C.sb=1,C.wa=Ze?a(Ze,nr):null,C.Y=0,C.D.Nb=0,C.D.wa=C.wa,C.D.Y=C.Y,0<C.Aa&&(C.D.Y+=me),e(!0),C.oc=Ae,C.pc=he,he+=832,C.ya=a(Je,Pi),C.aa=0,C.D.ya=C.ya,C.D.aa=C.aa,C.Aa==2&&(C.D.aa+=me),C.R=16*me,C.B=8*me,me=(Se=l0[C.L])*C.R,Se=Se/2*C.B,C.sa=Ae,C.ta=he+me,C.qa=C.sa,C.ra=C.ta+16*U*C.R+Se,C.Ha=C.qa,C.Ia=C.ra+8*U*C.B+Se,C.$c=0,he+=ie,C.mb=ce?Ae:null,C.nb=ce?he:null,e(he+ce<=C.Fc+C.Vb),XA(C),i(C.Ac,C.Bc,0,z),U=1}}if(U){if(N.ka=0,N.y=C.sa,N.O=C.ta,N.f=C.qa,N.N=C.ra,N.ea=C.Ha,N.Vd=C.Ia,N.fa=C.R,N.Rc=C.B,N.F=null,N.J=0,!vh){for(U=-255;255>=U;++U)Fi[255+U]=0>U?-U:U;for(U=-1020;1020>=U;++U)El[1020+U]=-128>U?-128:127<U?127:U;for(U=-112;112>=U;++U)wA[112+U]=-16>U?-16:15<U?15:U;for(U=-255;510>=U;++U)Rc[255+U]=0>U?0:255<U?255:U;vh=1}Cl=qa,Sl=$a,su=lA,ca=qs,Os=JA,mi=oA,_l=ru,gh=hA,mh=e0,go=_f,kc=nu,Lc=oh,xA=lh,yh=t0,au=eu,vA=fo,xh=Wa,mo=tu,us[0]=wr,us[1]=Yl,us[2]=sa,us[3]=Sa,us[4]=ZA,us[5]=za,us[6]=Jl,us[7]=Zl,us[8]=Qo,us[9]=Us,yo[0]=ia,yo[1]=Xl,yo[2]=uo,yo[3]=zs,yo[4]=ci,yo[5]=gl,yo[6]=AA,Mc[0]=aa,Mc[1]=sh,Mc[2]=Cf,Mc[3]=Ka,Mc[4]=ec,Mc[5]=ah,Mc[6]=Ds,U=1}else U=0}U&&(U=(function(je,bt){for(je.M=0;je.M<je.Va;++je.M){var ut,De=je.Jc[je.M&je.Xb],Pe=je.m,mt=je;for(ut=0;ut<mt.za;++ut){var Et=Pe,gt=mt,zt=gt.Ac,Pt=gt.Bc+4*ut,br=gt.zc,Qt=gt.ya[gt.aa+ut];if(gt.Qa.Bb?Qt.$b=Ie(Et,gt.Pa.jb[0])?2+Ie(Et,gt.Pa.jb[2]):Ie(Et,gt.Pa.jb[1]):Qt.$b=0,gt.kc&&(Qt.Ad=Ie(Et,gt.Bd)),Qt.Za=!Ie(Et,145)+0,Qt.Za){var jn=Qt.Ob,vn=0;for(gt=0;4>gt;++gt){var Fn,Zr=br[0+gt];for(Fn=0;4>Fn;++Fn){Zr=Xi[zt[Pt+Fn]][Zr];for(var ii=zn[Ie(Et,Zr[0])];0<ii;)ii=zn[2*ii+Ie(Et,Zr[ii])];Zr=-ii,zt[Pt+Fn]=Zr}n(jn,vn,zt,Pt,4),vn+=4,br[0+gt]=Zr}}else Zr=Ie(Et,156)?Ie(Et,128)?1:3:Ie(Et,163)?2:0,Qt.Ob[0]=Zr,i(zt,Pt,Zr,4),i(br,0,Zr,4);Qt.Dd=Ie(Et,142)?Ie(Et,114)?Ie(Et,183)?1:3:2:0}if(mt.m.Ka)return ni(je,7,"Premature end-of-partition0 encountered.");for(;je.ja<je.za;++je.ja){if(mt=De,Et=(Pe=je).rb[Pe.sb-1],zt=Pe.rb[Pe.sb+Pe.ja],ut=Pe.ya[Pe.aa+Pe.ja],Pt=Pe.kc?ut.Ad:0)Et.la=zt.la=0,ut.Za||(Et.Na=zt.Na=0),ut.Hc=0,ut.Gc=0,ut.ia=0;else{var Yn,Pr;if(Et=zt,zt=mt,Pt=Pe.Pa.Xc,br=Pe.ya[Pe.aa+Pe.ja],Qt=Pe.pb[br.$b],gt=br.ad,jn=0,vn=Pe.rb[Pe.sb-1],Zr=Fn=0,i(gt,jn,0,384),br.Za)var yi=0,Aa=Pt[3];else{ii=s(16);var hs=Et.Na+vn.Na;if(hs=Es(zt,Pt[1],hs,Qt.Eb,0,ii,0),Et.Na=vn.Na=(0<hs)+0,1<hs)Cl(ii,0,gt,jn);else{var eo=ii[0]+3>>3;for(ii=0;256>ii;ii+=16)gt[jn+ii]=eo}yi=1,Aa=Pt[0]}var On=15&Et.la,Fa=15&vn.la;for(ii=0;4>ii;++ii){var Vo=1&Fa;for(eo=Pr=0;4>eo;++eo)On=On>>1|(Vo=(hs=Es(zt,Aa,hs=Vo+(1&On),Qt.Sc,yi,gt,jn))>yi)<<7,Pr=Pr<<2|(3<hs?3:1<hs?2:gt[jn+0]!=0),jn+=16;On>>=4,Fa=Fa>>1|Vo<<7,Fn=(Fn<<8|Pr)>>>0}for(Aa=On,yi=Fa>>4,Yn=0;4>Yn;Yn+=2){for(Pr=0,On=Et.la>>4+Yn,Fa=vn.la>>4+Yn,ii=0;2>ii;++ii){for(Vo=1&Fa,eo=0;2>eo;++eo)hs=Vo+(1&On),On=On>>1|(Vo=0<(hs=Es(zt,Pt[2],hs,Qt.Qc,0,gt,jn)))<<3,Pr=Pr<<2|(3<hs?3:1<hs?2:gt[jn+0]!=0),jn+=16;On>>=2,Fa=Fa>>1|Vo<<5}Zr|=Pr<<4*Yn,Aa|=On<<4<<Yn,yi|=(240&Fa)<<Yn}Et.la=Aa,vn.la=yi,br.Hc=Fn,br.Gc=Zr,br.ia=43690&Zr?0:Qt.ia,Pt=!(Fn|Zr)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[ut.$b][ut.Za],Pe.wa[Pe.Y+Pe.ja].La|=!Pt),mt.Ka)return ni(je,7,"Premature end-of-file encountered.")}if(XA(je),Pe=bt,mt=1,ut=(De=je).D,Et=0<De.L&&De.M>=De.zb&&De.M<=De.Va,De.Aa==0)e:{if(ut.M=De.M,ut.uc=Et,pA(De,ut),mt=1,ut=(Pr=De.D).Nb,Et=(Zr=l0[De.L])*De.R,zt=Zr/2*De.B,ii=16*ut*De.R,eo=8*ut*De.B,Pt=De.sa,br=De.ta-Et+ii,Qt=De.qa,gt=De.ra-zt+eo,jn=De.Ha,vn=De.Ia-zt+eo,Fa=(On=Pr.M)==0,Fn=On>=De.Va-1,De.Aa==2&&pA(De,Pr),Pr.uc)for(Vo=(hs=De).D.M,e(hs.D.uc),Pr=hs.yb;Pr<hs.Hb;++Pr){yi=Pr,Aa=Vo;var Ws=(fs=(ns=hs).D).Nb;Yn=ns.R;var fs=fs.wa[fs.Y+yi],ua=ns.sa,Bl=ns.ta+16*Ws*Yn+16*yi,sc=fs.dd,Ps=fs.tc;if(Ps!=0)if(e(3<=Ps),ns.L==1)0<yi&&vA(ua,Bl,Yn,Ps+4),fs.La&&mo(ua,Bl,Yn,Ps),0<Aa&&au(ua,Bl,Yn,Ps+4),fs.La&&xh(ua,Bl,Yn,Ps);else{var Ts=ns.B,ha=ns.qa,Tl=ns.ra+8*Ws*Ts+8*yi,CA=ns.Ha,ns=ns.Ia+8*Ws*Ts+8*yi;Ws=fs.ld,0<yi&&(gh(ua,Bl,Yn,Ps+4,sc,Ws),go(ha,Tl,CA,ns,Ts,Ps+4,sc,Ws)),fs.La&&(Lc(ua,Bl,Yn,Ps,sc,Ws),yh(ha,Tl,CA,ns,Ts,Ps,sc,Ws)),0<Aa&&(_l(ua,Bl,Yn,Ps+4,sc,Ws),mh(ha,Tl,CA,ns,Ts,Ps+4,sc,Ws)),fs.La&&(kc(ua,Bl,Yn,Ps,sc,Ws),xA(ha,Tl,CA,ns,Ts,Ps,sc,Ws))}}if(De.ia&&alert("todo:DitherRow"),Pe.put!=null){if(Pr=16*On,On=16*(On+1),Fa?(Pe.y=De.sa,Pe.O=De.ta+ii,Pe.f=De.qa,Pe.N=De.ra+eo,Pe.ea=De.Ha,Pe.W=De.Ia+eo):(Pr-=Zr,Pe.y=Pt,Pe.O=br,Pe.f=Qt,Pe.N=gt,Pe.ea=jn,Pe.W=vn),Fn||(On-=Zr),On>Pe.o&&(On=Pe.o),Pe.F=null,Pe.J=null,De.Fa!=null&&0<De.Fa.length&&Pr<On&&(Pe.J=uh(De,Pe,Pr,On-Pr),Pe.F=De.mb,Pe.F==null&&Pe.F.length==0)){mt=ni(De,3,"Could not decode alpha data.");break e}Pr<Pe.j&&(Zr=Pe.j-Pr,Pr=Pe.j,e(!(1&Zr)),Pe.O+=De.R*Zr,Pe.N+=De.B*(Zr>>1),Pe.W+=De.B*(Zr>>1),Pe.F!=null&&(Pe.J+=Pe.width*Zr)),Pr<On&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=Pr-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=On-Pr,mt=Pe.put(Pe))}ut+1!=De.Ic||Fn||(n(De.sa,De.ta-Et,Pt,br+16*De.R,Et),n(De.qa,De.ra-zt,Qt,gt+8*De.B,zt),n(De.Ha,De.Ia-zt,jn,vn+8*De.B,zt))}if(!mt)return ni(je,6,"Output aborted.")}return 1})(C,N)),N.bc!=null&&N.bc(N),U&=1}return U?(C.cb=0,U):0}function Va(C,N,U,z,ie){ie=C[N+U+32*z]+(ie>>3),C[N+U+32*z]=-256&ie?0>ie?0:255:ie}function Lr(C,N,U,z,ie,ce){Va(C,N,0,U,z+ie),Va(C,N,1,U,z+ce),Va(C,N,2,U,z-ce),Va(C,N,3,U,z-ie)}function Ms(C){return(20091*C>>16)+C}function gi(C,N,U,z){var ie,ce=0,Ae=s(16);for(ie=0;4>ie;++ie){var he=C[N+0]+C[N+8],me=C[N+0]-C[N+8],Se=(35468*C[N+4]>>16)-Ms(C[N+12]),Ue=Ms(C[N+4])+(35468*C[N+12]>>16);Ae[ce+0]=he+Ue,Ae[ce+1]=me+Se,Ae[ce+2]=me-Se,Ae[ce+3]=he-Ue,ce+=4,N++}for(ie=ce=0;4>ie;++ie)he=(C=Ae[ce+0]+4)+Ae[ce+8],me=C-Ae[ce+8],Se=(35468*Ae[ce+4]>>16)-Ms(Ae[ce+12]),Va(U,z,0,0,he+(Ue=Ms(Ae[ce+4])+(35468*Ae[ce+12]>>16))),Va(U,z,1,0,me+Se),Va(U,z,2,0,me-Se),Va(U,z,3,0,he-Ue),ce++,z+=32}function oA(C,N,U,z){var ie=C[N+0]+4,ce=35468*C[N+4]>>16,Ae=Ms(C[N+4]),he=35468*C[N+1]>>16;Lr(U,z,0,ie+Ae,C=Ms(C[N+1]),he),Lr(U,z,1,ie+ce,C,he),Lr(U,z,2,ie-ce,C,he),Lr(U,z,3,ie-Ae,C,he)}function $a(C,N,U,z,ie){gi(C,N,U,z),ie&&gi(C,N+16,U,z+4)}function lA(C,N,U,z){Sl(C,N+0,U,z,1),Sl(C,N+32,U,z+128,1)}function qs(C,N,U,z){var ie;for(C=C[N+0]+4,ie=0;4>ie;++ie)for(N=0;4>N;++N)Va(U,z,N,ie,C)}function JA(C,N,U,z){C[N+0]&&ca(C,N+0,U,z),C[N+16]&&ca(C,N+16,U,z+4),C[N+32]&&ca(C,N+32,U,z+128),C[N+48]&&ca(C,N+48,U,z+128+4)}function qa(C,N,U,z){var ie,ce=s(16);for(ie=0;4>ie;++ie){var Ae=C[N+0+ie]+C[N+12+ie],he=C[N+4+ie]+C[N+8+ie],me=C[N+4+ie]-C[N+8+ie],Se=C[N+0+ie]-C[N+12+ie];ce[0+ie]=Ae+he,ce[8+ie]=Ae-he,ce[4+ie]=Se+me,ce[12+ie]=Se-me}for(ie=0;4>ie;++ie)Ae=(C=ce[0+4*ie]+3)+ce[3+4*ie],he=ce[1+4*ie]+ce[2+4*ie],me=ce[1+4*ie]-ce[2+4*ie],Se=C-ce[3+4*ie],U[z+0]=Ae+he>>3,U[z+16]=Se+me>>3,U[z+32]=Ae-he>>3,U[z+48]=Se-me>>3,z+=64}function Ho(C,N,U){var z,ie=N-32,ce=Qi,Ae=255-C[ie-1];for(z=0;z<U;++z){var he,me=ce,Se=Ae+C[N-1];for(he=0;he<U;++he)C[N+he]=me[Se+C[ie+he]];N+=32}}function Yl(C,N){Ho(C,N,4)}function sh(C,N){Ho(C,N,8)}function Xl(C,N){Ho(C,N,16)}function uo(C,N){var U;for(U=0;16>U;++U)n(C,N+32*U,C,N-32,16)}function zs(C,N){var U;for(U=16;0<U;--U)i(C,N,C[N-1],16),N+=32}function cA(C,N,U){var z;for(z=0;16>z;++z)i(N,U+32*z,C,16)}function ia(C,N){var U,z=16;for(U=0;16>U;++U)z+=C[N-1+32*U]+C[N+U-32];cA(z>>5,C,N)}function ci(C,N){var U,z=8;for(U=0;16>U;++U)z+=C[N-1+32*U];cA(z>>4,C,N)}function gl(C,N){var U,z=8;for(U=0;16>U;++U)z+=C[N+U-32];cA(z>>4,C,N)}function AA(C,N){cA(128,C,N)}function cr(C,N,U){return C+2*N+U+2>>2}function sa(C,N){var U,z=N-32;for(z=new Uint8Array([cr(C[z-1],C[z+0],C[z+1]),cr(C[z+0],C[z+1],C[z+2]),cr(C[z+1],C[z+2],C[z+3]),cr(C[z+2],C[z+3],C[z+4])]),U=0;4>U;++U)n(C,N+32*U,z,0,z.length)}function Sa(C,N){var U=C[N-1],z=C[N-1+32],ie=C[N-1+64],ce=C[N-1+96];He(C,N+0,16843009*cr(C[N-1-32],U,z)),He(C,N+32,16843009*cr(U,z,ie)),He(C,N+64,16843009*cr(z,ie,ce)),He(C,N+96,16843009*cr(ie,ce,ce))}function wr(C,N){var U,z=4;for(U=0;4>U;++U)z+=C[N+U-32]+C[N-1+32*U];for(z>>=3,U=0;4>U;++U)i(C,N+32*U,z,4)}function ZA(C,N){var U=C[N-1+0],z=C[N-1+32],ie=C[N-1+64],ce=C[N-1-32],Ae=C[N+0-32],he=C[N+1-32],me=C[N+2-32],Se=C[N+3-32];C[N+0+96]=cr(z,ie,C[N-1+96]),C[N+1+96]=C[N+0+64]=cr(U,z,ie),C[N+2+96]=C[N+1+64]=C[N+0+32]=cr(ce,U,z),C[N+3+96]=C[N+2+64]=C[N+1+32]=C[N+0+0]=cr(Ae,ce,U),C[N+3+64]=C[N+2+32]=C[N+1+0]=cr(he,Ae,ce),C[N+3+32]=C[N+2+0]=cr(me,he,Ae),C[N+3+0]=cr(Se,me,he)}function Jl(C,N){var U=C[N+1-32],z=C[N+2-32],ie=C[N+3-32],ce=C[N+4-32],Ae=C[N+5-32],he=C[N+6-32],me=C[N+7-32];C[N+0+0]=cr(C[N+0-32],U,z),C[N+1+0]=C[N+0+32]=cr(U,z,ie),C[N+2+0]=C[N+1+32]=C[N+0+64]=cr(z,ie,ce),C[N+3+0]=C[N+2+32]=C[N+1+64]=C[N+0+96]=cr(ie,ce,Ae),C[N+3+32]=C[N+2+64]=C[N+1+96]=cr(ce,Ae,he),C[N+3+64]=C[N+2+96]=cr(Ae,he,me),C[N+3+96]=cr(he,me,me)}function za(C,N){var U=C[N-1+0],z=C[N-1+32],ie=C[N-1+64],ce=C[N-1-32],Ae=C[N+0-32],he=C[N+1-32],me=C[N+2-32],Se=C[N+3-32];C[N+0+0]=C[N+1+64]=ce+Ae+1>>1,C[N+1+0]=C[N+2+64]=Ae+he+1>>1,C[N+2+0]=C[N+3+64]=he+me+1>>1,C[N+3+0]=me+Se+1>>1,C[N+0+96]=cr(ie,z,U),C[N+0+64]=cr(z,U,ce),C[N+0+32]=C[N+1+96]=cr(U,ce,Ae),C[N+1+32]=C[N+2+96]=cr(ce,Ae,he),C[N+2+32]=C[N+3+96]=cr(Ae,he,me),C[N+3+32]=cr(he,me,Se)}function Zl(C,N){var U=C[N+0-32],z=C[N+1-32],ie=C[N+2-32],ce=C[N+3-32],Ae=C[N+4-32],he=C[N+5-32],me=C[N+6-32],Se=C[N+7-32];C[N+0+0]=U+z+1>>1,C[N+1+0]=C[N+0+64]=z+ie+1>>1,C[N+2+0]=C[N+1+64]=ie+ce+1>>1,C[N+3+0]=C[N+2+64]=ce+Ae+1>>1,C[N+0+32]=cr(U,z,ie),C[N+1+32]=C[N+0+96]=cr(z,ie,ce),C[N+2+32]=C[N+1+96]=cr(ie,ce,Ae),C[N+3+32]=C[N+2+96]=cr(ce,Ae,he),C[N+3+64]=cr(Ae,he,me),C[N+3+96]=cr(he,me,Se)}function Us(C,N){var U=C[N-1+0],z=C[N-1+32],ie=C[N-1+64],ce=C[N-1+96];C[N+0+0]=U+z+1>>1,C[N+2+0]=C[N+0+32]=z+ie+1>>1,C[N+2+32]=C[N+0+64]=ie+ce+1>>1,C[N+1+0]=cr(U,z,ie),C[N+3+0]=C[N+1+32]=cr(z,ie,ce),C[N+3+32]=C[N+1+64]=cr(ie,ce,ce),C[N+3+64]=C[N+2+64]=C[N+0+96]=C[N+1+96]=C[N+2+96]=C[N+3+96]=ce}function Qo(C,N){var U=C[N-1+0],z=C[N-1+32],ie=C[N-1+64],ce=C[N-1+96],Ae=C[N-1-32],he=C[N+0-32],me=C[N+1-32],Se=C[N+2-32];C[N+0+0]=C[N+2+32]=U+Ae+1>>1,C[N+0+32]=C[N+2+64]=z+U+1>>1,C[N+0+64]=C[N+2+96]=ie+z+1>>1,C[N+0+96]=ce+ie+1>>1,C[N+3+0]=cr(he,me,Se),C[N+2+0]=cr(Ae,he,me),C[N+1+0]=C[N+3+32]=cr(U,Ae,he),C[N+1+32]=C[N+3+64]=cr(z,U,Ae),C[N+1+64]=C[N+3+96]=cr(ie,z,U),C[N+1+96]=cr(ce,ie,z)}function Cf(C,N){var U;for(U=0;8>U;++U)n(C,N+32*U,C,N-32,8)}function Ka(C,N){var U;for(U=0;8>U;++U)i(C,N,C[N-1],8),N+=32}function ml(C,N,U){var z;for(z=0;8>z;++z)i(N,U+32*z,C,8)}function aa(C,N){var U,z=8;for(U=0;8>U;++U)z+=C[N+U-32]+C[N-1+32*U];ml(z>>4,C,N)}function ah(C,N){var U,z=4;for(U=0;8>U;++U)z+=C[N+U-32];ml(z>>3,C,N)}function ec(C,N){var U,z=4;for(U=0;8>U;++U)z+=C[N-1+32*U];ml(z>>3,C,N)}function Ds(C,N){ml(128,C,N)}function ho(C,N,U){var z=C[N-U],ie=C[N+0],ce=3*(ie-z)+ui[1020+C[N-2*U]-C[N+U]],Ae=wh[112+(ce+4>>3)];C[N-U]=Qi[255+z+wh[112+(ce+3>>3)]],C[N+0]=Qi[255+ie-Ae]}function uA(C,N,U,z){var ie=C[N+0],ce=C[N+U];return As[255+C[N-2*U]-C[N-U]]>z||As[255+ce-ie]>z}function Un(C,N,U,z){return 4*As[255+C[N-U]-C[N+0]]+As[255+C[N-2*U]-C[N+U]]<=z}function Sf(C,N,U,z,ie){var ce=C[N-3*U],Ae=C[N-2*U],he=C[N-U],me=C[N+0],Se=C[N+U],Ue=C[N+2*U],Ze=C[N+3*U];return 4*As[255+he-me]+As[255+Ae-Se]>z?0:As[255+C[N-4*U]-ce]<=ie&&As[255+ce-Ae]<=ie&&As[255+Ae-he]<=ie&&As[255+Ze-Ue]<=ie&&As[255+Ue-Se]<=ie&&As[255+Se-me]<=ie}function eu(C,N,U,z){var ie=2*z+1;for(z=0;16>z;++z)Un(C,N+z,U,ie)&&ho(C,N+z,U)}function fo(C,N,U,z){var ie=2*z+1;for(z=0;16>z;++z)Un(C,N+z*U,1,ie)&&ho(C,N+z*U,1)}function Wa(C,N,U,z){var ie;for(ie=3;0<ie;--ie)eu(C,N+=4*U,U,z)}function tu(C,N,U,z){var ie;for(ie=3;0<ie;--ie)fo(C,N+=4,U,z)}function tc(C,N,U,z,ie,ce,Ae,he){for(ce=2*ce+1;0<ie--;){if(Sf(C,N,U,ce,Ae))if(uA(C,N,U,he))ho(C,N,U);else{var me=C,Se=N,Ue=U,Ze=me[Se-2*Ue],Je=me[Se-Ue],je=me[Se+0],bt=me[Se+Ue],ut=me[Se+2*Ue],De=27*(mt=ui[1020+3*(je-Je)+ui[1020+Ze-bt]])+63>>7,Pe=18*mt+63>>7,mt=9*mt+63>>7;me[Se-3*Ue]=Qi[255+me[Se-3*Ue]+mt],me[Se-2*Ue]=Qi[255+Ze+Pe],me[Se-Ue]=Qi[255+Je+De],me[Se+0]=Qi[255+je-De],me[Se+Ue]=Qi[255+bt-Pe],me[Se+2*Ue]=Qi[255+ut-mt]}N+=z}}function yl(C,N,U,z,ie,ce,Ae,he){for(ce=2*ce+1;0<ie--;){if(Sf(C,N,U,ce,Ae))if(uA(C,N,U,he))ho(C,N,U);else{var me=C,Se=N,Ue=U,Ze=me[Se-Ue],Je=me[Se+0],je=me[Se+Ue],bt=wh[112+((ut=3*(Je-Ze))+4>>3)],ut=wh[112+(ut+3>>3)],De=bt+1>>1;me[Se-2*Ue]=Qi[255+me[Se-2*Ue]+De],me[Se-Ue]=Qi[255+Ze+ut],me[Se+0]=Qi[255+Je-bt],me[Se+Ue]=Qi[255+je-De]}N+=z}}function ru(C,N,U,z,ie,ce){tc(C,N,U,1,16,z,ie,ce)}function hA(C,N,U,z,ie,ce){tc(C,N,1,U,16,z,ie,ce)}function nu(C,N,U,z,ie,ce){var Ae;for(Ae=3;0<Ae;--Ae)yl(C,N+=4*U,U,1,16,z,ie,ce)}function oh(C,N,U,z,ie,ce){var Ae;for(Ae=3;0<Ae;--Ae)yl(C,N+=4,1,U,16,z,ie,ce)}function e0(C,N,U,z,ie,ce,Ae,he){tc(C,N,ie,1,8,ce,Ae,he),tc(U,z,ie,1,8,ce,Ae,he)}function _f(C,N,U,z,ie,ce,Ae,he){tc(C,N,1,ie,8,ce,Ae,he),tc(U,z,1,ie,8,ce,Ae,he)}function lh(C,N,U,z,ie,ce,Ae,he){yl(C,N+4*ie,ie,1,8,ce,Ae,he),yl(U,z+4*ie,ie,1,8,ce,Ae,he)}function t0(C,N,U,z,ie,ce,Ae,he){yl(C,N+4,1,ie,8,ce,Ae,he),yl(U,z+4,1,ie,8,ce,Ae,he)}function Fc(){this.ba=new Yi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ef(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ch(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bf(){this.ua=0,this.Wa=new Be,this.vb=new Be,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new H}function r0(){this.xb=this.a=0,this.l=new Po,this.ca=new Yi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bf,this.ab=0,this.gc=a(4,ch),this.Oc=0}function fA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Po,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function dA(C,N,U,z,ie,ce,Ae){for(C=C==null?0:C[N+0],N=0;N<Ae;++N)ie[ce+N]=C+U[z+N]&255,C=ie[ce+N]}function Ah(C,N,U,z,ie,ce,Ae){var he;if(C==null)dA(null,null,U,z,ie,ce,Ae);else for(he=0;he<Ae;++he)ie[ce+he]=C[N+he]+U[z+he]&255}function jo(C,N,U,z,ie,ce,Ae){if(C==null)dA(null,null,U,z,ie,ce,Ae);else{var he,me=C[N+0],Se=me,Ue=me;for(he=0;he<Ae;++he)Se=Ue+(me=C[N+he])-Se,Ue=U[z+he]+(-256&Se?0>Se?0:255:Se)&255,Se=me,ie[ce+he]=Ue}}function uh(C,N,U,z){var ie=N.width,ce=N.o;if(e(C!=null&&N!=null),0>U||0>=z||U+z>ce)return null;if(!C.Cc){if(C.ga==null){var Ae;if(C.ga=new fA,(Ae=C.ga==null)||(Ae=N.width*N.o,e(C.Gb.length==0),C.Gb=s(Ae),C.Uc=0,C.Gb==null?Ae=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,Ae=1),Ae=!Ae),!Ae){Ae=C.ga;var he=C.Fa,me=C.P,Se=C.qc,Ue=C.mb,Ze=C.nb,Je=me+1,je=Se-1,bt=Ae.l;if(e(he!=null&&Ue!=null&&N!=null),cu[0]=null,cu[1]=dA,cu[2]=Ah,cu[3]=jo,Ae.ca=Ue,Ae.tb=Ze,Ae.c=N.width,Ae.i=N.height,e(0<Ae.c&&0<Ae.i),1>=Se)N=0;else if(Ae.$a=he[me+0]>>0&3,Ae.Z=he[me+0]>>2&3,Ae.Lc=he[me+0]>>4&3,me=he[me+0]>>6&3,0>Ae.$a||1<Ae.$a||4<=Ae.Z||1<Ae.Lc||me)N=0;else if(bt.put=ks,bt.ac=Hn,bt.bc=ls,bt.ma=Ae,bt.width=N.width,bt.height=N.height,bt.Da=N.Da,bt.v=N.v,bt.va=N.va,bt.j=N.j,bt.o=N.o,Ae.$a)e:{e(Ae.$a==1),N=tt();t:for(;;){if(N==null){N=0;break e}if(e(Ae!=null),Ae.mc=N,N.c=Ae.c,N.i=Ae.i,N.l=Ae.l,N.l.ma=Ae,N.l.width=Ae.c,N.l.height=Ae.i,N.a=0,te(N.m,he,Je,je),!ze(Ae.c,Ae.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&xe(N.s)?(Ae.ic=1,he=N.c*N.i,N.Ta=null,N.Ua=0,N.V=s(he),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(Ae.ic=0,N=We(N,Ae.c)),!N))break t;N=1;break e}Ae.mc=null,N=0}else N=je>=Ae.c*Ae.i;Ae=!N}if(Ae)return null;C.ga.Lc!=1?C.Ga=0:z=ce-U}e(C.ga!=null),e(U+z<=ce);e:{if(N=(he=C.ga).c,ce=he.l.o,he.$a==0){if(Je=C.rc,je=C.Vc,bt=C.Fa,me=C.P+1+U*N,Se=C.mb,Ue=C.nb+U*N,e(me<=C.P+C.qc),he.Z!=0)for(e(cu[he.Z]!=null),Ae=0;Ae<z;++Ae)cu[he.Z](Je,je,bt,me,Se,Ue,N),Je=Se,je=Ue,Ue+=N,me+=N;else for(Ae=0;Ae<z;++Ae)n(Se,Ue,bt,me,N),Je=Se,je=Ue,Ue+=N,me+=N;C.rc=Je,C.Vc=je}else{if(e(he.mc!=null),N=U+z,e((Ae=he.mc)!=null),e(N<=Ae.i),Ae.C>=N)N=1;else if(he.ic||Ge(),he.ic){he=Ae.V,Je=Ae.Ba,je=Ae.c;var ut=Ae.i,De=(bt=1,me=Ae.$/je,Se=Ae.$%je,Ue=Ae.m,Ze=Ae.s,Ae.$),Pe=je*ut,mt=je*N,Et=Ze.wc,gt=De<mt?yn(Ze,Se,me):null;e(De<=Pe),e(N<=ut),e(xe(Ze));t:for(;;){for(;!Ue.h&&De<mt;){if(Se&Et||(gt=yn(Ze,Se,me)),e(gt!=null),ae(Ue),256>(ut=ws(gt.G[0],gt.H[0],Ue)))he[Je+De]=ut,++De,++Se>=je&&(Se=0,++me<=N&&!(me%16)&&be(Ae,me));else{if(!(280>ut)){bt=0;break t}ut=Ls(ut-256,Ue);var zt,Pt=ws(gt.G[4],gt.H[4],Ue);if(ae(Ue),!(De>=(Pt=cs(je,Pt=Ls(Pt,Ue)))&&Pe-De>=ut)){bt=0;break t}for(zt=0;zt<ut;++zt)he[Je+De+zt]=he[Je+De+zt-Pt];for(De+=ut,Se+=ut;Se>=je;)Se-=je,++me<=N&&!(me%16)&&be(Ae,me);De<mt&&Se&Et&&(gt=yn(Ze,Se,me))}e(Ue.h==W(Ue))}be(Ae,me>N?N:me);break t}!bt||Ue.h&&De<Pe?(bt=0,Ae.a=Ue.h?5:3):Ae.$=De,N=bt}else N=we(Ae,Ae.V,Ae.Ba,Ae.c,Ae.i,N,Me);if(!N){z=0;break e}}U+z>=ce&&(C.Cc=1),z=1}if(!z)return null;if(C.Cc&&((z=C.ga)!=null&&(z.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+U*ie}function L(C,N,U,z,ie,ce){for(;0<ie--;){var Ae,he=C,me=N+(U?1:0),Se=C,Ue=N+(U?0:3);for(Ae=0;Ae<z;++Ae){var Ze=Se[Ue+4*Ae];Ze!=255&&(Ze*=32897,he[me+4*Ae+0]=he[me+4*Ae+0]*Ze>>23,he[me+4*Ae+1]=he[me+4*Ae+1]*Ze>>23,he[me+4*Ae+2]=he[me+4*Ae+2]*Ze>>23)}N+=ce}}function ne(C,N,U,z,ie){for(;0<z--;){var ce;for(ce=0;ce<U;++ce){var Ae=C[N+2*ce+0],he=15&(Se=C[N+2*ce+1]),me=4369*he,Se=(240&Se|Se>>4)*me>>16;C[N+2*ce+0]=(240&Ae|Ae>>4)*me>>16&240|(15&Ae|Ae<<4)*me>>16>>4&15,C[N+2*ce+1]=240&Se|he}N+=ie}}function Te(C,N,U,z,ie,ce,Ae,he){var me,Se,Ue=255;for(Se=0;Se<ie;++Se){for(me=0;me<z;++me){var Ze=C[N+me];ce[Ae+4*me]=Ze,Ue&=Ze}N+=U,Ae+=he}return Ue!=255}function Le(C,N,U,z,ie){var ce;for(ce=0;ce<ie;++ce)U[z+ce]=C[N+ce]>>8}function Ge(){Ja=L,on=ne,qn=Te,Nn=Le}function ht(C,N,U){Q[C]=function(z,ie,ce,Ae,he,me,Se,Ue,Ze,Je,je,bt,ut,De,Pe,mt,Et){var gt,zt=Et-1>>1,Pt=he[me+0]|Se[Ue+0]<<16,br=Ze[Je+0]|je[bt+0]<<16;e(z!=null);var Qt=3*Pt+br+131074>>2;for(N(z[ie+0],255&Qt,Qt>>16,ut,De),ce!=null&&(Qt=3*br+Pt+131074>>2,N(ce[Ae+0],255&Qt,Qt>>16,Pe,mt)),gt=1;gt<=zt;++gt){var jn=he[me+gt]|Se[Ue+gt]<<16,vn=Ze[Je+gt]|je[bt+gt]<<16,Fn=Pt+jn+br+vn+524296,Zr=Fn+2*(jn+br)>>3;Qt=Zr+Pt>>1,Pt=(Fn=Fn+2*(Pt+vn)>>3)+jn>>1,N(z[ie+2*gt-1],255&Qt,Qt>>16,ut,De+(2*gt-1)*U),N(z[ie+2*gt-0],255&Pt,Pt>>16,ut,De+(2*gt-0)*U),ce!=null&&(Qt=Fn+br>>1,Pt=Zr+vn>>1,N(ce[Ae+2*gt-1],255&Qt,Qt>>16,Pe,mt+(2*gt-1)*U),N(ce[Ae+2*gt+0],255&Pt,Pt>>16,Pe,mt+(2*gt+0)*U)),Pt=jn,br=vn}1&Et||(Qt=3*Pt+br+131074>>2,N(z[ie+Et-1],255&Qt,Qt>>16,ut,De+(Et-1)*U),ce!=null&&(Qt=3*br+Pt+131074>>2,N(ce[Ae+Et-1],255&Qt,Qt>>16,Pe,mt+(Et-1)*U)))}}function Bt(){Ta[s0]=Nf,Ta[Ss]=a0,Ta[bh]=ev,Ta[Za]=Jm,Ta[Ee]=Sh,Ta[Ke]=bA,Ta[Ve]=_h,Ta[At]=a0,Ta[ot]=Jm,Ta[kt]=Sh,Ta[jt]=bA}function $t(C){return C&-16384?0>C?0:255:C>>Zm}function gr(C,N){return $t((19077*C>>8)+(26149*N>>8)-14234)}function Vr(C,N,U){return $t((19077*C>>8)-(6419*N>>8)-(13320*U>>8)+8708)}function Rr(C,N){return $t((19077*C>>8)+(33050*N>>8)-17685)}function An(C,N,U,z,ie){z[ie+0]=gr(C,U),z[ie+1]=Vr(C,N,U),z[ie+2]=Rr(C,N)}function Ai(C,N,U,z,ie){z[ie+0]=Rr(C,N),z[ie+1]=Vr(C,N,U),z[ie+2]=gr(C,U)}function Ni(C,N,U,z,ie){var ce=Vr(C,N,U);N=ce<<3&224|Rr(C,N)>>3,z[ie+0]=248&gr(C,U)|ce>>5,z[ie+1]=N}function Hi(C,N,U,z,ie){var ce=240&Rr(C,N)|15;z[ie+0]=240&gr(C,U)|Vr(C,N,U)>>4,z[ie+1]=ce}function Cs(C,N,U,z,ie){z[ie+0]=255,An(C,N,U,z,ie+1)}function ts(C,N,U,z,ie){Ai(C,N,U,z,ie),z[ie+3]=255}function Ks(C,N,U,z,ie){An(C,N,U,z,ie),z[ie+3]=255}function _a(C,N){return 0>C?0:C>N?N:C}function xl(C,N,U){Q[C]=function(z,ie,ce,Ae,he,me,Se,Ue,Ze){for(var Je=Ue+(-2&Ze)*U;Ue!=Je;)N(z[ie+0],ce[Ae+0],he[me+0],Se,Ue),N(z[ie+1],ce[Ae+0],he[me+0],Se,Ue+U),ie+=2,++Ae,++me,Ue+=2*U;1&Ze&&N(z[ie+0],ce[Ae+0],he[me+0],Se,Ue)}}function hh(C,N,U){return U==0?C==0?N==0?6:5:N==0?4:0:U}function fh(C,N,U,z,ie){switch(C>>>30){case 3:Sl(N,U,z,ie,0);break;case 2:mi(N,U,z,ie);break;case 1:ca(N,U,z,ie)}}function pA(C,N){var U,z,ie=N.M,ce=N.Nb,Ae=C.oc,he=C.pc+40,me=C.oc,Se=C.pc+584,Ue=C.oc,Ze=C.pc+600;for(U=0;16>U;++U)Ae[he+32*U-1]=129;for(U=0;8>U;++U)me[Se+32*U-1]=129,Ue[Ze+32*U-1]=129;for(0<ie?Ae[he-1-32]=me[Se-1-32]=Ue[Ze-1-32]=129:(i(Ae,he-32-1,127,21),i(me,Se-32-1,127,9),i(Ue,Ze-32-1,127,9)),z=0;z<C.za;++z){var Je=N.ya[N.aa+z];if(0<z){for(U=-1;16>U;++U)n(Ae,he+32*U-4,Ae,he+32*U+12,4);for(U=-1;8>U;++U)n(me,Se+32*U-4,me,Se+32*U+4,4),n(Ue,Ze+32*U-4,Ue,Ze+32*U+4,4)}var je=C.Gd,bt=C.Hd+z,ut=Je.ad,De=Je.Hc;if(0<ie&&(n(Ae,he-32,je[bt].y,0,16),n(me,Se-32,je[bt].f,0,8),n(Ue,Ze-32,je[bt].ea,0,8)),Je.Za){var Pe=Ae,mt=he-32+16;for(0<ie&&(z>=C.za-1?i(Pe,mt,je[bt].y[15],4):n(Pe,mt,je[bt+1].y,0,4)),U=0;4>U;U++)Pe[mt+128+U]=Pe[mt+256+U]=Pe[mt+384+U]=Pe[mt+0+U];for(U=0;16>U;++U,De<<=2)Pe=Ae,mt=he+Bs[U],us[Je.Ob[U]](Pe,mt),fh(De,ut,16*+U,Pe,mt)}else if(Pe=hh(z,ie,Je.Ob[0]),yo[Pe](Ae,he),De!=0)for(U=0;16>U;++U,De<<=2)fh(De,ut,16*+U,Ae,he+Bs[U]);for(U=Je.Gc,Pe=hh(z,ie,Je.Dd),Mc[Pe](me,Se),Mc[Pe](Ue,Ze),De=ut,Pe=me,mt=Se,255&(Je=U>>0)&&(170&Je?su(De,256,Pe,mt):Os(De,256,Pe,mt)),Je=Ue,De=Ze,255&(U>>=8)&&(170&U?su(ut,320,Je,De):Os(ut,320,Je,De)),ie<C.Ub-1&&(n(je[bt].y,0,Ae,he+480,16),n(je[bt].f,0,me,Se+224,8),n(je[bt].ea,0,Ue,Ze+224,8)),U=8*ce*C.B,je=C.sa,bt=C.ta+16*z+16*ce*C.R,ut=C.qa,Je=C.ra+8*z+U,De=C.Ha,Pe=C.Ia+8*z+U,U=0;16>U;++U)n(je,bt+U*C.R,Ae,he+32*U,16);for(U=0;8>U;++U)n(ut,Je+U*C.B,me,Se+32*U,8),n(De,Pe+U*C.B,Ue,Ze+32*U,8)}}function rc(C,N,U,z,ie,ce,Ae,he,me){var Se=[0],Ue=[0],Ze=0,Je=me!=null?me.kd:0,je=me??new Ef;if(C==null||12>U)return 7;je.data=C,je.w=N,je.ha=U,N=[N],U=[U],je.gb=[je.gb];e:{var bt=N,ut=U,De=je.gb;if(e(C!=null),e(ut!=null),e(De!=null),De[0]=0,12<=ut[0]&&!r(C,bt[0],"RIFF")){if(r(C,bt[0]+8,"WEBP")){De=3;break e}var Pe=St(C,bt[0]+4);if(12>Pe||4294967286<Pe){De=3;break e}if(Je&&Pe>ut[0]-8){De=7;break e}De[0]=Pe,bt[0]+=12,ut[0]-=12}De=0}if(De!=0)return De;for(Pe=0<je.gb[0],U=U[0];;){e:{var mt=C;ut=N,De=U;var Et=Se,gt=Ue,zt=bt=[0];if((Qt=Ze=[Ze])[0]=0,8>De[0])De=7;else{if(!r(mt,ut[0],"VP8X")){if(St(mt,ut[0]+4)!=10){De=3;break e}if(18>De[0]){De=7;break e}var Pt=St(mt,ut[0]+8),br=1+lt(mt,ut[0]+12);if(2147483648<=br*(mt=1+lt(mt,ut[0]+15))){De=3;break e}zt!=null&&(zt[0]=Pt),Et!=null&&(Et[0]=br),gt!=null&&(gt[0]=mt),ut[0]+=18,De[0]-=18,Qt[0]=1}De=0}}if(Ze=Ze[0],bt=bt[0],De!=0)return De;if(ut=!!(2&bt),!Pe&&Ze)return 3;if(ce!=null&&(ce[0]=!!(16&bt)),Ae!=null&&(Ae[0]=ut),he!=null&&(he[0]=0),Ae=Se[0],bt=Ue[0],Ze&&ut&&me==null){De=0;break}if(4>U){De=7;break}if(Pe&&Ze||!Pe&&!Ze&&!r(C,N[0],"ALPH")){U=[U],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{Pt=C,De=N,Pe=U;var Qt=je.gb;Et=je.na,gt=je.P,zt=je.Sa,br=22,e(Pt!=null),e(Pe!=null),mt=De[0];var jn=Pe[0];for(e(Et!=null),e(zt!=null),Et[0]=null,gt[0]=null,zt[0]=0;;){if(De[0]=mt,Pe[0]=jn,8>jn){De=7;break e}var vn=St(Pt,mt+4);if(4294967286<vn){De=3;break e}var Fn=8+vn+1&-2;if(br+=Fn,0<Qt&&br>Qt){De=3;break e}if(!r(Pt,mt,"VP8 ")||!r(Pt,mt,"VP8L")){De=0;break e}if(jn[0]<Fn){De=7;break e}r(Pt,mt,"ALPH")||(Et[0]=Pt,gt[0]=mt+8,zt[0]=vn),mt+=Fn,jn-=Fn}}if(U=U[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],De!=0)break}U=[U],je.Ja=[je.Ja],je.xa=[je.xa];e:if(Qt=C,De=N,Pe=U,Et=je.gb[0],gt=je.Ja,zt=je.xa,Pt=De[0],mt=!r(Qt,Pt,"VP8 "),br=!r(Qt,Pt,"VP8L"),e(Qt!=null),e(Pe!=null),e(gt!=null),e(zt!=null),8>Pe[0])De=7;else{if(mt||br){if(Qt=St(Qt,Pt+4),12<=Et&&Qt>Et-12){De=3;break e}if(Je&&Qt>Pe[0]-8){De=7;break e}gt[0]=Qt,De[0]+=8,Pe[0]-=8,zt[0]=br}else zt[0]=5<=Pe[0]&&Qt[Pt+0]==47&&!(Qt[Pt+4]>>5),gt[0]=Pe[0];De=0}if(U=U[0],je.Ja=je.Ja[0],je.xa=je.xa[0],N=N[0],De!=0)break;if(4294967286<je.Ja)return 3;if(he==null||ut||(he[0]=je.xa?2:1),Ae=[Ae],bt=[bt],je.xa){if(5>U){De=7;break}he=Ae,Je=bt,ut=ce,C==null||5>U?C=0:5<=U&&C[N+0]==47&&!(C[N+4]>>5)?(Pe=[0],Qt=[0],Et=[0],te(gt=new M,C,N,U),dr(gt,Pe,Qt,Et)?(he!=null&&(he[0]=Pe[0]),Je!=null&&(Je[0]=Qt[0]),ut!=null&&(ut[0]=Et[0]),C=1):C=0):C=0}else{if(10>U){De=7;break}he=bt,C==null||10>U||!es(C,N+3,U-3)?C=0:(Je=C[N+0]|C[N+1]<<8|C[N+2]<<16,ut=16383&(C[N+7]<<8|C[N+6]),C=16383&(C[N+9]<<8|C[N+8]),1&Je||3<(Je>>1&7)||!(Je>>4&1)||Je>>5>=je.Ja||!ut||!C?C=0:(Ae&&(Ae[0]=ut),he&&(he[0]=C),C=1))}if(!C||(Ae=Ae[0],bt=bt[0],Ze&&(Se[0]!=Ae||Ue[0]!=bt)))return 3;me!=null&&(me[0]=je,me.offset=N-me.w,e(4294967286>N-me.w),e(me.offset==me.ha-U));break}return De==0||De==7&&Ze&&me==null?(ce!=null&&(ce[0]|=je.na!=null&&0<je.na.length),z!=null&&(z[0]=Ae),ie!=null&&(ie[0]=bt),0):De}function po(C,N,U){var z=N.width,ie=N.height,ce=0,Ae=0,he=z,me=ie;if(N.Da=C!=null&&0<C.Da,N.Da&&(he=C.cd,me=C.bd,ce=C.v,Ae=C.j,11>U||(ce&=-2,Ae&=-2),0>ce||0>Ae||0>=he||0>=me||ce+he>z||Ae+me>ie))return 0;if(N.v=ce,N.j=Ae,N.va=ce+he,N.o=Ae+me,N.U=he,N.T=me,N.da=C!=null&&0<C.da,N.da){if(!xt(he,me,U=[C.ib],ce=[C.hb]))return 0;N.ib=U[0],N.hb=ce[0]}return N.ob=C!=null&&C.ob,N.Kb=C==null||!C.Sd,N.da&&(N.ob=N.ib<3*z/4&&N.hb<3*ie/4,N.Kb=0),1}function iu(C){if(C==null)return 2;if(11>C.S){var N=C.f.RGBA;N.fb+=(C.height-1)*N.A,N.A=-N.A}else N=C.f.kb,C=C.height,N.O+=(C-1)*N.fa,N.fa=-N.fa,N.N+=(C-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(C-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(C-1)*N.lb,N.lb=-N.lb);return 0}function vl(C,N,U,z){if(z==null||0>=C||0>=N)return 2;if(U!=null){if(U.Da){var ie=U.cd,ce=U.bd,Ae=-2&U.v,he=-2&U.j;if(0>Ae||0>he||0>=ie||0>=ce||Ae+ie>C||he+ce>N)return 2;C=ie,N=ce}if(U.da){if(!xt(C,N,ie=[U.ib],ce=[U.hb]))return 2;C=ie[0],N=ce[0]}}z.width=C,z.height=N;e:{var me=z.width,Se=z.height;if(C=z.S,0>=me||0>=Se||!(C>=s0&&13>C))C=2;else{if(0>=z.Rd&&z.sd==null){Ae=ce=ie=N=0;var Ue=(he=me*t1[C])*Se;if(11>C||(ce=(Se+1)/2*(N=(me+1)/2),C==12&&(Ae=(ie=me)*Se)),(Se=s(Ue+2*ce+Ae))==null){C=1;break e}z.sd=Se,11>C?((me=z.f.RGBA).eb=Se,me.fb=0,me.A=he,me.size=Ue):((me=z.f.kb).y=Se,me.O=0,me.fa=he,me.Fd=Ue,me.f=Se,me.N=0+Ue,me.Ab=N,me.Cd=ce,me.ea=Se,me.W=0+Ue+ce,me.Db=N,me.Ed=ce,C==12&&(me.F=Se,me.J=0+Ue+2*ce),me.Tc=Ae,me.lb=ie)}if(N=1,ie=z.S,ce=z.width,Ae=z.height,ie>=s0&&13>ie)if(11>ie)C=z.f.RGBA,N&=(he=Math.abs(C.A))*(Ae-1)+ce<=C.size,N&=he>=ce*t1[ie],N&=C.eb!=null;else{C=z.f.kb,he=(ce+1)/2,Ue=(Ae+1)/2,me=Math.abs(C.fa),Se=Math.abs(C.Ab);var Ze=Math.abs(C.Db),Je=Math.abs(C.lb),je=Je*(Ae-1)+ce;N&=me*(Ae-1)+ce<=C.Fd,N&=Se*(Ue-1)+he<=C.Cd,N=(N&=Ze*(Ue-1)+he<=C.Ed)&me>=ce&Se>=he&Ze>=he,N&=C.y!=null,N&=C.f!=null,N&=C.ea!=null,ie==12&&(N&=Je>=ce,N&=je<=C.Tc,N&=C.F!=null)}else N=0;C=N?0:2}}return C!=0||U!=null&&U.fd&&(C=iu(z)),C}var Tn=64,wl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gA=24,mA=32,dh=8,Ea=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ft("Predictor0","PredictorAdd0"),Q.Predictor0=function(){return 4278190080},Q.Predictor1=function(C){return C},Q.Predictor2=function(C,N,U){return N[U+0]},Q.Predictor3=function(C,N,U){return N[U+1]},Q.Predictor4=function(C,N,U){return N[U-1]},Q.Predictor5=function(C,N,U){return Ut(Ut(C,N[U+1]),N[U+0])},Q.Predictor6=function(C,N,U){return Ut(C,N[U-1])},Q.Predictor7=function(C,N,U){return Ut(C,N[U+0])},Q.Predictor8=function(C,N,U){return Ut(N[U-1],N[U+0])},Q.Predictor9=function(C,N,U){return Ut(N[U+0],N[U+1])},Q.Predictor10=function(C,N,U){return Ut(Ut(C,N[U-1]),Ut(N[U+0],N[U+1]))},Q.Predictor11=function(C,N,U){var z=N[U+0];return 0>=_r(z>>24&255,C>>24&255,(N=N[U-1])>>24&255)+_r(z>>16&255,C>>16&255,N>>16&255)+_r(z>>8&255,C>>8&255,N>>8&255)+_r(255&z,255&C,255&N)?z:C},Q.Predictor12=function(C,N,U){var z=N[U+0];return(ir((C>>24&255)+(z>>24&255)-((N=N[U-1])>>24&255))<<24|ir((C>>16&255)+(z>>16&255)-(N>>16&255))<<16|ir((C>>8&255)+(z>>8&255)-(N>>8&255))<<8|ir((255&C)+(255&z)-(255&N)))>>>0},Q.Predictor13=function(C,N,U){var z=N[U-1];return(Vt((C=Ut(C,N[U+0]))>>24&255,z>>24&255)<<24|Vt(C>>16&255,z>>16&255)<<16|Vt(C>>8&255,z>>8&255)<<8|Vt(C>>0&255,z>>0&255))>>>0};var n0=Q.PredictorAdd0;Q.PredictorAdd1=tr,Ft("Predictor2","PredictorAdd2"),Ft("Predictor3","PredictorAdd3"),Ft("Predictor4","PredictorAdd4"),Ft("Predictor5","PredictorAdd5"),Ft("Predictor6","PredictorAdd6"),Ft("Predictor7","PredictorAdd7"),Ft("Predictor8","PredictorAdd8"),Ft("Predictor9","PredictorAdd9"),Ft("Predictor10","PredictorAdd10"),Ft("Predictor11","PredictorAdd11"),Ft("Predictor12","PredictorAdd12"),Ft("Predictor13","PredictorAdd13");var Tf=Q.PredictorAdd2;vr("ColorIndexInverseTransform","MapARGB","32b",(function(C){return C>>8&255}),(function(C){return C})),vr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(C){return C}),(function(C){return C>>8&255}));var Rt,Ya=Q.ColorIndexInverseTransform,ph=Q.MapARGB,i0=Q.VP8LColorIndexInverseTransformAlpha,oa=Q.MapAlpha,Go=Q.VP8LPredictorsAdd=[];Go.length=16,(Q.VP8LPredictors=[]).length=16,(Q.VP8LPredictorsAdd_C=[]).length=16,(Q.VP8LPredictors_C=[]).length=16;var yA,Ba,la,Xa,bl,Ic,Cl,Sl,mi,su,ca,Os,_l,gh,mh,go,kc,Lc,xA,yh,au,vA,xh,mo,Ja,on,qn,Nn,Fi=s(511),El=s(2041),wA=s(225),Rc=s(767),vh=0,ui=El,wh=wA,Qi=Rc,As=Fi,s0=0,Ss=1,bh=2,Za=3,Ee=4,Ke=5,Ve=6,At=7,ot=8,kt=9,jt=10,Ar=[2,3,7],Or=[3,3,11],Qn=[280,256,256,256,40],Wn=[0,1,1,1,0],_s=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Dn=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],qt=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Er=8,rs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ji=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Es=null,ou=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],lu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],zn=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],nc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Xi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Gi=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],xn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],yo=[],us=[],Mc=[],Ch=1,Zx=2,cu=[],Ta=[];ht("UpsampleRgbLinePair",An,3),ht("UpsampleBgrLinePair",Ai,3),ht("UpsampleRgbaLinePair",Ks,4),ht("UpsampleBgraLinePair",ts,4),ht("UpsampleArgbLinePair",Cs,4),ht("UpsampleRgba4444LinePair",Hi,2),ht("UpsampleRgb565LinePair",Ni,2);var Nf=Q.UpsampleRgbLinePair,ev=Q.UpsampleBgrLinePair,a0=Q.UpsampleRgbaLinePair,Jm=Q.UpsampleBgraLinePair,Sh=Q.UpsampleArgbLinePair,bA=Q.UpsampleRgba4444LinePair,_h=Q.UpsampleRgb565LinePair,ic=16,o0=1<<ic-1,Ff=-227,Eh=482,Zm=6,Bh=0,Na=s(256),e1=s(256),DC=s(256),KT=s(256),WT=s(Eh-Ff),YT=s(Eh-Ff);xl("YuvToRgbRow",An,3),xl("YuvToBgrRow",Ai,3),xl("YuvToRgbaRow",Ks,4),xl("YuvToBgraRow",ts,4),xl("YuvToArgbRow",Cs,4),xl("YuvToRgba4444Row",Hi,2),xl("YuvToRgb565Row",Ni,2);var Bs=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],l0=[0,2,8],jp=[8,7,6,4,4,2,2,2,1,1,1,1],Gp=1;this.WebPDecodeRGBA=function(C,N,U,z,ie){var ce=Ss,Ae=new Fc,he=new Yi;Ae.ba=he,he.S=ce,he.width=[he.width],he.height=[he.height];var me=he.width,Se=he.height,Ue=new Is;if(Ue==null||C==null)var Ze=2;else e(Ue!=null),Ze=rc(C,N,U,Ue.width,Ue.height,Ue.Pd,Ue.Qd,Ue.format,null);if(Ze!=0?me=0:(me!=null&&(me[0]=Ue.width[0]),Se!=null&&(Se[0]=Ue.height[0]),me=1),me){he.width=he.width[0],he.height=he.height[0],z!=null&&(z[0]=he.width),ie!=null&&(ie[0]=he.height);e:{if(z=new Po,(ie=new Ef).data=C,ie.w=N,ie.ha=U,ie.kd=1,N=[0],e(ie!=null),((C=rc(ie.data,ie.w,ie.ha,null,null,null,N,null,ie))==0||C==7)&&N[0]&&(C=4),(N=C)==0){if(e(Ae!=null),z.data=ie.data,z.w=ie.w+ie.offset,z.ha=ie.ha-ie.offset,z.put=ks,z.ac=Hn,z.bc=ls,z.ma=Ae,ie.xa){if((C=tt())==null){Ae=1;break e}if((function(Je,je){var bt=[0],ut=[0],De=[0];t:for(;;){if(Je==null)return 0;if(je==null)return Je.a=2,0;if(Je.l=je,Je.a=0,te(Je.m,je.data,je.w,je.ha),!dr(Je.m,bt,ut,De)){Je.a=3;break t}if(Je.xb=Zx,je.width=bt[0],je.height=ut[0],!ze(bt[0],ut[0],1,Je,null))break t;return 1}return e(Je.a!=0),0})(C,z)){if(z=(N=vl(z.width,z.height,Ae.Oa,Ae.ba))==0){t:{z=C;r:for(;;){if(z==null){z=0;break t}if(e(z.s.yc!=null),e(z.s.Ya!=null),e(0<z.s.Wb),e((U=z.l)!=null),e((ie=U.ma)!=null),z.xb!=0){if(z.ca=ie.ba,z.tb=ie.tb,e(z.ca!=null),!po(ie.Oa,U,Za)){z.a=2;break r}if(!We(z,U.width)||U.da)break r;if((U.da||Jr(z.ca.S))&&Ge(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&Ge()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!Nt(z.s.vb,z.s.Wa.Xa)){z.a=1;break r}z.xb=0}if(!we(z,z.V,z.Ba,z.c,z.i,U.o,_e))break r;ie.Dc=z.Ma,z=1;break t}e(z.a!=0),z=0}z=!z}z&&(N=C.a)}else N=C.a}else{if((C=new $n)==null){Ae=1;break e}if(C.Fa=ie.na,C.P=ie.P,C.qc=ie.Sa,$s(C,z)){if((N=vl(z.width,z.height,Ae.Oa,Ae.ba))==0){if(C.Aa=0,U=Ae.Oa,e((ie=C)!=null),U!=null){if(0<(me=0>(me=U.Md)?0:100<me?255:255*me/100)){for(Se=Ue=0;4>Se;++Se)12>(Ze=ie.pb[Se]).lc&&(Ze.ia=me*jp[0>Ze.lc?0:Ze.lc]>>3),Ue|=Ze.ia;Ue&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=U.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}bs(C,z)||(N=C.a)}}else N=C.a}N==0&&Ae.Oa!=null&&Ae.Oa.fd&&(N=iu(Ae.ba))}Ae=N}ce=Ae!=0?null:11>ce?he.f.RGBA.eb:he.f.kb.y}else ce=null;return ce};var t1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(Q,V){for(var re="",P=0;P<4;P++)re+=String.fromCharCode(Q[V++]);return re}function u(Q,V){return(Q[V+0]<<0|Q[V+1]<<8|Q[V+2]<<16)>>>0}function f(Q,V){return(Q[V+0]<<0|Q[V+1]<<8|Q[V+2]<<16|Q[V+3]<<24)>>>0}new l;var p=[0],g=[0],y=[],x=new l,w=t,S=(function(Q,V){var re={},P=0,H=!1,q=0,Z=0;if(re.frames=[],!(function(G,W,J,ae){for(var ve=0;ve<ae;ve++)if(G[W+ve]!=J.charCodeAt(ve))return!0;return!1})(Q,V,"RIFF",4)){var se,X;for(f(Q,V+=4),V+=8;V<Q.length;){var ee=c(Q,V),te=f(Q,V+=4);V+=4;var Ce=te+(1&te);switch(ee){case"VP8 ":case"VP8L":re.frames[P]===void 0&&(re.frames[P]={}),(M=re.frames[P]).src_off=H?Z:V-8,M.src_size=q+te+8,P++,H&&(H=!1,q=0,Z=0);break;case"VP8X":(M=re.header={}).feature_flags=Q[V];var ke=V+4;M.canvas_width=1+u(Q,ke),ke+=3,M.canvas_height=1+u(Q,ke),ke+=3;break;case"ALPH":H=!0,q=Ce+8,Z=V-8;break;case"ANIM":(M=re.header).bgcolor=f(Q,V),ke=V+4,M.loop_count=(se=Q)[(X=ke)+0]<<0|se[X+1]<<8,ke+=2;break;case"ANMF":var le,M;(M=re.frames[P]={}).offset_x=2*u(Q,V),V+=3,M.offset_y=2*u(Q,V),V+=3,M.width=1+u(Q,V),V+=3,M.height=1+u(Q,V),V+=3,M.duration=u(Q,V),V+=3,le=Q[V++],M.dispose=1&le,M.blend=le>>1&1}ee!="ANMF"&&(V+=Ce)}return re}})(w,0);S.response=w,S.rgbaoutput=!0,S.dataurl=!1;var B=S.header?S.header:null,F=S.frames?S.frames:null;if(B){B.loop_counter=B.loop_count,p=[B.canvas_height],g=[B.canvas_width];for(var k=0;k<F.length&&F[k].blend!=0;k++);}var O=F[0],R=x.WebPDecodeRGBA(w,O.src_off,O.src_size,g,p);O.rgba=R,O.imgwidth=g[0],O.imgheight=p[0];for(var D=0;D<g[0]*p[0]*4;D++)y[D]=R[D];return this.width=g,this.height=p,this.data=y,this}(function(t){var e=function(){return typeof IN=="function"},r=function(p,g,y,x){var w=4,S=a;switch(x){case t.image_compression.FAST:w=1,S=s;break;case t.image_compression.MEDIUM:w=6,S=o;break;case t.image_compression.SLOW:w=9,S=l}p=n(p,g,y,S);var B=IN(p,{level:w});return t.__addimage__.arrayBufferToBinaryString(B)},n=function(p,g,y,x){for(var w,S,B,F=p.length/g,k=new Uint8Array(p.length+F),O=u(),R=0;R<F;R+=1){if(B=R*g,w=p.subarray(B,B+g),x)k.set(x(w,y,S),B+R);else{for(var D,Q=O.length,V=[];D<Q;D+=1)V[D]=O[D](w,y,S);var re=f(V.concat());k.set(V[re],B+R)}S=w}return k},i=function(p){var g=Array.apply([],p);return g.unshift(0),g},s=function(p,g){var y,x=[],w=p.length;x[0]=1;for(var S=0;S<w;S+=1)y=p[S-g]||0,x[S+1]=p[S]-y+256&255;return x},a=function(p,g,y){var x,w=[],S=p.length;w[0]=2;for(var B=0;B<S;B+=1)x=y&&y[B]||0,w[B+1]=p[B]-x+256&255;return w},o=function(p,g,y){var x,w,S=[],B=p.length;S[0]=3;for(var F=0;F<B;F+=1)x=p[F-g]||0,w=y&&y[F]||0,S[F+1]=p[F]+256-(x+w>>>1)&255;return S},l=function(p,g,y){var x,w,S,B,F=[],k=p.length;F[0]=4;for(var O=0;O<k;O+=1)x=p[O-g]||0,w=y&&y[O]||0,S=y&&y[O-g]||0,B=c(x,w,S),F[O+1]=p[O]-B+256&255;return F},c=function(p,g,y){if(p===g&&g===y)return p;var x=Math.abs(g-y),w=Math.abs(p-y),S=Math.abs(p+g-y-y);return x<=w&&x<=S?p:w<=S?g:y},u=function(){return[i,s,a,o,l]},f=function(p){var g=p.map((function(y){return y.reduce((function(x,w){return x+Math.abs(w)}),0)}));return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(p,g,y,x){var w,S,B,F,k,O,R,D,Q,V,re,P,H,q,Z,se=this.decode.FLATE_DECODE,X="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(B=new vee(p)).imgData,S=B.bits,w=B.colorSpace,k=B.colors,[4,6].indexOf(B.colorType)!==-1){if(B.bits===8){Q=(D=B.pixelBitlength==32?new Uint32Array(B.decodePixels().buffer):B.pixelBitlength==16?new Uint16Array(B.decodePixels().buffer):new Uint8Array(B.decodePixels().buffer)).length,re=new Uint8Array(Q*B.colors),V=new Uint8Array(Q);var ee,te=B.pixelBitlength-B.bits;for(q=0,Z=0;q<Q;q++){for(H=D[q],ee=0;ee<te;)re[Z++]=H>>>ee&255,ee+=B.bits;V[q]=H>>>ee&255}}if(B.bits===16){Q=(D=new Uint32Array(B.decodePixels().buffer)).length,re=new Uint8Array(Q*(32/B.pixelBitlength)*B.colors),V=new Uint8Array(Q*(32/B.pixelBitlength)),P=B.colors>1,q=0,Z=0;for(var Ce=0;q<Q;)H=D[q++],re[Z++]=H>>>0&255,P&&(re[Z++]=H>>>16&255,H=D[q++],re[Z++]=H>>>0&255),V[Ce++]=H>>>16&255;S=8}x!==t.image_compression.NONE&&e()?(p=r(re,B.width*B.colors,B.colors,x),R=r(V,B.width,1,x)):(p=re,R=V,se=void 0)}if(B.colorType===3&&(w=this.color_spaces.INDEXED,O=B.palette,B.transparency.indexed)){var ke=B.transparency.indexed,le=0;for(q=0,Q=ke.length;q<Q;++q)le+=ke[q];if((le/=255)===Q-1&&ke.indexOf(0)!==-1)F=[ke.indexOf(0)];else if(le!==Q){for(D=B.decodePixels(),V=new Uint8Array(D.length),q=0,Q=D.length;q<Q;q++)V[q]=ke[D[q]];R=r(V,B.width,1)}}var M=(function(G){var W;switch(G){case t.image_compression.FAST:W=11;break;case t.image_compression.MEDIUM:W=13;break;case t.image_compression.SLOW:W=14;break;default:W=12}return W})(x);return se===this.decode.FLATE_DECODE&&(X="/Predictor "+M+" "),X+="/Colors "+k+" /BitsPerComponent "+S+" /Columns "+B.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(R&&this.__addimage__.isArrayBuffer(R)||this.__addimage__.isArrayBufferView(R))&&(R=this.__addimage__.arrayBufferToBinaryString(R)),{alias:y,data:p,index:g,filter:se,decodeParameters:X,transparency:F,palette:O,sMask:R,predictor:M,width:B.width,height:B.height,bitsPerComponent:S,colorSpace:w}}}})(Qr.API),(function(t){t.processGIF89A=function(e,r,n,i){var s=new wee(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new v3(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)},t.processGIF87A=t.processGIF89A})(Qr.API),yu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},yu.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){zi.log("bit decode error:"+r)}},yu.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},yu.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},yu.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},yu.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},yu.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},yu.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},yu.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},yu.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var s=new yu(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new v3(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}})(Qr.API),oD.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var s=new oD(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new v3(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}})(Qr.API),Qr.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=n[c],f=n[c+1],p=n[c+2],g=n[c+3];s[o++]=u,s[o++]=f,s[o++]=p,a[l++]=g}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:y,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Qr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},S1=Qr.API,BS=S1.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,p=0,g=t.length,y=0,x=o[0]||l,w=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(p=f&&_i(c[n])==="object"&&!isNaN(parseInt(c[n][y],10))?c[n][y]/u:0,w.push((o[n]||x)/l+p)),y=n;return w},nD=S1.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return S1.processArabic&&(t=S1.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:BS.apply(this,arguments).reduce((function(s,a){return s+a}),0)},iD=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},sD=function(t,e,r){r||(r={});var n,i,s,a,o,l,c,u=[],f=[u],p=r.textIndent||0,g=0,y=0,x=t.split(" "),w=BS.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var S=Array(l).join(" "),B=[];x.map((function(k){(k=k.split(/\s*\n/)).length>1?B=B.concat(k.map((function(O,R){return(R&&O.length?`
`:"")+O}))):B.push(k[0])})),x=B,l=nD.apply(this,[S,r])}for(s=0,a=x.length;s<a;s++){var F=0;if(n=x[s],l&&n[0]==`
`&&(n=n.substr(1),F=1),p+g+(y=(i=BS.apply(this,[n,r])).reduce((function(k,O){return k+O}),0))>e||F){if(y>e){for(o=iD.apply(this,[n,i,e-(p+g),e]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);y=i.slice(n.length-(u[0]?u[0].length:0)).reduce((function(k,O){return k+O}),0)}else u=[n];f.push(u),p=y+l,g=w}else u.push(n),p+=g+y,g=w}return c=l?function(k,O){return(O?S:"")+k.join(" ")}:function(k){return k.join(" ")},f.map(c)},S1.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(sD.apply(this,[n[o],a,s]));return c},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(f){return"0x"+parseInt(f,10).toString(16)},a=t.__fontmetrics__.compress=function(f){var p,g,y,x,w=["{"];for(var S in f){if(p=f[S],isNaN(parseInt(S,10))?g="'"+S+"'":(S=parseInt(S,10),g=(g=s(S).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof p=="number")p<0?(y=s(p).slice(3),x="-"):(y=s(p).slice(2),x=""),y=x+y.slice(0,-1)+n[y.slice(-1)];else{if(_i(p)!=="object")throw new Error("Don't know what to do with value type "+_i(p)+".");y=a(p)}w.push(g+y)}return w.push("}"),w.join("")},o=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,g,y,x,w={},S=1,B=w,F=[],k="",O="",R=f.length-1,D=1;D<R;D+=1)(x=f[D])=="'"?p?(y=p.join(""),p=void 0):p=[]:p?p.push(x):x=="{"?(F.push([B,y]),B={},y=void 0):x=="}"?((g=F.pop())[0][g[1]]=B,y=void 0,B=g[0]):x=="-"?S=-1:y===void 0?r.hasOwnProperty(x)?(k+=r[x],y=parseInt(k,16)*S,S=1,k=""):k+=x:r.hasOwnProperty(x)?(O+=r[x],B[y]=parseInt(O,16)*S,S=1,y=void 0,O=""):O+=x;return w},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var p=f.font,g=u.Unicode[p.postScriptName];g&&(p.metadata.Unicode={},p.metadata.Unicode.widths=g.widths,p.metadata.Unicode.kerning=g.kerning);var y=c.Unicode[p.postScriptName];y&&(p.metadata.Unicode.encoding=y,p.encoding=y.codePages[0])}])})(Qr.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(O2(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])})(Qr),(function(t){function e(){return($r.canvg?Promise.resolve($r.canvg):Sn(()=>import("./index.es-HV_SrEnI.js"),[])).catch((function(r){return Promise.reject(new Error("Could not load canvg: "+r))})).then((function(r){return r.default?r.default:r}))}Qr.API.addSvgAsImage=function(r,n,i,s,a,o,l,c){if(isNaN(n)||isNaN(i))throw zi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw zi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=a;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then((function(y){return y.fromString(f,r,p)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(y){return y.render(p)})).then((function(){g.addImage(u.toDataURL("image/jpeg",1),n,i,s,a,l,c)}))}})(),Qr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Qr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,f=0;function p(y,x){var w,S=!1;for(w=0;w<y.length;w+=1)y[w]===x&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=o.length;for(f=0;f<g;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(_i(t)==="object"){for(i in t)if(s=t[i],p(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&p(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(n=!1);n===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var y,x=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?x.push("/"+y+" /"+r[y].value):x.push("/"+y+" "+r[y].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Qr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,p=s.length;f<p;++f){if(o=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(s){var a,o,l,c,u,f,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(s).sort((function(g,y){return g-y}))).length;f<p;f++)a=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",y=0;y<p.length;y++)g+=String.fromCharCode(p[y]);var x=c();u({data:g,addLength1:!0,objectId:x}),l("endobj");var w=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var S=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+O1(o.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var B=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+O1(o.fontName)),l("/FontDescriptor "+S+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+O1(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+B+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",g=0;g<f.length;g++)p+=String.fromCharCode(f[g]);var y=c();u({data:p,addLength1:!0,objectId:y}),l("endobj");var x=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var w=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+O1(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var S=0;S<o.metadata.hmtx.widths.length;S++)o.metadata.hmtx.widths[S]=parseInt(o.metadata.hmtx.widths[S]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+O1(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,u=s.options||{},f=s.mutex||{},p=f.pdfEscape,g=f.activeFontKey,y=f.fonts,x=g,w="",S=0,B="",F=y[x].encoding;if(y[x].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(B=o,x=g,Array.isArray(o)&&(B=o[0]),S=0;S<B.length;S+=1)y[x].metadata.hasOwnProperty("cmap")&&(a=y[x].metadata.cmap.unicode.codeMap[B[S].charCodeAt(0)]),a||B[S].charCodeAt(0)<256&&y[x].metadata.hasOwnProperty("Unicode")?w+=B[S]:w+="";var k="";return parseInt(x.slice(1))<14||F==="WinAnsiEncoding"?k=p(w,x).split("").map((function(O){return O.charCodeAt(0).toString(16)})).join(""):F==="Identity-H"&&(k=r(w,y[x])),f.isHex=!0,{text:k,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])})(Qr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Qr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,c,u,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,F=0;this.__bidiEngine__={};var k=function(P){var H=P.charCodeAt(),q=H>>8,Z=x[q];return Z!==void 0?f[256*Z+(255&H)]:q===252||q===253?"AL":S.test(q)?"L":q===8?"R":"N"},O=function(P){for(var H,q=0;q<P.length;q++){if((H=k(P.charAt(q)))==="L")return!1;if(H==="R")return!0}return!1},R=function(P,H,q,Z){var se,X,ee,te,Ce=H[Z];switch(Ce){case"L":case"R":B=!1;break;case"N":case"AN":break;case"EN":B&&(Ce="AN");break;case"AL":B=!0,Ce="R";break;case"WS":Ce="N";break;case"CS":Z<1||Z+1>=H.length||(se=q[Z-1])!=="EN"&&se!=="AN"||(X=H[Z+1])!=="EN"&&X!=="AN"?Ce="N":B&&(X="AN"),Ce=X===se?X:"N";break;case"ES":Ce=(se=Z>0?q[Z-1]:"B")==="EN"&&Z+1<H.length&&H[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&q[Z-1]==="EN"){Ce="EN";break}if(B){Ce="N";break}for(ee=Z+1,te=H.length;ee<te&&H[ee]==="ET";)ee++;Ce=ee<te&&H[ee]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(te=H.length,ee=Z+1;ee<te&&H[ee]==="NSM";)ee++;if(ee<te){var ke=P[Z],le=ke>=1425&&ke<=2303||ke===64286;if(se=H[ee],le&&(se==="R"||se==="AL")){Ce="R";break}}}Ce=Z<1||(se=H[Z-1])==="B"?"N":q[Z-1];break;case"B":B=!1,i=!0,Ce=F;break;case"S":s=!0,Ce="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"BN":Ce="N"}return Ce},D=function(P,H,q){var Z=P.split("");return q&&Q(Z,q,{hiLevel:F}),Z.reverse(),H&&H.reverse(),Z.join("")},Q=function(P,H,q){var Z,se,X,ee,te,Ce=-1,ke=P.length,le=0,M=[],G=F?g:p,W=[];for(B=!1,i=!1,s=!1,se=0;se<ke;se++)W[se]=k(P[se]);for(X=0;X<ke;X++){if(te=le,M[X]=R(P,W,M,X),Z=240&(le=G[te][y[M[X]]]),le&=15,H[X]=ee=G[le][5],Z>0)if(Z===16){for(se=Ce;se<X;se++)H[se]=1;Ce=-1}else Ce=-1;if(G[le][6])Ce===-1&&(Ce=X);else if(Ce>-1){for(se=Ce;se<X;se++)H[se]=ee;Ce=-1}W[X]==="B"&&(H[X]=0),q.hiLevel|=ee}s&&(function(J,ae,ve){for(var Fe=0;Fe<ve;Fe++)if(J[Fe]==="S"){ae[Fe]=F;for(var Ie=Fe-1;Ie>=0&&J[Ie]==="WS";Ie--)ae[Ie]=F}})(W,H,ke)},V=function(P,H,q,Z,se){if(!(se.hiLevel<P)){if(P===1&&F===1&&!i)return H.reverse(),void(q&&q.reverse());for(var X,ee,te,Ce,ke=H.length,le=0;le<ke;){if(Z[le]>=P){for(te=le+1;te<ke&&Z[te]>=P;)te++;for(Ce=le,ee=te-1;Ce<ee;Ce++,ee--)X=H[Ce],H[Ce]=H[ee],H[ee]=X,q&&(X=q[Ce],q[Ce]=q[ee],q[ee]=X);le=te}le++}}},re=function(P,H,q){var Z=P.split(""),se={hiLevel:F};return q||(q=[]),Q(Z,q,se),(function(X,ee,te){if(te.hiLevel!==0&&u)for(var Ce,ke=0;ke<X.length;ke++)ee[ke]===1&&(Ce=w.indexOf(X[ke]))>=0&&(X[ke]=w[Ce+1])})(Z,q,se),V(2,Z,H,q,se),V(1,Z,H,q,se),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(P,H,q){if((function(se,X){if(X)for(var ee=0;ee<se.length;ee++)X[ee]=ee;o===void 0&&(o=O(se)),c===void 0&&(c=O(se))})(P,H),a||!l||c)if(a&&l&&o^c)F=o?1:0,P=D(P,H,q);else if(!a&&l&&c)F=o?1:0,P=re(P,H,q),P=D(P,H);else if(!a||o||l||c){if(a&&!l&&o^c)P=D(P,H),o?(F=0,P=re(P,H,q)):(F=1,P=re(P,H,q),P=D(P,H));else if(a&&o&&!l&&c)F=1,P=re(P,H,q),P=D(P,H);else if(!a&&!l&&o^c){var Z=u;o?(F=1,P=re(P,H,q),F=0,u=!1,P=re(P,H,q),u=Z):(F=0,P=re(P,H,q),P=D(P,H),F=1,u=!1,P=re(P,H,q),u=Z,P=D(P,H))}}else F=0,P=re(P,H,q);else F=o?1:0,P=re(P,H,q);return P},this.__bidiEngine__.setOptions=function(P){P&&(a=P.isInputVisual,l=P.isOutputVisual,o=P.isInputRtl,c=P.isOutputRtl,u=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text,s=(n.x,n.y,n.options||{}),a=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(Qr),Qr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new wp(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Uee(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new bee(this.contents),this.head=new See(this),this.name=new Nee(this),this.cmap=new oQ(this),this.toUnicode={},this.hhea=new _ee(this),this.maxp=new Fee(this),this.hmtx=new Iee(this),this.post=new Bee(this),this.os2=new Eee(this),this.loca=new Mee(this),this.glyf=new kee(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),(32768&(r=i>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var th,wp=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t})(),bee=(function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,c,u,f,p,g,y,x;for(x in g=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(g)/l),a=Math.floor(f/l),u=16*g-f,(i=new wp).writeInt(this.scalarType),i.writeShort(g),i.writeShort(f),i.writeShort(a),i.writeShort(u),s=16*g,c=i.pos+s,o=null,y=[],r)for(p=r[x],i.writeString(x),i.writeInt(t(p)),i.writeInt(c),i.writeInt(p.length),y=y.concat(p),x==="head"&&(o=c),c+=p.length;c%4;)y.push(0),c++;return i.write(y),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=lQ.call(r);r.length%4;)r.push(0);for(s=new wp(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e})(),Cee={}.hasOwnProperty,yf=function(t,e){for(var r in e)Cee.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};th=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var See=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yf(e,th),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new wp).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e})(),lD=(function(){function t(e,r){var n,i,s,a,o,l,c,u,f,p,g,y,x,w,S,B,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),p=g/2,e.pos+=6,s=(function(){var k,O;for(O=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)O.push(e.readUInt16());return O})(),e.pos+=2,x=(function(){var k,O;for(O=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)O.push(e.readUInt16());return O})(),c=(function(){var k,O;for(O=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)O.push(e.readUInt16());return O})(),u=(function(){var k,O;for(O=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)O.push(e.readUInt16());return O})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var k,O;for(O=[],l=k=0;0<=i?k<i:k>i;l=0<=i?++k:--k)O.push(e.readUInt16());return O})(),l=S=0,F=s.length;S<F;l=++S)for(w=s[l],n=B=y=x[l];y<=w?B<=w:B>=w;n=y<=w?++B:--B)u[l]===0?a=n+c[l]:(a=o[u[l]/2+(n-y)-(p-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=f}return t.encode=function(e,r){var n,i,s,a,o,l,c,u,f,p,g,y,x,w,S,B,F,k,O,R,D,Q,V,re,P,H,q,Z,se,X,ee,te,Ce,ke,le,M,G,W,J,ae,ve,Fe,Ie,He,at,lt;switch(Z=new wp,a=Object.keys(e).sort((function(St,Nt){return St-Nt})),r){case"macroman":for(x=0,w=(function(){var St=[];for(y=0;y<256;++y)St.push(0);return St})(),B={0:0},s={},se=0,Ce=a.length;se<Ce;se++)B[Ie=e[i=a[se]]]==null&&(B[Ie]=++x),s[i]={old:e[i],new:B[e[i]]},w[i]=B[e[i]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(w),{charMap:s,subtable:Z.data,maxGlyphID:x+1};case"unicode":for(H=[],f=[],F=0,B={},n={},S=c=null,X=0,ke=a.length;X<ke;X++)B[O=e[i=a[X]]]==null&&(B[O]=++F),n[i]={old:O,new:B[O]},o=B[O]-i,S!=null&&o===c||(S&&f.push(S),H.push(i),c=o),S=i;for(S&&f.push(S),f.push(65535),H.push(65535),re=2*(V=H.length),Q=2*Math.pow(Math.log(V)/Math.LN2,2),p=Math.log(Q/2)/Math.LN2,D=2*V-Q,l=[],R=[],g=[],y=ee=0,le=H.length;ee<le;y=++ee){if(P=H[y],u=f[y],P===65535){l.push(0),R.push(0);break}if(P-(q=n[P].new)>=32768)for(l.push(0),R.push(2*(g.length+V-y)),i=te=P;P<=u?te<=u:te>=u;i=P<=u?++te:--te)g.push(n[i].new);else l.push(q-P),R.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*V+2*g.length),Z.writeUInt16(0),Z.writeUInt16(re),Z.writeUInt16(Q),Z.writeUInt16(p),Z.writeUInt16(D),ve=0,M=f.length;ve<M;ve++)i=f[ve],Z.writeUInt16(i);for(Z.writeUInt16(0),Fe=0,G=H.length;Fe<G;Fe++)i=H[Fe],Z.writeUInt16(i);for(He=0,W=l.length;He<W;He++)o=l[He],Z.writeUInt16(o);for(at=0,J=R.length;at<J;at++)k=R[at],Z.writeUInt16(k);for(lt=0,ae=g.length;lt<ae;lt++)x=g[lt],Z.writeUInt16(x);return{charMap:n,subtable:Z.data,maxGlyphID:F+1}}},t})(),oQ=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yf(e,th),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new lD(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=lD.encode(r,n),(s=new wp).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e})(),_ee=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yf(e,th),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e})(),Eee=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yf(e,th),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i})(),this.charRange=(function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e})(),Bee=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yf(e,th),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(i=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},e})(),Tee=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Nee=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yf(e,th),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,a,o,l,c,u,f,p,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},a=f=0,p=i.length;f<p;a=++f)s=i[a],r.pos=s.offset,u=r.readString(s.length),o=new Tee(u,s),c[g=s.nameID]==null&&(c[g]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),Fee=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yf(e,th),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e})(),Iee=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yf(e,th),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,a,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,f;for(f=[],n=u=0;0<=s?u<s:u>s;n=0<=s?++u:--u)f.push(r.readInt16());return f})(),this.widths=(function(){var u,f,p,g;for(g=[],u=0,f=(p=this.metrics).length;u<f;u++)a=p[u],g.push(a.advance);return g}).call(this),i=this.widths[this.widths.length-1],c=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e})(),lQ=[].slice,kee=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yf(e,th),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,a,o,l,c,u,f,p;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(r),(s=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,o=(l=new wp(n.read(s))).readShort(),u=l.readShort(),p=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new Ree(l,u,p,c,f):new Lee(l,o,u,p,c,f),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,a,o,l,c;for(o=[],a=[],l=0,c=n.length;l<c;l++)s=r[n[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e})(),Lee=(function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Ree=(function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new wp(lQ.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),Mee=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yf(e,th),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<n.length&&n[a]==o){++a,i[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var u=new Array(4*i.length),f=0;f<i.length;++f)u[4*f+3]=255&i[f],u[4*f+2]=(65280&i[f])>>8,u[4*f+1]=(16711680&i[f])>>16,u[4*f]=(4278190080&i[f])>>24;return u},e})(),Uee=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,c,u,f,p,g,y,x,w,S;for(i in n=oQ.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),g={0:0},S=n.charMap)g[(l=S[i]).old]=l.new;for(y in p=n.maxGlyphID,a)y in g||(g[y]=p++);return u=(function(B){var F,k;for(F in k={},B)k[B[F]]=F;return k})(g),f=Object.keys(u).sort((function(B,F){return B-F})),x=(function(){var B,F,k;for(k=[],B=0,F=f.length;B<F;B++)o=f[B],k.push(u[o]);return k})(),s=this.font.glyf.encode(a,x,g),c=this.font.loca.encode(s.offsets,x),w={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t})();Qr.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+(function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e})();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ON=function(t,e){return ON=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ON(t,e)};function rh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ON(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var PN=function(){return PN=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},PN.apply(this,arguments)};function Ml(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(f){a(f)}}function l(u){try{c(n.throw(u))}catch(f){a(f)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,[])).next())})}function il(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function TS(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var Hd=(function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),CB=function(t,e){return Hd.fromClientRect(t,e.getBoundingClientRect())},Dee=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Hd(0,0,n,i)},SB=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Js=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},cD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Oee=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var NS=0;NS<cD.length;NS++)Oee[cD.charCodeAt(NS)]=NS;var AD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var FS=0;FS<AD.length;FS++)i2[AD.charCodeAt(FS)]=FS;var Pee=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)s=i2[t.charCodeAt(n)],a=i2[t.charCodeAt(n+1)],o=i2[t.charCodeAt(n+2)],l=i2[t.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|l&63;return c},Hee=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},Qee=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},fm=5,Yk=11,w3=2,jee=Yk-fm,cQ=65536>>fm,Gee=1<<fm,b3=Gee-1,Vee=1024>>fm,$ee=cQ+Vee,qee=$ee,zee=32,Kee=qee+zee,Wee=65536>>Yk,Yee=1<<jee,Xee=Yee-1,uD=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Jee=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},Zee=function(t,e){var r=Pee(t),n=Array.isArray(r)?Qee(r):new Uint32Array(r),i=Array.isArray(r)?Hee(r):new Uint16Array(r),s=24,a=uD(i,s/2,n[4]/2),o=n[5]===2?uD(i,(s+n[4])/2):Jee(n,Math.ceil((s+n[4])/4));return new ete(n[0],n[1],n[2],n[3],a,o)},ete=(function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>fm],r=(r<<w3)+(e&b3),this.data[r];if(e<=65535)return r=this.index[cQ+(e-55296>>fm)],r=(r<<w3)+(e&b3),this.data[r];if(e<this.highStart)return r=Kee-Wee+(e>>Yk),r=this.index[r],r+=e>>fm&Xee,r=this.index[r],r=(r<<w3)+(e&b3),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),hD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tte=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var IS=0;IS<hD.length;IS++)tte[hD.charCodeAt(IS)]=IS;var rte="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",fD=50,nte=1,AQ=2,uQ=3,ite=4,ste=5,dD=7,hQ=8,pD=9,up=10,HN=11,gD=12,QN=13,ate=14,s2=15,jN=16,kS=17,Rv=18,ote=19,mD=20,GN=21,Mv=22,C3=23,_1=24,jc=25,a2=26,o2=27,E1=28,lte=29,og=30,cte=31,LS=32,RS=33,VN=34,$N=35,qN=36,ow=37,zN=38,M5=39,U5=40,S3=41,fQ=42,Ate=43,ute=[9001,65288],dQ="!",Ln="",MS="",KN=Zee(rte),qf=[og,qN],WN=[nte,AQ,uQ,ste],pQ=[up,hQ],yD=[o2,a2],hte=WN.concat(pQ),xD=[zN,M5,U5,VN,$N],fte=[s2,QN],dte=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,a){var o=KN.get(s);if(o>fD?(i.push(!0),o-=fD):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),r.push(jN);if(o===ite||o===HN){if(a===0)return n.push(a),r.push(og);var l=r[a-1];return hte.indexOf(l)===-1?(n.push(n[a-1]),r.push(l)):(n.push(a),r.push(og))}if(n.push(a),o===cte)return r.push(e==="strict"?GN:ow);if(o===fQ||o===lte)return r.push(og);if(o===Ate)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(ow):r.push(og);r.push(o)}),[n,r,i]},_3=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==up)break}if(i===up)for(var s=r;s>0;){s--;var o=n[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=r;l<=n.length;){l++;var a=n[l];if(a===e)return!0;if(a!==up)break}if(o!==up)break}return!1},vD=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===up)r--;else return n}return 0},pte=function(t,e,r,n,i){if(r[n]===0)return Ln;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return Ln;var a=s-1,o=s+1,l=e[s],c=a>=0?e[a]:0,u=e[o];if(l===AQ&&u===uQ)return Ln;if(WN.indexOf(l)!==-1)return dQ;if(WN.indexOf(u)!==-1||pQ.indexOf(u)!==-1)return Ln;if(vD(s,e)===hQ)return MS;if(KN.get(t[s])===HN||(l===LS||l===RS)&&KN.get(t[o])===HN||l===dD||u===dD||l===pD||[up,QN,s2].indexOf(l)===-1&&u===pD||[kS,Rv,ote,_1,E1].indexOf(u)!==-1||vD(s,e)===Mv||_3(C3,Mv,s,e)||_3([kS,Rv],GN,s,e)||_3(gD,gD,s,e))return Ln;if(l===up)return MS;if(l===C3||u===C3)return Ln;if(u===jN||l===jN)return MS;if([QN,s2,GN].indexOf(u)!==-1||l===ate||c===qN&&fte.indexOf(l)!==-1||l===E1&&u===qN||u===mD||qf.indexOf(u)!==-1&&l===jc||qf.indexOf(l)!==-1&&u===jc||l===o2&&[ow,LS,RS].indexOf(u)!==-1||[ow,LS,RS].indexOf(l)!==-1&&u===a2||qf.indexOf(l)!==-1&&yD.indexOf(u)!==-1||yD.indexOf(l)!==-1&&qf.indexOf(u)!==-1||[o2,a2].indexOf(l)!==-1&&(u===jc||[Mv,s2].indexOf(u)!==-1&&e[o+1]===jc)||[Mv,s2].indexOf(l)!==-1&&u===jc||l===jc&&[jc,E1,_1].indexOf(u)!==-1)return Ln;if([jc,E1,_1,kS,Rv].indexOf(u)!==-1)for(var f=s;f>=0;){var p=e[f];if(p===jc)return Ln;if([E1,_1].indexOf(p)!==-1)f--;else break}if([o2,a2].indexOf(u)!==-1)for(var f=[kS,Rv].indexOf(l)!==-1?a:s;f>=0;){var p=e[f];if(p===jc)return Ln;if([E1,_1].indexOf(p)!==-1)f--;else break}if(zN===l&&[zN,M5,VN,$N].indexOf(u)!==-1||[M5,VN].indexOf(l)!==-1&&[M5,U5].indexOf(u)!==-1||[U5,$N].indexOf(l)!==-1&&u===U5||xD.indexOf(l)!==-1&&[mD,a2].indexOf(u)!==-1||xD.indexOf(u)!==-1&&l===o2||qf.indexOf(l)!==-1&&qf.indexOf(u)!==-1||l===_1&&qf.indexOf(u)!==-1||qf.concat(jc).indexOf(l)!==-1&&u===Mv&&ute.indexOf(t[o])===-1||qf.concat(jc).indexOf(u)!==-1&&l===Rv)return Ln;if(l===S3&&u===S3){for(var g=r[s],y=1;g>0&&(g--,e[g]===S3);)y++;if(y%2!==0)return Ln}return l===LS&&u===RS?Ln:MS},gte=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=dte(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[jc,og,fQ].indexOf(o)!==-1?ow:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,i,a]},mte=(function(){function t(e,r,n,i){this.codePoints=e,this.required=r===dQ,this.start=n,this.end=i}return t.prototype.slice=function(){return Js.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),yte=function(t,e){var r=SB(t),n=gte(r,e),i=n[0],s=n[1],a=n[2],o=r.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var u=Ln;c<o&&(u=pte(r,s,i,++c,a))===Ln;);if(u!==Ln||c===o){var f=new mte(r,u,l,c);return l=c,{value:f,done:!1}}return{done:!0,value:null}}}},xte=1,vte=2,fC=4,wD=8,F_=10,bD=47,P2=92,wte=9,bte=32,US=34,Uv=61,Cte=35,Ste=36,_te=37,DS=39,OS=40,Dv=41,Ete=95,xc=45,Bte=33,Tte=60,Nte=62,Fte=64,Ite=91,kte=93,Lte=61,Rte=123,PS=63,Mte=125,CD=124,Ute=126,Dte=128,SD=65533,E3=42,ug=43,Ote=44,Pte=58,Hte=59,lw=46,Qte=0,jte=8,Gte=11,Vte=14,$te=31,qte=127,Rh=-1,gQ=48,mQ=97,yQ=101,zte=102,Kte=117,Wte=122,xQ=65,vQ=69,wQ=70,Yte=85,Xte=90,al=function(t){return t>=gQ&&t<=57},Jte=function(t){return t>=55296&&t<=57343},B1=function(t){return al(t)||t>=xQ&&t<=wQ||t>=mQ&&t<=zte},Zte=function(t){return t>=mQ&&t<=Wte},ere=function(t){return t>=xQ&&t<=Xte},tre=function(t){return Zte(t)||ere(t)},rre=function(t){return t>=Dte},HS=function(t){return t===F_||t===wte||t===bte},I_=function(t){return tre(t)||rre(t)||t===Ete},_D=function(t){return I_(t)||al(t)||t===xc},nre=function(t){return t>=Qte&&t<=jte||t===Gte||t>=Vte&&t<=$te||t===qte},D0=function(t,e){return t!==P2?!1:e!==F_},QS=function(t,e,r){return t===xc?I_(e)||D0(e,r):I_(t)?!0:!!(t===P2&&D0(t,e))},B3=function(t,e,r){return t===ug||t===xc?al(e)?!0:e===lw&&al(r):al(t===lw?e:t)},ire=function(t){var e=0,r=1;(t[e]===ug||t[e]===xc)&&(t[e]===xc&&(r=-1),e++);for(var n=[];al(t[e]);)n.push(t[e++]);var i=n.length?parseInt(Js.apply(void 0,n),10):0;t[e]===lw&&e++;for(var s=[];al(t[e]);)s.push(t[e++]);var a=s.length,o=a?parseInt(Js.apply(void 0,s),10):0;(t[e]===vQ||t[e]===yQ)&&e++;var l=1;(t[e]===ug||t[e]===xc)&&(t[e]===xc&&(l=-1),e++);for(var c=[];al(t[e]);)c.push(t[e++]);var u=c.length?parseInt(Js.apply(void 0,c),10):0;return r*(i+o*Math.pow(10,-a))*Math.pow(10,l*u)},sre={type:2},are={type:3},ore={type:4},lre={type:13},cre={type:8},Are={type:21},ure={type:9},hre={type:10},fre={type:11},dre={type:12},pre={type:14},jS={type:23},gre={type:1},mre={type:25},yre={type:24},xre={type:26},vre={type:27},wre={type:28},bre={type:29},Cre={type:31},YN={type:32},bQ=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(SB(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==YN;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case US:return this.consumeStringToken(US);case Cte:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(_D(r)||D0(n,i)){var s=QS(r,n,i)?vte:xte,a=this.consumeName();return{type:5,value:a,flags:s}}break;case Ste:if(this.peekCodePoint(0)===Uv)return this.consumeCodePoint(),lre;break;case DS:return this.consumeStringToken(DS);case OS:return sre;case Dv:return are;case E3:if(this.peekCodePoint(0)===Uv)return this.consumeCodePoint(),pre;break;case ug:if(B3(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ote:return ore;case xc:var o=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(B3(o,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(QS(o,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===xc&&c===Nte)return this.consumeCodePoint(),this.consumeCodePoint(),yre;break;case lw:if(B3(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case bD:if(this.peekCodePoint(0)===E3)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===E3&&(u=this.consumeCodePoint(),u===bD))return this.consumeToken();if(u===Rh)return this.consumeToken()}break;case Pte:return xre;case Hte:return vre;case Tte:if(this.peekCodePoint(0)===Bte&&this.peekCodePoint(1)===xc&&this.peekCodePoint(2)===xc)return this.consumeCodePoint(),this.consumeCodePoint(),mre;break;case Fte:var f=this.peekCodePoint(0),p=this.peekCodePoint(1),g=this.peekCodePoint(2);if(QS(f,p,g)){var a=this.consumeName();return{type:7,value:a}}break;case Ite:return wre;case P2:if(D0(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case kte:return bre;case Lte:if(this.peekCodePoint(0)===Uv)return this.consumeCodePoint(),cre;break;case Rte:return fre;case Mte:return dre;case Kte:case Yte:var y=this.peekCodePoint(0),x=this.peekCodePoint(1);return y===ug&&(B1(x)||x===PS)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case CD:if(this.peekCodePoint(0)===Uv)return this.consumeCodePoint(),ure;if(this.peekCodePoint(0)===CD)return this.consumeCodePoint(),Are;break;case Ute:if(this.peekCodePoint(0)===Uv)return this.consumeCodePoint(),hre;break;case Rh:return YN}return HS(e)?(this.consumeWhiteSpace(),Cre):al(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):I_(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Js(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();B1(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===PS&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Js.apply(void 0,e.map(function(l){return l===PS?gQ:l})),16),s=parseInt(Js.apply(void 0,e.map(function(l){return l===PS?wQ:l})),16);return{type:30,start:i,end:s}}var a=parseInt(Js.apply(void 0,e),16);if(this.peekCodePoint(0)===xc&&B1(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];B1(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var s=parseInt(Js.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===OS?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===OS?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Rh)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===DS||r===US){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Rh||this.peekCodePoint(0)===Dv)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),jS)}for(;;){var i=this.consumeCodePoint();if(i===Rh||i===Dv)return{type:22,value:Js.apply(void 0,e)};if(HS(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Rh||this.peekCodePoint(0)===Dv?(this.consumeCodePoint(),{type:22,value:Js.apply(void 0,e)}):(this.consumeBadUrlRemnants(),jS);if(i===US||i===DS||i===OS||nre(i))return this.consumeBadUrlRemnants(),jS;if(i===P2)if(D0(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),jS;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;HS(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Dv||e===Rh)return;D0(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=Js.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===Rh||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===F_)return this._value.splice(0,n),gre;if(i===P2){var s=this._value[n+1];s!==Rh&&s!==void 0&&(s===F_?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):D0(i,s)&&(r+=this.consumeStringSlice(n),r+=Js(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=fC,n=this.peekCodePoint(0);for((n===ug||n===xc)&&e.push(this.consumeCodePoint());al(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===lw&&al(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=wD;al(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===vQ||n===yQ)&&((i===ug||i===xc)&&al(s)||al(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=wD;al(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[ire(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(QS(i,s,a)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return i===_te?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(B1(e)){for(var r=Js(e);B1(this.peekCodePoint(0))&&r.length<6;)r+=Js(this.consumeCodePoint());HS(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||Jte(n)||n>1114111?SD:n}return e===Rh?SD:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(_D(r))e+=Js(r);else if(D0(r,this.peekCodePoint(0)))e+=Js(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t})(),CQ=(function(){function t(e){this._tokens=e}return t.create=function(e){var r=new bQ;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||_re(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?YN:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),dC=function(t){return t.type===15},Ox=function(t){return t.type===17},Ui=function(t){return t.type===20},Sre=function(t){return t.type===0},XN=function(t,e){return Ui(t)&&t.value===e},SQ=function(t){return t.type!==31},Cx=function(t){return t.type!==31&&t.type!==4},xf=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},_re=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},bp=function(t){return t.type===17||t.type===15},ya=function(t){return t.type===16||bp(t)},_Q=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Mo={type:17,number:0,flags:fC},Xk={type:16,number:50,flags:fC},hp={type:16,number:100,flags:fC},l2=function(t,e,r){var n=t[0],i=t[1];return[Zi(n,e),Zi(typeof i<"u"?i:n,r)]},Zi=function(t,e){if(t.type===16)return t.number/100*e;if(dC(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},EQ="deg",BQ="grad",TQ="rad",NQ="turn",_B={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case EQ:return Math.PI*e.number/180;case BQ:return Math.PI/200*e.number;case TQ:return e.number;case NQ:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},FQ=function(t){return t.type===15&&(t.unit===EQ||t.unit===BQ||t.unit===TQ||t.unit===NQ)},IQ=function(t){var e=t.filter(Ui).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Mo,Mo];case"to top":case"bottom":return GA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Mo,hp];case"to right":case"left":return GA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[hp,hp];case"to bottom":case"top":return GA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[hp,Mo];case"to left":case"right":return GA(270)}return 0},GA=function(t){return Math.PI*t/180},mp={name:"color",parse:function(t,e){if(e.type===18){var r=Ere[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return fp(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return fp(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return fp(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return fp(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=Fd[e.value.toUpperCase()];if(typeof o<"u")return o}return Fd.TRANSPARENT}},yp=function(t){return(255&t)===0},ro=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},fp=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},ED=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},BD=function(t,e){var r=e.filter(Cx);if(r.length===3){var n=r.map(ED),i=n[0],s=n[1],a=n[2];return fp(i,s,a,1)}if(r.length===4){var o=r.map(ED),i=o[0],s=o[1],a=o[2],l=o[3];return fp(i,s,a,l)}return 0};function T3(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var TD=function(t,e){var r=e.filter(Cx),n=r[0],i=r[1],s=r[2],a=r[3],o=(n.type===17?GA(n.number):_B.parse(t,n))/(Math.PI*2),l=ya(i)?i.number/100:0,c=ya(s)?s.number/100:0,u=typeof a<"u"&&ya(a)?Zi(a,1):1;if(l===0)return fp(c*255,c*255,c*255,1);var f=c<=.5?c*(l+1):c+l-c*l,p=c*2-f,g=T3(p,f,o+1/3),y=T3(p,f,o),x=T3(p,f,o-1/3);return fp(g*255,y*255,x*255,u)},Ere={hsl:TD,hsla:TD,rgb:BD,rgba:BD},H2=function(t,e){return mp.parse(t,CQ.create(e).parseComponentValue())},Fd={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Bre={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Ui(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Tre={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},EB=function(t,e){var r=mp.parse(t,e[0]),n=e[1];return n&&ya(n)?{color:r,stop:n}:{color:r,stop:null}},ND=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Mo),n.stop===null&&(n.stop=hp);for(var i=[],s=0,a=0;a<t.length;a++){var o=t[a].stop;if(o!==null){var l=Zi(o,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var c=null,a=0;a<i.length;a++){var u=i[a];if(u===null)c===null&&(c=a);else if(c!==null){for(var f=a-c,p=i[c-1],g=(u-p)/(f+1),y=1;y<=f;y++)i[c+y-1]=g*y;c=null}}return t.map(function(x,w){var S=x.color;return{color:S,stop:Math.max(Math.min(1,i[w]/e),0)}})},Nre=function(t,e,r){var n=e/2,i=r/2,s=Zi(t[0],e)-n,a=i-Zi(t[1],r);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},Fre=function(t,e,r){var n=typeof t=="number"?t:Nre(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,a=r/2,o=i/2,l=Math.sin(n-Math.PI/2)*o,c=Math.cos(n-Math.PI/2)*o;return[i,s-c,s+c,a-l,a+l]},Cu=function(t,e){return Math.sqrt(t*t+e*e)},FD=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(a,o){var l=o[0],c=o[1],u=Cu(r-l,n-c);return(i?u<a.optimumDistance:u>a.optimumDistance)?{optimumCorner:o,optimumDistance:u}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Ire=function(t,e,r,n,i){var s=0,a=0;switch(t.size){case 0:t.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=a=Math.min(Cu(e,r),Cu(e,r-i),Cu(e-n,r),Cu(e-n,r-i));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),l=FD(n,i,e,r,!0),c=l[0],u=l[1];s=Cu(c-e,(u-r)/o),a=o*s}break;case 1:t.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=a=Math.max(Cu(e,r),Cu(e,r-i),Cu(e-n,r),Cu(e-n,r-i));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),f=FD(n,i,e,r,!1),c=f[0],u=f[1];s=Cu(c-e,(u-r)/o),a=o*s}break}return Array.isArray(t.size)&&(s=Zi(t.size[0],n),a=t.size.length===2?Zi(t.size[1],i):s),[s,a]},kre=function(t,e){var r=GA(180),n=[];return xf(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){r=IQ(i);return}else if(FQ(a)){r=_B.parse(t,a);return}}var o=EB(t,i);n.push(o)}),{angle:r,stops:n,type:1}},GS=function(t,e){var r=GA(180),n=[];return xf(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=IQ(i);return}else if(FQ(a)){r=(_B.parse(t,a)+GA(270))%GA(360);return}}var o=EB(t,i);n.push(o)}),{angle:r,stops:n,type:1}},Lre=function(t,e){var r=GA(180),n=[],i=1,s=0,a=3,o=[];return xf(e).forEach(function(l,c){var u=l[0];if(c===0){if(Ui(u)&&u.value==="linear"){i=1;return}else if(Ui(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var f=mp.parse(t,u.values[0]);n.push({stop:Mo,color:f})}else if(u.name==="to"){var f=mp.parse(t,u.values[0]);n.push({stop:hp,color:f})}else if(u.name==="color-stop"){var p=u.values.filter(Cx);if(p.length===2){var f=mp.parse(t,p[1]),g=p[0];Ox(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:f})}}}}),i===1?{angle:(r+GA(180))%GA(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:o,type:i}},kQ="closest-side",LQ="farthest-side",RQ="closest-corner",MQ="farthest-corner",UQ="circle",DQ="ellipse",OQ="cover",PQ="contain",Rre=function(t,e){var r=0,n=3,i=[],s=[];return xf(e).forEach(function(a,o){var l=!0;if(o===0){var c=!1;l=a.reduce(function(f,p){if(c)if(Ui(p))switch(p.value){case"center":return s.push(Xk),f;case"top":case"left":return s.push(Mo),f;case"right":case"bottom":return s.push(hp),f}else(ya(p)||bp(p))&&s.push(p);else if(Ui(p))switch(p.value){case UQ:return r=0,!1;case DQ:return r=1,!1;case"at":return c=!0,!1;case kQ:return n=0,!1;case OQ:case LQ:return n=1,!1;case PQ:case RQ:return n=2,!1;case MQ:return n=3,!1}else if(bp(p)||ya(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return f},l)}if(l){var u=EB(t,a);i.push(u)}}),{size:n,shape:r,stops:i,position:s,type:2}},VS=function(t,e){var r=0,n=3,i=[],s=[];return xf(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(u,f){if(Ui(f))switch(f.value){case"center":return s.push(Xk),!1;case"top":case"left":return s.push(Mo),!1;case"right":case"bottom":return s.push(hp),!1}else if(ya(f)||bp(f))return s.push(f),!1;return u},l):o===1&&(l=a.reduce(function(u,f){if(Ui(f))switch(f.value){case UQ:return r=0,!1;case DQ:return r=1,!1;case PQ:case kQ:return n=0,!1;case LQ:return n=1,!1;case RQ:return n=2,!1;case OQ:case MQ:return n=3,!1}else if(bp(f)||ya(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return u},l)),l){var c=EB(t,a);i.push(c)}}),{size:n,shape:r,stops:i,position:s,type:2}},Mre=function(t){return t.type===1},Ure=function(t){return t.type===2},Jk={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=HQ[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Dre(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!HQ[t.name])}var HQ={"linear-gradient":kre,"-moz-linear-gradient":GS,"-ms-linear-gradient":GS,"-o-linear-gradient":GS,"-webkit-linear-gradient":GS,"radial-gradient":Rre,"-moz-radial-gradient":VS,"-ms-radial-gradient":VS,"-o-radial-gradient":VS,"-webkit-radial-gradient":VS,"-webkit-gradient":Lre},Ore={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Cx(n)&&Dre(n)}).map(function(n){return Jk.parse(t,n)})}},Pre={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Ui(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Hre={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return xf(e).map(function(r){return r.filter(ya)}).map(_Q)}},Qre={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return xf(e).map(function(r){return r.filter(Ui).map(function(n){return n.value}).join(" ")}).map(jre)}},jre=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},ly;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(ly||(ly={}));var Gre={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return xf(e).map(function(r){return r.filter(Vre)})}},Vre=function(t){return Ui(t)||ya(t)},BB=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},$re=BB("top"),qre=BB("right"),zre=BB("bottom"),Kre=BB("left"),TB=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return _Q(r.filter(ya))}}},Wre=TB("top-left"),Yre=TB("top-right"),Xre=TB("bottom-right"),Jre=TB("bottom-left"),NB=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Zre=NB("top"),ene=NB("right"),tne=NB("bottom"),rne=NB("left"),FB=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return dC(r)?r.number:0}}},nne=FB("top"),ine=FB("right"),sne=FB("bottom"),ane=FB("left"),one={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},lne={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},cne={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Ui).reduce(function(r,n){return r|Ane(n.value)},0)}},Ane=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},une={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},hne={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},k_;(function(t){t.NORMAL="normal",t.STRICT="strict"})(k_||(k_={}));var fne={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return k_.STRICT;case"normal":default:return k_.NORMAL}}},dne={name:"line-height",initialValue:"normal",prefix:!1,type:4},ID=function(t,e){return Ui(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:ya(t)?Zi(t,e):e},pne={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:Jk.parse(t,e)}},gne={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},JN={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},IB=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},mne=IB("top"),yne=IB("right"),xne=IB("bottom"),vne=IB("left"),wne={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Ui).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},bne={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},kB=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Cne=kB("top"),Sne=kB("right"),_ne=kB("bottom"),Ene=kB("left"),Bne={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Tne={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Nne={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&XN(e[0],"none")?[]:xf(e).map(function(r){for(var n={color:Fd.TRANSPARENT,offsetX:Mo,offsetY:Mo,blur:Mo},i=0,s=0;s<r.length;s++){var a=r[s];bp(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=mp.parse(t,a)}return n})}},Fne={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ine={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=Rne[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},kne=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},Lne=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,i,s,a,o]:null},Rne={matrix:kne,matrix3d:Lne},kD={type:16,number:50,flags:fC},Mne=[kD,kD],Une={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(ya);return r.length!==2?Mne:[r[0],r[1]]}},Dne={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Q2;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Q2||(Q2={}));var One={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Q2.BREAK_ALL;case"keep-all":return Q2.KEEP_ALL;case"normal":default:return Q2.NORMAL}}},Pne={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Ox(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},QQ={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Hne={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Ox(e)?e.number:1}},Qne={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jne={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Ui).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Gne={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Vne={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},$ne={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Ox(e))return e.number;if(Ui(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},qne={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Ui).map(function(r){return r.value})}},zne={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Pa=function(t,e){return(t&e)!==0},Kne={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},Wne={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(SQ),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var l=o&&Ox(o)?o.number:1;n.push({counter:a.value,increment:l})}}return n}},Yne={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(SQ),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(Ui(s)&&s.value!=="none"){var o=a&&Ox(a)?a.number:0;r.push({counter:s.value,reset:o})}}return r}},Xne={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(dC).map(function(r){return QQ.parse(t,r)})}},Jne={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(Sre);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;n.push({open:a,close:o})}return n}},LD=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},Zne={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&XN(e[0],"none")?[]:xf(e).map(function(r){for(var n={color:255,offsetX:Mo,offsetY:Mo,blur:Mo,spread:Mo,inset:!1},i=0,s=0;s<r.length;s++){var a=r[s];XN(a,"inset")?n.inset=!0:bp(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=mp.parse(t,a)}return n})}},eie={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Ui).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},tie={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},rie={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return dC(e)?e.number:0}},nie=(function(){function t(e,r){var n,i;this.animationDuration=rr(e,Xne,r.animationDuration),this.backgroundClip=rr(e,Bre,r.backgroundClip),this.backgroundColor=rr(e,Tre,r.backgroundColor),this.backgroundImage=rr(e,Ore,r.backgroundImage),this.backgroundOrigin=rr(e,Pre,r.backgroundOrigin),this.backgroundPosition=rr(e,Hre,r.backgroundPosition),this.backgroundRepeat=rr(e,Qre,r.backgroundRepeat),this.backgroundSize=rr(e,Gre,r.backgroundSize),this.borderTopColor=rr(e,$re,r.borderTopColor),this.borderRightColor=rr(e,qre,r.borderRightColor),this.borderBottomColor=rr(e,zre,r.borderBottomColor),this.borderLeftColor=rr(e,Kre,r.borderLeftColor),this.borderTopLeftRadius=rr(e,Wre,r.borderTopLeftRadius),this.borderTopRightRadius=rr(e,Yre,r.borderTopRightRadius),this.borderBottomRightRadius=rr(e,Xre,r.borderBottomRightRadius),this.borderBottomLeftRadius=rr(e,Jre,r.borderBottomLeftRadius),this.borderTopStyle=rr(e,Zre,r.borderTopStyle),this.borderRightStyle=rr(e,ene,r.borderRightStyle),this.borderBottomStyle=rr(e,tne,r.borderBottomStyle),this.borderLeftStyle=rr(e,rne,r.borderLeftStyle),this.borderTopWidth=rr(e,nne,r.borderTopWidth),this.borderRightWidth=rr(e,ine,r.borderRightWidth),this.borderBottomWidth=rr(e,sne,r.borderBottomWidth),this.borderLeftWidth=rr(e,ane,r.borderLeftWidth),this.boxShadow=rr(e,Zne,r.boxShadow),this.color=rr(e,one,r.color),this.direction=rr(e,lne,r.direction),this.display=rr(e,cne,r.display),this.float=rr(e,une,r.cssFloat),this.fontFamily=rr(e,Gne,r.fontFamily),this.fontSize=rr(e,Vne,r.fontSize),this.fontStyle=rr(e,zne,r.fontStyle),this.fontVariant=rr(e,qne,r.fontVariant),this.fontWeight=rr(e,$ne,r.fontWeight),this.letterSpacing=rr(e,hne,r.letterSpacing),this.lineBreak=rr(e,fne,r.lineBreak),this.lineHeight=rr(e,dne,r.lineHeight),this.listStyleImage=rr(e,pne,r.listStyleImage),this.listStylePosition=rr(e,gne,r.listStylePosition),this.listStyleType=rr(e,JN,r.listStyleType),this.marginTop=rr(e,mne,r.marginTop),this.marginRight=rr(e,yne,r.marginRight),this.marginBottom=rr(e,xne,r.marginBottom),this.marginLeft=rr(e,vne,r.marginLeft),this.opacity=rr(e,Hne,r.opacity);var s=rr(e,wne,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=rr(e,bne,r.overflowWrap),this.paddingTop=rr(e,Cne,r.paddingTop),this.paddingRight=rr(e,Sne,r.paddingRight),this.paddingBottom=rr(e,_ne,r.paddingBottom),this.paddingLeft=rr(e,Ene,r.paddingLeft),this.paintOrder=rr(e,eie,r.paintOrder),this.position=rr(e,Tne,r.position),this.textAlign=rr(e,Bne,r.textAlign),this.textDecorationColor=rr(e,Qne,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=rr(e,jne,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=rr(e,Nne,r.textShadow),this.textTransform=rr(e,Fne,r.textTransform),this.transform=rr(e,Ine,r.transform),this.transformOrigin=rr(e,Une,r.transformOrigin),this.visibility=rr(e,Dne,r.visibility),this.webkitTextStrokeColor=rr(e,tie,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=rr(e,rie,r.webkitTextStrokeWidth),this.wordBreak=rr(e,One,r.wordBreak),this.zIndex=rr(e,Pne,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return yp(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Pa(this.display,4)||Pa(this.display,33554432)||Pa(this.display,268435456)||Pa(this.display,536870912)||Pa(this.display,67108864)||Pa(this.display,134217728)},t})(),iie=(function(){function t(e,r){this.content=rr(e,Kne,r.content),this.quotes=rr(e,Jne,r.quotes)}return t})(),RD=(function(){function t(e,r){this.counterIncrement=rr(e,Wne,r.counterIncrement),this.counterReset=rr(e,Yne,r.counterReset)}return t})(),rr=function(t,e,r){var n=new bQ,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new CQ(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(t,Ui(a)?a.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return _B.parse(t,s.parseComponentValue());case"color":return mp.parse(t,s.parseComponentValue());case"image":return Jk.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return bp(o)?o:Mo;case"length-percentage":var l=s.parseComponentValue();return ya(l)?l:Mo;case"time":return QQ.parse(t,s.parseComponentValue())}break}},sie="data-html2canvas-debug",aie=function(t){var e=t.getAttribute(sie);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ZN=function(t,e){var r=aie(t);return r===1||e===r},vf=(function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,ZN(r,3))debugger;this.styles=new nie(e,window.getComputedStyle(r,null)),rF(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=CB(this.context,r),ZN(r,4)&&(this.flags|=16)}return t})(),oie="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",MD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var $S=0;$S<MD.length;$S++)c2[MD.charCodeAt($S)]=$S;var lie=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)s=c2[t.charCodeAt(n)],a=c2[t.charCodeAt(n+1)],o=c2[t.charCodeAt(n+2)],l=c2[t.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|l&63;return c},cie=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},Aie=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},dm=5,Zk=11,N3=2,uie=Zk-dm,jQ=65536>>dm,hie=1<<dm,F3=hie-1,fie=1024>>dm,die=jQ+fie,pie=die,gie=32,mie=pie+gie,yie=65536>>Zk,xie=1<<uie,vie=xie-1,UD=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},wie=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},bie=function(t,e){var r=lie(t),n=Array.isArray(r)?Aie(r):new Uint32Array(r),i=Array.isArray(r)?cie(r):new Uint16Array(r),s=24,a=UD(i,s/2,n[4]/2),o=n[5]===2?UD(i,(s+n[4])/2):wie(n,Math.ceil((s+n[4])/4));return new Cie(n[0],n[1],n[2],n[3],a,o)},Cie=(function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>dm],r=(r<<N3)+(e&F3),this.data[r];if(e<=65535)return r=this.index[jQ+(e-55296>>dm)],r=(r<<N3)+(e&F3),this.data[r];if(e<this.highStart)return r=mie-yie+(e>>Zk),r=this.index[r],r+=e>>dm&vie,r=this.index[r],r=(r<<N3)+(e&F3),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),DD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sie=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var qS=0;qS<DD.length;qS++)Sie[DD.charCodeAt(qS)]=qS;var _ie=1,I3=2,k3=3,OD=4,PD=5,Eie=7,HD=8,L3=9,R3=10,QD=11,jD=12,GD=13,VD=14,M3=15,Bie=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Tie=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},Nie=bie(oie),LA="",U3="",Fie=function(t){return Nie.get(t)},Iie=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],a=e[r];if(s===I3&&a===k3)return LA;if(s===I3||s===k3||s===OD||a===I3||a===k3||a===OD)return U3;if(s===HD&&[HD,L3,QD,jD].indexOf(a)!==-1||(s===QD||s===L3)&&(a===L3||a===R3)||(s===jD||s===R3)&&a===R3||a===GD||a===PD||a===Eie||s===_ie)return LA;if(s===GD&&a===VD){for(;i===PD;)i=e[--n];if(i===VD)return LA}if(s===M3&&a===M3){for(var o=0;i===M3;)o++,i=e[--n];if(o%2===0)return LA}return U3},kie=function(t){var e=Bie(t),r=e.length,n=0,i=0,s=e.map(Fie);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=LA;n<r&&(a=Iie(e,s,++n))===LA;);if(a!==LA||n===r){var o=Tie.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},Lie=function(t){for(var e=kie(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},Rie=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},Mie=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=SB(n.data).map(function(l){return Js(l)}),s=0,a={},o=i.every(function(l,c){r.setStart(n,s),r.setEnd(n,s+l.length);var u=r.getBoundingClientRect();s+=l.length;var f=u.x>a.x||u.y>a.y;return a=u,c===0?!0:f});return t.body.removeChild(e),o},Uie=function(){return typeof new Image().crossOrigin<"u"},Die=function(){return typeof new XMLHttpRequest().responseType=="string"},Oie=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},$D=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Pie=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var a=eF(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),qD(a).then(function(o){n.drawImage(o,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=t.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=r+"px",$D(l)?qD(eF(r,r,0,0,c)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),$D(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},eF=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},qD=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Io={get SUPPORT_RANGE_BOUNDS(){var t=Rie(document);return Object.defineProperty(Io,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Io.SUPPORT_RANGE_BOUNDS&&Mie(document);return Object.defineProperty(Io,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Oie(document);return Object.defineProperty(Io,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Pie(document):Promise.resolve(!1);return Object.defineProperty(Io,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Uie();return Object.defineProperty(Io,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Die();return Object.defineProperty(Io,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Io,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Io,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},j2=(function(){function t(e,r){this.text=e,this.bounds=r}return t})(),Hie=function(t,e,r,n){var i=Gie(e,r),s=[],a=0;return i.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(Io.SUPPORT_RANGE_BOUNDS){var l=zD(n,a,o.length).getClientRects();if(l.length>1){var c=eL(o),u=0;c.forEach(function(p){s.push(new j2(p,Hd.fromDOMRectList(t,zD(n,u+a,p.length).getClientRects()))),u+=p.length})}else s.push(new j2(o,Hd.fromDOMRectList(t,l)))}else{var f=n.splitText(o.length);s.push(new j2(o,Qie(t,n))),n=f}else Io.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),s},Qie=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=CB(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return Hd.EMPTY},zD=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},eL=function(t){if(Io.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return Lie(t)},jie=function(t,e){if(Io.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return $ie(t,e)},Gie=function(t,e){return e.letterSpacing!==0?eL(t):jie(t,e)},Vie=[32,160,4961,65792,65793,4153,4241],$ie=function(t,e){for(var r=yte(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),o=SB(a),l="";o.forEach(function(c){Vie.indexOf(c)===-1?l+=Js(c):(l.length&&n.push(l),n.push(Js(c)),l="")}),l.length&&n.push(l)}};!(i=r.next()).done;)s();return n},qie=(function(){function t(e,r,n){this.text=zie(r.data,n.textTransform),this.textBounds=Hie(e,this.text,n,r)}return t})(),zie=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Kie,Wie);case 2:return t.toUpperCase();default:return t}},Kie=/(^|\s|:|-|\(|\))([a-z])/g,Wie=function(t,e,r){return t.length>0?e+r.toUpperCase():t},GQ=(function(t){rh(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e})(vf),VQ=(function(t){rh(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e})(vf),$Q=(function(t){rh(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,a=CB(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(vf),qQ=(function(t){rh(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e})(vf),tF=(function(t){rh(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e})(vf),Yie=[{type:15,flags:0,unit:"px",number:3}],Xie=[{type:16,flags:0,number:50}],Jie=function(t){return t.width>t.height?new Hd(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Hd(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Zie=function(t){var e=t.type===ese?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},L_="checkbox",R_="radio",ese="password",KD=707406591,tL=(function(t){rh(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=Zie(n),(i.type===L_||i.type===R_)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Jie(i.bounds)),i.type){case L_:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Yie;break;case R_:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Xie;break}return i}return e})(vf),zQ=(function(t){rh(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e})(vf),KQ=(function(t){rh(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e})(vf),WQ=(function(t){rh(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=XQ(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?H2(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Fd.TRANSPARENT,a=n.contentWindow.document.body?H2(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Fd.TRANSPARENT;i.backgroundColor=yp(s)?yp(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e})(vf),tse=["OL","UL","MENU"],D5=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,JQ(i)&&i.data.trim().length>0)r.textNodes.push(new qie(t,i,r.styles));else if(J1(i))if(r9(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return D5(t,o,r,n)});else{var a=YQ(t,i);a.styles.isVisible()&&(rse(i,a,n)?a.flags|=4:nse(a.styles)&&(a.flags|=2),tse.indexOf(i.tagName)!==-1&&(a.flags|=8),r.elements.push(a),i.slot,i.shadowRoot?D5(t,i.shadowRoot,a,n):!M_(i)&&!ZQ(i)&&!U_(i)&&D5(t,i,a,n))}},YQ=function(t,e){return nF(e)?new GQ(t,e):e9(e)?new VQ(t,e):ZQ(e)?new $Q(t,e):ise(e)?new qQ(t,e):sse(e)?new tF(t,e):ase(e)?new tL(t,e):U_(e)?new zQ(t,e):M_(e)?new KQ(t,e):t9(e)?new WQ(t,e):new vf(t,e)},XQ=function(t,e){var r=YQ(t,e);return r.flags|=4,D5(t,e,r,r),r},rse=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||rL(t)&&r.styles.isTransparent()},nse=function(t){return t.isPositioned()||t.isFloating()},JQ=function(t){return t.nodeType===Node.TEXT_NODE},J1=function(t){return t.nodeType===Node.ELEMENT_NODE},rF=function(t){return J1(t)&&typeof t.style<"u"&&!O5(t)},O5=function(t){return typeof t.className=="object"},ise=function(t){return t.tagName==="LI"},sse=function(t){return t.tagName==="OL"},ase=function(t){return t.tagName==="INPUT"},ose=function(t){return t.tagName==="HTML"},ZQ=function(t){return t.tagName==="svg"},rL=function(t){return t.tagName==="BODY"},e9=function(t){return t.tagName==="CANVAS"},WD=function(t){return t.tagName==="VIDEO"},nF=function(t){return t.tagName==="IMG"},t9=function(t){return t.tagName==="IFRAME"},YD=function(t){return t.tagName==="STYLE"},lse=function(t){return t.tagName==="SCRIPT"},M_=function(t){return t.tagName==="TEXTAREA"},U_=function(t){return t.tagName==="SELECT"},r9=function(t){return t.tagName==="SLOT"},XD=function(t){return t.tagName.indexOf("-")>0},cse=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var l=r.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var l=r.counters[o.counter];a.push(o.counter),l||(l=r.counters[o.counter]=[]),l.push(o.reset)}),a},t})(),JD={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ZD={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ase={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},use={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},T1=function(t,e,r,n,i,s){return t<e||t>r?cw(t,i,s.length>0):n.integers.reduce(function(a,o,l){for(;t>=o;)t-=o,a+=n.values[l];return a},"")+s},n9=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},Ys=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(n9(Math.abs(t),s,n,function(a){return Js(Math.floor(a%s)+e)})+i)},Yp=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return n9(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},P1=1,F0=2,I0=4,A2=8,zf=function(t,e,r,n,i,s){if(t<-9999||t>9999)return cw(t,4,i.length>0);var a=Math.abs(t),o=i;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&Pa(s,P1)&&o!==""?o=e[c]+o:c>1||c===1&&l===0||c===1&&l===1&&Pa(s,F0)||c===1&&l===1&&Pa(s,I0)&&t>100||c===1&&l>1&&Pa(s,A2)?o=e[c]+(l>0?r[l-1]:"")+o:c===1&&l>0&&(o=r[l-1]+o),a=Math.floor(a/10)}return(t<0?n:"")+o},e8="",t8="",r8="",D3="",cw=function(t,e,r){var n=r?". ":"",i=r?"":"",s=r?", ":"",a=r?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=Ys(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Yp(t,"",i);case 6:return T1(t,1,3999,JD,3,n).toLowerCase();case 7:return T1(t,1,3999,JD,3,n);case 8:return Ys(t,945,969,!1,n);case 9:return Ys(t,97,122,!1,n);case 10:return Ys(t,65,90,!1,n);case 11:return Ys(t,1632,1641,!0,n);case 12:case 49:return T1(t,1,9999,ZD,3,n);case 35:return T1(t,1,9999,ZD,3,n).toLowerCase();case 13:return Ys(t,2534,2543,!0,n);case 14:case 30:return Ys(t,6112,6121,!0,n);case 15:return Yp(t,"",i);case 16:return Yp(t,"",i);case 17:case 48:return zf(t,"",e8,"",i,F0|I0|A2);case 47:return zf(t,"",t8,"",i,P1|F0|I0|A2);case 42:return zf(t,"",e8,"",i,F0|I0|A2);case 41:return zf(t,"",t8,"",i,P1|F0|I0|A2);case 26:return zf(t,"","",r8,i,0);case 25:return zf(t,"","",r8,i,P1|F0|I0);case 31:return zf(t,"","",D3,s,P1|F0|I0);case 33:return zf(t,"","",D3,s,0);case 32:return zf(t,"","",D3,s,P1|F0|I0);case 18:return Ys(t,2406,2415,!0,n);case 20:return T1(t,1,19999,use,3,n);case 21:return Ys(t,2790,2799,!0,n);case 22:return Ys(t,2662,2671,!0,n);case 22:return T1(t,1,10999,Ase,3,n);case 23:return Yp(t,"");case 24:return Yp(t,"");case 27:return Ys(t,3302,3311,!0,n);case 28:return Yp(t,"",i);case 29:return Yp(t,"",i);case 34:return Ys(t,3792,3801,!0,n);case 37:return Ys(t,6160,6169,!0,n);case 38:return Ys(t,4160,4169,!0,n);case 39:return Ys(t,2918,2927,!0,n);case 40:return Ys(t,1776,1785,!0,n);case 43:return Ys(t,3046,3055,!0,n);case 44:return Ys(t,3174,3183,!0,n);case 45:return Ys(t,3664,3673,!0,n);case 46:return Ys(t,3872,3881,!0,n);case 3:default:return Ys(t,48,57,!0,n)}},i9="data-html2canvas-ignore",n8=(function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new cse,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=hse(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,l=o.document,c=pse(i).then(function(){return Ml(n,void 0,void 0,function(){var u,f;return il(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(xse),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),u=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,dse(l)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,f)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(mse(document.doctype)+"<html></html>"),yse(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(ZN(e,2))debugger;if(e9(e))return this.createCanvasClone(e);if(WD(e))return this.createVideoClone(e);if(YD(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return nF(r)&&(nF(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),XD(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return O3(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!J1(r)||!lse(r)&&!r.hasAttribute(i9)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!J1(r)||!YD(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(J1(s)&&r9(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(r,o,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(JQ(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&J1(e)&&(rF(e)||O5(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&rF(i)&&(this.clonedReferenceElement=i),rL(i)&&bse(i);var l=this.counters.parse(new RD(this.context,s)),c=this.resolvePseudoContent(e,i,a,G2.BEFORE);XD(e)&&(r=!0),WD(e)||this.cloneChildNodes(e,i,r),c&&i.insertBefore(c,i.firstChild);var u=this.resolvePseudoContent(e,i,o,G2.AFTER);return u&&i.appendChild(u),this.counters.pop(l),(s&&(this.options.copyStyles||O5(e))&&!t9(e)||r)&&O3(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(M_(e)||U_(e))&&(M_(i)||U_(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var a=n.content,o=r.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new RD(this.context,n));var l=new iie(this.context,n),c=o.createElement("html2canvaspseudoelement");O3(n,c),l.content.forEach(function(f){if(f.type===0)c.appendChild(o.createTextNode(f.value));else if(f.type===22){var p=o.createElement("img");p.src=f.value,p.style.opacity="1",c.appendChild(p)}else if(f.type===18){if(f.name==="attr"){var g=f.values.filter(Ui);g.length&&c.appendChild(o.createTextNode(e.getAttribute(g[0].value)||""))}else if(f.name==="counter"){var y=f.values.filter(Cx),x=y[0],w=y[1];if(x&&Ui(x)){var S=s.counters.getCounterValue(x.value),B=w&&Ui(w)?JN.parse(s.context,w.value):3;c.appendChild(o.createTextNode(cw(S,B,!1)))}}else if(f.name==="counters"){var F=f.values.filter(Cx),x=F[0],k=F[1],w=F[2];if(x&&Ui(x)){var O=s.counters.getCounterValues(x.value),R=w&&Ui(w)?JN.parse(s.context,w.value):3,D=k&&k.type===0?k.value:"",Q=O.map(function(P){return cw(P,R,!1)}).join(D);c.appendChild(o.createTextNode(Q))}}}else if(f.type===20)switch(f.value){case"open-quote":c.appendChild(o.createTextNode(LD(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(LD(l.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(f.value))}}),c.className=iF+" "+sF;var u=i===G2.BEFORE?" "+iF:" "+sF;return O5(r)?r.className.baseValue+=u:r.className+=u,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),G2;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(G2||(G2={}));var hse=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(i9,"true"),t.body.appendChild(r),r},fse=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},dse=function(t){return Promise.all([].slice.call(t.images,0).map(fse))},pse=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},gse=["all","d","content"],O3=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);gse.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},mse=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},yse=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},xse=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},vse=":before",wse=":after",iF="___html2canvas___pseudoelement_before",sF="___html2canvas___pseudoelement_after",i8=`{
    content: "" !important;
    display: none !important;
}`,bse=function(t){Cse(t,"."+iF+vse+i8+`
         .`+sF+wse+i8)},Cse=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},s9=(function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),Sse=(function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(H3(e)||Tse(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Ml(this,void 0,void 0,function(){var r,n,i,s,a=this;return il(this,function(o){switch(o.label){case 0:return r=s9.isSameOrigin(e),n=!P3(e)&&this._options.useCORS===!0&&Io.SUPPORT_CORS_IMAGES&&!r,i=!P3(e)&&!r&&!H3(e)&&typeof this._options.proxy=="string"&&Io.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!P3(e)&&!H3(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(Nse(s)||n)&&(u.crossOrigin="anonymous"),u.src=s,u.complete===!0&&setTimeout(function(){return l(u)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=Io.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var f=new FileReader;f.addEventListener("load",function(){return s(f.result)},!1),f.addEventListener("error",function(p){return a(p)},!1),f.readAsDataURL(l.response)}else a("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=a;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),r._options.imageTimeout){var u=r._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+i)}}l.send()})},t})(),_se=/^data:image\/svg\+xml/i,Ese=/^data:image\/.*;base64,/i,Bse=/^data:image\/.*/i,Tse=function(t){return Io.SUPPORT_SVG_DRAWING||!Fse(t)},P3=function(t){return Bse.test(t)},Nse=function(t){return Ese.test(t)},H3=function(t){return t.substr(0,4)==="blob"},Fse=function(t){return t.substr(-3).toLowerCase()==="svg"||_se.test(t)},Xt=(function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t})(),N1=function(t,e,r){return new Xt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},zS=(function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=N1(this.start,this.startControl,e),i=N1(this.startControl,this.endControl,e),s=N1(this.endControl,this.end,e),a=N1(n,i,e),o=N1(i,s,e),l=N1(a,o,e);return r?new t(this.start,n,a,l):new t(l,o,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),HA=function(t){return t.type===1},Ise=(function(){function t(e){var r=e.styles,n=e.bounds,i=l2(r.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],o=l2(r.borderTopRightRadius,n.width,n.height),l=o[0],c=o[1],u=l2(r.borderBottomRightRadius,n.width,n.height),f=u[0],p=u[1],g=l2(r.borderBottomLeftRadius,n.width,n.height),y=g[0],x=g[1],w=[];w.push((s+l)/n.width),w.push((y+f)/n.width),w.push((a+x)/n.height),w.push((c+p)/n.height);var S=Math.max.apply(Math,w);S>1&&(s/=S,a/=S,l/=S,c/=S,f/=S,p/=S,y/=S,x/=S);var B=n.width-l,F=n.height-p,k=n.width-f,O=n.height-x,R=r.borderTopWidth,D=r.borderRightWidth,Q=r.borderBottomWidth,V=r.borderLeftWidth,re=Zi(r.paddingTop,e.bounds.width),P=Zi(r.paddingRight,e.bounds.width),H=Zi(r.paddingBottom,e.bounds.width),q=Zi(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?ms(n.left+V/3,n.top+R/3,s-V/3,a-R/3,hi.TOP_LEFT):new Xt(n.left+V/3,n.top+R/3),this.topRightBorderDoubleOuterBox=s>0||a>0?ms(n.left+B,n.top+R/3,l-D/3,c-R/3,hi.TOP_RIGHT):new Xt(n.left+n.width-D/3,n.top+R/3),this.bottomRightBorderDoubleOuterBox=f>0||p>0?ms(n.left+k,n.top+F,f-D/3,p-Q/3,hi.BOTTOM_RIGHT):new Xt(n.left+n.width-D/3,n.top+n.height-Q/3),this.bottomLeftBorderDoubleOuterBox=y>0||x>0?ms(n.left+V/3,n.top+O,y-V/3,x-Q/3,hi.BOTTOM_LEFT):new Xt(n.left+V/3,n.top+n.height-Q/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?ms(n.left+V*2/3,n.top+R*2/3,s-V*2/3,a-R*2/3,hi.TOP_LEFT):new Xt(n.left+V*2/3,n.top+R*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?ms(n.left+B,n.top+R*2/3,l-D*2/3,c-R*2/3,hi.TOP_RIGHT):new Xt(n.left+n.width-D*2/3,n.top+R*2/3),this.bottomRightBorderDoubleInnerBox=f>0||p>0?ms(n.left+k,n.top+F,f-D*2/3,p-Q*2/3,hi.BOTTOM_RIGHT):new Xt(n.left+n.width-D*2/3,n.top+n.height-Q*2/3),this.bottomLeftBorderDoubleInnerBox=y>0||x>0?ms(n.left+V*2/3,n.top+O,y-V*2/3,x-Q*2/3,hi.BOTTOM_LEFT):new Xt(n.left+V*2/3,n.top+n.height-Q*2/3),this.topLeftBorderStroke=s>0||a>0?ms(n.left+V/2,n.top+R/2,s-V/2,a-R/2,hi.TOP_LEFT):new Xt(n.left+V/2,n.top+R/2),this.topRightBorderStroke=s>0||a>0?ms(n.left+B,n.top+R/2,l-D/2,c-R/2,hi.TOP_RIGHT):new Xt(n.left+n.width-D/2,n.top+R/2),this.bottomRightBorderStroke=f>0||p>0?ms(n.left+k,n.top+F,f-D/2,p-Q/2,hi.BOTTOM_RIGHT):new Xt(n.left+n.width-D/2,n.top+n.height-Q/2),this.bottomLeftBorderStroke=y>0||x>0?ms(n.left+V/2,n.top+O,y-V/2,x-Q/2,hi.BOTTOM_LEFT):new Xt(n.left+V/2,n.top+n.height-Q/2),this.topLeftBorderBox=s>0||a>0?ms(n.left,n.top,s,a,hi.TOP_LEFT):new Xt(n.left,n.top),this.topRightBorderBox=l>0||c>0?ms(n.left+B,n.top,l,c,hi.TOP_RIGHT):new Xt(n.left+n.width,n.top),this.bottomRightBorderBox=f>0||p>0?ms(n.left+k,n.top+F,f,p,hi.BOTTOM_RIGHT):new Xt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=y>0||x>0?ms(n.left,n.top+O,y,x,hi.BOTTOM_LEFT):new Xt(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?ms(n.left+V,n.top+R,Math.max(0,s-V),Math.max(0,a-R),hi.TOP_LEFT):new Xt(n.left+V,n.top+R),this.topRightPaddingBox=l>0||c>0?ms(n.left+Math.min(B,n.width-D),n.top+R,B>n.width+D?0:Math.max(0,l-D),Math.max(0,c-R),hi.TOP_RIGHT):new Xt(n.left+n.width-D,n.top+R),this.bottomRightPaddingBox=f>0||p>0?ms(n.left+Math.min(k,n.width-V),n.top+Math.min(F,n.height-Q),Math.max(0,f-D),Math.max(0,p-Q),hi.BOTTOM_RIGHT):new Xt(n.left+n.width-D,n.top+n.height-Q),this.bottomLeftPaddingBox=y>0||x>0?ms(n.left+V,n.top+Math.min(O,n.height-Q),Math.max(0,y-V),Math.max(0,x-Q),hi.BOTTOM_LEFT):new Xt(n.left+V,n.top+n.height-Q),this.topLeftContentBox=s>0||a>0?ms(n.left+V+q,n.top+R+re,Math.max(0,s-(V+q)),Math.max(0,a-(R+re)),hi.TOP_LEFT):new Xt(n.left+V+q,n.top+R+re),this.topRightContentBox=l>0||c>0?ms(n.left+Math.min(B,n.width+V+q),n.top+R+re,B>n.width+V+q?0:l-V+q,c-(R+re),hi.TOP_RIGHT):new Xt(n.left+n.width-(D+P),n.top+R+re),this.bottomRightContentBox=f>0||p>0?ms(n.left+Math.min(k,n.width-(V+q)),n.top+Math.min(F,n.height+R+re),Math.max(0,f-(D+P)),p-(Q+H),hi.BOTTOM_RIGHT):new Xt(n.left+n.width-(D+P),n.top+n.height-(Q+H)),this.bottomLeftContentBox=y>0||x>0?ms(n.left+V+q,n.top+O,Math.max(0,y-(V+q)),x-(Q+H),hi.BOTTOM_LEFT):new Xt(n.left+V+q,n.top+n.height-(Q+H))}return t})(),hi;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(hi||(hi={}));var ms=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),a=r*s,o=n*s,l=t+r,c=e+n;switch(i){case hi.TOP_LEFT:return new zS(new Xt(t,c),new Xt(t,c-o),new Xt(l-a,e),new Xt(l,e));case hi.TOP_RIGHT:return new zS(new Xt(t,e),new Xt(t+a,e),new Xt(l,c-o),new Xt(l,c));case hi.BOTTOM_RIGHT:return new zS(new Xt(l,e),new Xt(l,e+o),new Xt(t+a,c),new Xt(t,c));case hi.BOTTOM_LEFT:default:return new zS(new Xt(l,c),new Xt(l-a,c),new Xt(t,e+o),new Xt(t,e))}},D_=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},kse=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},O_=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Lse=(function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t})(),KS=(function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t})(),Rse=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),Mse=function(t){return t.type===0},a9=function(t){return t.type===1},Use=function(t){return t.type===2},s8=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},Dse=function(t,e,r,n,i){return t.map(function(s,a){switch(a){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},o9=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),l9=(function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new Ise(this.container),this.container.styles.opacity<1&&this.effects.push(new Rse(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Lse(n,i,s))}if(this.container.styles.overflowX!==0){var a=D_(this.curves),o=O_(this.curves);s8(a,o)?this.effects.push(new KS(a,6)):(this.effects.push(new KS(a,2)),this.effects.push(new KS(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(l){return!a9(l)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=D_(n.curves),o=O_(n.curves);s8(a,o)||i.unshift(new KS(o,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(l){return Pa(l.target,e)})},t})(),aF=function(t,e,r,n){t.container.elements.forEach(function(i){var s=Pa(i.flags,4),a=Pa(i.flags,2),o=new l9(i,t);Pa(i.styles.display,2048)&&n.push(o);var l=Pa(i.flags,8)?[]:n;if(s||a){var c=s||i.styles.isPositioned()?r:e,u=new o9(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var f=i.styles.zIndex.order;if(f<0){var p=0;c.negativeZIndex.some(function(y,x){return f>y.element.container.styles.zIndex.order?(p=x,!1):p>0}),c.negativeZIndex.splice(p,0,u)}else if(f>0){var g=0;c.positiveZIndex.some(function(y,x){return f>=y.element.container.styles.zIndex.order?(g=x+1,!1):g>0}),c.positiveZIndex.splice(g,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);aF(o,u,s?u:r,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),aF(o,e,r,l);Pa(i.flags,8)&&c9(i,l)})},c9=function(t,e){for(var r=t instanceof tF?t.start:1,n=t instanceof tF?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof qQ&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=cw(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},Ose=function(t){var e=new l9(t,null),r=new o9(e),n=[];return aF(e,r,r,n),c9(e.container,n),r},a8=function(t,e){switch(e){case 0:return VA(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return VA(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return VA(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return VA(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Pse=function(t,e){switch(e){case 0:return VA(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return VA(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return VA(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return VA(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Hse=function(t,e){switch(e){case 0:return VA(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return VA(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return VA(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return VA(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Qse=function(t,e){switch(e){case 0:return WS(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return WS(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return WS(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return WS(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},WS=function(t,e){var r=[];return HA(t)?r.push(t.subdivide(.5,!1)):r.push(t),HA(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},VA=function(t,e,r,n){var i=[];return HA(t)?i.push(t.subdivide(.5,!1)):i.push(t),HA(r)?i.push(r.subdivide(.5,!0)):i.push(r),HA(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),HA(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},A9=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},P_=function(t){var e=t.styles,r=t.bounds,n=Zi(e.paddingLeft,r.width),i=Zi(e.paddingRight,r.width),s=Zi(e.paddingTop,r.width),a=Zi(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},jse=function(t,e){return t===0?e.bounds:t===2?P_(e):A9(e)},Gse=function(t,e){return t===0?e.bounds:t===2?P_(e):A9(e)},Q3=function(t,e,r){var n=jse(H1(t.styles.backgroundOrigin,e),t),i=Gse(H1(t.styles.backgroundClip,e),t),s=Vse(H1(t.styles.backgroundSize,e),r,n),a=s[0],o=s[1],l=l2(H1(t.styles.backgroundPosition,e),n.width-a,n.height-o),c=$se(H1(t.styles.backgroundRepeat,e),l,s,n,i),u=Math.round(n.left+l[0]),f=Math.round(n.top+l[1]);return[c,u,f,a,o]},F1=function(t){return Ui(t)&&t.value===ly.AUTO},YS=function(t){return typeof t=="number"},Vse=function(t,e,r){var n=e[0],i=e[1],s=e[2],a=t[0],o=t[1];if(!a)return[0,0];if(ya(a)&&o&&ya(o))return[Zi(a,r.width),Zi(o,r.height)];var l=YS(s);if(Ui(a)&&(a.value===ly.CONTAIN||a.value===ly.COVER)){if(YS(s)){var c=r.width/r.height;return c<s!=(a.value===ly.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var u=YS(n),f=YS(i),p=u||f;if(F1(a)&&(!o||F1(o))){if(u&&f)return[n,i];if(!l&&!p)return[r.width,r.height];if(p&&l){var g=u?n:i*s,y=f?i:n/s;return[g,y]}var x=u?n:r.width,w=f?i:r.height;return[x,w]}if(l){var S=0,B=0;return ya(a)?S=Zi(a,r.width):ya(o)&&(B=Zi(o,r.height)),F1(a)?S=B*s:(!o||F1(o))&&(B=S/s),[S,B]}var F=null,k=null;if(ya(a)?F=Zi(a,r.width):o&&ya(o)&&(k=Zi(o,r.height)),F!==null&&(!o||F1(o))&&(k=u&&f?F/n*i:r.height),k!==null&&F1(a)&&(F=u&&f?k/i*n:r.width),F!==null&&k!==null)return[F,k];throw new Error("Unable to calculate background-size for element")},H1=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},$se=function(t,e,r,n,i){var s=e[0],a=e[1],o=r[0],l=r[1];switch(t){case 2:return[new Xt(Math.round(n.left),Math.round(n.top+a)),new Xt(Math.round(n.left+n.width),Math.round(n.top+a)),new Xt(Math.round(n.left+n.width),Math.round(l+n.top+a)),new Xt(Math.round(n.left),Math.round(l+n.top+a))];case 3:return[new Xt(Math.round(n.left+s),Math.round(n.top)),new Xt(Math.round(n.left+s+o),Math.round(n.top)),new Xt(Math.round(n.left+s+o),Math.round(n.height+n.top)),new Xt(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new Xt(Math.round(n.left+s),Math.round(n.top+a)),new Xt(Math.round(n.left+s+o),Math.round(n.top+a)),new Xt(Math.round(n.left+s+o),Math.round(n.top+a+l)),new Xt(Math.round(n.left+s),Math.round(n.top+a+l))];default:return[new Xt(Math.round(i.left),Math.round(i.top)),new Xt(Math.round(i.left+i.width),Math.round(i.top)),new Xt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Xt(Math.round(i.left),Math.round(i.height+i.top))]}},qse="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",o8="Hidden Text",zse=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=qse,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(o8)),n.appendChild(s),n.appendChild(i);var o=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(o8)),n.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:l}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t})(),u9=(function(){function t(e,r){this.context=e,this.options=r}return t})(),Kse=1e4,Wse=(function(t){rh(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new zse(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),Use(r)&&(this.ctx.globalAlpha=r.opacity),Mse(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),a9(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Ml(this,void 0,void 0,function(){var n;return il(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Ml(this,void 0,void 0,function(){return il(this,function(n){switch(n.label){case 0:if(Pa(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var a=eL(r.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,r.bounds.top+i),o+s.ctx.measureText(l).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=eae(r.fontFamily).join(", "),s=dC(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return Ml(this,void 0,void 0,function(){var i,s,a,o,l,c,u,f,p=this;return il(this,function(g){return i=this.createFontStyle(n),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),c=l.baseline,u=l.middle,f=n.paintOrder,r.textBounds.forEach(function(y){f.forEach(function(x){switch(x){case 0:p.ctx.fillStyle=ro(n.color),p.renderTextWithLetterSpacing(y,n.letterSpacing,c);var w=n.textShadow;w.length&&y.text.trim().length&&(w.slice(0).reverse().forEach(function(S){p.ctx.shadowColor=ro(S.color),p.ctx.shadowOffsetX=S.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=S.offsetY.number*p.options.scale,p.ctx.shadowBlur=S.blur.number,p.renderTextWithLetterSpacing(y,n.letterSpacing,c)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=ro(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(S){switch(S){case 1:p.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top+c),y.bounds.width,1);break;case 2:p.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top),y.bounds.width,1);break;case 3:p.ctx.fillRect(y.bounds.left,Math.ceil(y.bounds.top+u),y.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&y.text.trim().length&&(p.ctx.strokeStyle=ro(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(y.text,y.bounds.left,y.bounds.top+c)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=P_(r),a=O_(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Ml(this,void 0,void 0,function(){var n,i,s,a,o,l,B,B,c,u,f,p,k,g,y,O,x,w,S,B,F,k,O;return il(this,function(R){switch(R.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,a=0,o=n.textNodes,R.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:R.sent(),R.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof GQ))return[3,8];R.label=5;case 5:return R.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return B=R.sent(),this.renderReplacedElement(n,i,B),[3,8];case 7:return R.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof VQ&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof $Q))return[3,12];R.label=9;case 9:return R.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return B=R.sent(),this.renderReplacedElement(n,i,B),[3,12];case 11:return R.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof WQ&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:u=R.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),R.label=14;case 14:if(n instanceof tL&&(f=Math.min(n.bounds.width,n.bounds.height),n.type===L_?n.checked&&(this.ctx.save(),this.path([new Xt(n.bounds.left+f*.39363,n.bounds.top+f*.79),new Xt(n.bounds.left+f*.16,n.bounds.top+f*.5549),new Xt(n.bounds.left+f*.27347,n.bounds.top+f*.44071),new Xt(n.bounds.left+f*.39694,n.bounds.top+f*.5649),new Xt(n.bounds.left+f*.72983,n.bounds.top+f*.23),new Xt(n.bounds.left+f*.84,n.bounds.top+f*.34085),new Xt(n.bounds.left+f*.39363,n.bounds.top+f*.79)]),this.ctx.fillStyle=ro(KD),this.ctx.fill(),this.ctx.restore()):n.type===R_&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+f/2,n.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=ro(KD),this.ctx.fill(),this.ctx.restore())),Yse(n)&&n.value.length){switch(p=this.createFontStyle(s),k=p[0],g=p[1],y=this.fontMetrics.getMetrics(k,g).baseline,this.ctx.font=k,this.ctx.fillStyle=ro(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Jse(n.styles.textAlign),O=P_(n),x=0,n.styles.textAlign){case 1:x+=O.width/2;break;case 2:x+=O.width;break}w=O.add(x,0,0,-O.height/2+1),this.ctx.save(),this.path([new Xt(O.left,O.top),new Xt(O.left+O.width,O.top),new Xt(O.left+O.width,O.top+O.height),new Xt(O.left,O.top+O.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new j2(n.value,w),s.letterSpacing,y),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Pa(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(S=n.styles.listStyleImage,S.type!==0)return[3,18];B=void 0,F=S.url,R.label=15;case 15:return R.trys.push([15,17,,18]),[4,this.context.cache.match(F)];case 16:return B=R.sent(),this.ctx.drawImage(B,n.bounds.left-(B.width+10),n.bounds.top),[3,18];case 17:return R.sent(),this.context.logger.error("Error loading list-style-image "+F),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(k=this.createFontStyle(s)[0],this.ctx.font=k,this.ctx.fillStyle=ro(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",O=new Hd(n.bounds.left,n.bounds.top+Zi(n.styles.paddingTop,n.bounds.width),n.bounds.width,ID(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new j2(r.listValue,O),s.letterSpacing,ID(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),R.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Ml(this,void 0,void 0,function(){var n,i,S,s,a,S,o,l,S,c,u,S,f,p,S,g,y,S,x,w,S;return il(this,function(B){switch(B.label){case 0:if(Pa(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:B.sent(),n=0,i=r.negativeZIndex,B.label=2;case 2:return n<i.length?(S=i[n],[4,this.renderStack(S)]):[3,5];case 3:B.sent(),B.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:B.sent(),s=0,a=r.nonInlineLevel,B.label=7;case 7:return s<a.length?(S=a[s],[4,this.renderNode(S)]):[3,10];case 8:B.sent(),B.label=9;case 9:return s++,[3,7];case 10:o=0,l=r.nonPositionedFloats,B.label=11;case 11:return o<l.length?(S=l[o],[4,this.renderStack(S)]):[3,14];case 12:B.sent(),B.label=13;case 13:return o++,[3,11];case 14:c=0,u=r.nonPositionedInlineLevel,B.label=15;case 15:return c<u.length?(S=u[c],[4,this.renderStack(S)]):[3,18];case 16:B.sent(),B.label=17;case 17:return c++,[3,15];case 18:f=0,p=r.inlineLevel,B.label=19;case 19:return f<p.length?(S=p[f],[4,this.renderNode(S)]):[3,22];case 20:B.sent(),B.label=21;case 21:return f++,[3,19];case 22:g=0,y=r.zeroOrAutoZIndexOrTransformedOrOpacity,B.label=23;case 23:return g<y.length?(S=y[g],[4,this.renderStack(S)]):[3,26];case 24:B.sent(),B.label=25;case 25:return g++,[3,23];case 26:x=0,w=r.positiveZIndex,B.label=27;case 27:return x<w.length?(S=w[x],[4,this.renderStack(S)]):[3,30];case 28:B.sent(),B.label=29;case 29:return x++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var a=HA(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),HA(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(r){return Ml(this,void 0,void 0,function(){var n,i,s,a,o,l;return il(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,i=function(u){var f,p,g,re,X,ee,q,Z,Q,y,re,X,ee,q,Z,x,w,S,B,F,k,O,R,D,Q,V,re,P,H,q,Z,se,X,ee,te,Ce,ke,le,M,G,W,J;return il(this,function(ae){switch(ae.label){case 0:if(u.type!==0)return[3,5];f=void 0,p=u.url,ae.label=1;case 1:return ae.trys.push([1,3,,4]),[4,s.context.cache.match(p)];case 2:return f=ae.sent(),[3,4];case 3:return ae.sent(),s.context.logger.error("Error loading background-image "+p),[3,4];case 4:return f&&(g=Q3(r,n,[f.width,f.height,f.width/f.height]),re=g[0],X=g[1],ee=g[2],q=g[3],Z=g[4],Q=s.ctx.createPattern(s.resizeImage(f,q,Z),"repeat"),s.renderRepeat(re,Q,X,ee)),[3,6];case 5:Mre(u)?(y=Q3(r,n,[null,null,null]),re=y[0],X=y[1],ee=y[2],q=y[3],Z=y[4],x=Fre(u.angle,q,Z),w=x[0],S=x[1],B=x[2],F=x[3],k=x[4],O=document.createElement("canvas"),O.width=q,O.height=Z,R=O.getContext("2d"),D=R.createLinearGradient(S,F,B,k),ND(u.stops,w).forEach(function(ve){return D.addColorStop(ve.stop,ro(ve.color))}),R.fillStyle=D,R.fillRect(0,0,q,Z),q>0&&Z>0&&(Q=s.ctx.createPattern(O,"repeat"),s.renderRepeat(re,Q,X,ee))):Ure(u)&&(V=Q3(r,n,[null,null,null]),re=V[0],P=V[1],H=V[2],q=V[3],Z=V[4],se=u.position.length===0?[Xk]:u.position,X=Zi(se[0],q),ee=Zi(se[se.length-1],Z),te=Ire(u,X,ee,q,Z),Ce=te[0],ke=te[1],Ce>0&&ke>0&&(le=s.ctx.createRadialGradient(P+X,H+ee,0,P+X,H+ee,Ce),ND(u.stops,Ce*2).forEach(function(ve){return le.addColorStop(ve.stop,ro(ve.color))}),s.path(re),s.ctx.fillStyle=le,Ce!==ke?(M=r.bounds.left+.5*r.bounds.width,G=r.bounds.top+.5*r.bounds.height,W=ke/Ce,J=1/W,s.ctx.save(),s.ctx.translate(M,G),s.ctx.transform(1,0,0,W,0,0),s.ctx.translate(-M,-G),s.ctx.fillRect(P,J*(H-G)+G,q,Z*J),s.ctx.restore()):s.ctx.fill())),ae.label=6;case 6:return n--,[2]}})},s=this,a=0,o=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<o.length?(l=o[a],[5,i(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return Ml(this,void 0,void 0,function(){return il(this,function(s){return this.path(a8(i,n)),this.ctx.fillStyle=ro(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return Ml(this,void 0,void 0,function(){var a,o;return il(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=Pse(s,i),this.path(a),this.ctx.fillStyle=ro(r),this.ctx.fill(),o=Hse(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Ml(this,void 0,void 0,function(){var n,i,s,a,o,l,c,u,f=this;return il(this,function(p){switch(p.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!yp(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=Xse(H1(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),yp(n.backgroundColor)||(this.ctx.fillStyle=ro(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){f.ctx.save();var y=D_(r.curves),x=g.inset?0:Kse,w=Dse(y,-x+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(f.path(y),f.ctx.clip(),f.mask(w)):(f.mask(y),f.ctx.clip(),f.path(w)),f.ctx.shadowOffsetX=g.offsetX.number+x,f.ctx.shadowOffsetY=g.offsetY.number,f.ctx.shadowColor=ro(g.color),f.ctx.shadowBlur=g.blur.number,f.ctx.fillStyle=g.inset?ro(g.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),p.label=2;case 2:o=0,l=0,c=s,p.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!yp(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,3)];case 6:return p.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,r.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,r.curves)];case 10:p.sent(),p.label=11;case 11:o++,p.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,a){return Ml(this,void 0,void 0,function(){var o,l,c,u,f,p,g,y,x,w,S,B,F,k,O,R,O,R;return il(this,function(D){return this.ctx.save(),o=Qse(s,i),l=a8(s,i),a===2&&(this.path(l),this.ctx.clip()),HA(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),HA(l[1])?(f=l[1].end.x,p=l[1].end.y):(f=l[1].x,p=l[1].y),i===0||i===2?g=Math.abs(c-f):g=Math.abs(u-p),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),y=n<3?n*3:n*2,x=n<3?n*2:n,a===3&&(y=n,x=n),w=!0,g<=y*2?w=!1:g<=y*2+x?(S=g/(2*y+x),y*=S,x*=S):(B=Math.floor((g+x)/(y+x)),F=(g-B*y)/(B-1),k=(g-(B+1)*y)/B,x=k<=0||Math.abs(x-F)<Math.abs(x-k)?F:k),w&&(a===3?this.ctx.setLineDash([0,y+x]):this.ctx.setLineDash([y,x])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=ro(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(HA(l[0])&&(O=l[3],R=l[0],this.ctx.beginPath(),this.formatPath([new Xt(O.end.x,O.end.y),new Xt(R.start.x,R.start.y)]),this.ctx.stroke()),HA(l[1])&&(O=l[1],R=l[2],this.ctx.beginPath(),this.formatPath([new Xt(O.end.x,O.end.y),new Xt(R.start.x,R.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Ml(this,void 0,void 0,function(){var n;return il(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ro(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Ose(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(u9),Yse=function(t){return t instanceof KQ||t instanceof zQ?!0:t instanceof tL&&t.type!==R_&&t.type!==L_},Xse=function(t,e){switch(t){case 0:return D_(e);case 2:return kse(e);case 1:default:return O_(e)}},Jse=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Zse=["-apple-system","system-ui"],eae=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Zse.indexOf(e)===-1}):t},tae=(function(t){rh(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return Ml(this,void 0,void 0,function(){var n,i;return il(this,function(s){switch(s.label){case 0:return n=eF(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,rae(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ro(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(u9),rae=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},nae=(function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,TS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,TS([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,TS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,TS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),iae=(function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new nae({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new Sse(this,e)}return t.instanceCount=1,t})(),H_=function(t,e){return e===void 0&&(e={}),sae(t,e)};typeof window<"u"&&s9.setContext(window);var sae=function(t,e){return Ml(void 0,void 0,void 0,function(){var r,n,i,s,a,o,l,c,u,f,p,g,y,x,w,S,B,F,k,O,D,R,D,Q,V,re,P,H,q,Z,se,X,ee,te,Ce,ke,le,M,G,W;return il(this,function(J){switch(J.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(Q=e.allowTaint)!==null&&Q!==void 0?Q:!1,imageTimeout:(V=e.imageTimeout)!==null&&V!==void 0?V:15e3,proxy:e.proxy,useCORS:(re=e.useCORS)!==null&&re!==void 0?re:!1},s=PN({logging:(P=e.logging)!==null&&P!==void 0?P:!0,cache:e.cache},i),a={windowWidth:(H=e.windowWidth)!==null&&H!==void 0?H:n.innerWidth,windowHeight:(q=e.windowHeight)!==null&&q!==void 0?q:n.innerHeight,scrollX:(Z=e.scrollX)!==null&&Z!==void 0?Z:n.pageXOffset,scrollY:(se=e.scrollY)!==null&&se!==void 0?se:n.pageYOffset},o=new Hd(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new iae(s,o),c=(X=e.foreignObjectRendering)!==null&&X!==void 0?X:!1,u={allowTaint:(ee=e.allowTaint)!==null&&ee!==void 0?ee:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),f=new n8(l,t,u),p=f.clonedReferenceElement,p?[4,f.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=J.sent(),y=rL(p)||ose(p)?Dee(p.ownerDocument):CB(l,p),x=y.width,w=y.height,S=y.left,B=y.top,F=aae(l,p,e.backgroundColor),k={canvas:e.canvas,backgroundColor:F,scale:(Ce=(te=e.scale)!==null&&te!==void 0?te:n.devicePixelRatio)!==null&&Ce!==void 0?Ce:1,x:((ke=e.x)!==null&&ke!==void 0?ke:0)+S,y:((le=e.y)!==null&&le!==void 0?le:0)+B,width:(M=e.width)!==null&&M!==void 0?M:Math.ceil(x),height:(G=e.height)!==null&&G!==void 0?G:Math.ceil(w)},c?(l.logger.debug("Document cloned, using foreign object rendering"),D=new tae(l,k),[4,D.render(p)]):[3,3];case 2:return O=J.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+S+","+B+" with size "+x+"x"+w+" using computed rendering"),l.logger.debug("Starting DOM parsing"),R=XQ(l,p),F===R.styles.backgroundColor&&(R.styles.backgroundColor=Fd.TRANSPARENT),l.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),D=new Wse(l,k),[4,D.render(R)];case 4:O=J.sent(),J.label=5;case 5:return(!((W=e.removeContainer)!==null&&W!==void 0)||W)&&(n8.destroy(g)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,O]}})})},aae=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?H2(t,getComputedStyle(n.documentElement).backgroundColor):Fd.TRANSPARENT,s=n.body?H2(t,getComputedStyle(n.body).backgroundColor):Fd.TRANSPARENT,a=typeof r=="string"?H2(t,r):r===null?Fd.TRANSPARENT:4294967295;return e===n.documentElement?yp(i)?yp(s)?a:s:i:a};const oae=Object.freeze(Object.defineProperty({__proto__:null,default:H_},Symbol.toStringTag,{value:"Module"}));var V2={};V2.d=(t,e)=>{for(var r in e)V2.o(e,r)&&!V2.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})};V2.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Xr=globalThis.pdfjsLib={};V2.d(Xr,{AbortException:()=>Pm,AnnotationEditorLayer:()=>gI,AnnotationEditorParamsType:()=>en,AnnotationEditorType:()=>Gn,AnnotationEditorUIManager:()=>vm,AnnotationLayer:()=>sle,AnnotationMode:()=>j0,CMapCompressionType:()=>lF,ColorPicker:()=>q_,DOMSVGFactory:()=>sL,DrawLayer:()=>vI,FeatureTest:()=>bc,GlobalWorkerOptions:()=>Id,ImageKind:()=>P5,InvalidPDFException:()=>f9,MissingPDFException:()=>Om,OPS:()=>Bu,Outliner:()=>XF,PDFDataRangeTransport:()=>lj,PDFDateString:()=>v9,PDFWorker:()=>Ay,PasswordResponses:()=>uae,PermissionFlag:()=>Aae,PixelsPerInch:()=>Cp,RenderingCancelledException:()=>aL,TextLayer:()=>Sx,UnexpectedResponseException:()=>UB,Util:()=>yr,VerbosityLevel:()=>LB,XfaLayer:()=>Aj,build:()=>Poe,createValidAbsoluteUrl:()=>pae,fetchData:()=>QB,getDocument:()=>Foe,getFilenameFromUrl:()=>_ae,getPdfFilenameFromUrl:()=>Eae,getXfaPageViewport:()=>Bae,isDataScheme:()=>oL,isPdfFile:()=>lL,noContextMenu:()=>_c,normalizeUnicode:()=>wae,renderTextLayer:()=>woe,setLayerDimensions:()=>xm,shadow:()=>Kn,updateTextLayer:()=>boe,version:()=>Ooe});const ll=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),h9=[1,0,0,1,0,0],oF=[.001,0,0,.001,0,0],lae=1e7,j3=1.35,OA={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},j0={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},cae="pdfjs_internal_editor_",Gn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},en={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Aae={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Jo={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},P5={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},La={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Ov={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},LB={ERRORS:0,WARNINGS:1,INFOS:5},lF={NONE:0,BINARY:1},Bu={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},uae={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let RB=LB.WARNINGS;function hae(t){Number.isInteger(t)&&(RB=t)}function fae(){return RB}function MB(t){RB>=LB.INFOS&&console.log(`Info: ${t}`)}function pn(t){RB>=LB.WARNINGS&&console.log(`Warning: ${t}`)}function Di(t){throw new Error(t)}function Ha(t,e){t||Di(e)}function dae(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function pae(t,e=null,r=null){if(!t)return null;try{if(r&&typeof t=="string"){if(r.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(r.tryConvertEncoding)try{t=vae(t)}catch{}}const n=e?new URL(t,e):new URL(t);if(dae(n))return n}catch{}return null}function Kn(t,e,r,n=!1){return Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!0,writable:!1}),r}const Rp=(function(){function e(r,n){this.constructor===e&&Di("Cannot initialize BaseException."),this.message=r,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class cF extends Rp{constructor(e,r){super(e,"PasswordException"),this.code=r}}class AF extends Rp{constructor(e,r){super(e,"UnknownErrorException"),this.details=r}}class f9 extends Rp{constructor(e){super(e,"InvalidPDFException")}}class Om extends Rp{constructor(e){super(e,"MissingPDFException")}}class UB extends Rp{constructor(e,r){super(e,"UnexpectedResponseException"),this.status=r}}class gae extends Rp{constructor(e){super(e,"FormatError")}}class Pm extends Rp{constructor(e){super(e,"AbortException")}}function d9(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Di("Invalid argument for bytesToString");const e=t.length,r=8192;if(e<r)return String.fromCharCode.apply(null,t);const n=[];for(let i=0;i<e;i+=r){const s=Math.min(i+r,e),a=t.subarray(i,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function DB(t){typeof t!="string"&&Di("Invalid argument for stringToBytes");const e=t.length,r=new Uint8Array(e);for(let n=0;n<e;++n)r[n]=t.charCodeAt(n)&255;return r}function mae(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function nL(t){const e=Object.create(null);for(const[r,n]of t)e[r]=n;return e}function yae(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function xae(){try{return new Function(""),!0}catch{return!1}}class bc{static get isLittleEndian(){return Kn(this,"isLittleEndian",yae())}static get isEvalSupported(){return Kn(this,"isEvalSupported",xae())}static get isOffscreenCanvasSupported(){return Kn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Kn(this,"platform",{isMac:navigator.platform.includes("Mac")}):Kn(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,r;return Kn(this,"isCSSRoundSupported",(r=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:r.call(e,"width: round(1.5px, 1px)"))}}const G3=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Od,H5,uF;class yr{static makeHexColor(e,r,n){return`#${G3[e]}${G3[r]}${G3[n]}`}static scaleMinMax(e,r){let n;e[0]?(e[0]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[0],r[2]*=e[0],e[3]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[3],r[3]*=e[3]):(n=r[0],r[0]=r[1],r[1]=n,n=r[2],r[2]=r[3],r[3]=n,e[1]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[1],r[3]*=e[1],e[2]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[2],r[2]*=e[2]),r[0]+=e[4],r[1]+=e[5],r[2]+=e[4],r[3]+=e[5]}static transform(e,r){return[e[0]*r[0]+e[2]*r[1],e[1]*r[0]+e[3]*r[1],e[0]*r[2]+e[2]*r[3],e[1]*r[2]+e[3]*r[3],e[0]*r[4]+e[2]*r[5]+e[4],e[1]*r[4]+e[3]*r[5]+e[5]]}static applyTransform(e,r){const n=e[0]*r[0]+e[1]*r[2]+r[4],i=e[0]*r[1]+e[1]*r[3]+r[5];return[n,i]}static applyInverseTransform(e,r){const n=r[0]*r[3]-r[1]*r[2],i=(e[0]*r[3]-e[1]*r[2]+r[2]*r[5]-r[4]*r[3])/n,s=(-e[0]*r[1]+e[1]*r[0]+r[4]*r[1]-r[5]*r[0])/n;return[i,s]}static getAxialAlignedBoundingBox(e,r){const n=this.applyTransform(e,r),i=this.applyTransform(e.slice(2,4),r),s=this.applyTransform([e[0],e[3]],r),a=this.applyTransform([e[2],e[1]],r);return[Math.min(n[0],i[0],s[0],a[0]),Math.min(n[1],i[1],s[1],a[1]),Math.max(n[0],i[0],s[0],a[0]),Math.max(n[1],i[1],s[1],a[1])]}static inverseTransform(e){const r=e[0]*e[3]-e[1]*e[2];return[e[3]/r,-e[1]/r,-e[2]/r,e[0]/r,(e[2]*e[5]-e[4]*e[3])/r,(e[4]*e[1]-e[5]*e[0])/r]}static singularValueDecompose2dScale(e){const r=[e[0],e[2],e[1],e[3]],n=e[0]*r[0]+e[1]*r[2],i=e[0]*r[1]+e[1]*r[3],s=e[2]*r[0]+e[3]*r[2],a=e[2]*r[1]+e[3]*r[3],o=(n+a)/2,l=Math.sqrt((n+a)**2-4*(n*a-s*i))/2,c=o+l||1,u=o-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(e){const r=e.slice(0);return e[0]>e[2]&&(r[0]=e[2],r[2]=e[0]),e[1]>e[3]&&(r[1]=e[3],r[3]=e[1]),r}static intersect(e,r){const n=Math.max(Math.min(e[0],e[2]),Math.min(r[0],r[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(r[0],r[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(r[1],r[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(r[1],r[3]));return s>a?null:[n,s,i,a]}static bezierBoundingBox(e,r,n,i,s,a,o,l,c){return c?(c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],r,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],r,l)):c=[Math.min(e,o),Math.min(r,l),Math.max(e,o),Math.max(r,l)],de(this,Od,uF).call(this,e,n,s,o,r,i,a,l,3*(-e+3*(n-s)+o),6*(e-2*n+s),3*(n-e),c),de(this,Od,uF).call(this,e,n,s,o,r,i,a,l,3*(-r+3*(i-a)+l),6*(r-2*i+a),3*(i-r),c),c}}Od=new WeakSet,H5=function(e,r,n,i,s,a,o,l,c,u){if(c<=0||c>=1)return;const f=1-c,p=c*c,g=p*c,y=f*(f*(f*e+3*c*r)+3*p*n)+g*i,x=f*(f*(f*s+3*c*a)+3*p*o)+g*l;u[0]=Math.min(u[0],y),u[1]=Math.min(u[1],x),u[2]=Math.max(u[2],y),u[3]=Math.max(u[3],x)},uF=function(e,r,n,i,s,a,o,l,c,u,f,p){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&de(this,Od,H5).call(this,e,r,n,i,s,a,o,l,-f/u,p);return}const g=u**2-4*f*c;if(g<0)return;const y=Math.sqrt(g),x=2*c;de(this,Od,H5).call(this,e,r,n,i,s,a,o,l,(-u+y)/x,p),de(this,Od,H5).call(this,e,r,n,i,s,a,o,l,(-u-y)/x,p)},ge(yr,Od);function vae(t){return decodeURIComponent(escape(t))}let V3=null,l8=null;function wae(t){return V3||(V3=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,l8=new Map([["","t"]])),t.replaceAll(V3,(e,r,n)=>r?r.normalize("NFKC"):l8.get(n))}function bae(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(Math.random()*255);return d9(t)}const p9="pdfjs_internal_id_",Kf={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class OB{constructor(){this.constructor===OB&&Di("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,r){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,r,n,i,s){return"none"}destroy(e=!1){}}var Rw;const hM=class hM{constructor({enableHWA:e=!1}={}){ge(this,Rw,!1);this.constructor===hM&&Di("Cannot initialize BaseCanvasFactory."),ue(this,Rw,e)}create(e,r){if(e<=0||r<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,r);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!_(this,Rw)})}}reset(e,r,n){if(!e.canvas)throw new Error("Canvas is not specified");if(r<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=r,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,r){Di("Abstract method `_createCanvas` called.")}};Rw=new WeakMap;let Q_=hM;class PB{constructor({baseUrl:e=null,isCompressed:r=!0}){this.constructor===PB&&Di("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=r}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const r=this.baseUrl+e+(this.isCompressed?".bcmap":""),n=this.isCompressed?lF.BINARY:lF.NONE;return this._fetchData(r,n).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${r}`)})}_fetchData(e,r){Di("Abstract method `_fetchData` called.")}}class HB{constructor({baseUrl:e=null}){this.constructor===HB&&Di("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const r=`${this.baseUrl}${e}`;return this._fetchData(r).catch(n=>{throw new Error(`Unable to load font data at: ${r}`)})}_fetchData(e){Di("Abstract method `_fetchData` called.")}}class iL{constructor(){this.constructor===iL&&Di("Cannot initialize BaseSVGFactory.")}create(e,r,n=!1){if(e<=0||r<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${r}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${r}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Di("Abstract method `_createSVG` called.")}}const Zf="http://www.w3.org/2000/svg",cg=class cg{};er(cg,"CSS",96),er(cg,"PDF",72),er(cg,"PDF_TO_CSS_UNITS",cg.CSS/cg.PDF);let Cp=cg;var mg,qh,ad,pc,tB,yg,ur,Zo,Q1,j1,Q5,g9,hF,G1,u2,h2,fF,f2;class Cae extends OB{constructor({docId:r,ownerDocument:n=globalThis.document}={}){super();ge(this,ur);ge(this,mg);ge(this,qh);ge(this,ad);ge(this,pc);ge(this,tB);ge(this,yg,0);ue(this,ad,r),ue(this,pc,n)}addFilter(r){if(!r)return"none";let n=_(this,ur,Zo).get(r);if(n)return n;const[i,s,a]=de(this,ur,Q5).call(this,r),o=r.length===1?i:`${i}${s}${a}`;if(n=_(this,ur,Zo).get(o),n)return _(this,ur,Zo).set(r,n),n;const l=`g_${_(this,ad)}_transfer_map_${Pc(this,yg)._++}`,c=`url(#${l})`;_(this,ur,Zo).set(r,c),_(this,ur,Zo).set(o,c);const u=de(this,ur,G1).call(this,l);return de(this,ur,h2).call(this,i,s,a,u),c}addHCMFilter(r,n){var y;const i=`${r}-${n}`,s="base";let a=_(this,ur,Q1).get(s);if((a==null?void 0:a.key)===i||(a?((y=a.filter)==null||y.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},_(this,ur,Q1).set(s,a)),!r||!n))return a.url;const o=de(this,ur,f2).call(this,r);r=yr.makeHexColor(...o);const l=de(this,ur,f2).call(this,n);if(n=yr.makeHexColor(...l),_(this,ur,j1).style.color="",r==="#000000"&&n==="#ffffff"||r===n)return a.url;const c=new Array(256);for(let x=0;x<=255;x++){const w=x/255;c[x]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const u=c.join(","),f=`g_${_(this,ad)}_hcm_filter`,p=a.filter=de(this,ur,G1).call(this,f);de(this,ur,h2).call(this,u,u,u,p),de(this,ur,hF).call(this,p);const g=(x,w)=>{const S=o[x]/255,B=l[x]/255,F=new Array(w+1);for(let k=0;k<=w;k++)F[k]=S+k/w*(B-S);return F.join(",")};return de(this,ur,h2).call(this,g(0,5),g(1,5),g(2,5),p),a.url=`url(#${f})`,a.url}addAlphaFilter(r){let n=_(this,ur,Zo).get(r);if(n)return n;const[i]=de(this,ur,Q5).call(this,[r]),s=`alpha_${i}`;if(n=_(this,ur,Zo).get(s),n)return _(this,ur,Zo).set(r,n),n;const a=`g_${_(this,ad)}_alpha_map_${Pc(this,yg)._++}`,o=`url(#${a})`;_(this,ur,Zo).set(r,o),_(this,ur,Zo).set(s,o);const l=de(this,ur,G1).call(this,a);return de(this,ur,fF).call(this,i,l),o}addLuminosityFilter(r){let n=_(this,ur,Zo).get(r||"luminosity");if(n)return n;let i,s;if(r?([i]=de(this,ur,Q5).call(this,[r]),s=`luminosity_${i}`):s="luminosity",n=_(this,ur,Zo).get(s),n)return _(this,ur,Zo).set(r,n),n;const a=`g_${_(this,ad)}_luminosity_map_${Pc(this,yg)._++}`,o=`url(#${a})`;_(this,ur,Zo).set(r,o),_(this,ur,Zo).set(s,o);const l=de(this,ur,G1).call(this,a);return de(this,ur,g9).call(this,l),r&&de(this,ur,fF).call(this,i,l),o}addHighlightHCMFilter(r,n,i,s,a){var B;const o=`${n}-${i}-${s}-${a}`;let l=_(this,ur,Q1).get(r);if((l==null?void 0:l.key)===o||(l?((B=l.filter)==null||B.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},_(this,ur,Q1).set(r,l)),!n||!i))return l.url;const[c,u]=[n,i].map(de(this,ur,f2).bind(this));let f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),p=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[g,y]=[s,a].map(de(this,ur,f2).bind(this));p<f&&([f,p,g,y]=[p,f,y,g]),_(this,ur,j1).style.color="";const x=(F,k,O)=>{const R=new Array(256),D=(p-f)/O,Q=F/255,V=(k-F)/(255*O);let re=0;for(let P=0;P<=O;P++){const H=Math.round(f+P*D),q=Q+P*V;for(let Z=re;Z<=H;Z++)R[Z]=q;re=H+1}for(let P=re;P<256;P++)R[P]=R[re-1];return R.join(",")},w=`g_${_(this,ad)}_hcm_${r}_filter`,S=l.filter=de(this,ur,G1).call(this,w);return de(this,ur,hF).call(this,S),de(this,ur,h2).call(this,x(g[0],y[0],5),x(g[1],y[1],5),x(g[2],y[2],5),S),l.url=`url(#${w})`,l.url}destroy(r=!1){r&&_(this,ur,Q1).size!==0||(_(this,qh)&&(_(this,qh).parentNode.parentNode.remove(),ue(this,qh,null)),_(this,mg)&&(_(this,mg).clear(),ue(this,mg,null)),ue(this,yg,0))}}mg=new WeakMap,qh=new WeakMap,ad=new WeakMap,pc=new WeakMap,tB=new WeakMap,yg=new WeakMap,ur=new WeakSet,Zo=function(){return _(this,mg)||ue(this,mg,new Map)},Q1=function(){return _(this,tB)||ue(this,tB,new Map)},j1=function(){if(!_(this,qh)){const r=_(this,pc).createElement("div"),{style:n}=r;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=_(this,pc).createElementNS(Zf,"svg");i.setAttribute("width",0),i.setAttribute("height",0),ue(this,qh,_(this,pc).createElementNS(Zf,"defs")),r.append(i),i.append(_(this,qh)),_(this,pc).body.append(r)}return _(this,qh)},Q5=function(r){if(r.length===1){const c=r[0],u=new Array(256);for(let p=0;p<256;p++)u[p]=c[p]/255;const f=u.join(",");return[f,f,f]}const[n,i,s]=r,a=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=n[c]/255,o[c]=i[c]/255,l[c]=s[c]/255;return[a.join(","),o.join(","),l.join(",")]},g9=function(r){const n=_(this,pc).createElementNS(Zf,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),r.append(n)},hF=function(r){const n=_(this,pc).createElementNS(Zf,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),r.append(n)},G1=function(r){const n=_(this,pc).createElementNS(Zf,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",r),_(this,ur,j1).append(n),n},u2=function(r,n,i){const s=_(this,pc).createElementNS(Zf,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),r.append(s)},h2=function(r,n,i,s){const a=_(this,pc).createElementNS(Zf,"feComponentTransfer");s.append(a),de(this,ur,u2).call(this,a,"feFuncR",r),de(this,ur,u2).call(this,a,"feFuncG",n),de(this,ur,u2).call(this,a,"feFuncB",i)},fF=function(r,n){const i=_(this,pc).createElementNS(Zf,"feComponentTransfer");n.append(i),de(this,ur,u2).call(this,i,"feFuncA",r)},f2=function(r){return _(this,ur,j1).style.color=r,cL(getComputedStyle(_(this,ur,j1)).getPropertyValue("color"))};class Sae extends Q_{constructor({ownerDocument:e=globalThis.document,enableHWA:r=!1}={}){super({enableHWA:r}),this._document=e}_createCanvas(e,r){const n=this._document.createElement("canvas");return n.width=e,n.height=r,n}}async function QB(t,e="text"){if(d2(t,document.baseURI)){const r=await fetch(t);if(!r.ok)throw new Error(r.statusText);switch(e){case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();case"json":return r.json()}return r.text()}return new Promise((r,n)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":r(i.response);return}r(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class m9 extends PB{_fetchData(e,r){return QB(e,this.isCompressed?"arraybuffer":"text").then(n=>({cMapData:n instanceof ArrayBuffer?new Uint8Array(n):DB(n),compressionType:r}))}}class y9 extends HB{_fetchData(e){return QB(e,"arraybuffer").then(r=>new Uint8Array(r))}}class sL extends iL{_createSVG(e){return document.createElementNS(Zf,e)}}class pC{constructor({viewBox:e,scale:r,rotation:n,offsetX:i=0,offsetY:s=0,dontFlip:a=!1}){this.viewBox=e,this.scale=r,this.rotation=n,this.offsetX=i,this.offsetY=s;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,f,p;switch(n%=360,n<0&&(n+=360),n){case 180:c=-1,u=0,f=0,p=1;break;case 90:c=0,u=1,f=1,p=0;break;case 270:c=0,u=-1,f=-1,p=0;break;case 0:c=1,u=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(f=-f,p=-p);let g,y,x,w;c===0?(g=Math.abs(l-e[1])*r+i,y=Math.abs(o-e[0])*r+s,x=(e[3]-e[1])*r,w=(e[2]-e[0])*r):(g=Math.abs(o-e[0])*r+i,y=Math.abs(l-e[1])*r+s,x=(e[2]-e[0])*r,w=(e[3]-e[1])*r),this.transform=[c*r,u*r,f*r,p*r,g-c*r*o-f*r*l,y-u*r*o-p*r*l],this.width=x,this.height=w}get rawDims(){const{viewBox:e}=this;return Kn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:r=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new pC({viewBox:this.viewBox.slice(),scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,r){return yr.applyTransform([e,r],this.transform)}convertToViewportRectangle(e){const r=yr.applyTransform([e[0],e[1]],this.transform),n=yr.applyTransform([e[2],e[3]],this.transform);return[r[0],r[1],n[0],n[1]]}convertToPdfPoint(e,r){return yr.applyInverseTransform([e,r],this.transform)}}class aL extends Rp{constructor(e,r=0){super(e,"RenderingCancelledException"),this.extraDelay=r}}function oL(t){const e=t.length;let r=0;for(;r<e&&t[r].trim()==="";)r++;return t.substring(r,r+5).toLowerCase()==="data:"}function lL(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function _ae(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Eae(t,e="document.pdf"){if(typeof t!="string")return e;if(oL(t))return pn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=r.exec(t);let s=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||e}class c8{constructor(){er(this,"started",Object.create(null));er(this,"times",[])}time(e){e in this.started&&pn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||pn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let r=0;for(const{name:n}of this.times)r=Math.max(n.length,r);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(r)} ${s-i}ms
`);return e.join("")}}function d2(t,e){try{const{protocol:r}=e?new URL(t,e):new URL(t);return r==="http:"||r==="https:"}catch{return!1}}function _c(t){t.preventDefault()}function x9(t){console.log("Deprecated API usage: "+t)}let A8;class v9{static toDateObject(e){if(!e||typeof e!="string")return null;A8||(A8=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const r=A8.exec(e);if(!r)return null;const n=parseInt(r[1],10);let i=parseInt(r[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(r[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(r[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(r[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(r[6],10);l=l>=0&&l<=59?l:0;const c=r[7]||"Z";let u=parseInt(r[8],10);u=u>=0&&u<=23?u:0;let f=parseInt(r[9],10)||0;return f=f>=0&&f<=59?f:0,c==="-"?(a+=u,o+=f):c==="+"&&(a-=u,o-=f),new Date(Date.UTC(n,i,s,a,o,l))}}function Bae(t,{scale:e=1,rotation:r=0}){const{width:n,height:i}=t.attributes.style,s=[0,0,parseInt(n),parseInt(i)];return new pC({viewBox:s,scale:e,rotation:r})}function cL(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(pn(`Not a valid color format: "${t}"`),[0,0,0])}function Tae(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const r of t.keys()){e.style.color=r;const n=window.getComputedStyle(e).color;t.set(r,cL(n))}e.remove()}function Fs(t){const{a:e,b:r,c:n,d:i,e:s,f:a}=t.getTransform();return[e,r,n,i,s,a]}function Wf(t){const{a:e,b:r,c:n,d:i,e:s,f:a}=t.getTransform().invertSelf();return[e,r,n,i,s,a]}function xm(t,e,r=!1,n=!0){if(e instanceof pC){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=t,o=bc.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${s}px`,u=o?`round(${l}, 1px)`:`calc(${l})`,f=o?`round(${c}, 1px)`:`calc(${c})`;!r||e.rotation%180===0?(a.width=u,a.height=f):(a.width=f,a.height=u)}n&&t.setAttribute("data-main-rotation",e.rotation)}var xg,vg,Vc,wg,rB,w9,$l,b9,C9,j5,S9,pF;const nB=class nB{constructor(e){ge(this,$l);ge(this,xg,null);ge(this,vg,null);ge(this,Vc);ge(this,wg,null);ue(this,Vc,e)}render(){const e=ue(this,xg,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const r=_(this,Vc)._uiManager._signal;e.addEventListener("contextmenu",_c,{signal:r}),e.addEventListener("pointerdown",de(nB,rB,w9),{signal:r});const n=ue(this,wg,document.createElement("div"));n.className="buttons",e.append(n);const i=_(this,Vc).toolbarPosition;if(i){const{style:s}=e,a=_(this,Vc)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return de(this,$l,S9).call(this),e}hide(){var e;_(this,xg).classList.add("hidden"),(e=_(this,vg))==null||e.hideDropdown()}show(){_(this,xg).classList.remove("hidden")}addAltTextButton(e){de(this,$l,j5).call(this,e),_(this,wg).prepend(e,_(this,$l,pF))}addColorPicker(e){ue(this,vg,e);const r=e.renderButton();de(this,$l,j5).call(this,r),_(this,wg).prepend(r,_(this,$l,pF))}remove(){var e;_(this,xg).remove(),(e=_(this,vg))==null||e.destroy(),ue(this,vg,null)}};xg=new WeakMap,vg=new WeakMap,Vc=new WeakMap,wg=new WeakMap,rB=new WeakSet,w9=function(e){e.stopPropagation()},$l=new WeakSet,b9=function(e){_(this,Vc)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},C9=function(e){_(this,Vc)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},j5=function(e){const r=_(this,Vc)._uiManager._signal;e.addEventListener("focusin",de(this,$l,b9).bind(this),{capture:!0,signal:r}),e.addEventListener("focusout",de(this,$l,C9).bind(this),{capture:!0,signal:r}),e.addEventListener("contextmenu",_c,{signal:r})},S9=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${_(this,Vc).editorType}-button`),de(this,$l,j5).call(this,e),e.addEventListener("click",r=>{_(this,Vc)._uiManager.delete()},{signal:_(this,Vc)._uiManager._signal}),_(this,wg).append(e)},pF=function(){const e=document.createElement("div");return e.className="divider",e},ge(nB,rB);let dF=nB;var Mw,bg,Cg,kp,_9,E9,B9;class Nae{constructor(e){ge(this,kp);ge(this,Mw,null);ge(this,bg,null);ge(this,Cg);ue(this,Cg,e)}show(e,r,n){const[i,s]=de(this,kp,E9).call(this,r,n),{style:a}=_(this,bg)||ue(this,bg,de(this,kp,_9).call(this));e.append(_(this,bg)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){_(this,bg).remove()}}Mw=new WeakMap,bg=new WeakMap,Cg=new WeakMap,kp=new WeakSet,_9=function(){const e=ue(this,bg,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",_c,{signal:_(this,Cg)._signal});const r=ue(this,Mw,document.createElement("div"));return r.className="buttons",e.append(r),de(this,kp,B9).call(this),e},E9=function(e,r){let n=0,i=0;for(const s of e){const a=s.y+s.height;if(a<n)continue;const o=s.x+(r?s.width:0);if(a>n){i=o,n=a;continue}r?o>i&&(i=o):o<i&&(i=o)}return[r?1-i:i,n]},B9=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const r=document.createElement("span");e.append(r),r.className="visuallyHidden",r.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=_(this,Cg)._signal;e.addEventListener("contextmenu",_c,{signal:n}),e.addEventListener("click",()=>{_(this,Cg).highlightSelection("floating_button")},{signal:n}),_(this,Mw).append(e)};function j_(t,e,r){for(const n of r)e.addEventListener(n,t[n].bind(t))}function Fae(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}var iB;class Iae{constructor(){ge(this,iB,0)}get id(){return`${cae}${Pc(this,iB)._++}`}}iB=new WeakMap;var Uw,sB,RA,Dw,mF;const fM=class fM{constructor(){ge(this,Dw);ge(this,Uw,bae());ge(this,sB,0);ge(this,RA,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Kn(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:r,name:n,size:i,type:s}=e;return de(this,Dw,mF).call(this,`${r}_${n}_${i}_${s}`,e)}async getFromUrl(e){return de(this,Dw,mF).call(this,e,e)}async getFromId(e){_(this,RA)||ue(this,RA,new Map);const r=_(this,RA).get(e);return r?r.bitmap?(r.refCounter+=1,r):r.file?this.getFromFile(r.file):this.getFromUrl(r.url):null}getSvgUrl(e){const r=_(this,RA).get(e);return r!=null&&r.isSvg?r.svgUrl:null}deleteId(e){_(this,RA)||ue(this,RA,new Map);const r=_(this,RA).get(e);r&&(r.refCounter-=1,r.refCounter===0&&(r.bitmap=null))}isValidId(e){return e.startsWith(`image_${_(this,Uw)}_`)}};Uw=new WeakMap,sB=new WeakMap,RA=new WeakMap,Dw=new WeakSet,mF=async function(e,r){_(this,RA)||ue(this,RA,new Map);let n=_(this,RA).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${_(this,Uw)}_${Pc(this,sB)._++}`,refCounter:0,isSvg:!1});let i;if(typeof r=="string"?(n.url=r,i=await QB(r,"blob")):i=n.file=r,i.type==="image/svg+xml"){const s=fM._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,u)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,c()},a.onload=async()=>{const f=n.svgUrl=a.result;o.src=await s?`${f}#svgView(preserveAspectRatio(none))`:f},o.onerror=a.onerror=u});a.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){console.error(i),n=null}return _(this,RA).set(e,n),n&&_(this,RA).set(n.id,n),n};let gF=fM;var no,G0,Ow,io;class kae{constructor(e=128){ge(this,no,[]);ge(this,G0,!1);ge(this,Ow);ge(this,io,-1);ue(this,Ow,e)}add({cmd:e,undo:r,post:n,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),_(this,G0))return;const l={cmd:e,undo:r,post:n,type:s};if(_(this,io)===-1){_(this,no).length>0&&(_(this,no).length=0),ue(this,io,0),_(this,no).push(l);return}if(a&&_(this,no)[_(this,io)].type===s){o&&(l.undo=_(this,no)[_(this,io)].undo),_(this,no)[_(this,io)]=l;return}const c=_(this,io)+1;c===_(this,Ow)?_(this,no).splice(0,1):(ue(this,io,c),c<_(this,no).length&&_(this,no).splice(c)),_(this,no).push(l)}undo(){if(_(this,io)===-1)return;ue(this,G0,!0);const{undo:e,post:r}=_(this,no)[_(this,io)];e(),r==null||r(),ue(this,G0,!1),ue(this,io,_(this,io)-1)}redo(){if(_(this,io)<_(this,no).length-1){ue(this,io,_(this,io)+1),ue(this,G0,!0);const{cmd:e,post:r}=_(this,no)[_(this,io)];e(),r==null||r(),ue(this,G0,!1)}}hasSomethingToUndo(){return _(this,io)!==-1}hasSomethingToRedo(){return _(this,io)<_(this,no).length-1}destroy(){ue(this,no,null)}}no=new WeakMap,G0=new WeakMap,Ow=new WeakMap,io=new WeakMap;var aB,T9;class gC{constructor(e){ge(this,aB);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:r}=bc.platform;for(const[n,i,s={}]of e)for(const a of n){const o=a.startsWith("mac+");r&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!r&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,r){if(!this.allKeys.has(r.key))return;const n=this.callbacks.get(de(this,aB,T9).call(this,r));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=n;o&&!o(e,r)||(i.bind(e,...a,r)(),s||(r.stopPropagation(),r.preventDefault()))}}aB=new WeakSet,T9=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const r=this.buffer.join("+");return this.buffer.length=0,r};const oB=class oB{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Tae(e),Kn(this,"_colors",e)}convert(e){const r=cL(e);if(!window.matchMedia("(forced-colors: active)").matches)return r;for(const[n,i]of this._colors)if(i.every((s,a)=>s===r[a]))return oB._colorsMapping.get(n);return r}getHexCode(e){const r=this._colors.get(e);return r?yr.makeHexColor(...r):e}};er(oB,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let yF=oB;var vy,$c,Ma,So,wy,od,by,Tu,Cy,Sg,zh,Nu,_g,Pw,Hw,Kh,Sy,V0,Wh,lB,$0,Qw,Eg,jw,_y,_o,wi,ld,Bg,Gw,Vw,$w,qw,zw,Kw,Ww,Yw,Xw,Jw,Zw,eb,tb,q0,Yh,cd,rb,Wt,G5,N9,F9,V5,I9,k9,L9,xF,R9,vF,wF,M9,kl,k0,U9,D9,bF,O9,p2,CF;const ny=class ny{constructor(e,r,n,i,s,a,o,l,c){ge(this,Wt);ge(this,vy,new AbortController);ge(this,$c,null);ge(this,Ma,new Map);ge(this,So,new Map);ge(this,wy,null);ge(this,od,null);ge(this,by,null);ge(this,Tu,new kae);ge(this,Cy,0);ge(this,Sg,new Set);ge(this,zh,null);ge(this,Nu,null);ge(this,_g,new Set);ge(this,Pw,!1);ge(this,Hw,null);ge(this,Kh,null);ge(this,Sy,null);ge(this,V0,!1);ge(this,Wh,null);ge(this,lB,new Iae);ge(this,$0,!1);ge(this,Qw,!1);ge(this,Eg,null);ge(this,jw,null);ge(this,_y,null);ge(this,_o,Gn.NONE);ge(this,wi,new Set);ge(this,ld,null);ge(this,Bg,null);ge(this,Gw,null);ge(this,Vw,this.blur.bind(this));ge(this,$w,this.focus.bind(this));ge(this,qw,this.copy.bind(this));ge(this,zw,this.cut.bind(this));ge(this,Kw,this.paste.bind(this));ge(this,Ww,this.keydown.bind(this));ge(this,Yw,this.keyup.bind(this));ge(this,Xw,this.onEditingAction.bind(this));ge(this,Jw,this.onPageChanging.bind(this));ge(this,Zw,this.onScaleChanging.bind(this));ge(this,eb,this.onRotationChanging.bind(this));ge(this,tb,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});ge(this,q0,[0,0]);ge(this,Yh,null);ge(this,cd,null);ge(this,rb,null);this._signal=_(this,vy).signal,ue(this,cd,e),ue(this,rb,r),ue(this,wy,n),this._eventBus=i,this._eventBus._on("editingaction",_(this,Xw)),this._eventBus._on("pagechanging",_(this,Jw)),this._eventBus._on("scalechanging",_(this,Zw)),this._eventBus._on("rotationchanging",_(this,eb)),de(this,Wt,I9).call(this),de(this,Wt,M9).call(this),de(this,Wt,xF).call(this),ue(this,od,s.annotationStorage),ue(this,Hw,s.filterFactory),ue(this,Bg,a),ue(this,Sy,o||null),ue(this,Pw,l),ue(this,_y,c||null),this.viewParameters={realScale:Cp.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=ny.prototype,r=a=>_(a,cd).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Kn(this,"_keyboardManager",new gC([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&_(a,cd).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&_(a,cd).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:r}]]))}destroy(){var e,r,n;(e=_(this,vy))==null||e.abort(),ue(this,vy,null),this._signal=null,this._eventBus._off("editingaction",_(this,Xw)),this._eventBus._off("pagechanging",_(this,Jw)),this._eventBus._off("scalechanging",_(this,Zw)),this._eventBus._off("rotationchanging",_(this,eb));for(const i of _(this,So).values())i.destroy();_(this,So).clear(),_(this,Ma).clear(),_(this,_g).clear(),ue(this,$c,null),_(this,wi).clear(),_(this,Tu).destroy(),(r=_(this,wy))==null||r.destroy(),(n=_(this,Wh))==null||n.hide(),ue(this,Wh,null),_(this,Kh)&&(clearTimeout(_(this,Kh)),ue(this,Kh,null)),_(this,Yh)&&(clearTimeout(_(this,Yh)),ue(this,Yh,null))}async mlGuess(e){var r;return((r=_(this,_y))==null?void 0:r.guess(e))||null}get hasMLManager(){return!!_(this,_y)}get hcmFilter(){return Kn(this,"hcmFilter",_(this,Bg)?_(this,Hw).addHCMFilter(_(this,Bg).foreground,_(this,Bg).background):"none")}get direction(){return Kn(this,"direction",getComputedStyle(_(this,cd)).direction)}get highlightColors(){return Kn(this,"highlightColors",_(this,Sy)?new Map(_(this,Sy).split(",").map(e=>e.split("=").map(r=>r.trim()))):null)}get highlightColorNames(){return Kn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){ue(this,jw,e)}editAltText(e){var r;(r=_(this,wy))==null||r.editAltText(this,e)}onPageChanging({pageNumber:e}){ue(this,Cy,e-1)}focusMainContainer(){_(this,cd).focus()}findParent(e,r){for(const n of _(this,So).values()){const{x:i,y:s,width:a,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&r>=s&&r<=s+o)return n}return null}disableUserSelect(e=!1){_(this,rb).classList.toggle("noUserSelect",e)}addShouldRescale(e){_(this,_g).add(e)}removeShouldRescale(e){_(this,_g).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Cp.PDF_TO_CSS_UNITS;for(const r of _(this,_g))r.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a}=r,o=r.toString(),c=de(this,Wt,G5).call(this,r).closest(".textLayer"),u=this.getSelectionBoxes(c);if(u){r.empty(),_(this,_o)===Gn.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Gn.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const f of _(this,So).values())if(f.hasTextLayer(c)){f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a,text:o});break}}}addToAnnotationStorage(e){!e.isEmpty()&&_(this,od)&&!_(this,od).has(e.id)&&_(this,od).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,_(this,V0)&&(ue(this,V0,!1),de(this,Wt,V5).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const r of _(this,wi))if(r.div.contains(e)){ue(this,Eg,[r,e]),r._focusEventsAllowed=!1;break}}focus(){if(!_(this,Eg))return;const[e,r]=_(this,Eg);ue(this,Eg,null),r.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),r.focus()}addEditListeners(){de(this,Wt,xF).call(this),de(this,Wt,vF).call(this)}removeEditListeners(){de(this,Wt,R9).call(this),de(this,Wt,wF).call(this)}dragOver(e){for(const{type:r}of e.dataTransfer.items)for(const n of _(this,Nu))if(n.isHandlingMimeForPasting(r)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const r of e.dataTransfer.items)for(const n of _(this,Nu))if(n.isHandlingMimeForPasting(r.type)){n.paste(r,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=_(this,$c))==null||n.commitOrRemove(),!this.hasSelection)return;const r=[];for(const i of _(this,wi)){const s=i.serialize(!0);s&&r.push(s)}r.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(r))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:r}=e;for(const s of r.items)for(const a of _(this,Nu))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let n=r.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){pn(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of n){const c=i.deserialize(l);if(!c)return;s.push(c)}const a=()=>{for(const l of s)de(this,Wt,bF).call(this,l);de(this,Wt,CF).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){pn(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),_(this,_o)!==Gn.NONE&&!this.isEditorHandlingKeyboard&&ny._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,_(this,V0)&&(ue(this,V0,!1),de(this,Wt,V5).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(de(this,Wt,k9).call(this),de(this,Wt,vF).call(this),de(this,Wt,kl).call(this,{isEditing:_(this,_o)!==Gn.NONE,isEmpty:de(this,Wt,p2).call(this),hasSomethingToUndo:_(this,Tu).hasSomethingToUndo(),hasSomethingToRedo:_(this,Tu).hasSomethingToRedo(),hasSelectedEditor:!1})):(de(this,Wt,L9).call(this),de(this,Wt,wF).call(this),de(this,Wt,kl).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!_(this,Nu)){ue(this,Nu,e);for(const r of _(this,Nu))de(this,Wt,k0).call(this,r.defaultPropertiesToUpdate)}}getId(){return _(this,lB).id}get currentLayer(){return _(this,So).get(_(this,Cy))}getLayer(e){return _(this,So).get(e)}get currentPageIndex(){return _(this,Cy)}addLayer(e){_(this,So).set(e.pageIndex,e),_(this,$0)?e.enable():e.disable()}removeLayer(e){_(this,So).delete(e.pageIndex)}updateMode(e,r=null,n=!1){if(_(this,_o)!==e){if(ue(this,_o,e),e===Gn.NONE){this.setEditingState(!1),de(this,Wt,D9).call(this);return}this.setEditingState(!0),de(this,Wt,U9).call(this),this.unselectAll();for(const i of _(this,So).values())i.updateMode(e);if(!r&&n){this.addNewEditorFromKeyboard();return}if(r){for(const i of _(this,Ma).values())if(i.annotationElementId===r){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==_(this,_o)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,r){var n;if(_(this,Nu)){switch(e){case en.CREATE:this.currentLayer.addNewEditor();return;case en.HIGHLIGHT_DEFAULT_COLOR:(n=_(this,jw))==null||n.updateColor(r);break;case en.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(_(this,Gw)||ue(this,Gw,new Map)).set(e,r),this.showAllEditors("highlight",r);break}for(const i of _(this,wi))i.updateParams(e,r);for(const i of _(this,Nu))i.updateDefaultParams(e,r)}}showAllEditors(e,r,n=!1){var s;for(const a of _(this,Ma).values())a.editorType===e&&a.show(r);(((s=_(this,Gw))==null?void 0:s.get(en.HIGHLIGHT_SHOW_ALL))??!0)!==r&&de(this,Wt,k0).call(this,[[en.HIGHLIGHT_SHOW_ALL,r]])}enableWaiting(e=!1){if(_(this,Qw)!==e){ue(this,Qw,e);for(const r of _(this,So).values())e?r.disableClick():r.enableClick(),r.div.classList.toggle("waiting",e)}}getEditors(e){const r=[];for(const n of _(this,Ma).values())n.pageIndex===e&&r.push(n);return r}getEditor(e){return _(this,Ma).get(e)}addEditor(e){_(this,Ma).set(e.id,e)}removeEditor(e){var r;e.div.contains(document.activeElement)&&(_(this,Kh)&&clearTimeout(_(this,Kh)),ue(this,Kh,setTimeout(()=>{this.focusMainContainer(),ue(this,Kh,null)},0))),_(this,Ma).delete(e.id),this.unselect(e),(!e.annotationElementId||!_(this,Sg).has(e.annotationElementId))&&((r=_(this,od))==null||r.remove(e.id))}addDeletedAnnotationElement(e){_(this,Sg).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return _(this,Sg).has(e)}removeDeletedAnnotationElement(e){_(this,Sg).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){_(this,$c)!==e&&(ue(this,$c,e),e&&de(this,Wt,k0).call(this,e.propertiesToUpdate))}updateUI(e){_(this,Wt,O9)===e&&de(this,Wt,k0).call(this,e.propertiesToUpdate)}toggleSelected(e){if(_(this,wi).has(e)){_(this,wi).delete(e),e.unselect(),de(this,Wt,kl).call(this,{hasSelectedEditor:this.hasSelection});return}_(this,wi).add(e),e.select(),de(this,Wt,k0).call(this,e.propertiesToUpdate),de(this,Wt,kl).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const r of _(this,wi))r!==e&&r.unselect();_(this,wi).clear(),_(this,wi).add(e),e.select(),de(this,Wt,k0).call(this,e.propertiesToUpdate),de(this,Wt,kl).call(this,{hasSelectedEditor:!0})}isSelected(e){return _(this,wi).has(e)}get firstSelectedEditor(){return _(this,wi).values().next().value}unselect(e){e.unselect(),_(this,wi).delete(e),de(this,Wt,kl).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return _(this,wi).size!==0}get isEnterHandled(){return _(this,wi).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){_(this,Tu).undo(),de(this,Wt,kl).call(this,{hasSomethingToUndo:_(this,Tu).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:de(this,Wt,p2).call(this)})}redo(){_(this,Tu).redo(),de(this,Wt,kl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_(this,Tu).hasSomethingToRedo(),isEmpty:de(this,Wt,p2).call(this)})}addCommands(e){_(this,Tu).add(e),de(this,Wt,kl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:de(this,Wt,p2).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[..._(this,wi)],r=()=>{for(const i of e)i.remove()},n=()=>{for(const i of e)de(this,Wt,bF).call(this,i)};this.addCommands({cmd:r,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=_(this,$c))==null||e.commitOrRemove()}hasSomethingToControl(){return _(this,$c)||this.hasSelection}selectAll(){for(const e of _(this,wi))e.commit();de(this,Wt,CF).call(this,_(this,Ma).values())}unselectAll(){if(!(_(this,$c)&&(_(this,$c).commitOrRemove(),_(this,_o)!==Gn.NONE))&&this.hasSelection){for(const e of _(this,wi))e.unselect();_(this,wi).clear(),de(this,Wt,kl).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,r,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;_(this,q0)[0]+=e,_(this,q0)[1]+=r;const[i,s]=_(this,q0),a=[..._(this,wi)],o=1e3;_(this,Yh)&&clearTimeout(_(this,Yh)),ue(this,Yh,setTimeout(()=>{ue(this,Yh,null),_(this,q0)[0]=_(this,q0)[1]=0,this.addCommands({cmd:()=>{for(const l of a)_(this,Ma).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of a)_(this,Ma).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},o));for(const l of a)l.translateInPage(e,r)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ue(this,zh,new Map);for(const e of _(this,wi))_(this,zh).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!_(this,zh))return!1;this.disableUserSelect(!1);const e=_(this,zh);ue(this,zh,null);let r=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,r||(r=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!r)return!1;const n=(i,s,a,o)=>{if(_(this,Ma).has(i.id)){const l=_(this,So).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)n(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)n(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,r){if(_(this,zh))for(const n of _(this,zh).keys())n.drag(e,r)}rebuild(e){if(e.parent===null){const r=this.getLayer(e.pageIndex);r?(r.changeParent(e),r.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||_(this,wi).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return _(this,$c)===e}getActive(){return _(this,$c)}getMode(){return _(this,_o)}get imageManager(){return Kn(this,"imageManager",new gF)}getSelectionBoxes(e){if(!e)return null;const r=document.getSelection();for(let c=0,u=r.rangeCount;c<u;c++)if(!e.contains(r.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,u,f,p)=>({x:(u-i)/a,y:1-(c+f-n)/s,width:p/a,height:f/s});break;case"180":o=(c,u,f,p)=>({x:1-(c+f-n)/s,y:1-(u+p-i)/a,width:f/s,height:p/a});break;case"270":o=(c,u,f,p)=>({x:1-(u+p-i)/a,y:(c-n)/s,width:p/a,height:f/s});break;default:o=(c,u,f,p)=>({x:(c-n)/s,y:(u-i)/a,width:f/s,height:p/a});break}const l=[];for(let c=0,u=r.rangeCount;c<u;c++){const f=r.getRangeAt(c);if(!f.collapsed)for(const{x:p,y:g,width:y,height:x}of f.getClientRects())y===0||x===0||l.push(o(p,g,y,x))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:r}){(_(this,by)||ue(this,by,new Map)).set(e,r)}removeChangedExistingAnnotation({annotationElementId:e}){var r;(r=_(this,by))==null||r.delete(e)}renderAnnotationElement(e){var i;const r=(i=_(this,by))==null?void 0:i.get(e.data.id);if(!r)return;const n=_(this,od).getRawValue(r);n&&(_(this,_o)===Gn.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};vy=new WeakMap,$c=new WeakMap,Ma=new WeakMap,So=new WeakMap,wy=new WeakMap,od=new WeakMap,by=new WeakMap,Tu=new WeakMap,Cy=new WeakMap,Sg=new WeakMap,zh=new WeakMap,Nu=new WeakMap,_g=new WeakMap,Pw=new WeakMap,Hw=new WeakMap,Kh=new WeakMap,Sy=new WeakMap,V0=new WeakMap,Wh=new WeakMap,lB=new WeakMap,$0=new WeakMap,Qw=new WeakMap,Eg=new WeakMap,jw=new WeakMap,_y=new WeakMap,_o=new WeakMap,wi=new WeakMap,ld=new WeakMap,Bg=new WeakMap,Gw=new WeakMap,Vw=new WeakMap,$w=new WeakMap,qw=new WeakMap,zw=new WeakMap,Kw=new WeakMap,Ww=new WeakMap,Yw=new WeakMap,Xw=new WeakMap,Jw=new WeakMap,Zw=new WeakMap,eb=new WeakMap,tb=new WeakMap,q0=new WeakMap,Yh=new WeakMap,cd=new WeakMap,rb=new WeakMap,Wt=new WeakSet,G5=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},N9=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=de(this,Wt,G5).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(_(this,Wh)||ue(this,Wh,new Nae(this)),_(this,Wh).show(n,i,this.direction==="ltr"))},F9=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){_(this,ld)&&((s=_(this,Wh))==null||s.hide(),ue(this,ld,null),de(this,Wt,kl).call(this,{hasSelectedText:!1}));return}const{anchorNode:r}=e;if(r===_(this,ld))return;if(!de(this,Wt,G5).call(this,e).closest(".textLayer")){_(this,ld)&&((a=_(this,Wh))==null||a.hide(),ue(this,ld,null),de(this,Wt,kl).call(this,{hasSelectedText:!1}));return}if((o=_(this,Wh))==null||o.hide(),ue(this,ld,r),de(this,Wt,kl).call(this,{hasSelectedText:!0}),!(_(this,_o)!==Gn.HIGHLIGHT&&_(this,_o)!==Gn.NONE)&&(_(this,_o)===Gn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),ue(this,V0,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,c=u=>{u.type==="pointerup"&&u.button!==0||(window.removeEventListener("pointerup",c),window.removeEventListener("blur",c),u.type==="pointerup"&&de(this,Wt,V5).call(this,"main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}},V5=function(e=""){_(this,_o)===Gn.HIGHLIGHT?this.highlightSelection(e):_(this,Pw)&&de(this,Wt,N9).call(this)},I9=function(){document.addEventListener("selectionchange",de(this,Wt,F9).bind(this),{signal:this._signal})},k9=function(){const e=this._signal;window.addEventListener("focus",_(this,$w),{signal:e}),window.addEventListener("blur",_(this,Vw),{signal:e})},L9=function(){window.removeEventListener("focus",_(this,$w)),window.removeEventListener("blur",_(this,Vw))},xF=function(){const e=this._signal;window.addEventListener("keydown",_(this,Ww),{signal:e}),window.addEventListener("keyup",_(this,Yw),{signal:e})},R9=function(){window.removeEventListener("keydown",_(this,Ww)),window.removeEventListener("keyup",_(this,Yw))},vF=function(){const e=this._signal;document.addEventListener("copy",_(this,qw),{signal:e}),document.addEventListener("cut",_(this,zw),{signal:e}),document.addEventListener("paste",_(this,Kw),{signal:e})},wF=function(){document.removeEventListener("copy",_(this,qw)),document.removeEventListener("cut",_(this,zw)),document.removeEventListener("paste",_(this,Kw))},M9=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},kl=function(e){Object.entries(e).some(([n,i])=>_(this,tb)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_(this,tb),e)}),_(this,_o)===Gn.HIGHLIGHT&&e.hasSelectedEditor===!1&&de(this,Wt,k0).call(this,[[en.HIGHLIGHT_FREE,!0]]))},k0=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},U9=function(){if(!_(this,$0)){ue(this,$0,!0);for(const e of _(this,So).values())e.enable();for(const e of _(this,Ma).values())e.enable()}},D9=function(){if(this.unselectAll(),_(this,$0)){ue(this,$0,!1);for(const e of _(this,So).values())e.disable();for(const e of _(this,Ma).values())e.disable()}},bF=function(e){const r=_(this,So).get(e.pageIndex);r?r.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},O9=function(){let e=null;for(e of _(this,wi));return e},p2=function(){if(_(this,Ma).size===0)return!0;if(_(this,Ma).size===1)for(const e of _(this,Ma).values())return e.isEmpty();return!1},CF=function(e){for(const r of _(this,wi))r.unselect();_(this,wi).clear();for(const r of e)r.isEmpty()||(_(this,wi).add(r),r.select());de(this,Wt,kl).call(this,{hasSelectedEditor:this.hasSelection})},er(ny,"TRANSLATE_SMALL",1),er(ny,"TRANSLATE_BIG",10);let vm=ny;var Ad,ud,Fu,hd,qc,Ey,Iu,nb,SF;const rd=class rd{constructor(e){ge(this,nb);ge(this,Ad,"");ge(this,ud,!1);ge(this,Fu,null);ge(this,hd,null);ge(this,qc,null);ge(this,Ey,!1);ge(this,Iu,null);ue(this,Iu,e)}static initialize(e){rd._l10nPromise||(rd._l10nPromise=e)}async render(){const e=ue(this,Fu,document.createElement("button"));e.className="altText";const r=await rd._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=r,e.setAttribute("aria-label",r),e.tabIndex="0";const n=_(this,Iu)._uiManager._signal;e.addEventListener("contextmenu",_c,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),_(this,Iu)._uiManager.editAltText(_(this,Iu))};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(ue(this,Ey,!0),i(s))},{signal:n}),await de(this,nb,SF).call(this),e}finish(){_(this,Fu)&&(_(this,Fu).focus({focusVisible:_(this,Ey)}),ue(this,Ey,!1))}isEmpty(){return!_(this,Ad)&&!_(this,ud)}get data(){return{altText:_(this,Ad),decorative:_(this,ud)}}set data({altText:e,decorative:r}){_(this,Ad)===e&&_(this,ud)===r||(ue(this,Ad,e),ue(this,ud,r),de(this,nb,SF).call(this))}toggle(e=!1){_(this,Fu)&&(!e&&_(this,qc)&&(clearTimeout(_(this,qc)),ue(this,qc,null)),_(this,Fu).disabled=!e)}destroy(){var e;(e=_(this,Fu))==null||e.remove(),ue(this,Fu,null),ue(this,hd,null)}};Ad=new WeakMap,ud=new WeakMap,Fu=new WeakMap,hd=new WeakMap,qc=new WeakMap,Ey=new WeakMap,Iu=new WeakMap,nb=new WeakSet,SF=async function(){var i;const e=_(this,Fu);if(!e)return;if(!_(this,Ad)&&!_(this,ud)){e.classList.remove("done"),(i=_(this,hd))==null||i.remove();return}e.classList.add("done"),rd._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let r=_(this,hd);if(!r){ue(this,hd,r=document.createElement("span")),r.className="tooltip",r.setAttribute("role","tooltip");const s=r.id=`alt-text-tooltip-${_(this,Iu).id}`;e.setAttribute("aria-describedby",s);const a=100,o=_(this,Iu)._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(_(this,qc)),ue(this,qc,null)},{once:!0}),e.addEventListener("mouseenter",()=>{ue(this,qc,setTimeout(()=>{ue(this,qc,null),_(this,hd).classList.add("show"),_(this,Iu)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:o}),e.addEventListener("mouseleave",()=>{var l;_(this,qc)&&(clearTimeout(_(this,qc)),ue(this,qc,null)),(l=_(this,hd))==null||l.classList.remove("show")},{signal:o})}r.innerText=_(this,ud)?await rd._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):_(this,Ad),r.parentNode||e.append(r);const n=_(this,Iu).getImageForAltText();n==null||n.setAttribute("aria-describedby",r.id)},er(rd,"_l10nPromise",null);let G_=rd;var Tg,ku,rl,By,Ng,Eo,Fg,Ty,Ny,nl,ib,Ig,z0,sb,kg,fd,Xh,Fy,Iy,MA,ab,cB,_n,_F,ob,EF,BF,P9,H9,TF,NF,FF,Q9,j9,G9,V9,IF,g2;const qi=class qi{constructor(e){ge(this,_n);ge(this,Tg,null);ge(this,ku,null);ge(this,rl,null);ge(this,By,!1);ge(this,Ng,!1);ge(this,Eo,null);ge(this,Fg,null);ge(this,Ty,this.focusin.bind(this));ge(this,Ny,this.focusout.bind(this));ge(this,nl,null);ge(this,ib,"");ge(this,Ig,!1);ge(this,z0,null);ge(this,sb,!1);ge(this,kg,!1);ge(this,fd,!1);ge(this,Xh,null);ge(this,Fy,0);ge(this,Iy,0);ge(this,MA,null);er(this,"_initialOptions",Object.create(null));er(this,"_isVisible",!0);er(this,"_uiManager",null);er(this,"_focusEventsAllowed",!0);er(this,"_l10nPromise",null);ge(this,ab,!1);ge(this,cB,qi._zIndex++);this.constructor===qi&&Di("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:r,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=r,this.pageRotation=(360+r-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=qi.prototype._resizeWithKeyboard,r=vm.TRANSLATE_SMALL,n=vm.TRANSLATE_BIG;return Kn(this,"_resizerKeyboardManager",new gC([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-r,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[r,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-r]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,r]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],qi.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Kn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const r=new Lae({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});r.annotationElementId=e.annotationElementId,r.deleted=!0,r._uiManager.addToAnnotationStorage(r)}static initialize(e,r,n){if(qi._l10nPromise||(qi._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,a=>`-${a.toLowerCase()}`))]))),n!=null&&n.strings)for(const s of n.strings)qi._l10nPromise.set(s,e.get(s));if(qi._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);qi._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,r){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,r){Di("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return _(this,ab)}set _isDraggable(e){var r;ue(this,ab,e),(r=this.div)==null||r.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,r]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*r/(e*2),this.y+=this.width*e/(r*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*r/(e*2),this.y-=this.width*e/(r*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_(this,cB)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):de(this,_n,g2).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(_(this,Ig)?ue(this,Ig,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const r=e.relatedTarget;r!=null&&r.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,r,n,i){const[s,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(r+i)/a,this.fixAndSetPosition()}translate(e,r){de(this,_n,_F).call(this,this.parentDimensions,e,r)}translateInPage(e,r){_(this,z0)||ue(this,z0,[this.x,this.y]),de(this,_n,_F).call(this,this.pageDimensions,e,r),this.div.scrollIntoView({block:"nearest"})}drag(e,r){_(this,z0)||ue(this,z0,[this.x,this.y]);const[n,i]=this.parentDimensions;if(this.x+=e/n,this.y+=r/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this;const[o,l]=this.getBaseTranslation();s+=o,a+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!_(this,z0)&&(_(this,z0)[0]!==this.x||_(this,z0)[1]!==this.y)}getBaseTranslation(){const[e,r]=this.parentDimensions,{_borderLineWidth:n}=qi,i=n/e,s=n/r;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[r,n]=this.pageDimensions;let{x:i,y:s,width:a,height:o}=this;if(a*=r,o*=n,i*=r,s*=n,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(r-a,i)),s=Math.max(0,Math.min(n-o,s));break;case 90:i=Math.max(0,Math.min(r-o,i)),s=Math.min(n,Math.max(a,s));break;case 180:i=Math.min(r,Math.max(a,i)),s=Math.min(n,Math.max(o,s));break;case 270:i=Math.min(r,Math.max(o,i)),s=Math.max(0,Math.min(n-a,s));break}this.x=i/=r,this.y=s/=n;const[l,c]=this.getBaseTranslation();i+=l,s+=c;const{style:u}=this.div;u.left=`${(100*i).toFixed(2)}%`,u.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,r){var n;return de(n=qi,ob,EF).call(n,e,r,this.parentRotation)}pageTranslationToScreen(e,r){var n;return de(n=qi,ob,EF).call(n,e,r,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[r,n]}=this,i=r*e,s=n*e;return bc.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,r){const[n,i]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,_(this,Ng)||(this.div.style.height=`${(100*r/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:r,width:n}=e,i=n.endsWith("%"),s=!_(this,Ng)&&r.endsWith("%");if(i&&s)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!_(this,Ng)&&!s&&(e.height=`${(100*parseFloat(r)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=_(this,rl))==null||e.finish()}async addEditToolbar(){return _(this,nl)||_(this,kg)?_(this,nl):(ue(this,nl,new dF(this)),this.div.append(_(this,nl).render()),_(this,rl)&&_(this,nl).addAltTextButton(await _(this,rl).render()),_(this,nl))}removeEditToolbar(){var e;_(this,nl)&&(_(this,nl).remove(),ue(this,nl,null),(e=_(this,rl))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){_(this,rl)||(G_.initialize(qi._l10nPromise),ue(this,rl,new G_(this)),_(this,Tg)&&(_(this,rl).data=_(this,Tg),ue(this,Tg,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=_(this,rl))==null?void 0:e.data}set altTextData(e){_(this,rl)&&(_(this,rl).data=e)}hasAltText(){var e;return!((e=_(this,rl))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=_(this,By)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",_(this,Ty),{signal:e}),this.div.addEventListener("focusout",_(this,Ny),{signal:e});const[r,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/r).toFixed(2)}%`,this.div.style.maxHeight=`${(100*r/n).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),j_(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:r}=bc.platform;if(e.button!==0||e.ctrlKey&&r){e.preventDefault();return}if(ue(this,Ig,!0),this._isDraggable){de(this,_n,Q9).call(this,e);return}de(this,_n,FF).call(this,e)}moveInDOM(){_(this,Xh)&&clearTimeout(_(this,Xh)),ue(this,Xh,setTimeout(()=>{var e;ue(this,Xh,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,r,n){e.changeParent(this),this.x=r,this.y=n,this.fixAndSetPosition()}getRect(e,r,n=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,u=r/i,f=this.x*s,p=this.y*a,g=this.width*s,y=this.height*a;switch(n){case 0:return[f+c+o,a-p-u-y+l,f+c+g+o,a-p-u+l];case 90:return[f+u+o,a-p+c+l,f+u+y+o,a-p+c+g+l];case 180:return[f-c-g+o,a-p+u+l,f-c+o,a-p+u+y+l];case 270:return[f-u-y+o,a-p-c-g+l,f-u+o,a-p-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,r){const[n,i,s,a]=e,o=s-n,l=a-i;switch(this.rotation){case 0:return[n,r-a,o,l];case 90:return[n,r-i,l,o];case 180:return[s,r-i,o,l];case 270:return[s,r-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ue(this,kg,!0)}disableEditMode(){ue(this,kg,!1)}isInEditMode(){return _(this,kg)}shouldGetKeyboardEvents(){return _(this,fd)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var r,n;const e=this._uiManager._signal;(r=this.div)==null||r.addEventListener("focusin",_(this,Ty),{signal:e}),(n=this.div)==null||n.addEventListener("focusout",_(this,Ny),{signal:e})}rotate(e){}serialize(e=!1,r=null){Di("An editor must be serializable")}static deserialize(e,r,n){const i=new this.prototype.constructor({parent:r,id:r.getNextId(),uiManager:n});i.rotation=e.rotation,ue(i,Tg,e.accessibilityData);const[s,a]=i.pageDimensions,[o,l,c,u]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=c/s,i.height=u/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",_(this,Ty)),this.div.removeEventListener("focusout",_(this,Ny)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),_(this,Xh)&&(clearTimeout(_(this,Xh)),ue(this,Xh,null)),de(this,_n,g2).call(this),this.removeEditToolbar(),_(this,MA)){for(const e of _(this,MA).values())clearTimeout(e);ue(this,MA,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(de(this,_n,P9).call(this),_(this,Eo).classList.remove("hidden"),j_(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),ue(this,Fg,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const r=_(this,Eo).children;if(!_(this,ku)){ue(this,ku,Array.from(r));const a=de(this,_n,j9).bind(this),o=de(this,_n,G9).bind(this),l=this._uiManager._signal;for(const c of _(this,ku)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",de(this,_n,V9).bind(this,u),{signal:l}),qi._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(f=>c.setAttribute("aria-label",f))}}const n=_(this,ku)[0];let i=0;for(const a of r){if(a===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(_(this,ku).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)_(this,Eo).append(_(this,Eo).firstChild);else if(s>i)for(let o=0;o<s-i;o++)_(this,Eo).firstChild.before(_(this,Eo).lastChild);let a=0;for(const o of r){const c=_(this,ku)[a++].getAttribute("data-resizer-name");qi._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(u=>o.setAttribute("aria-label",u))}}de(this,_n,IF).call(this,0),ue(this,fd,!0),_(this,Eo).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,r){_(this,fd)&&de(this,_n,NF).call(this,_(this,ib),{movementX:e,movementY:r})}_stopResizingWithKeyboard(){de(this,_n,g2).call(this),this.div.focus()}select(){var e,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!_(this,nl)){this.addEditToolbar().then(()=>{var n,i;(n=this.div)!=null&&n.classList.contains("selectedEditor")&&((i=_(this,nl))==null||i.show())});return}(r=_(this,nl))==null||r.show()}unselect(){var e,r,n,i;(e=_(this,Eo))==null||e.classList.add("hidden"),(r=this.div)==null||r.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=_(this,nl))==null||i.hide()}updateParams(e,r){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return _(this,sb)}set isEditing(e){ue(this,sb,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,r){ue(this,Ng,!0);const n=e/r,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,r=!1){if(r){_(this,MA)||ue(this,MA,new Map);const{action:n}=e;let i=_(this,MA).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),_(this,MA).delete(n),_(this,MA).size===0&&ue(this,MA,null)},qi._telemetryTimeout),_(this,MA).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),ue(this,By,!1)}disable(){this.div&&(this.div.tabIndex=-1),ue(this,By,!0)}renderAnnotationElement(e){let r=e.container.querySelector(".annotationContent");if(!r)r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),e.container.prepend(r);else if(r.nodeName==="CANVAS"){const n=r;r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),n.before(r)}return r}resetAnnotationElement(e){const{firstChild:r}=e.container;r.nodeName==="DIV"&&r.classList.contains("annotationContent")&&r.remove()}};Tg=new WeakMap,ku=new WeakMap,rl=new WeakMap,By=new WeakMap,Ng=new WeakMap,Eo=new WeakMap,Fg=new WeakMap,Ty=new WeakMap,Ny=new WeakMap,nl=new WeakMap,ib=new WeakMap,Ig=new WeakMap,z0=new WeakMap,sb=new WeakMap,kg=new WeakMap,fd=new WeakMap,Xh=new WeakMap,Fy=new WeakMap,Iy=new WeakMap,MA=new WeakMap,ab=new WeakMap,cB=new WeakMap,_n=new WeakSet,_F=function([e,r],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/r,this.fixAndSetPosition()},ob=new WeakSet,EF=function(e,r,n){switch(n){case 90:return[r,-e];case 180:return[-e,-r];case 270:return[-r,e];default:return[e,r]}},BF=function(e){switch(e){case 90:{const[r,n]=this.pageDimensions;return[0,-r/n,n/r,0]}case 180:return[-1,0,0,-1];case 270:{const[r,n]=this.pageDimensions;return[0,r/n,-n/r,0]}default:return[1,0,0,1]}},P9=function(){if(_(this,Eo))return;ue(this,Eo,document.createElement("div")),_(this,Eo).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],r=this._uiManager._signal;for(const n of e){const i=document.createElement("div");_(this,Eo).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",de(this,_n,H9).bind(this,n),{signal:r}),i.addEventListener("contextmenu",_c,{signal:r}),i.tabIndex=-1}this.div.prepend(_(this,Eo))},H9=function(e,r){var x;r.preventDefault();const{isMac:n}=bc.platform;if(r.button!==0||r.ctrlKey&&n)return;(x=_(this,rl))==null||x.toggle(!1);const i=de(this,_n,NF).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const a=this._uiManager._signal,o={passive:!0,capture:!0,signal:a};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,o),window.addEventListener("contextmenu",_c,{signal:a});const l=this.x,c=this.y,u=this.width,f=this.height,p=this.parent.div.style.cursor,g=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(r.target).cursor;const y=()=>{var w;this.parent.togglePointerEvents(!0),(w=_(this,rl))==null||w.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",y),window.removeEventListener("blur",y),window.removeEventListener("pointermove",i,o),window.removeEventListener("contextmenu",_c),this.parent.div.style.cursor=p,this.div.style.cursor=g,de(this,_n,TF).call(this,l,c,u,f)};window.addEventListener("pointerup",y,{signal:a}),window.addEventListener("blur",y,{signal:a})},TF=function(e,r,n,i){const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===r&&o===n&&l===i||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=s,this.y=a;const[c,u]=this.parentDimensions;this.setDims(c*o,u*l),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=e,this.y=r;const[c,u]=this.parentDimensions;this.setDims(c*n,u*i),this.fixAndSetPosition()},mustExec:!0})},NF=function(e,r){const[n,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,c=qi.MIN_SIZE/n,u=qi.MIN_SIZE/i,f=ee=>Math.round(ee*1e4)/1e4,p=de(this,_n,BF).call(this,this.rotation),g=(ee,te)=>[p[0]*ee+p[2]*te,p[1]*ee+p[3]*te],y=de(this,_n,BF).call(this,360-this.rotation),x=(ee,te)=>[y[0]*ee+y[2]*te,y[1]*ee+y[3]*te];let w,S,B=!1,F=!1;switch(e){case"topLeft":B=!0,w=(ee,te)=>[0,0],S=(ee,te)=>[ee,te];break;case"topMiddle":w=(ee,te)=>[ee/2,0],S=(ee,te)=>[ee/2,te];break;case"topRight":B=!0,w=(ee,te)=>[ee,0],S=(ee,te)=>[0,te];break;case"middleRight":F=!0,w=(ee,te)=>[ee,te/2],S=(ee,te)=>[0,te/2];break;case"bottomRight":B=!0,w=(ee,te)=>[ee,te],S=(ee,te)=>[0,0];break;case"bottomMiddle":w=(ee,te)=>[ee/2,te],S=(ee,te)=>[ee/2,0];break;case"bottomLeft":B=!0,w=(ee,te)=>[0,te],S=(ee,te)=>[ee,0];break;case"middleLeft":F=!0,w=(ee,te)=>[0,te/2],S=(ee,te)=>[ee,te/2];break}const k=w(o,l),O=S(o,l);let R=g(...O);const D=f(s+R[0]),Q=f(a+R[1]);let V=1,re=1,[P,H]=this.screenToPageTranslation(r.movementX,r.movementY);if([P,H]=x(P/n,H/i),B){const ee=Math.hypot(o,l);V=re=Math.max(Math.min(Math.hypot(O[0]-k[0]-P,O[1]-k[1]-H)/ee,1/o,1/l),c/o,u/l)}else F?V=Math.max(c,Math.min(1,Math.abs(O[0]-k[0]-P)))/o:re=Math.max(u,Math.min(1,Math.abs(O[1]-k[1]-H)))/l;const q=f(o*V),Z=f(l*re);R=g(...S(q,Z));const se=D-R[0],X=Q-R[1];this.width=q,this.height=Z,this.x=se,this.y=X,this.setDims(n*q,i*Z),this.fixAndSetPosition()},FF=function(e){const{isMac:r}=bc.platform;e.ctrlKey&&!r||e.shiftKey||e.metaKey&&r?this.parent.toggleSelected(this):this.parent.setSelected(this)},Q9=function(e){const r=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let n,i;const s=this._uiManager._signal;r&&(this.div.classList.add("moving"),n={passive:!0,capture:!0,signal:s},ue(this,Fy,e.clientX),ue(this,Iy,e.clientY),i=o=>{const{clientX:l,clientY:c}=o,[u,f]=this.screenToPageTranslation(l-_(this,Fy),c-_(this,Iy));ue(this,Fy,l),ue(this,Iy,c),this._uiManager.dragSelectedEditors(u,f)},window.addEventListener("pointermove",i,n));const a=()=>{window.removeEventListener("pointerup",a),window.removeEventListener("blur",a),r&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,n)),ue(this,Ig,!1),this._uiManager.endDragSession()||de(this,_n,FF).call(this,e)};window.addEventListener("pointerup",a,{signal:s}),window.addEventListener("blur",a,{signal:s})},j9=function(e){qi._resizerKeyboardManager.exec(this,e)},G9=function(e){var r;_(this,fd)&&((r=e.relatedTarget)==null?void 0:r.parentNode)!==_(this,Eo)&&de(this,_n,g2).call(this)},V9=function(e){ue(this,ib,_(this,fd)?e:"")},IF=function(e){if(_(this,ku))for(const r of _(this,ku))r.tabIndex=e},g2=function(){if(ue(this,fd,!1),de(this,_n,IF).call(this,-1),_(this,Fg)){const{savedX:e,savedY:r,savedWidth:n,savedHeight:i}=_(this,Fg);de(this,_n,TF).call(this,e,r,n,i),ue(this,Fg,null)}},ge(qi,ob),er(qi,"_borderLineWidth",-1),er(qi,"_colorManager",new yF),er(qi,"_zIndex",1),er(qi,"_telemetryTimeout",1e3);let Si=qi;class Lae extends Si{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const u8=3285377520,FA=4294901760,Mh=65535;class $9{constructor(e){this.h1=e?e&4294967295:u8,this.h2=e?e&4294967295:u8}update(e){let r,n;if(typeof e=="string"){r=new Uint8Array(e.length*2),n=0;for(let x=0,w=e.length;x<w;x++){const S=e.charCodeAt(x);S<=255?r[n++]=S:(r[n++]=S>>>8,r[n++]=S&255)}}else if(ArrayBuffer.isView(e))r=e.slice(),n=r.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,s=n-i*4,a=new Uint32Array(r.buffer,0,i);let o=0,l=0,c=this.h1,u=this.h2;const f=3432918353,p=461845907,g=f&Mh,y=p&Mh;for(let x=0;x<i;x++)x&1?(o=a[x],o=o*f&FA|o*g&Mh,o=o<<15|o>>>17,o=o*p&FA|o*y&Mh,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[x],l=l*f&FA|l*g&Mh,l=l<<15|l>>>17,l=l*p&FA|l*y&Mh,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,s){case 3:o^=r[i*4+2]<<16;case 2:o^=r[i*4+1]<<8;case 1:o^=r[i*4],o=o*f&FA|o*g&Mh,o=o<<15|o>>>17,o=o*p&FA|o*y&Mh,i&1?c^=o:u^=o}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,r=this.h2;return e^=r>>>1,e=e*3981806797&FA|e*36045&Mh,r=r*4283543511&FA|((r<<16|e>>>16)*2950163797&FA)>>>16,e^=r>>>1,e=e*444984403&FA|e*60499&Mh,r=r*3301882366&FA|((r<<16|e>>>16)*3120437893&FA)>>>16,e^=r>>>1,(e>>>0).toString(16).padStart(8,"0")+(r>>>0).toString(16).padStart(8,"0")}}const kF=Object.freeze({map:null,hash:"",transfer:void 0});var Lg,Bo,AB,q9;class AL{constructor(){ge(this,AB);ge(this,Lg,!1);ge(this,Bo,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,r){const n=_(this,Bo).get(e);return n===void 0?r:Object.assign(r,n)}getRawValue(e){return _(this,Bo).get(e)}remove(e){if(_(this,Bo).delete(e),_(this,Bo).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const r of _(this,Bo).values())if(r instanceof Si)return;this.onAnnotationEditor(null)}}setValue(e,r){const n=_(this,Bo).get(e);let i=!1;if(n!==void 0)for(const[s,a]of Object.entries(r))n[s]!==a&&(i=!0,n[s]=a);else i=!0,_(this,Bo).set(e,r);i&&de(this,AB,q9).call(this),r instanceof Si&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(r.constructor._type)}has(e){return _(this,Bo).has(e)}getAll(){return _(this,Bo).size>0?nL(_(this,Bo)):null}setAll(e){for(const[r,n]of Object.entries(e))this.setValue(r,n)}get size(){return _(this,Bo).size}resetModified(){_(this,Lg)&&(ue(this,Lg,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new z9(this)}get serializable(){if(_(this,Bo).size===0)return kF;const e=new Map,r=new $9,n=[],i=Object.create(null);let s=!1;for(const[a,o]of _(this,Bo)){const l=o instanceof Si?o.serialize(!1,i):o;l&&(e.set(a,l),r.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:r.hexdigest(),transfer:n}:kF}get editorStats(){let e=null;const r=new Map;for(const n of _(this,Bo).values()){if(!(n instanceof Si))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:s}=i;r.has(s)||r.set(s,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let c=a.get(o);c||(c=new Map,a.set(o,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[n,i]of r)e[n]=i.computeTelemetryFinalData(e[n]);return e}}Lg=new WeakMap,Bo=new WeakMap,AB=new WeakSet,q9=function(){_(this,Lg)||(ue(this,Lg,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var lb;class z9 extends AL{constructor(r){super();ge(this,lb);const{map:n,hash:i,transfer:s}=r.serializable,a=structuredClone(n,s?{transfer:s}:null);ue(this,lb,{map:a,hash:i,transfer:s})}get print(){Di("Should not call PrintAnnotationStorage.print")}get serializable(){return _(this,lb)}}lb=new WeakMap;var ky;class Rae{constructor({ownerDocument:e=globalThis.document,styleElement:r=null}){ge(this,ky,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const r=this.styleElement.sheet;r.insertRule(e,r.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),_(this,ky).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:r}){if(!(!e||_(this,ky).has(e.loadedName))){if(Ha(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:s}=e,a=new FontFace(n,i,s);this.addNativeFontFace(a);try{await a.load(),_(this,ky).add(n),r==null||r(e)}catch{pn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Di("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw pn(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const r=e.createFontFaceRule();if(r){if(this.insertRule(r),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var r;const e=!!((r=this._document)!=null&&r.fonts);return Kn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(ll||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Kn(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function r(){for(Ha(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:r,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Kn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,r){function n(k,O){return k.charCodeAt(O)<<24|k.charCodeAt(O+1)<<16|k.charCodeAt(O+2)<<8|k.charCodeAt(O+3)&255}function i(k,O,R,D){const Q=k.substring(0,O),V=k.substring(O+R);return Q+D+V}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function u(k,O){if(++c>30){pn("Load test font never loaded."),O();return}if(l.font="30px "+k,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){O();return}setTimeout(u.bind(null,k,O))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=i(p,976,f.length,f);const y=16,x=1482184792;let w=n(p,y);for(s=0,a=f.length-3;s<a;s+=4)w=w-x+n(f,s)|0;s<f.length&&(w=w-x+n(f+"XXX",s)|0),p=i(p,y,4,mae(w));const S=`url(data:font/opentype;base64,${btoa(p)});`,B=`@font-face {font-family:"${f}";src:${S}}`;this.insertRule(B);const F=this._document.createElement("div");F.style.visibility="hidden",F.style.width=F.style.height="10px",F.style.position="absolute",F.style.top=F.style.left="0px";for(const k of[e.loadedName,f]){const O=this._document.createElement("span");O.textContent="Hi",O.style.fontFamily=k,F.append(O)}this._document.body.append(F),u(f,()=>{F.remove(),r.complete()})}}ky=new WeakMap;class Mae{constructor(e,{disableFontFace:r=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=r===!0,this._inspectFont=n}createNativeFontFace(){var r;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(r=this._inspectFont)==null||r.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=d9(this.data),r=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${r}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${r}}`}return(i=this._inspectFont)==null||i.call(this,this,r),n}getPathGenerator(e,r){if(this.compiledGlyphs[r]!==void 0)return this.compiledGlyphs[r];let n;try{n=e.get(this.loadedName+"_path_"+r)}catch(s){pn(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[r]=function(s,a){};const i=[];for(let s=0,a=n.length;s<a;)switch(n[s++]){case Kf.BEZIER_CURVE_TO:{const[o,l,c,u,f,p]=n.slice(s,s+6);i.push(g=>g.bezierCurveTo(o,l,c,u,f,p)),s+=6}break;case Kf.MOVE_TO:{const[o,l]=n.slice(s,s+2);i.push(c=>c.moveTo(o,l)),s+=2}break;case Kf.LINE_TO:{const[o,l]=n.slice(s,s+2);i.push(c=>c.lineTo(o,l)),s+=2}break;case Kf.QUADRATIC_CURVE_TO:{const[o,l,c,u]=n.slice(s,s+4);i.push(f=>f.quadraticCurveTo(o,l,c,u)),s+=4}break;case Kf.RESTORE:i.push(o=>o.restore());break;case Kf.SAVE:i.push(o=>o.save());break;case Kf.SCALE:Ha(i.length===2,"Scale command is only valid at the third position.");break;case Kf.TRANSFORM:{const[o,l,c,u,f,p]=n.slice(s,s+6);i.push(g=>g.transform(o,l,c,u,f,p)),s+=6}break;case Kf.TRANSLATE:{const[o,l]=n.slice(s,s+2);i.push(c=>c.translate(o,l)),s+=2}break}return this.compiledGlyphs[r]=function(a,o){i[0](a),i[1](a),a.scale(o,-o);for(let l=2,c=i.length;l<c;l++)i[l](a)}}}if(ll){var LF=Promise.withResolvers(),$2=null;(async()=>{const e=await Sn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Sn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Sn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Sn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,a;return new Map(Object.entries({fs:e,http:r,https:n,url:i,canvas:s,path2d:a}))})().then(e=>{$2=e,LF.resolve()},e=>{pn(`loadPackages: ${e}`),$2=new Map,LF.resolve()})}class df{static get promise(){return LF.promise}static get(e){return $2==null?void 0:$2.get(e)}}const K9=function(t){return df.get("fs").promises.readFile(t).then(r=>new Uint8Array(r))};class Uae extends OB{}class Dae extends Q_{_createCanvas(e,r){return df.get("canvas").createCanvas(e,r)}}class Oae extends PB{_fetchData(e,r){return K9(e).then(n=>({cMapData:n,compressionType:r}))}}class Pae extends HB{_fetchData(e){return K9(e)}}const Hl={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function RF(t,e){if(!e)return;const r=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],r,n),t.clip(i)}class mC{constructor(){this.constructor===mC&&Di("Cannot initialize BaseShadingPattern.")}getPattern(){Di("Abstract method `getPattern` called.")}}class Hae extends mC{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let r;this._type==="axial"?r=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(r=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)r.addColorStop(n[0],n[1]);return r}getPattern(e,r,n,i){let s;if(i===Hl.STROKE||i===Hl.FILL){const a=r.current.getClippedPathBoundingBox(i,Fs(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=r.cachedCanvases.getCanvas("pattern",o,l,!0),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),n=yr.transform(n,[1,0,0,1,a[0],a[1]]),u.transform(...r.baseTransform),this.matrix&&u.transform(...this.matrix),RF(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const f=new DOMMatrix(n);s.setTransform(f)}else RF(e,this._bbox),s=this._createGradient(e);return s}}function $3(t,e,r,n,i,s,a,o){const l=e.coords,c=e.colors,u=t.data,f=t.width*4;let p;l[r+1]>l[n+1]&&(p=r,r=n,n=p,p=s,s=a,a=p),l[n+1]>l[i+1]&&(p=n,n=i,i=p,p=a,a=o,o=p),l[r+1]>l[n+1]&&(p=r,r=n,n=p,p=s,s=a,a=p);const g=(l[r]+e.offsetX)*e.scaleX,y=(l[r+1]+e.offsetY)*e.scaleY,x=(l[n]+e.offsetX)*e.scaleX,w=(l[n+1]+e.offsetY)*e.scaleY,S=(l[i]+e.offsetX)*e.scaleX,B=(l[i+1]+e.offsetY)*e.scaleY;if(y>=B)return;const F=c[s],k=c[s+1],O=c[s+2],R=c[a],D=c[a+1],Q=c[a+2],V=c[o],re=c[o+1],P=c[o+2],H=Math.round(y),q=Math.round(B);let Z,se,X,ee,te,Ce,ke,le;for(let M=H;M<=q;M++){if(M<w){const ve=M<y?0:(y-M)/(y-w);Z=g-(g-x)*ve,se=F-(F-R)*ve,X=k-(k-D)*ve,ee=O-(O-Q)*ve}else{let ve;M>B?ve=1:w===B?ve=0:ve=(w-M)/(w-B),Z=x-(x-S)*ve,se=R-(R-V)*ve,X=D-(D-re)*ve,ee=Q-(Q-P)*ve}let G;M<y?G=0:M>B?G=1:G=(y-M)/(y-B),te=g-(g-S)*G,Ce=F-(F-V)*G,ke=k-(k-re)*G,le=O-(O-P)*G;const W=Math.round(Math.min(Z,te)),J=Math.round(Math.max(Z,te));let ae=f*M+W*4;for(let ve=W;ve<=J;ve++)G=(Z-ve)/(Z-te),G<0?G=0:G>1&&(G=1),u[ae++]=se-(se-Ce)*G|0,u[ae++]=X-(X-ke)*G|0,u[ae++]=ee-(ee-le)*G|0,u[ae++]=255}}function Qae(t,e,r){const n=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(n.length/o)-1,c=o-1;for(s=0;s<l;s++){let u=s*o;for(let f=0;f<c;f++,u++)$3(t,r,n[u],n[u+1],n[u+o],i[u],i[u+1],i[u+o]),$3(t,r,n[u+o+1],n[u+1],n[u+o],i[u+o+1],i[u+1],i[u+o])}break;case"triangles":for(s=0,a=n.length;s<a;s+=3)$3(t,r,n[s],n[s+1],n[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class jae extends mC{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,r,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),g=c/f,y=u/p,x={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/g,scaleY:1/y},w=f+4,S=p+4,B=n.getCanvas("mesh",w,S,!1),F=B.context,k=F.createImageData(f,p);if(r){const R=k.data;for(let D=0,Q=R.length;D<Q;D+=4)R[D]=r[0],R[D+1]=r[1],R[D+2]=r[2],R[D+3]=255}for(const R of this._figures)Qae(k,R,x);return F.putImageData(k,2,2),{canvas:B.canvas,offsetX:o-2*g,offsetY:l-2*y,scaleX:g,scaleY:y}}getPattern(e,r,n,i){RF(e,this._bbox);let s;if(i===Hl.SHADING)s=yr.singularValueDecompose2dScale(Fs(e));else if(s=yr.singularValueDecompose2dScale(r.baseTransform),this.matrix){const o=yr.singularValueDecompose2dScale(this.matrix);s=[s[0]*o[0],s[1]*o[1]]}const a=this._createMeshCanvas(s,i===Hl.SHADING?null:this._background,r.cachedCanvases);return i!==Hl.SHADING&&(e.setTransform(...r.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class Gae extends mC{getPattern(){return"hotpink"}}function Vae(t){switch(t[0]){case"RadialAxial":return new Hae(t);case"Mesh":return new jae(t);case"Dummy":return new Gae}throw new Error(`Unknown IR type: ${t[0]}`)}const h8={COLORED:1,UNCOLORED:2},uB=class uB{constructor(e,r,n,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=r,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const r=this.operatorList,n=this.bbox,i=this.xstep,s=this.ystep,a=this.paintType,o=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;MB("TilingType: "+o);const u=n[0],f=n[1],p=n[2],g=n[3],y=yr.singularValueDecompose2dScale(this.matrix),x=yr.singularValueDecompose2dScale(this.baseTransform),w=[y[0]*x[0],y[1]*x[1]],S=this.getSizeAndScale(i,this.ctx.canvas.width,w[0]),B=this.getSizeAndScale(s,this.ctx.canvas.height,w[1]),F=e.cachedCanvases.getCanvas("pattern",S.size,B.size,!0),k=F.context,O=c.createCanvasGraphics(k);O.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(O,a,l);let R=u,D=f,Q=p,V=g;return u<0&&(R=0,Q+=Math.abs(u)),f<0&&(D=0,V+=Math.abs(f)),k.translate(-(S.scale*R),-(B.scale*D)),O.transform(S.scale,0,0,B.scale,0,0),k.save(),this.clipBbox(O,R,D,Q,V),O.baseTransform=Fs(O.ctx),O.executeOperatorList(r),O.endDrawing(),{canvas:F.canvas,scaleX:S.scale,scaleY:B.scale,offsetX:R,offsetY:D}}getSizeAndScale(e,r,n){e=Math.abs(e);const i=Math.max(uB.MAX_PATTERN_SIZE,r);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,r,n,i,s){const a=i-r,o=s-n;e.ctx.rect(r,n,a,o),e.current.updateRectMinMax(Fs(e.ctx),[r,n,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,r,n){const i=e.ctx,s=e.current;switch(r){case h8.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case h8.UNCOLORED:const o=yr.makeHexColor(n[0],n[1],n[2]);i.fillStyle=o,i.strokeStyle=o,s.fillColor=o,s.strokeColor=o;break;default:throw new gae(`Unsupported paint type: ${r}`)}}getPattern(e,r,n,i){let s=n;i!==Hl.SHADING&&(s=yr.transform(s,r.baseTransform),this.matrix&&(s=yr.transform(s,this.matrix)));const a=this.createPatternCanvas(r);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};er(uB,"MAX_PATTERN_SIZE",3e3);let MF=uB;function $ae({src:t,srcPos:e=0,dest:r,width:n,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=bc.isLittleEndian?4278190080:255,[l,c]=a?[s,o]:[o,s],u=n>>3,f=n&7,p=t.length;r=new Uint32Array(r.buffer);let g=0;for(let y=0;y<i;y++){for(const w=e+u;e<w;e++){const S=e<p?t[e]:255;r[g++]=S&128?c:l,r[g++]=S&64?c:l,r[g++]=S&32?c:l,r[g++]=S&16?c:l,r[g++]=S&8?c:l,r[g++]=S&4?c:l,r[g++]=S&2?c:l,r[g++]=S&1?c:l}if(f===0)continue;const x=e<p?t[e++]:255;for(let w=0;w<f;w++)r[g++]=x&1<<7-w?c:l}return{srcPos:e,destPos:g}}const f8=16,d8=100,qae=15,p8=10,g8=1e3,yc=16;function zae(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,i){e.translate(n,i),this.__originalTranslate(n,i)},t.scale=function(n,i){e.scale(n,i),this.__originalScale(n,i)},t.transform=function(n,i,s,a,o,l){e.transform(n,i,s,a,o,l),this.__originalTransform(n,i,s,a,o,l)},t.setTransform=function(n,i,s,a,o,l){e.setTransform(n,i,s,a,o,l),this.__originalSetTransform(n,i,s,a,o,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(r,n){e.moveTo(r,n),this.__originalMoveTo(r,n)},t.lineTo=function(r,n){e.lineTo(r,n),this.__originalLineTo(r,n)},t.bezierCurveTo=function(r,n,i,s,a,o){e.bezierCurveTo(r,n,i,s,a,o),this.__originalBezierCurveTo(r,n,i,s,a,o)},t.rect=function(r,n,i,s){e.rect(r,n,i,s),this.__originalRect(r,n,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Kae{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,r,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,r,n)):(i=this.canvasFactory.create(r,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const r=this.cache[e];this.canvasFactory.destroy(r),delete this.cache[e]}}}function XS(t,e,r,n,i,s,a,o,l,c){const[u,f,p,g,y,x]=Fs(t);if(f===0&&p===0){const B=a*u+y,F=Math.round(B),k=o*g+x,O=Math.round(k),R=(a+l)*u+y,D=Math.abs(Math.round(R)-F)||1,Q=(o+c)*g+x,V=Math.abs(Math.round(Q)-O)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(g),F,O),t.drawImage(e,r,n,i,s,0,0,D,V),t.setTransform(u,f,p,g,y,x),[D,V]}if(u===0&&g===0){const B=o*p+y,F=Math.round(B),k=a*f+x,O=Math.round(k),R=(o+c)*p+y,D=Math.abs(Math.round(R)-F)||1,Q=(a+l)*f+x,V=Math.abs(Math.round(Q)-O)||1;return t.setTransform(0,Math.sign(f),Math.sign(p),0,F,O),t.drawImage(e,r,n,i,s,0,0,V,D),t.setTransform(u,f,p,g,y,x),[V,D]}t.drawImage(e,r,n,i,s,a,o,l,c);const w=Math.hypot(u,f),S=Math.hypot(p,g);return[w*l,S*c]}function Wae(t){const{width:e,height:r}=t;if(e>g8||r>g8)return null;const n=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a=new Uint8Array(s*(r+1)),o,l,c;const u=e+7&-8;let f=new Uint8Array(u*r),p=0;for(const S of t.data){let B=128;for(;B>0;)f[p++]=S&B?0:255,B>>=1}let g=0;for(p=0,f[p]!==0&&(a[0]=1,++g),l=1;l<e;l++)f[p]!==f[p+1]&&(a[l]=f[p]?2:1,++g),p++;for(f[p]!==0&&(a[l]=2,++g),o=1;o<r;o++){p=o*u,c=o*s,f[p-u]!==f[p]&&(a[c]=f[p]?1:8,++g);let S=(f[p]?4:0)+(f[p-u]?8:0);for(l=1;l<e;l++)S=(S>>2)+(f[p+1]?4:0)+(f[p-u+1]?8:0),i[S]&&(a[c+l]=i[S],++g),p++;if(f[p-u]!==f[p]&&(a[c+l]=f[p]?2:4,++g),g>n)return null}for(p=u*(r-1),c=o*s,f[p]!==0&&(a[c]=8,++g),l=1;l<e;l++)f[p]!==f[p+1]&&(a[c+l]=f[p]?4:8,++g),p++;if(f[p]!==0&&(a[c+l]=4,++g),g>n)return null;const y=new Int32Array([0,s,-1,0,-s,0,0,0,1]),x=new Path2D;for(o=0;g&&o<=r;o++){let S=o*s;const B=S+e;for(;S<B&&!a[S];)S++;if(S===B)continue;x.moveTo(S%s,o);const F=S;let k=a[S];do{const O=y[k];do S+=O;while(!a[S]);const R=a[S];R!==5&&R!==10?(k=R,a[S]=0):(k=R&51*k>>4,a[S]&=k>>2|k<<2),x.lineTo(S%s,S/s|0),a[S]||--g}while(F!==S);--o}return f=null,a=null,function(S){S.save(),S.scale(1/e,-1/r),S.translate(0,-r),S.fill(x),S.beginPath(),S.restore()}}class m8{constructor(e,r){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=h9,this.textMatrixScale=1,this.fontMatrix=oF,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Jo.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,r])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,r){this.x=e,this.y=r}updatePathMinMax(e,r,n){[r,n]=yr.applyTransform([r,n],e),this.minX=Math.min(this.minX,r),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,r),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,r){const n=yr.applyTransform(r,e),i=yr.applyTransform(r.slice(2),e),s=yr.applyTransform([r[0],r[3]],e),a=yr.applyTransform([r[2],r[1]],e);this.minX=Math.min(this.minX,n[0],i[0],s[0],a[0]),this.minY=Math.min(this.minY,n[1],i[1],s[1],a[1]),this.maxX=Math.max(this.maxX,n[0],i[0],s[0],a[0]),this.maxY=Math.max(this.maxY,n[1],i[1],s[1],a[1])}updateScalingPathMinMax(e,r){yr.scaleMinMax(e,r),this.minX=Math.min(this.minX,r[0]),this.minY=Math.min(this.minY,r[1]),this.maxX=Math.max(this.maxX,r[2]),this.maxY=Math.max(this.maxY,r[3])}updateCurvePathMinMax(e,r,n,i,s,a,o,l,c,u){const f=yr.bezierBoundingBox(r,n,i,s,a,o,l,c,u);u||this.updateRectMinMax(e,f)}getPathBoundingBox(e=Hl.FILL,r=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Hl.STROKE){r||Di("Stroke bounding box must include transform.");const i=yr.singularValueDecompose2dScale(r),s=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;n[0]-=s,n[1]-=a,n[2]+=s,n[3]+=a}return n}updateClipFromPath(){const e=yr.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Hl.FILL,r=null){return yr.intersect(this.clipBox,this.getPathBoundingBox(e,r))}}function y8(t,e){if(typeof ImageData<"u"&&e instanceof ImageData){t.putImageData(e,0,0);return}const r=e.height,n=e.width,i=r%yc,s=(r-i)/yc,a=i===0?s:s+1,o=t.createImageData(n,yc);let l=0,c;const u=e.data,f=o.data;let p,g,y,x;if(e.kind===P5.GRAYSCALE_1BPP){const w=u.byteLength,S=new Uint32Array(f.buffer,0,f.byteLength>>2),B=S.length,F=n+7>>3,k=4294967295,O=bc.isLittleEndian?4278190080:255;for(p=0;p<a;p++){for(y=p<s?yc:i,c=0,g=0;g<y;g++){const R=w-l;let D=0;const Q=R>F?n:R*8-7,V=Q&-8;let re=0,P=0;for(;D<V;D+=8)P=u[l++],S[c++]=P&128?k:O,S[c++]=P&64?k:O,S[c++]=P&32?k:O,S[c++]=P&16?k:O,S[c++]=P&8?k:O,S[c++]=P&4?k:O,S[c++]=P&2?k:O,S[c++]=P&1?k:O;for(;D<Q;D++)re===0&&(P=u[l++],re=128),S[c++]=P&re?k:O,re>>=1}for(;c<B;)S[c++]=0;t.putImageData(o,0,p*yc)}}else if(e.kind===P5.RGBA_32BPP){for(g=0,x=n*yc*4,p=0;p<s;p++)f.set(u.subarray(l,l+x)),l+=x,t.putImageData(o,0,g),g+=yc;p<a&&(x=n*i*4,f.set(u.subarray(l,l+x)),t.putImageData(o,0,g))}else if(e.kind===P5.RGB_24BPP)for(y=yc,x=n*y,p=0;p<a;p++){for(p>=s&&(y=i,x=n*y),c=0,g=x;g--;)f[c++]=u[l++],f[c++]=u[l++],f[c++]=u[l++],f[c++]=255;t.putImageData(o,0,p*yc)}else throw new Error(`bad image kind: ${e.kind}`)}function x8(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const r=e.height,n=e.width,i=r%yc,s=(r-i)/yc,a=i===0?s:s+1,o=t.createImageData(n,yc);let l=0;const c=e.data,u=o.data;for(let f=0;f<a;f++){const p=f<s?yc:i;({srcPos:l}=$ae({src:c,srcPos:l,dest:u,width:n,height:p,nonBlackColor:0})),t.putImageData(o,0,f*yc)}}function Pv(t,e){const r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of r)t[n]!==void 0&&(e[n]=t[n]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function JS(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!ll){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function v8(t,e){if(e)return!0;const r=yr.singularValueDecompose2dScale(t);r[0]=Math.fround(r[0]),r[1]=Math.fround(r[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Cp.PDF_TO_CSS_UNITS);return r[0]<=n&&r[1]<=n}const Yae=["butt","round","square"],Xae=["miter","round","bevel"],Jae={},w8={};var Lp,UF,DF;const dM=class dM{constructor(e,r,n,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,c){ge(this,Lp);this.ctx=e,this.current=new m8(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=r,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new Kae(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,r=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):r}beginDrawing({transform:e,viewport:r,transparency:n=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Fs(this.compositeCtx))}this.ctx.save(),JS(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...r.transform),this.viewportScale=r.scale,this.baseTransform=Fs(this.ctx)}executeOperatorList(e,r,n,i){const s=e.argsArray,a=e.fnArray;let o=r||0;const l=s.length;if(l===o)return o;const c=l-o>p8&&typeof n=="function",u=c?Date.now()+qae:0;let f=0;const p=this.commonObjs,g=this.objs;let y;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(y=a[o],y!==Bu.dependency)this[y].apply(this,s[o]);else for(const x of s[o]){const w=x.startsWith("g_")?p:g;if(!w.has(x))return w.get(x,n),o}if(o++,o===l)return o;if(c&&++f>p8){if(Date.now()>u)return n(),o;f=0}}}endDrawing(){de(this,Lp,UF).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const r of e.values())typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&(r.width=r.height=0);e.clear()}this._cachedBitmapsMap.clear(),de(this,Lp,DF).call(this)}_scaleImage(e,r){const n=e.width,i=e.height;let s=Math.max(Math.hypot(r[0],r[1]),1),a=Math.max(Math.hypot(r[2],r[3]),1),o=n,l=i,c="prescale1",u,f;for(;s>2&&o>1||a>2&&l>1;){let p=o,g=l;s>2&&o>1&&(p=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/p),a>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/g),u=this.cachedCanvases.getCanvas(c,p,g),f=u.context,f.clearRect(0,0,p,g),f.drawImage(e,0,0,o,l,0,0,p,g),e=u.canvas,o=p,l=g,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const r=this.ctx,{width:n,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,o=Fs(r);let l,c,u,f;if((e.bitmap||e.data)&&e.count>1){const Q=e.bitmap||e.data.buffer;c=JSON.stringify(a?o:[o.slice(0,4),s]),l=this._cachedBitmapsMap.get(Q),l||(l=new Map,this._cachedBitmapsMap.set(Q,l));const V=l.get(c);if(V&&!a){const re=Math.round(Math.min(o[0],o[2])+o[4]),P=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:V,offsetX:re,offsetY:P}}u=V}u||(f=this.cachedCanvases.getCanvas("maskCanvas",n,i),x8(f.context,e));let p=yr.transform(o,[1/n,0,0,-1/i,0,0]);p=yr.transform(p,[1,0,0,1,0,-i]);const[g,y,x,w]=yr.getAxialAlignedBoundingBox([0,0,n,i],p),S=Math.round(x-g)||1,B=Math.round(w-y)||1,F=this.cachedCanvases.getCanvas("fillCanvas",S,B),k=F.context,O=g,R=y;k.translate(-O,-R),k.transform(...p),u||(u=this._scaleImage(f.canvas,Wf(k)),u=u.img,l&&a&&l.set(c,u)),k.imageSmoothingEnabled=v8(Fs(k),e.interpolate),XS(k,u,0,0,u.width,u.height,0,0,n,i),k.globalCompositeOperation="source-in";const D=yr.transform(Wf(k),[1,0,0,1,-O,-R]);return k.fillStyle=a?s.getPattern(r,this,D,Hl.FILL):s,k.fillRect(0,0,n,i),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,F.canvas)),{canvas:F.canvas,offsetX:Math.round(O),offsetY:Math.round(R)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Yae[e]}setLineJoin(e){this.ctx.lineJoin=Xae[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,r){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=r)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[r,n]of e)switch(r){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,r=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,r);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Fs(this.suspendedCtx)),Pv(this.suspendedCtx,s),zae(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Pv(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const r=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,r,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,r,n,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(r.context,n,o,l,r.subtype,r.backdrop,r.transferMap,s,a,r.offsetX,r.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,r,n,i,s,a,o,l,c,u,f){let p=e.canvas,g=l-u,y=c-f;if(a){if(g<0||y<0||g+n>p.width||y+i>p.height){const w=this.cachedCanvases.getCanvas("maskExtension",n,i),S=w.context;S.drawImage(p,-g,-y),a.some(B=>B!==0)&&(S.globalCompositeOperation="destination-atop",S.fillStyle=yr.makeHexColor(...a),S.fillRect(0,0,n,i),S.globalCompositeOperation="source-over"),p=w.canvas,g=y=0}else if(a.some(w=>w!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const w=new Path2D;w.rect(g,y,n,i),e.clip(w),e.globalCompositeOperation="destination-atop",e.fillStyle=yr.makeHexColor(...a),e.fillRect(g,y,n,i),e.restore()}}r.save(),r.globalAlpha=1,r.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?r.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(r.filter=this.filterFactory.addLuminosityFilter(o));const x=new Path2D;x.rect(l,c,n,i),r.clip(x),r.globalCompositeOperation="destination-in",r.drawImage(p,g,y,n,i,l,c,n,i),r.restore()}save(){this.inSMaskMode?(Pv(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Pv(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,r,n,i,s,a){this.ctx.transform(e,r,n,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,r,n){const i=this.ctx,s=this.current;let a=s.x,o=s.y,l,c;const u=Fs(i),f=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,p=f?n.slice(0):null;for(let g=0,y=0,x=e.length;g<x;g++)switch(e[g]|0){case Bu.rectangle:a=r[y++],o=r[y++];const w=r[y++],S=r[y++],B=a+w,F=o+S;i.moveTo(a,o),w===0||S===0?i.lineTo(B,F):(i.lineTo(B,o),i.lineTo(B,F),i.lineTo(a,F)),f||s.updateRectMinMax(u,[a,o,B,F]),i.closePath();break;case Bu.moveTo:a=r[y++],o=r[y++],i.moveTo(a,o),f||s.updatePathMinMax(u,a,o);break;case Bu.lineTo:a=r[y++],o=r[y++],i.lineTo(a,o),f||s.updatePathMinMax(u,a,o);break;case Bu.curveTo:l=a,c=o,a=r[y+4],o=r[y+5],i.bezierCurveTo(r[y],r[y+1],r[y+2],r[y+3],a,o),s.updateCurvePathMinMax(u,l,c,r[y],r[y+1],r[y+2],r[y+3],a,o,p),y+=6;break;case Bu.curveTo2:l=a,c=o,i.bezierCurveTo(a,o,r[y],r[y+1],r[y+2],r[y+3]),s.updateCurvePathMinMax(u,l,c,a,o,r[y],r[y+1],r[y+2],r[y+3],p),a=r[y+2],o=r[y+3],y+=4;break;case Bu.curveTo3:l=a,c=o,a=r[y+2],o=r[y+3],i.bezierCurveTo(r[y],r[y+1],a,o,a,o),s.updateCurvePathMinMax(u,l,c,r[y],r[y+1],a,o,a,o,p),y+=4;break;case Bu.closePath:i.closePath();break}f&&s.updateScalingPathMinMax(u,p),s.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const r=this.ctx,n=this.current.strokeColor;r.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(r.save(),r.strokeStyle=n.getPattern(r,this,Wf(r),Hl.STROKE),this.rescaleAndStroke(!1),r.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),r.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const r=this.ctx,n=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(r.save(),r.fillStyle=n.getPattern(r,this,Wf(r),Hl.FILL),s=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(r.fill("evenodd"),this.pendingEOFill=!1):r.fill()),s&&r.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Jae}eoClip(){this.pendingClip=w8}beginText(){this.current.textMatrix=h9,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,r=this.ctx;if(e===void 0){r.beginPath();return}r.save(),r.beginPath();for(const n of e)r.setTransform(...n.transform),r.translate(n.x,n.y),n.addToPath(r,n.fontSize);r.restore(),r.clip(),r.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,r){var u;const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||oF,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&pn("Invalid font matrix for font "+e),r<0?(r=-r,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=r,n.isType3Font)return;const s=n.loadedName||"sans-serif",a=((u=n.systemFontInfo)==null?void 0:u.css)||`"${s}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const l=n.italic?"italic":"normal";let c=r;r<f8?c=f8:r>d8&&(c=d8),this.current.fontSizeScale=r/c,this.ctx.font=`${l} ${o} ${c}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,r){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,r){this.setLeading(-r),this.moveText(e,r)}setTextMatrix(e,r,n,i,s,a){this.current.textMatrix=[e,r,n,i,s,a],this.current.textMatrixScale=Math.hypot(e,r),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,r,n,i){const s=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,c=a.fontSize/a.fontSizeScale,u=l&Jo.FILL_STROKE_MASK,f=!!(l&Jo.ADD_TO_PATH_FLAG),p=a.patternFill&&!o.missingFile;let g;(o.disableFontFace||f||p)&&(g=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||p?(s.save(),s.translate(r,n),s.beginPath(),g(s,c),i&&s.setTransform(...i),(u===Jo.FILL||u===Jo.FILL_STROKE)&&s.fill(),(u===Jo.STROKE||u===Jo.FILL_STROKE)&&s.stroke(),s.restore()):((u===Jo.FILL||u===Jo.FILL_STROKE)&&s.fillText(e,r,n),(u===Jo.STROKE||u===Jo.FILL_STROKE)&&s.strokeText(e,r,n)),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Fs(s),x:r,y:n,fontSize:c,addToPath:g})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const r=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<r.length;i+=4)if(r[i]>0&&r[i]<255){n=!0;break}return Kn(this,"isFontSubpixelAAEnabled",n)}showText(e){const r=this.current,n=r.font;if(n.isType3Font)return this.showType3Text(e);const i=r.fontSize;if(i===0)return;const s=this.ctx,a=r.fontSizeScale,o=r.charSpacing,l=r.wordSpacing,c=r.fontDirection,u=r.textHScale*c,f=e.length,p=n.vertical,g=p?1:-1,y=n.defaultVMetrics,x=i*r.fontMatrix[0],w=r.textRenderingMode===Jo.FILL&&!n.disableFontFace&&!r.patternFill;s.save(),s.transform(...r.textMatrix),s.translate(r.x,r.y+r.textRise),c>0?s.scale(u,-1):s.scale(u,1);let S;if(r.patternFill){s.save();const R=r.fillColor.getPattern(s,this,Wf(s),Hl.FILL);S=Fs(s),s.restore(),s.fillStyle=R}let B=r.lineWidth;const F=r.textMatrixScale;if(F===0||B===0){const R=r.textRenderingMode&Jo.FILL_STROKE_MASK;(R===Jo.STROKE||R===Jo.FILL_STROKE)&&(B=this.getSinglePixelWidth())}else B/=F;if(a!==1&&(s.scale(a,a),B/=a),s.lineWidth=B,n.isInvalidPDFjsFont){const R=[];let D=0;for(const Q of e)R.push(Q.unicode),D+=Q.width;s.fillText(R.join(""),0,0),r.x+=D*x*u,s.restore(),this.compose();return}let k=0,O;for(O=0;O<f;++O){const R=e[O];if(typeof R=="number"){k+=g*R*i/1e3;continue}let D=!1;const Q=(R.isSpace?l:0)+o,V=R.fontChar,re=R.accent;let P,H,q=R.width;if(p){const se=R.vmetric||y,X=-(R.vmetric?se[1]:q*.5)*x,ee=se[2]*x;q=se?-se[0]:q,P=X/a,H=(k+ee)/a}else P=k/a,H=0;if(n.remeasure&&q>0){const se=s.measureText(V).width*1e3/i*a;if(q<se&&this.isFontSubpixelAAEnabled){const X=q/se;D=!0,s.save(),s.scale(X,1),P/=X}else q!==se&&(P+=(q-se)/2e3*i/a)}if(this.contentVisible&&(R.isInFont||n.missingFile)){if(w&&!re)s.fillText(V,P,H);else if(this.paintChar(V,P,H,S),re){const se=P+i*re.offset.x/a,X=H-i*re.offset.y/a;this.paintChar(re.fontChar,se,X,S)}}const Z=p?q*x-Q*c:q*x+Q*c;k+=Z,D&&s.restore()}p?r.y-=k:r.x+=k*u,s.restore(),this.compose()}showType3Text(e){const r=this.ctx,n=this.current,i=n.font,s=n.fontSize,a=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,u=n.textHScale*a,f=n.fontMatrix||oF,p=e.length,g=n.textRenderingMode===Jo.INVISIBLE;let y,x,w,S;if(!(g||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),r.transform(...n.textMatrix),r.translate(n.x,n.y),r.scale(u,a),y=0;y<p;++y){if(x=e[y],typeof x=="number"){S=o*x*s/1e3,this.ctx.translate(S,0),n.x+=S*u;continue}const B=(x.isSpace?c:0)+l,F=i.charProcOperatorList[x.operatorListId];if(!F){pn(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),r.scale(s,s),r.transform(...f),this.executeOperatorList(F),this.restore()),w=yr.applyTransform([x.width,0],f)[0]*s+B,r.translate(w,0),n.x+=w*u}r.restore(),this.processingType3=null}}setCharWidth(e,r){}setCharWidthAndBounds(e,r,n,i,s,a){this.ctx.rect(n,i,s-n,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let r;if(e[0]==="TilingPattern"){const n=e[1],i=this.baseTransform||Fs(this.ctx),s={createCanvasGraphics:a=>new dM(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};r=new MF(e,n,this.ctx,s,i)}else r=this._getPattern(e[1],e[2]);return r}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,r,n){const i=yr.makeHexColor(e,r,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,r,n){const i=yr.makeHexColor(e,r,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,r=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=Vae(this.getObject(e)),this.cachedPatterns.set(e,n)),r&&(n.matrix=r),n}shadingFill(e){if(!this.contentVisible)return;const r=this.ctx;this.save();const n=this._getPattern(e);r.fillStyle=n.getPattern(r,this,Wf(r),Hl.SHADING);const i=Wf(r);if(i){const{width:s,height:a}=r.canvas,[o,l,c,u]=yr.getAxialAlignedBoundingBox([0,0,s,a],i);this.ctx.fillRect(o,l,c-o,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Di("Should not call beginInlineImage")}beginImageData(){Di("Should not call beginImageData")}paintFormXObjectBegin(e,r){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Fs(this.ctx),r)){const n=r[2]-r[0],i=r[3]-r[1];this.ctx.rect(r[0],r[1],n,i),this.current.updateRectMinMax(Fs(this.ctx),r),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;e.isolated||MB("TODO: Support non-isolated groups."),e.knockout&&pn("Knockout groups not supported.");const n=Fs(r);if(e.matrix&&r.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=yr.getAxialAlignedBoundingBox(e.bbox,Fs(r));const s=[0,0,r.canvas.width,r.canvas.height];i=yr.intersect(i,s)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-a,1),c=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(u,l,c),p=f.context;p.translate(-a,-o),p.transform(...n),e.smask?this.smaskStack.push({canvas:f.canvas,context:p,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(r.setTransform(1,0,0,1,0,0),r.translate(a,o),r.save()),Pv(r,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Fs(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=yr.getAxialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],i);this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,r,n,i,s){if(de(this,Lp,UF).call(this),JS(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const a=r[2]-r[0],o=r[3]-r[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=r[0],n[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=a,r[3]=o;const[l,c]=yr.singularValueDecompose2dScale(Fs(this.ctx)),{viewportScale:u}=this,f=Math.ceil(a*this.outputScaleX*u),p=Math.ceil(o*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:g,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,o*c),JS(this.ctx)}else JS(this.ctx),this.ctx.rect(r[0],r[1],a,o),this.ctx.clip(),this.endPath()}this.current=new m8(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),de(this,Lp,DF).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const r=e.count;e=this.getObject(e.data,e),e.count=r;const n=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=Wae(e)),i.compiled)){i.compiled(n);return}const s=this._createMaskCanvas(e),a=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,r,n=0,i=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=Fs(o);o.transform(r,n,i,s,0,0);const c=this._createMaskCanvas(e);o.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,f=a.length;u<f;u+=2){const p=yr.transform(l,[r,n,i,s,a[u],a[u+1]]),[g,y]=yr.applyTransform([0,0],p);o.drawImage(c.canvas,g,y)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const r=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:a,width:o,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",o,l),f=u.context;f.save();const p=this.getObject(a,s);x8(f,p),f.globalCompositeOperation="source-in",f.fillStyle=i?n.getPattern(f,this,Wf(r),Hl.FILL):n,f.fillRect(0,0,o,l),f.restore(),r.save(),r.transform(...c),r.scale(1,-1),XS(r,u.canvas,0,0,o,l,0,-1,1,1),r.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){pn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(r)}paintImageXObjectRepeat(e,r,n,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){pn("Dependent image isn't ready yet");return}const a=s.width,o=s.height,l=[];for(let c=0,u=i.length;c<u;c+=2)l.push({transform:[r,0,0,n,i[c],i[c+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:r,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(r,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const r=e.width,n=e.height,i=this.ctx;if(this.save(),!ll){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/r,-1/n);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",r,n).context;y8(l,e),s=this.applyTransferMapsToCanvas(l)}const a=this._scaleImage(s,Wf(i));i.imageSmoothingEnabled=v8(Fs(i),e.interpolate),XS(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,r,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,r){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,a=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,a).context;y8(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of r)n.save(),n.transform(...s.transform),n.scale(1,-1),XS(n,i,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,r){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,r){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(r||(this.pendingClip===w8?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Fs(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const r=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/r}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:r,b:n,c:i,d:s}=this.ctx.getTransform();let a,o;if(n===0&&i===0){const l=Math.abs(r),c=Math.abs(s);if(l===c)if(e===0)a=o=1/l;else{const u=l*e;a=o=u<1?1/u:1}else if(e===0)a=1/l,o=1/c;else{const u=l*e,f=c*e;a=u<1?1/u:1,o=f<1?1/f:1}}else{const l=Math.abs(r*s-n*i),c=Math.hypot(r,n),u=Math.hypot(i,s);if(e===0)a=u/l,o=c/l;else{const f=e*l;a=u>f?u/f:1,o=c>f?c/f:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:r}=this,{lineWidth:n}=this.current,[i,s]=this.getScaleForStroking();if(r.lineWidth=n||1,i===1&&s===1){r.stroke();return}const a=r.getLineDash();if(e&&r.save(),r.scale(i,s),a.length>0){const o=Math.max(i,s);r.setLineDash(a.map(l=>l/o)),r.lineDashOffset/=o}r.stroke(),e&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Lp=new WeakSet,UF=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},DF=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const r=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=r}}};let cy=dM;for(const t in Bu)cy.prototype[t]!==void 0&&(cy.prototype[Bu[t]]=cy.prototype[t]);var cb,Ab;class Id{static get workerPort(){return _(this,cb)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");ue(this,cb,e)}static get workerSrc(){return _(this,Ab)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");ue(this,Ab,e)}}cb=new WeakMap,Ab=new WeakMap,ge(Id,cb,null),ge(Id,Ab,"");const ZS={DATA:1,ERROR:2},ga={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Hc(t){switch(t instanceof Error||typeof t=="object"&&t!==null||Di('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Pm(t.message);case"MissingPDFException":return new Om(t.message);case"PasswordException":return new cF(t.message,t.code);case"UnexpectedResponseException":return new UB(t.message,t.status);case"UnknownErrorException":return new AF(t.message,t.details);default:return new AF(t.message,t.toString())}}var hf,W9,Y9,$5;class m2{constructor(e,r,n){ge(this,hf);this.sourceName=e,this.targetName=r,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){de(this,hf,Y9).call(this,s);return}if(s.callback){const o=s.callbackId,l=this.callbackCapabilities[o];if(!l)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],s.callback===ZS.DATA)l.resolve(s.data);else if(s.callback===ZS.ERROR)l.reject(Hc(s.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[s.action];if(!a)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const o=this.sourceName,l=s.sourceName;new Promise(function(c){c(a(s.data))}).then(function(c){n.postMessage({sourceName:o,targetName:l,callback:ZS.DATA,callbackId:s.callbackId,data:c})},function(c){n.postMessage({sourceName:o,targetName:l,callback:ZS.ERROR,callbackId:s.callbackId,reason:Hc(c)})});return}if(s.streamId){de(this,hf,W9).call(this,s);return}a(s.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,r){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=r}send(e,r,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:r},n)}sendWithPromise(e,r,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:r},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,r,n,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:r,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:a,targetName:o,stream:ga.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Ha(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:ga.CANCEL,streamId:s,reason:Hc(c)}),u.promise}},n)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}hf=new WeakSet,W9=function(e){const r=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,u=1,f){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=u,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:ga.ENQUEUE,streamId:r,chunk:c},f)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:ga.CLOSE,streamId:r}),delete a.streamSinks[r])},error(c){Ha(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:ga.ERROR,streamId:r,reason:Hc(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[r]=l,new Promise(function(c){c(o(e.data,l))}).then(function(){s.postMessage({sourceName:n,targetName:i,stream:ga.START_COMPLETE,streamId:r,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:ga.START_COMPLETE,streamId:r,reason:Hc(c)})})},Y9=function(e){const r=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[r],o=this.streamSinks[r];switch(e.stream){case ga.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Hc(e.reason));break;case ga.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Hc(e.reason));break;case ga.PULL:if(!o){s.postMessage({sourceName:n,targetName:i,stream:ga.PULL_COMPLETE,streamId:r,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=o.onPull)==null?void 0:c.call(o))}).then(function(){s.postMessage({sourceName:n,targetName:i,stream:ga.PULL_COMPLETE,streamId:r,success:!0})},function(l){s.postMessage({sourceName:n,targetName:i,stream:ga.PULL_COMPLETE,streamId:r,reason:Hc(l)})});break;case ga.ENQUEUE:if(Ha(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case ga.CLOSE:if(Ha(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),de(this,hf,$5).call(this,a,r);break;case ga.ERROR:Ha(a,"error should have stream controller"),a.controller.error(Hc(e.reason)),de(this,hf,$5).call(this,a,r);break;case ga.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Hc(e.reason)),de(this,hf,$5).call(this,a,r);break;case ga.CANCEL:if(!o)break;new Promise(function(l){var c;l((c=o.onCancel)==null?void 0:c.call(o,Hc(e.reason)))}).then(function(){s.postMessage({sourceName:n,targetName:i,stream:ga.CANCEL_COMPLETE,streamId:r,success:!0})},function(l){s.postMessage({sourceName:n,targetName:i,stream:ga.CANCEL_COMPLETE,streamId:r,reason:Hc(l)})}),o.sinkCapability.reject(Hc(e.reason)),o.isCancelled=!0,delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}},$5=async function(e,r){var n,i,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[r]};var Rg,ub;class Zae{constructor({parsedData:e,rawData:r}){ge(this,Rg);ge(this,ub);ue(this,Rg,e),ue(this,ub,r)}getRaw(){return _(this,ub)}get(e){return _(this,Rg).get(e)??null}getAll(){return nL(_(this,Rg))}has(e){return _(this,Rg).has(e)}}Rg=new WeakMap,ub=new WeakMap;const L0=Symbol("INTERNAL");var hb,fb,db,Ly;class eoe{constructor(e,{name:r,intent:n,usage:i}){ge(this,hb,!1);ge(this,fb,!1);ge(this,db,!1);ge(this,Ly,!0);ue(this,hb,!!(e&OA.DISPLAY)),ue(this,fb,!!(e&OA.PRINT)),this.name=r,this.intent=n,this.usage=i}get visible(){if(_(this,db))return _(this,Ly);if(!_(this,Ly))return!1;const{print:e,view:r}=this.usage;return _(this,hb)?(r==null?void 0:r.viewState)!=="OFF":_(this,fb)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,r,n=!1){e!==L0&&Di("Internal method `_setVisible` called."),ue(this,db,n),ue(this,Ly,r)}}hb=new WeakMap,fb=new WeakMap,db=new WeakMap,Ly=new WeakMap;var K0,Ri,Ry,My,pb,OF;class toe{constructor(e,r=OA.DISPLAY){ge(this,pb);ge(this,K0,null);ge(this,Ri,new Map);ge(this,Ry,null);ge(this,My,null);if(this.renderingIntent=r,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,ue(this,My,e.order);for(const n of e.groups)_(this,Ri).set(n.id,new eoe(r,n));if(e.baseState==="OFF")for(const n of _(this,Ri).values())n._setVisible(L0,!1);for(const n of e.on)_(this,Ri).get(n)._setVisible(L0,!0);for(const n of e.off)_(this,Ri).get(n)._setVisible(L0,!1);ue(this,Ry,this.getHash())}}isVisible(e){if(_(this,Ri).size===0)return!0;if(!e)return MB("Optional content group not defined."),!0;if(e.type==="OCG")return _(this,Ri).has(e.id)?_(this,Ri).get(e.id).visible:(pn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return de(this,pb,OF).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const r of e.ids){if(!_(this,Ri).has(r))return pn(`Optional content group not found: ${r}`),!0;if(_(this,Ri).get(r).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const r of e.ids){if(!_(this,Ri).has(r))return pn(`Optional content group not found: ${r}`),!0;if(!_(this,Ri).get(r).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const r of e.ids){if(!_(this,Ri).has(r))return pn(`Optional content group not found: ${r}`),!0;if(!_(this,Ri).get(r).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const r of e.ids){if(!_(this,Ri).has(r))return pn(`Optional content group not found: ${r}`),!0;if(_(this,Ri).get(r).visible)return!1}return!0}return pn(`Unknown optional content policy ${e.policy}.`),!0}return pn(`Unknown group type ${e.type}.`),!0}setVisibility(e,r=!0){const n=_(this,Ri).get(e);if(!n){pn(`Optional content group not found: ${e}`);return}n._setVisible(L0,!!r,!0),ue(this,K0,null)}setOCGState({state:e,preserveRB:r}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const s=_(this,Ri).get(i);if(s)switch(n){case"ON":s._setVisible(L0,!0);break;case"OFF":s._setVisible(L0,!1);break;case"Toggle":s._setVisible(L0,!s.visible);break}}ue(this,K0,null)}get hasInitialVisibility(){return _(this,Ry)===null||this.getHash()===_(this,Ry)}getOrder(){return _(this,Ri).size?_(this,My)?_(this,My).slice():[..._(this,Ri).keys()]:null}getGroups(){return _(this,Ri).size>0?nL(_(this,Ri)):null}getGroup(e){return _(this,Ri).get(e)||null}getHash(){if(_(this,K0)!==null)return _(this,K0);const e=new $9;for(const[r,n]of _(this,Ri))e.update(`${r}:${n.visible}`);return ue(this,K0,e.hexdigest())}}K0=new WeakMap,Ri=new WeakMap,Ry=new WeakMap,My=new WeakMap,pb=new WeakSet,OF=function(e){const r=e.length;if(r<2)return!0;const n=e[0];for(let i=1;i<r;i++){const s=e[i];let a;if(Array.isArray(s))a=de(this,pb,OF).call(this,s);else if(_(this,Ri).has(s))a=_(this,Ri).get(s).visible;else return pn(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class roe{constructor(e,{disableRange:r=!1,disableStream:n=!1}){Ha(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!r,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:r}){const n=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});Ha(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var r,n,i,s;e.total===void 0?(n=(r=this._rangeReaders[0])==null?void 0:r.onProgress)==null||n.call(r,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const r=this._rangeReaders.indexOf(e);r>=0&&this._rangeReaders.splice(r,1)}getFullReader(){Ha(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new noe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new ioe(this,e,r);return this._pdfDataRangeTransport.requestDataRange(e,r),this._rangeReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class noe{constructor(e,r,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=lL(i)?i:null,this._queuedChunks=r||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ioe{constructor(e,r,n){this._stream=e,this._begin=r,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function soe(t){let e=!0,r=n("filename\\*","i").exec(t);if(r){r=r[1];let u=o(r);return u=unescape(u),u=l(u),u=c(u),s(u)}if(r=a(t),r){const u=c(r);return s(u)}if(r=n("filename","i").exec(t),r){r=r[1];let u=o(r);return u=c(u),s(u)}function n(u,f){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function i(u,f){if(u){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const p=new TextDecoder(u,{fatal:!0}),g=DB(f);f=p.decode(g),e=!1}catch{}}return f}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function a(u){const f=[];let p;const g=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=g.exec(u))!==null;){let[,x,w,S]=p;if(x=parseInt(x,10),x in f){if(x===0)break;continue}f[x]=[w,S]}const y=[];for(let x=0;x<f.length&&x in f;++x){let[w,S]=f[x];S=o(S),w&&(S=unescape(S),x===0&&(S=l(S))),y.push(S)}return y.join("")}function o(u){if(u.startsWith('"')){const f=u.slice(1).split('\\"');for(let p=0;p<f.length;++p){const g=f[p].indexOf('"');g!==-1&&(f[p]=f[p].slice(0,g),f.length=p+1),f[p]=f[p].replaceAll(/\\(.)/g,"$1")}u=f.join('"')}return u}function l(u){const f=u.indexOf("'");if(f===-1)return u;const p=u.slice(0,f),y=u.slice(f+1).replace(/^[^']*'/,"");return i(p,y)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,p,g,y){if(g==="q"||g==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,w){return String.fromCharCode(parseInt(w,16))}),i(p,y);try{y=atob(y)}catch{}return i(p,y)})}return""}function uL({getResponseHeader:t,isHttp:e,rangeChunkSize:r,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*r)||n||!e||t("Accept-Ranges")!=="bytes"||(t("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function hL(t){const e=t("Content-Disposition");if(e){let r=soe(e);if(r.includes("%"))try{r=decodeURIComponent(r)}catch{}if(lL(r))return r}return null}function jB(t,e){return t===404||t===0&&e.startsWith("file:")?new Om('Missing PDF "'+e+'".'):new UB(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function X9(t){return t===200||t===206}function J9(t,e,r){return{method:"GET",headers:t,signal:r.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Z9(t){const e=new Headers;for(const r in t){const n=t[r];n!==void 0&&e.append(r,n)}return e}function ej(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(pn(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class b8{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ha(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new aoe(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new ooe(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class aoe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const r=e.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._headers=Z9(this._stream.httpHeaders);const n=r.url;fetch(n,J9(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!X9(i.status))throw jB(i.status,n);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=l=>i.headers.get(l),{allowRangeRequests:a,suggestedLength:o}=uL({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=hL(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Pm("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:ej(e),done:!1})}cancel(e){var r;(r=this._reader)==null||r.cancel(e),this._abortController.abort()}}class ooe{constructor(e,r,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=Z9(this._stream.httpHeaders),this._headers.append("Range",`bytes=${r}-${n-1}`);const s=i.url;fetch(s,J9(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!X9(a.status))throw jB(a.status,s);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:ej(e),done:!1})}cancel(e){var r;(r=this._reader)==null||r.cancel(e),this._abortController.abort()}}const q3=200,z3=206;function loe(t){const e=t.response;return typeof e!="string"?e:DB(e).buffer}class coe{constructor(e,r={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&r.httpHeaders||Object.create(null),this.withCredentials=r.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,r,n){const i={begin:e,end:r};for(const s in n)i[s]=n[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const r=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:r};r.open("GET",this.url),r.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const a=this.httpHeaders[s];a!==void 0&&r.setRequestHeader(s,a)}return this.isHttp&&"begin"in e&&"end"in e?(r.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=z3):i.expectedStatus=q3,r.responseType="arraybuffer",e.onError&&(r.onerror=function(s){e.onError(r.status)}),r.onreadystatechange=this.onStateChange.bind(this,n),r.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,r.send(null),n}onProgress(e,r){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,r))}onStateChange(e,r){var l,c,u;const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=n.onError)==null||l.call(n,i.status);return}const s=i.status||q3;if(!(s===q3&&n.expectedStatus===z3)&&s!==n.expectedStatus){(c=n.onError)==null||c.call(n,i.status);return}const o=loe(i);if(s===z3){const f=i.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);n.onDone({begin:parseInt(p[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):(u=n.onError)==null||u.call(n,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const r=this.pendingRequests[e].xhr;delete this.pendingRequests[e],r.abort()}}class Aoe{constructor(e){this._source=e,this._manager=new coe(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const r=this._rangeRequestReaders.indexOf(e);r>=0&&this._rangeRequestReaders.splice(r,1)}getFullReader(){return Ha(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new uoe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,r){const n=new hoe(this._manager,e,r);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class uoe{constructor(e,r){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._contentLength=r.length,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,r=this._manager.getRequestXhr(e),n=a=>r.getResponseHeader(a),{allowRangeRequests:i,suggestedLength:s}=uL({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=hL(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=jB(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var r;(r=this.onProgress)==null||r.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class hoe{constructor(e,r,n){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(r,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const r=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunk=r,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=jB(e,this._url);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var r;this.isStreamingSupported||(r=this.onProgress)==null||r.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const tj=/^file:\/\/\/[a-zA-Z]:\//;function foe(t){const e=df.get("url"),r=e.parse(t);return r.protocol==="file:"||r.host?r:/^[a-z]:[/\\]/i.test(t)?e.parse(`file:///${t}`):(r.host||(r.protocol="file:"),r)}class doe{constructor(e){this.source=e,this.url=foe(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ha(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new moe(this):new poe(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=this.isFsUrl?new yoe(this,e,r):new goe(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class rj{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const r=e.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Pm("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class nj{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function V_(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class poe extends rj{constructor(e){super(e);const r=n=>{if(n.statusCode===404){const o=new Om(`Missing PDF "${this._url}".`);this._storedError=o,this._headersCapability.reject(o);return}this._headersCapability.resolve(),this._setReadableStream(n);const i=o=>this._readableStream.headers[o.toLowerCase()],{allowRangeRequests:s,suggestedLength:a}=uL({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=hL(i)};if(this._request=null,this._url.protocol==="http:"){const n=df.get("http");this._request=n.request(V_(this._url,e.httpHeaders),r)}else{const n=df.get("https");this._request=n.request(V_(this._url,e.httpHeaders),r)}this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class goe extends nj{constructor(e,r,n){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const a=e.httpHeaders[s];a!==void 0&&(this._httpHeaders[s]=a)}this._httpHeaders.Range=`bytes=${r}-${n-1}`;const i=s=>{if(s.statusCode===404){const a=new Om(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=df.get("http");this._request=s.request(V_(this._url,this._httpHeaders),i)}else{const s=df.get("https");this._request=s.request(V_(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class moe extends rj{constructor(e){super(e);let r=decodeURIComponent(this._url.path);tj.test(this._url.href)&&(r=r.replace(/^\//,""));const n=df.get("fs");n.promises.lstat(r).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(r)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Om(`Missing PDF "${r}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class yoe extends nj{constructor(e,r,n){super(e);let i=decodeURIComponent(this._url.path);tj.test(this._url.href)&&(i=i.replace(/^\//,""));const s=df.get("fs");this._setReadableStream(s.createReadStream(i,{start:r,end:n-1}))}}const xoe=1e5,uc=30,voe=.8;var QH,W0,gc,gb,mb,Mg,dd,yb,xb,Ug,Uy,Dy,Y0,Oy,vb,Py,Dg,wb,bb,Og,Pg,X0,Hy,zd,ij,sj,PF,ff,q5,aj,oj;const el=class el{constructor({textContentSource:e,container:r,viewport:n}){ge(this,zd);ge(this,W0,Promise.withResolvers());ge(this,gc,null);ge(this,gb,!1);ge(this,mb,!!((QH=globalThis.FontInspector)!=null&&QH.enabled));ge(this,Mg,null);ge(this,dd,null);ge(this,yb,0);ge(this,xb,0);ge(this,Ug,null);ge(this,Uy,null);ge(this,Dy,0);ge(this,Y0,0);ge(this,Oy,Object.create(null));ge(this,vb,[]);ge(this,Py,null);ge(this,Dg,[]);ge(this,wb,new WeakMap);ge(this,bb,null);var l;if(e instanceof ReadableStream)ue(this,Py,e);else if(typeof e=="object")ue(this,Py,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');ue(this,gc,ue(this,Uy,r)),ue(this,Y0,n.scale*(globalThis.devicePixelRatio||1)),ue(this,Dy,n.rotation),ue(this,dd,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=n.rawDims;ue(this,bb,[1,0,0,-1,-a,o+s]),ue(this,xb,i),ue(this,yb,s),de(l=el,ff,aj).call(l),xm(r,n),_(this,W0).promise.catch(()=>{}).then(()=>{_(el,Hy).delete(this),ue(this,dd,null),ue(this,Oy,null)})}render(){const e=()=>{_(this,Ug).read().then(({value:r,done:n})=>{if(n){_(this,W0).resolve();return}_(this,Mg)??ue(this,Mg,r.lang),Object.assign(_(this,Oy),r.styles),de(this,zd,ij).call(this,r.items),e()},_(this,W0).reject)};return ue(this,Ug,_(this,Py).getReader()),_(el,Hy).add(this),e(),_(this,W0).promise}update({viewport:e,onBefore:r=null}){var s;const n=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==_(this,Dy)&&(r==null||r(),ue(this,Dy,i),xm(_(this,Uy),{rotation:i})),n!==_(this,Y0)){r==null||r(),ue(this,Y0,n);const a={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:de(s=el,ff,q5).call(s,_(this,Mg))};for(const o of _(this,Dg))a.properties=_(this,wb).get(o),a.div=o,de(this,zd,PF).call(this,a)}}cancel(){var r;const e=new Pm("TextLayer task cancelled.");(r=_(this,Ug))==null||r.cancel(e).catch(()=>{}),ue(this,Ug,null),_(this,W0).reject(e)}get textDivs(){return _(this,Dg)}get textContentItemsStr(){return _(this,vb)}static cleanup(){if(!(_(this,Hy).size>0)){_(this,Og).clear();for(const{canvas:e}of _(this,Pg).values())e.remove();_(this,Pg).clear()}}};W0=new WeakMap,gc=new WeakMap,gb=new WeakMap,mb=new WeakMap,Mg=new WeakMap,dd=new WeakMap,yb=new WeakMap,xb=new WeakMap,Ug=new WeakMap,Uy=new WeakMap,Dy=new WeakMap,Y0=new WeakMap,Oy=new WeakMap,vb=new WeakMap,Py=new WeakMap,Dg=new WeakMap,wb=new WeakMap,bb=new WeakMap,Og=new WeakMap,Pg=new WeakMap,X0=new WeakMap,Hy=new WeakMap,zd=new WeakSet,ij=function(e){var i,s;if(_(this,gb))return;(s=_(this,dd)).ctx??(s.ctx=de(i=el,ff,q5).call(i,_(this,Mg)));const r=_(this,Dg),n=_(this,vb);for(const a of e){if(r.length>xoe){pn("Ignoring additional textDivs for performance reasons."),ue(this,gb,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=_(this,gc);ue(this,gc,document.createElement("span")),_(this,gc).classList.add("markedContent"),a.id!==null&&_(this,gc).setAttribute("id",`${a.id}`),o.append(_(this,gc))}else a.type==="endMarkedContent"&&ue(this,gc,_(this,gc).parentNode);continue}n.push(a.str),de(this,zd,sj).call(this,a)}},sj=function(e){var x;const r=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};_(this,Dg).push(r);const i=yr.transform(_(this,bb),e.transform);let s=Math.atan2(i[1],i[0]);const a=_(this,Oy)[e.fontName];a.vertical&&(s+=Math.PI/2);const o=_(this,mb)&&a.fontSubstitution||a.fontFamily,l=Math.hypot(i[2],i[3]),c=l*de(x=el,ff,oj).call(x,o,_(this,Mg));let u,f;s===0?(u=i[4],f=i[5]-c):(u=i[4]+c*Math.sin(s),f=i[5]-c*Math.cos(s));const p="calc(var(--scale-factor)*",g=r.style;_(this,gc)===_(this,Uy)?(g.left=`${(100*u/_(this,xb)).toFixed(2)}%`,g.top=`${(100*f/_(this,yb)).toFixed(2)}%`):(g.left=`${p}${u.toFixed(2)}px)`,g.top=`${p}${f.toFixed(2)}px)`),g.fontSize=`${p}${(_(el,X0)*l).toFixed(2)}px)`,g.fontFamily=o,n.fontSize=l,r.setAttribute("role","presentation"),r.textContent=e.str,r.dir=e.dir,_(this,mb)&&(r.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const w=Math.abs(e.transform[0]),S=Math.abs(e.transform[3]);w!==S&&Math.max(w,S)/Math.min(w,S)>1.5&&(y=!0)}if(y&&(n.canvasWidth=a.vertical?e.height:e.width),_(this,wb).set(r,n),_(this,dd).div=r,_(this,dd).properties=n,de(this,zd,PF).call(this,_(this,dd)),n.hasText&&_(this,gc).append(r),n.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),_(this,gc).append(w)}},PF=function(e){const{div:r,properties:n,ctx:i,prevFontSize:s,prevFontFamily:a}=e,{style:o}=r;let l="";if(_(el,X0)>1&&(l=`scale(${1/_(el,X0)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=o,{canvasWidth:u,fontSize:f}=n;(s!==f||a!==c)&&(i.font=`${f*_(this,Y0)}px ${c}`,e.prevFontSize=f,e.prevFontFamily=c);const{width:p}=i.measureText(r.textContent);p>0&&(l=`scaleX(${u*_(this,Y0)/p}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)},ff=new WeakSet,q5=function(e=null){let r=_(this,Pg).get(e||(e=""));if(!r){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),r=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),_(this,Pg).set(e,r)}return r},aj=function(){if(_(this,X0)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),ue(this,X0,e.getBoundingClientRect().height),e.remove()},oj=function(e,r){const n=_(this,Og).get(e);if(n)return n;const i=de(this,ff,q5).call(this,r),s=i.font;i.canvas.width=i.canvas.height=uc,i.font=`${uc}px ${e}`;const a=i.measureText("");let o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);if(o){const f=o/(o+l);return _(this,Og).set(e,f),i.canvas.width=i.canvas.height=0,i.font=s,f}i.strokeStyle="red",i.clearRect(0,0,uc,uc),i.strokeText("g",0,0);let c=i.getImageData(0,0,uc,uc).data;l=0;for(let f=c.length-1-3;f>=0;f-=4)if(c[f]>0){l=Math.ceil(f/4/uc);break}i.clearRect(0,0,uc,uc),i.strokeText("A",0,uc),c=i.getImageData(0,0,uc,uc).data,o=0;for(let f=0,p=c.length;f<p;f+=4)if(c[f]>0){o=uc-Math.floor(f/4/uc);break}i.canvas.width=i.canvas.height=0,i.font=s;const u=o?o/(o+l):voe;return _(this,Og).set(e,u),u},ge(el,ff),ge(el,Og,new Map),ge(el,Pg,new Map),ge(el,X0,null),ge(el,Hy,new Set);let Sx=el;function woe(){x9("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:t,container:e,viewport:r,...n}=arguments[0],i=Object.keys(n);i.length>0&&pn("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new Sx({textContentSource:t,container:e,viewport:r}),{textDivs:a,textContentItemsStr:o}=s;return{promise:s.render(),textDivs:a,textContentItemsStr:o}}function boe(){x9("`updateTextLayer`, please use `TextLayer` instead.")}class Aw{static textContent(e){const r=[],n={items:r,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(Aw.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&r.push({str:a}),!!s.children)for(const c of s.children)i(c)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const Coe=65536,Soe=100,_oe=5e3,Eoe=ll?Dae:Sae,Boe=ll?Oae:m9,Toe=ll?Uae:Cae,Noe=ll?Pae:y9;function Foe(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new HF,{docId:r}=e,n=t.url?Ioe(t.url):null,i=t.data?koe(t.data):null,s=t.httpHeaders||null,a=t.withCredentials===!0,o=t.password??null,l=t.range instanceof lj?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:Coe;let u=t.worker instanceof Ay?t.worker:null;const f=t.verbosity,p=typeof t.docBaseUrl=="string"&&!oL(t.docBaseUrl)?t.docBaseUrl:null,g=typeof t.cMapUrl=="string"?t.cMapUrl:null,y=t.cMapPacked!==!1,x=t.CMapReaderFactory||Boe,w=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,S=t.StandardFontDataFactory||Noe,B=t.stopAtErrors!==!0,F=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,k=t.isEvalSupported!==!1,O=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!ll,R=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,D=typeof t.disableFontFace=="boolean"?t.disableFontFace:ll,Q=t.fontExtraProperties===!0,V=t.enableXfa===!0,re=t.ownerDocument||globalThis.document,P=t.disableRange===!0,H=t.disableStream===!0,q=t.disableAutoFetch===!0,Z=t.pdfBug===!0,se=t.enableHWA===!0,X=l?l.length:t.length??NaN,ee=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!ll&&!D,te=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:x===m9&&S===y9&&g&&w&&d2(g,document.baseURI)&&d2(w,document.baseURI),Ce=t.canvasFactory||new Eoe({ownerDocument:re,enableHWA:se}),ke=t.filterFactory||new Toe({docId:r,ownerDocument:re}),le=null;hae(f);const M={canvasFactory:Ce,filterFactory:ke};if(te||(M.cMapReaderFactory=new x({baseUrl:g,isCompressed:y}),M.standardFontDataFactory=new S({baseUrl:w})),!u){const J={verbosity:f,port:Id.workerPort};u=J.port?Ay.fromPort(J):new Ay(J),e._worker=u}const G={docId:r,apiVersion:"4.4.168",data:i,password:o,disableAutoFetch:q,rangeChunkSize:c,length:X,docBaseUrl:p,enableXfa:V,evaluatorOptions:{maxImageSize:F,disableFontFace:D,ignoreErrors:B,isEvalSupported:k,isOffscreenCanvasSupported:O,canvasMaxAreaInBytes:R,fontExtraProperties:Q,useSystemFonts:ee,cMapUrl:te?g:null,standardFontDataUrl:te?w:null}},W={disableFontFace:D,fontExtraProperties:Q,ownerDocument:re,pdfBug:Z,styleElement:le,loadingParams:{disableAutoFetch:q,enableXfa:V}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const J=u.messageHandler.sendWithPromise("GetDocRequest",G,i?[i.buffer]:null);let ae;if(l)ae=new roe(l,{disableRange:P,disableStream:H});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");ae=(Fe=>ll?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&d2(Fe.url)?new b8(Fe):new doe(Fe):d2(Fe.url)?new b8(Fe):new Aoe(Fe))({url:n,length:X,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:P,disableStream:H})}return J.then(ve=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Fe=new m2(r,ve,u.port),Ie=new Uoe(Fe,e,ae,W,M);e._transport=Ie,Fe.send("Ready",null)})}).catch(e._capability.reject),e}function Ioe(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(ll&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function koe(t){if(ll&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return DB(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function C8(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var hB;const fB=class fB{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Pc(fB,hB)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,r,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((r=this._transport)==null?void 0:r.destroy())}catch(i){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};hB=new WeakMap,ge(fB,hB,0);let HF=fB;class lj{constructor(e,r,n=!1,i=null){this.length=e,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,r){for(const n of this._rangeListeners)n(e,r)}onDataProgress(e,r){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,r)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const r of this._progressiveReadListeners)r(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,r){Di("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Loe{constructor(e,r){this._pdfInfo=e,this._transport=r}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Kn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(r)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var J0,pd,QA,V1,z5;class Roe{constructor(e,r,n,i=!1){ge(this,QA);ge(this,J0,null);ge(this,pd,!1);this._pageIndex=e,this._pageInfo=r,this._transport=n,this._stats=i?new c8:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new cj,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:r=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new pC({viewBox:this.view,scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,r)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Kn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:r,intent:n="display",annotationMode:i=j0.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null}){var F,k;(F=this._stats)==null||F.time("Overall");const f=this._transport.getRenderingIntent(n,i,u),{renderingIntent:p,cacheKey:g}=f;ue(this,pd,!1),de(this,QA,z5).call(this),o||(o=this._transport.getOptionalContentConfig(p));let y=this._intentStates.get(g);y||(y=Object.create(null),this._intentStates.set(g,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const x=!!(p&OA.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(k=this._stats)==null||k.time("Page Request"),this._pumpOperatorList(f));const w=O=>{var R;y.renderTasks.delete(S),(this._maybeCleanupAfterRender||x)&&ue(this,pd,!0),de(this,QA,V1).call(this,!x),O?(S.capability.reject(O),this._abortOperatorList({intentState:y,reason:O instanceof Error?O:new Error(O)})):S.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(R=globalThis.Stats)!=null&&R.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},S=new jF({callback:w,params:{canvasContext:e,viewport:r,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:c});(y.renderTasks||(y.renderTasks=new Set)).add(S);const B=S.task;return Promise.all([y.displayReadyCapability.promise,o]).then(([O,R])=>{var D;if(this.destroyed){w();return}if((D=this._stats)==null||D.time("Rendering"),!(R.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");S.initializeGraphics({transparency:O,optionalContentConfig:R}),S.operatorListChanged()}).catch(w),B}getOperatorList({intent:e="display",annotationMode:r=j0.ENABLE,printAnnotationStorage:n=null}={}){var l;function i(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(o))}const s=this._transport.getRenderingIntent(e,r,n,!0);let a=this._intentStates.get(s.cacheKey);a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a));let o;return a.opListReadCapability||(o=Object.create(null),o.operatorListChanged=i,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(o),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:r===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Aw.textContent(n));const r=this.streamTextContent(e);return new Promise(function(n,i){function s(){a.read().then(function({value:l,done:c}){if(c){n(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=r.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const n of r.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),ue(this,pd,!1),de(this,QA,z5).call(this),Promise.all(e)}cleanup(e=!1){ue(this,pd,!0);const r=de(this,QA,V1).call(this,!1);return e&&r&&this._stats&&(this._stats=new c8),r}_startRenderPage(e,r){var i,s;const n=this._intentStates.get(r);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,r){for(let n=0,i=e.length;n<i;n++)r.operatorList.fnArray.push(e.fnArray[n]),r.operatorList.argsArray.push(e.argsArray[n]);r.operatorList.lastChunk=e.lastChunk,r.operatorList.separateAnnots=e.separateAnnots;for(const n of r.renderTasks)n.operatorListChanged();e.lastChunk&&de(this,QA,V1).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:r,annotationStorageSerializable:n}){const{map:i,transfer:s}=n,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:r,annotationStorage:i},s).getReader(),l=this._intentStates.get(r);l.streamReader=o;const c=()=>{o.read().then(({value:u,done:f})=>{if(f){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,l),c())},u=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const f of l.renderTasks)f.operatorListChanged();de(this,QA,V1).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(u);else if(l.opListReadCapability)l.opListReadCapability.reject(u);else throw u}})};c()}_abortOperatorList({intentState:e,reason:r,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(r instanceof aL){let i=Soe;r.extraDelay>0&&r.extraDelay<1e3&&(i+=r.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:r,force:!0})},i);return}}if(e.streamReader.cancel(new Pm(r.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}J0=new WeakMap,pd=new WeakMap,QA=new WeakSet,V1=function(e=!1){if(de(this,QA,z5).call(this),!_(this,pd)||this.destroyed)return!1;if(e)return ue(this,J0,setTimeout(()=>{ue(this,J0,null),de(this,QA,V1).call(this,!1)},_oe)),!1;for(const{renderTasks:r,operatorList:n}of this._intentStates.values())if(r.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ue(this,pd,!1),!0},z5=function(){_(this,J0)&&(clearTimeout(_(this,J0)),ue(this,J0,null))};var Hg,dB;class Moe{constructor(){ge(this,Hg,new Set);ge(this,dB,Promise.resolve())}postMessage(e,r){const n={data:structuredClone(e,r?{transfer:r}:null)};_(this,dB).then(()=>{for(const i of _(this,Hg))i.call(this,n)})}addEventListener(e,r){_(this,Hg).add(r)}removeEventListener(e,r){_(this,Hg).delete(r)}terminate(){_(this,Hg).clear()}}Hg=new WeakMap,dB=new WeakMap;const sd={isWorkerDisabled:!1,fakeWorkerId:0};ll&&(sd.isWorkerDisabled=!0,Id.workerSrc||(Id.workerSrc="./pdf.worker.mjs")),sd.isSameOrigin=function(t,e){let r;try{if(r=new URL(t),!r.origin||r.origin==="null")return!1}catch{return!1}const n=new URL(e,r);return r.origin===n.origin},sd.createCDNWrapper=function(t){const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Qg,Qy,K5,jy,W5;const Gc=class Gc{constructor({name:e=null,port:r=null,verbosity:n=fae()}={}){ge(this,Qy);var i;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,r){if((i=_(Gc,Qg))!=null&&i.has(r))throw new Error("Cannot use more than one PDFWorker per port.");(_(Gc,Qg)||ue(Gc,Qg,new WeakMap)).set(r,this),this._initializeFromPort(r);return}this._initialize()}get promise(){return ll?Promise.all([df.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new m2("main","worker",e),this._messageHandler.on("ready",function(){}),de(this,Qy,K5).call(this)}_initialize(){if(sd.isWorkerDisabled||_(Gc,jy,W5)){this._setupFakeWorker();return}let{workerSrc:e}=Gc;try{sd.isSameOrigin(window.location.href,e)||(e=sd.createCDNWrapper(new URL(e,window.location).href));const r=new Worker(e,{type:"module"}),n=new m2("main","worker",r),i=()=>{s.abort(),n.destroy(),r.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;r.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),n.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}this._messageHandler=n,this._port=r,this._webWorker=r,de(this,Qy,K5).call(this)}),n.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{MB("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){sd.isWorkerDisabled||(pn("Setting up fake worker."),sd.isWorkerDisabled=!0),Gc._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const r=new Moe;this._port=r;const n=`fake${sd.fakeWorkerId++}`,i=new m2(n+"_worker",n,r);e.setup(i,r),this._messageHandler=new m2(n,n+"_worker",r),de(this,Qy,K5).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=_(Gc,Qg))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const r=(n=_(this,Qg))==null?void 0:n.get(e.port);if(r){if(r._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return r}return new Gc(e)}static get workerSrc(){if(Id.workerSrc)return Id.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Kn(this,"_setupFakeWorkerGlobal",(async()=>_(this,jy,W5)?_(this,jy,W5):(await import(this.workerSrc)).WorkerMessageHandler)())}};Qg=new WeakMap,Qy=new WeakSet,K5=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},jy=new WeakSet,W5=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},ge(Gc,jy),ge(Gc,Qg);let Ay=Gc;var gd,Jh,Gy,Vy,Zh,jg,y2;class Uoe{constructor(e,r,n,i,s){ge(this,jg);ge(this,gd,new Map);ge(this,Jh,new Map);ge(this,Gy,new Map);ge(this,Vy,new Map);ge(this,Zh,null);this.messageHandler=e,this.loadingTask=r,this.commonObjs=new cj,this.fontLoader=new Rae({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Kn(this,"annotationStorage",new AL)}getRenderingIntent(e,r=j0.ENABLE,n=null,i=!1){let s=OA.DISPLAY,a=kF;switch(e){case"any":s=OA.ANY;break;case"display":break;case"print":s=OA.PRINT;break;default:pn(`getRenderingIntent - invalid intent: ${e}`)}switch(r){case j0.DISABLE:s+=OA.ANNOTATIONS_DISABLE;break;case j0.ENABLE:break;case j0.ENABLE_FORMS:s+=OA.ANNOTATIONS_FORMS;break;case j0.ENABLE_STORAGE:s+=OA.ANNOTATIONS_STORAGE,a=(s&OA.PRINT&&n instanceof z9?n:this.annotationStorage).serializable;break;default:pn(`getRenderingIntent - invalid annotationMode: ${r}`)}return i&&(s+=OA.OPLIST),{renderingIntent:s,cacheKey:`${s}_${a.hash}`,annotationStorageSerializable:a}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=_(this,Zh))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of _(this,Jh).values())e.push(i._destroy());_(this,Jh).clear(),_(this,Gy).clear(),_(this,Vy).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return e.push(r),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),_(this,gd).clear(),this.filterFactory.destroy(),Sx.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Pm("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:r}=this;e.on("GetReader",(n,i)=>{Ha(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Ha(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",n=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var a;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((a=r.onProgress)==null||a.call(r,this._lastProgress)),s.onProgress=o=>{var l;(l=r.onProgress)==null||l.call(r,{loaded:o.loaded,total:o.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(n,i)=>{Ha(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Ha(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new Loe(n,this))}),e.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new cF(n.message,n.code);break;case"InvalidPDFException":i=new f9(n.message);break;case"MissingPDFException":i=new Om(n.message);break;case"UnexpectedResponseException":i=new UB(n.message,n.status);break;case"UnknownErrorException":i=new AF(n.message,n.details);break;default:Di("DocException - expected a valid Error.")}r._capability.reject(i)}),e.on("PasswordRequest",n=>{if(ue(this,Zh,Promise.withResolvers()),r.onPassword){const i=s=>{s instanceof Error?_(this,Zh).reject(s):_(this,Zh).resolve({password:s})};try{r.onPassword(i,n.code)}catch(s){_(this,Zh).reject(s)}}else _(this,Zh).reject(new cF(n.message,n.code));return _(this,Zh).promise}),e.on("DataLoaded",n=>{var i;(i=r.onProgress)==null||i.call(r,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;_(this,Jh).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in s){const g=s.error;pn(`Error during font loading: ${g}`),this.commonObjs.resolve(n,g);break}const u=c&&((a=globalThis.FontInspector)!=null&&a.enabled)?(g,y)=>globalThis.FontInspector.fontAdded(g,y):null,f=new Mae(s,{disableFontFace:o,inspectFont:u});this.fontLoader.bind(f).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!l&&f.data&&(f.data=null),this.commonObjs.resolve(n,f)});break;case"CopyLocalImage":const{imageRef:p}=s;Ha(p,"The imageRef must be defined.");for(const g of _(this,Jh).values())for(const[,y]of g.objs)if((y==null?void 0:y.ref)===p)return y.dataLen?(this.commonObjs.resolve(n,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,s,a])=>{var l;if(this.destroyed)return;const o=_(this,Jh).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":o.objs.resolve(n,a),(a==null?void 0:a.dataLen)>lae&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=r.onProgress)==null||i.call(r,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&pn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},r).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=e-1,n=_(this,Gy).get(r);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&_(this,Vy).set(s.refStr,e);const a=new Roe(r,s,this,this._params.pdfBug);return _(this,Jh).set(r,a),a});return _(this,Gy).set(r,i),i}getPageIndex(e){return C8(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:r})}getFieldObjects(){return de(this,jg,y2).call(this,"GetFieldObjects")}hasJSActions(){return de(this,jg,y2).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return de(this,jg,y2).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return de(this,jg,y2).call(this,"GetOptionalContentConfig").then(r=>new toe(r,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",r=_(this,gd).get(e);if(r)return r;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new Zae(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return _(this,gd).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const r of _(this,Jh).values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),_(this,gd).clear(),this.filterFactory.destroy(!0),Sx.cleanup()}}cachedPageNumber(e){if(!C8(e))return null;const r=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return _(this,Vy).get(r)??null}}gd=new WeakMap,Jh=new WeakMap,Gy=new WeakMap,Vy=new WeakMap,Zh=new WeakMap,jg=new WeakSet,y2=function(e,r=null){const n=_(this,gd).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,r);return _(this,gd).set(e,i),i};const e5=Symbol("INITIAL_DATA");var Lu,Cb,QF;class cj{constructor(){ge(this,Cb);ge(this,Lu,Object.create(null))}get(e,r=null){if(r){const i=de(this,Cb,QF).call(this,e);return i.promise.then(()=>r(i.data)),null}const n=_(this,Lu)[e];if(!n||n.data===e5)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const r=_(this,Lu)[e];return!!r&&r.data!==e5}resolve(e,r=null){const n=de(this,Cb,QF).call(this,e);n.data=r,n.resolve()}clear(){var e;for(const r in _(this,Lu)){const{data:n}=_(this,Lu)[r];(e=n==null?void 0:n.bitmap)==null||e.close()}ue(this,Lu,Object.create(null))}*[Symbol.iterator](){for(const e in _(this,Lu)){const{data:r}=_(this,Lu)[e];r!==e5&&(yield[e,r])}}}Lu=new WeakMap,Cb=new WeakSet,QF=function(e){var r;return(r=_(this,Lu))[e]||(r[e]={...Promise.withResolvers(),data:e5})};var Z0;class Doe{constructor(e){ge(this,Z0,null);ue(this,Z0,e),this.onContinue=null}get promise(){return _(this,Z0).capability.promise}cancel(e=0){_(this,Z0).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=_(this,Z0).operatorList;if(!e)return!1;const{annotationCanvasMap:r}=_(this,Z0);return e.form||e.canvas&&(r==null?void 0:r.size)>0}}Z0=new WeakMap;var ep,Gg;const Ag=class Ag{constructor({callback:e,params:r,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:f=!1,pageColors:p=null}){ge(this,ep,null);this.callback=e,this.params=r,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=f,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Doe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:r}){var o,l;if(this.cancelled)return;if(this._canvas){if(_(Ag,Gg).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_(Ag,Gg).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:s,background:a}=this.params;this.gfx=new cy(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,r=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),_(this,ep)&&(window.cancelAnimationFrame(_(this,ep)),ue(this,ep,null)),_(Ag,Gg).delete(this._canvas),this.callback(e||new aL(`Rendering cancelled, page ${this._pageIndex+1}`,r))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?ue(this,ep,window.requestAnimationFrame(()=>{ue(this,ep,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_(Ag,Gg).delete(this._canvas),this.callback())))}};ep=new WeakMap,Gg=new WeakMap,ge(Ag,Gg,new WeakSet);let jF=Ag;const Ooe="4.4.168",Poe="19fbc8998";function S8(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Hv(t){return Math.max(0,Math.min(255,255*t))}class _8{static CMYK_G([e,r,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*r+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Hv(e),[e,e,e]}static G_HTML([e]){const r=S8(e);return`#${r}${r}${r}`}static RGB_G([e,r,n]){return["G",.3*e+.59*r+.11*n]}static RGB_rgb(e){return e.map(Hv)}static RGB_HTML(e){return`#${e.map(S8).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,r,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,r+i)]}static CMYK_rgb([e,r,n,i]){return[Hv(1-Math.min(1,e+i)),Hv(1-Math.min(1,n+i)),Hv(1-Math.min(1,r+i))]}static CMYK_HTML(e){const r=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(r)}static RGB_CMYK([e,r,n]){const i=1-e,s=1-r,a=1-n,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class Aj{static setupStorage(e,r,n,i,s){const a=i.getValue(r,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(r,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(r,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(r,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(r,{value:c})});break}}static setAttributes({html:e,element:r,storage:n=null,intent:i,linkService:s}){const{attributes:a}=r,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&s.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,r,n)}static render(e){var f,p;const r=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const g=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=g}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const g=document.createTextNode(i.value);a.append(g),o&&Aw.shouldBuildText(i.name)&&c.push(g)}return{textDivs:c}}const u=[[i,-1,a]];for(;u.length>0;){const[g,y,x]=u.at(-1);if(y+1===g.children.length){u.pop();continue}const w=g.children[++u.at(-1)[1]];if(w===null)continue;const{name:S}=w;if(S==="#text"){const F=document.createTextNode(w.value);c.push(F),x.append(F);continue}const B=(f=w==null?void 0:w.attributes)!=null&&f.xmlns?document.createElementNS(w.attributes.xmlns,S):document.createElement(S);if(x.append(B),w.attributes&&this.setAttributes({html:B,element:w,storage:r,intent:s,linkService:n}),((p=w.children)==null?void 0:p.length)>0)u.push([w,-1,B]);else if(w.value){const F=document.createTextNode(w.value);o&&Aw.shouldBuildText(S)&&c.push(F),B.append(F)}}for(const g of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const r=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=r,e.div.hidden=!1}}const yC=1e3,Hoe=9,wm=new WeakSet;function kd(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class Qoe{static create(e){switch(e.data.annotationType){case La.LINK:return new uj(e);case La.TEXT:return new joe(e);case La.WIDGET:switch(e.data.fieldType){case"Tx":return new Goe(e);case"Btn":return e.data.radioButton?new dj(e):e.data.checkBox?new $oe(e):new qoe(e);case"Ch":return new zoe(e);case"Sig":return new Voe(e)}return new Hm(e);case La.POPUP:return new VF(e);case La.FREETEXT:return new xj(e);case La.LINE:return new Woe(e);case La.SQUARE:return new Yoe(e);case La.CIRCLE:return new Xoe(e);case La.POLYLINE:return new vj(e);case La.CARET:return new Zoe(e);case La.INK:return new wj(e);case La.POLYGON:return new Joe(e);case La.HIGHLIGHT:return new ele(e);case La.UNDERLINE:return new tle(e);case La.SQUIGGLY:return new rle(e);case La.STRIKEOUT:return new nle(e);case La.STAMP:return new bj(e);case La.FILEATTACHMENT:return new ile(e);default:return new na(e)}}}var Vg,$y,qy,Sb,GF;const pM=class pM{constructor(e,{isRenderable:r=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){ge(this,Sb);ge(this,Vg,null);ge(this,$y,!1);ge(this,qy,null);this.isRenderable=r,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,r&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:r,richText:n}){return!!(e!=null&&e.str||r!=null&&r.str||n!=null&&n.str)}get hasPopupData(){return pM._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;_(this,Vg)||ue(this,Vg,{rect:this.data.rect.slice(0)});const{rect:r}=e;r&&de(this,Sb,GF).call(this,r),(n=_(this,qy))==null||n.popup.updateEdited(e)}resetEdited(){var e;_(this,Vg)&&(de(this,Sb,GF).call(this,_(this,Vg).rect),(e=_(this,qy))==null||e.popup.resetEdited(),ue(this,Vg,null))}_createContainer(e){const{data:r,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",r.id),this instanceof Hm||(s.tabIndex=yC);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,r.popupRef&&s.setAttribute("aria-haspopup","dialog"),r.alternativeText&&(s.title=r.alternativeText),r.noRotate&&s.classList.add("norotate"),!r.rect||this instanceof VF){const{rotation:x}=r;return!r.hasOwnCanvas&&x!==0&&this.setRotation(x,s),s}const{width:o,height:l}=kd(r.rect);if(!e&&r.borderStyle.width>0){a.borderWidth=`${r.borderStyle.width}px`;const x=r.borderStyle.horizontalCornerRadius,w=r.borderStyle.verticalCornerRadius;if(x>0||w>0){const B=`calc(${x}px * var(--scale-factor)) / calc(${w}px * var(--scale-factor))`;a.borderRadius=B}else if(this instanceof dj){const B=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;a.borderRadius=B}switch(r.borderStyle.style){case Ov.SOLID:a.borderStyle="solid";break;case Ov.DASHED:a.borderStyle="dashed";break;case Ov.BEVELED:pn("Unimplemented border style: beveled");break;case Ov.INSET:pn("Unimplemented border style: inset");break;case Ov.UNDERLINE:a.borderBottomStyle="solid";break}const S=r.borderColor||null;S?(ue(this,$y,!0),a.borderColor=yr.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):a.borderWidth=0}const c=yr.normalizeRect([r.rect[0],n.view[3]-r.rect[1]+n.view[1],r.rect[2],n.view[3]-r.rect[3]+n.view[1]]),{pageWidth:u,pageHeight:f,pageX:p,pageY:g}=i.rawDims;a.left=`${100*(c[0]-p)/u}%`,a.top=`${100*(c[1]-g)/f}%`;const{rotation:y}=r;return r.hasOwnCanvas||y===0?(a.width=`${100*o/u}%`,a.height=`${100*l/f}%`):this.setRotation(y,s),s}setRotation(e,r=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:a}=kd(this.data.rect);let o,l;e%180===0?(o=100*s/n,l=100*a/i):(o=100*a/n,l=100*s/i),r.style.width=`${o}%`,r.style.height=`${l}%`,r.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(r,n,i)=>{const s=i.detail[r],a=s[0],o=s.slice(1);i.target.style[n]=_8[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:_8[`${a}_rgb`](o)})};return Kn(this,"_commonActions",{display:r=>{const{display:n}=r.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:r=>{this.annotationStorage.setValue(this.data.id,{noPrint:!r.detail.print})},hidden:r=>{const{hidden:n}=r.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:r=>{setTimeout(()=>r.target.focus({preventScroll:!1}),0)},userName:r=>{r.target.title=r.detail.userName},readonly:r=>{r.target.disabled=r.detail.readonly},required:r=>{this._setRequired(r.target,r.detail.required)},bgColor:r=>{e("bgColor","backgroundColor",r)},fillColor:r=>{e("fillColor","backgroundColor",r)},fgColor:r=>{e("fgColor","color",r)},textColor:r=>{e("textColor","color",r)},borderColor:r=>{e("borderColor","borderColor",r)},strokeColor:r=>{e("strokeColor","borderColor",r)},rotation:r=>{const n=r.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,r){const n=this._commonActions;for(const i of Object.keys(r.detail)){const s=e[i]||n[i];s==null||s(r)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const r=this.annotationStorage.getRawValue(this.data.id);if(!r)return;const n=this._commonActions;for(const[i,s]of Object.entries(r)){const a=n[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete r[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[r,n,i,s]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,w,S,B]=e.subarray(2,6);if(i===x&&s===w&&r===S&&n===B)return}const{style:a}=this.container;let o;if(_(this,$y)){const{borderColor:x,borderWidth:w}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const l=i-r,c=s-n,{svgFactory:u}=this,f=u.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0);const p=u.createElement("defs");f.append(p);const g=u.createElement("clipPath"),y=`clippath_${this.data.id}`;g.setAttribute("id",y),g.setAttribute("clipPathUnits","objectBoundingBox"),p.append(g);for(let x=2,w=e.length;x<w;x+=8){const S=e[x],B=e[x+1],F=e[x+2],k=e[x+3],O=u.createElement("rect"),R=(F-r)/l,D=(s-B)/c,Q=(S-F)/l,V=(B-k)/c;O.setAttribute("x",R),O.setAttribute("y",D),O.setAttribute("width",Q),O.setAttribute("height",V),g.append(O),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${D}" width="${Q}" height="${V}"/>`)}_(this,$y)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(f),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{container:e,data:r}=this;e.setAttribute("aria-haspopup","dialog");const n=ue(this,qy,new VF({data:{color:r.color,titleObj:r.titleObj,modificationDate:r.modificationDate,contentsObj:r.contentsObj,richText:r.richText,parentRect:r.rect,borderStyle:0,id:`popup_${r.id}`,rotation:r.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){Di("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,r=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===r)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!wm.has(c)){pn(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:l,domElement:c})}return n}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==r&&wm.has(i)&&n.push({id:a,exportValue:s,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const r of e)r.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:r}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:r})})}};Vg=new WeakMap,$y=new WeakMap,qy=new WeakMap,Sb=new WeakSet,GF=function(e){const{container:{style:r},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;n==null||n.splice(0,4,...e);const{width:c,height:u}=kd(e);r.left=`${100*(e[0]-o)/s}%`,r.top=`${100*(a-e[3]+l)/a}%`,i===0?(r.width=`${100*c/s}%`,r.height=`${100*u/a}%`):this.setRotation(i)};let na=pM;var rA,Zp,hj,fj;class uj extends na{constructor(r,n=null){super(r,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});ge(this,rA);this.isTooltipOnly=r.data.isTooltipOnly}render(){const{data:r,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",r.id);let s=!1;return r.url?(n.addLinkAttributes(i,r.url,r.newWindow),s=!0):r.action?(this._bindNamedAction(i,r.action),s=!0):r.attachment?(de(this,rA,hj).call(this,i,r.attachment,r.attachmentDest),s=!0):r.setOCGState?(de(this,rA,fj).call(this,i,r.setOCGState),s=!0):r.dest?(this._bindLink(i,r.dest),s=!0):(r.actions&&(r.actions.Action||r.actions["Mouse Up"]||r.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,r),s=!0),r.resetForm?(this._bindResetFormAction(i,r.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(r,n){r.href=this.linkService.getDestinationHash(n),r.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&de(this,rA,Zp).call(this)}_bindNamedAction(r,n){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeNamedAction(n),!1),de(this,rA,Zp).call(this)}_bindJSAction(r,n){r.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const a=i.get(s);a&&(r[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}r.onclick||(r.onclick=()=>!1),de(this,rA,Zp).call(this)}_bindResetFormAction(r,n){const i=r.onclick;if(i||(r.href=this.linkService.getAnchorUrl("")),de(this,rA,Zp).call(this),!this._fieldObjects){pn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(r.onclick=()=>!1);return}r.onclick=()=>{var f;i==null||i();const{fields:s,refs:a,include:o}=n,l=[];if(s.length!==0||a.length!==0){const p=new Set(a);for(const g of s){const y=this._fieldObjects[g]||[];for(const{id:x}of y)p.add(x)}for(const g of Object.values(this._fieldObjects))for(const y of g)p.has(y.id)===o&&l.push(y)}else for(const p of Object.values(this._fieldObjects))l.push(...p);const c=this.annotationStorage,u=[];for(const p of l){const{id:g}=p;switch(u.push(g),p.type){case"text":{const x=p.defaultValue||"";c.setValue(g,{value:x});break}case"checkbox":case"radiobutton":{const x=p.defaultValue===p.exportValues;c.setValue(g,{value:x});break}case"combobox":case"listbox":{const x=p.defaultValue||"";c.setValue(g,{value:x});break}default:continue}const y=document.querySelector(`[data-element-id="${g}"]`);if(y){if(!wm.has(y)){pn(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}rA=new WeakSet,Zp=function(){this.container.setAttribute("data-internal-link","")},hj=function(r,n,i=null){r.href=this.linkService.getAnchorUrl(""),n.description&&(r.title=n.description),r.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(n.content,n.filename,i),!1},de(this,rA,Zp).call(this)},fj=function(r,n){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeSetOCGState(n),!1),de(this,rA,Zp).call(this)};class joe extends na{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Hm extends na{render(){return this.container}showElementAndHideCanvas(e){var r;this.data.hasOwnCanvas&&(((r=e.previousSibling)==null?void 0:r.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return bc.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,r,n,i,s){n.includes("mouse")?e.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{var o;if(n==="blur"){if(!r.focused||!a.relatedTarget)return;r.focused=!1}else if(n==="focus"){if(r.focused)return;r.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,r,n,i){var s,a,o;for(const[l,c]of n)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(r||(r={focused:!1})),this._setEventListener(e,r,l,c,i),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,r,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,r,"focus","Focus",null))}_setBackgroundColor(e){const r=this.data.backgroundColor||null;e.style.backgroundColor=r===null?"transparent":yr.makeHexColor(r[0],r[1],r[2])}_setTextStyle(e){const r=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Hoe,s=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(c/(j3*i))||1,f=c/u;a=Math.min(i,l(f/j3))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/j3))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=yr.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=r[this.data.textAlignment])}_setRequired(e,r){r?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",r)}}class Goe extends Hm{constructor(e){const r=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:r})}setPropertyOnSiblings(e,r,n,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[r]=n),s.setValue(a.id,{[i]:n})}render(){var i,s;const e=this.annotationStorage,r=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(r,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(r,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",c??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),wm.add(n),n.setAttribute("data-element-id",r),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=yC,this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",p=>{e.setValue(r,{value:p.target.value}),this.setPropertyOnSiblings(n,"value",p.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue??"";n.value=u.userValue=g,u.formattedValue=null});let f=p=>{const{formattedValue:g}=u;g!=null&&(p.target.value=g),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",g=>{var x;if(u.focused)return;const{target:y}=g;u.userValue&&(y.value=u.userValue),u.lastCommittedValue=y.value,u.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const y={value(x){u.userValue=x.detail.value??"",e.setValue(r,{value:u.userValue.toString()}),x.target.value=u.userValue},formattedValue(x){const{formattedValue:w}=x.detail;u.formattedValue=w,w!=null&&x.target!==document.activeElement&&(x.target.value=w),e.setValue(r,{formattedValue:w})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var F;const{charLimit:w}=x.detail,{target:S}=x;if(w===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",w);let B=u.userValue;!B||B.length<=w||(B=B.slice(0,w),S.value=u.userValue=B,e.setValue(r,{value:B}),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:B,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(y,g)}),n.addEventListener("keydown",g=>{var w;u.commitKey=1;let y=-1;if(g.key==="Escape"?y=0:g.key==="Enter"&&!this.data.multiLine?y=2:g.key==="Tab"&&(u.commitKey=3),y===-1)return;const{value:x}=g.target;u.lastCommittedValue!==x&&(u.lastCommittedValue=x,u.userValue=x,(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:x,willCommit:!0,commitKey:y,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const p=f;f=null,n.addEventListener("blur",g=>{var x,w;if(!u.focused||!g.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(u.focused=!1);const{value:y}=g.target;u.userValue=y,u.lastCommittedValue!==y&&((w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:y,willCommit:!0,commitKey:u.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}})),p(g)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",g=>{var O;u.lastCommittedValue=null;const{data:y,target:x}=g,{value:w,selectionStart:S,selectionEnd:B}=x;let F=S,k=B;switch(g.inputType){case"deleteWordBackward":{const R=w.substring(0,S).match(/\w*[^\w]*$/);R&&(F-=R[0].length);break}case"deleteWordForward":{const R=w.substring(S).match(/^[^\w]*\w*/);R&&(k+=R[0].length);break}case"deleteContentBackward":S===B&&(F-=1);break;case"deleteContentForward":S===B&&(k+=1);break}g.preventDefault(),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:w,change:y||"",willCommit:!1,selStart:F,selEnd:k}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(f&&n.addEventListener("blur",f),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${g}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Voe extends Hm{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class $oe extends Hm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,r=this.data,n=r.id;let i=e.getValue(n,{value:r.exportValue===r.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return wm.add(s),s.setAttribute("data-element-id",n),s.disabled=r.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=r.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",r.exportValue),s.tabIndex=yC,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n)){const u=l&&c.exportValue===r.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=r.defaultFieldValue||"Off";a.target.checked=o===r.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class dj extends Hm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,r=this.data,n=r.id;let i=e.getValue(n,{value:r.fieldValue===r.buttonValue}).value;if(typeof i=="string"&&(i=i!==r.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(r.fieldName,n))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(wm.add(s),s.setAttribute("data-element-id",n),s.disabled=r.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=r.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=yC,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n))e.setValue(c.id,{value:!1});e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=r.defaultFieldValue;a.target.checked=o!=null&&o===r.buttonValue}),this.enableScripting&&this.hasJSActions){const a=r.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const u=a===c.detail.value;for(const f of this._getElementsByName(c.target.name)){const p=u&&f.id===n;f.domElement&&(f.domElement.checked=p),e.setValue(f.id,{value:p})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class qoe extends uj{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const r=e.lastChild;return this.enableScripting&&this.hasJSActions&&r&&(this._setDefaultPropertiesFromJS(r),r.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class zoe extends Hm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,r=this.data.id,n=e.getValue(r,{value:this.data.fieldValue}),i=document.createElement("select");wm.add(i),i.setAttribute("data-element-id",r),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=yC;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const f=this.data.defaultFieldValue;for(const p of i.options)p.selected=p.value===f});for(const u of this.data.options){const f=document.createElement("option");f.textContent=u.displayValue,f.value=u.exportValue,n.value.includes(u.exportValue)&&(f.setAttribute("selected",!0),s=!1),i.append(f)}let a=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),a=()=>{u.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=u=>{const f=u?"value":"textContent",{options:p,multiple:g}=i;return g?Array.prototype.filter.call(p,y=>y.selected).map(y=>y[f]):p.selectedIndex===-1?null:p[p.selectedIndex][f]};let l=o(!1);const c=u=>{const f=u.target.options;return Array.prototype.map.call(f,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const f={value(p){a==null||a();const g=p.detail.value,y=new Set(Array.isArray(g)?g:[g]);for(const x of i.options)x.selected=y.has(x.value);e.setValue(r,{value:o(!0)}),l=o(!1)},multipleSelection(p){i.multiple=!0},remove(p){const g=i.options,y=p.detail.remove;g[y].selected=!1,i.remove(y),g.length>0&&Array.prototype.findIndex.call(g,w=>w.selected)===-1&&(g[0].selected=!0),e.setValue(r,{value:o(!0),items:c(p)}),l=o(!1)},clear(p){for(;i.length!==0;)i.remove(0);e.setValue(r,{value:null,items:[]}),l=o(!1)},insert(p){const{index:g,displayValue:y,exportValue:x}=p.detail.insert,w=i.children[g],S=document.createElement("option");S.textContent=y,S.value=x,w?w.before(S):i.append(S),e.setValue(r,{value:o(!0),items:c(p)}),l=o(!1)},items(p){const{items:g}=p.detail;for(;i.length!==0;)i.remove(0);for(const y of g){const{displayValue:x,exportValue:w}=y,S=document.createElement("option");S.textContent=x,S.value=w,i.append(S)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(r,{value:o(!0),items:c(p)}),l=o(!1)},indices(p){const g=new Set(p.detail.indices);for(const y of p.target.options)y.selected=g.has(y.index);e.setValue(r,{value:o(!0)}),l=o(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(f,u)}),i.addEventListener("input",u=>{var g;const f=o(!0),p=o(!1);e.setValue(r,{value:f}),u.preventDefault(),(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:l,change:p,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(r,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class VF extends na{constructor(e){const{data:r,elements:n}=e;super(e,{isRenderable:na._hasPopupData(r)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Koe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(const n of this.elements)n.popup=e,r.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(n=>`${p9}${n}`).join(",")),this.container}}var zy,pB,gB,Ky,$g,Qs,md,qg,_b,Eb,Wy,yd,Ru,xd,Bb,vd,Tb,zg,Kg,Oi,Y5,$F,pj,gj,mj,yj,X5,J5,qF;class Koe{constructor({container:e,color:r,elements:n,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:u,open:f}){ge(this,Oi);ge(this,zy,de(this,Oi,mj).bind(this));ge(this,pB,de(this,Oi,qF).bind(this));ge(this,gB,de(this,Oi,J5).bind(this));ge(this,Ky,de(this,Oi,X5).bind(this));ge(this,$g,null);ge(this,Qs,null);ge(this,md,null);ge(this,qg,null);ge(this,_b,null);ge(this,Eb,null);ge(this,Wy,null);ge(this,yd,!1);ge(this,Ru,null);ge(this,xd,null);ge(this,Bb,null);ge(this,vd,null);ge(this,Tb,null);ge(this,zg,null);ge(this,Kg,!1);var p;ue(this,Qs,e),ue(this,Tb,i),ue(this,md,a),ue(this,vd,o),ue(this,Eb,l),ue(this,$g,r),ue(this,Bb,c),ue(this,Wy,u),ue(this,_b,n),ue(this,qg,v9.toDateObject(s)),this.trigger=n.flatMap(g=>g.getElementsToTriggerPopup());for(const g of this.trigger)g.addEventListener("click",_(this,Ky)),g.addEventListener("mouseenter",_(this,gB)),g.addEventListener("mouseleave",_(this,pB)),g.classList.add("popupTriggerArea");for(const g of n)(p=g.container)==null||p.addEventListener("keydown",_(this,zy));_(this,Qs).hidden=!0,f&&de(this,Oi,X5).call(this)}render(){if(_(this,Ru))return;const e=ue(this,Ru,document.createElement("div"));if(e.className="popup",_(this,$g)){const s=e.style.outlineColor=yr.makeHexColor(..._(this,$g));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=yr.makeHexColor(..._(this,$g).map(o=>Math.floor(.7*(255-o)+o)))}const r=document.createElement("span");r.className="header";const n=document.createElement("h1");if(r.append(n),{dir:n.dir,str:n.textContent}=_(this,Tb),e.append(r),_(this,qg)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:_(this,qg).toLocaleDateString(),time:_(this,qg).toLocaleTimeString()})),r.append(s)}const i=_(this,Oi,Y5);if(i)Aj.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(_(this,md));e.append(s)}_(this,Qs).append(e)}_formatContents({str:e,dir:r}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=r;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const o=i[s];n.append(document.createTextNode(o)),s<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:r}){var n;_(this,zg)||ue(this,zg,{contentsObj:_(this,md),richText:_(this,vd)}),e&&ue(this,xd,null),r&&(ue(this,vd,de(this,Oi,gj).call(this,r)),ue(this,md,null)),(n=_(this,Ru))==null||n.remove(),ue(this,Ru,null)}resetEdited(){var e;_(this,zg)&&({contentsObj:Pc(this,md)._,richText:Pc(this,vd)._}=_(this,zg),ue(this,zg,null),(e=_(this,Ru))==null||e.remove(),ue(this,Ru,null),ue(this,xd,null))}forceHide(){ue(this,Kg,this.isVisible),_(this,Kg)&&(_(this,Qs).hidden=!0)}maybeShow(){_(this,Kg)&&(_(this,Ru)||de(this,Oi,J5).call(this),ue(this,Kg,!1),_(this,Qs).hidden=!1)}get isVisible(){return _(this,Qs).hidden===!1}}zy=new WeakMap,pB=new WeakMap,gB=new WeakMap,Ky=new WeakMap,$g=new WeakMap,Qs=new WeakMap,md=new WeakMap,qg=new WeakMap,_b=new WeakMap,Eb=new WeakMap,Wy=new WeakMap,yd=new WeakMap,Ru=new WeakMap,xd=new WeakMap,Bb=new WeakMap,vd=new WeakMap,Tb=new WeakMap,zg=new WeakMap,Kg=new WeakMap,Oi=new WeakSet,Y5=function(){const e=_(this,vd),r=_(this,md);return e!=null&&e.str&&(!(r!=null&&r.str)||r.str===e.str)&&_(this,vd).html||null},$F=function(){var e,r,n;return((n=(r=(e=_(this,Oi,Y5))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.fontSize)||0},pj=function(){var e,r,n;return((n=(r=(e=_(this,Oi,Y5))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.color)||null},gj=function(e){const r=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:r}]}},i={style:{color:_(this,Oi,pj),fontSize:_(this,Oi,$F)?`calc(${_(this,Oi,$F)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))r.push({name:"span",value:s,attributes:i});return n},mj=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&_(this,yd))&&de(this,Oi,X5).call(this)},yj=function(){if(_(this,xd)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:r,pageHeight:n,pageX:i,pageY:s}}}=_(this,Eb);let a=!!_(this,Wy),o=a?_(this,Wy):_(this,Bb);for(const y of _(this,_b))if(!o||yr.intersect(y.data.rect,o)!==null){o=y.data.rect,a=!0;break}const l=yr.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),u=a?o[2]-o[0]+5:0,f=l[0]+u,p=l[1];ue(this,xd,[100*(f-i)/r,100*(p-s)/n]);const{style:g}=_(this,Qs);g.left=`${_(this,xd)[0]}%`,g.top=`${_(this,xd)[1]}%`},X5=function(){ue(this,yd,!_(this,yd)),_(this,yd)?(de(this,Oi,J5).call(this),_(this,Qs).addEventListener("click",_(this,Ky)),_(this,Qs).addEventListener("keydown",_(this,zy))):(de(this,Oi,qF).call(this),_(this,Qs).removeEventListener("click",_(this,Ky)),_(this,Qs).removeEventListener("keydown",_(this,zy)))},J5=function(){_(this,Ru)||this.render(),this.isVisible?_(this,yd)&&_(this,Qs).classList.add("focused"):(de(this,Oi,yj).call(this),_(this,Qs).hidden=!1,_(this,Qs).style.zIndex=parseInt(_(this,Qs).style.zIndex)+1e3)},qF=function(){_(this,Qs).classList.remove("focused"),!(_(this,yd)||!this.isVisible)&&(_(this,Qs).hidden=!0,_(this,Qs).style.zIndex=parseInt(_(this,Qs).style.zIndex)-1e3)};class xj extends na{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Gn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const r of this.textContent){const n=document.createElement("span");n.textContent=r,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Nb;class Woe extends na{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});ge(this,Nb,null)}render(){this.container.classList.add("lineAnnotation");const r=this.data,{width:n,height:i}=kd(r.rect),s=this.svgFactory.create(n,i,!0),a=ue(this,Nb,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",r.rect[2]-r.lineCoordinates[0]),a.setAttribute("y1",r.rect[3]-r.lineCoordinates[1]),a.setAttribute("x2",r.rect[2]-r.lineCoordinates[2]),a.setAttribute("y2",r.rect[3]-r.lineCoordinates[3]),a.setAttribute("stroke-width",r.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _(this,Nb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nb=new WeakMap;var Fb;class Yoe extends na{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});ge(this,Fb,null)}render(){this.container.classList.add("squareAnnotation");const r=this.data,{width:n,height:i}=kd(r.rect),s=this.svgFactory.create(n,i,!0),a=r.borderStyle.width,o=ue(this,Fb,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _(this,Fb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fb=new WeakMap;var Ib;class Xoe extends na{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});ge(this,Ib,null)}render(){this.container.classList.add("circleAnnotation");const r=this.data,{width:n,height:i}=kd(r.rect),s=this.svgFactory.create(n,i,!0),a=r.borderStyle.width,o=ue(this,Ib,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _(this,Ib)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ib=new WeakMap;var kb;class vj extends na{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});ge(this,kb,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,vertices:n,borderStyle:i,popupRef:s}}=this;if(!n)return this.container;const{width:a,height:o}=kd(r),l=this.svgFactory.create(a,o,!0);let c=[];for(let f=0,p=n.length;f<p;f+=2){const g=n[f]-r[0],y=r[3]-n[f+1];c.push(`${g},${y}`)}c=c.join(" ");const u=ue(this,kb,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _(this,kb)}addHighlightArea(){this.container.classList.add("highlightArea")}}kb=new WeakMap;class Joe extends vj{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Zoe extends na{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Lb;class wj extends na{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});ge(this,Lb,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Gn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,inkLists:n,borderStyle:i,popupRef:s}}=this,{width:a,height:o}=kd(r),l=this.svgFactory.create(a,o,!0);for(const c of n){let u=[];for(let p=0,g=c.length;p<g;p+=2){const y=c[p]-r[0],x=r[3]-c[p+1];u.push(`${y},${x}`)}u=u.join(" ");const f=this.svgFactory.createElement(this.svgElementName);_(this,Lb).push(f),f.setAttribute("points",u),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),l.append(f)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return _(this,Lb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lb=new WeakMap;class ele extends na{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class tle extends na{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class rle extends na{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class nle extends na{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class bj extends na{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Rb,Mb,zF;class ile extends na{constructor(r){var i;super(r,{isRenderable:!0});ge(this,Mb);ge(this,Rb,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:r,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",de(this,Mb,zF).bind(this)),ue(this,Rb,i);const{isMac:s}=bc.platform;return r.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&de(this,Mb,zF).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),r.append(i),r}getElementsToTriggerPopup(){return _(this,Rb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rb=new WeakMap,Mb=new WeakSet,zF=function(){var r;(r=this.downloadManager)==null||r.openOrDownloadData(this.content,this.filename)};var Ub,Wg,Yy,Mm,Cj,KF;class sle{constructor({div:e,accessibilityManager:r,annotationCanvasMap:n,annotationEditorUIManager:i,page:s,viewport:a}){ge(this,Mm);ge(this,Ub,null);ge(this,Wg,null);ge(this,Yy,new Map);this.div=e,ue(this,Ub,r),ue(this,Wg,n),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var a;const{annotations:r}=e,n=this.div;xm(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new sL,annotationStorage:e.annotationStorage||new AL,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of r){if(o.noHTML)continue;const l=o.annotationType===La.POPUP;if(l){const f=i.get(o.id);if(!f)continue;s.elements=f}else{const{width:f,height:p}=kd(o.rect);if(f<=0||p<=0)continue}s.data=o;const c=Qoe.create(s);if(!c.isRenderable)continue;if(!l&&o.popupRef){const f=i.get(o.popupRef);f?f.push(c):i.set(o.popupRef,[c])}const u=c.render();o.hidden&&(u.style.visibility="hidden"),de(this,Mm,Cj).call(this,u,o.id),c.annotationEditorType>0&&(_(this,Yy).set(c.data.id,c),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(c))}de(this,Mm,KF).call(this)}update({viewport:e}){const r=this.div;this.viewport=e,xm(r,{rotation:e.rotation}),de(this,Mm,KF).call(this),r.hidden=!1}getEditableAnnotations(){return Array.from(_(this,Yy).values())}getEditableAnnotation(e){return _(this,Yy).get(e)}}Ub=new WeakMap,Wg=new WeakMap,Yy=new WeakMap,Mm=new WeakSet,Cj=function(e,r){var i;const n=e.firstChild||e;n.id=`${p9}${r}`,this.div.append(e),(i=_(this,Ub))==null||i.moveElementInDOM(this.div,e,n,!1)},KF=function(){if(!_(this,Wg))return;const e=this.div;for(const[r,n]of _(this,Wg)){const i=e.querySelector(`[data-annotation-id="${r}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):i.append(n)}_(this,Wg).clear()};const t5=/\r\n?|\n/g;var Db,Ob,Pb,Hb,Qb,Mu,zc,jb,Kc,Xy,wa,Sj,_j,Ej,Z5,Pd,e_,t_,Bj,YF,Tj;const Ji=class Ji extends Si{constructor(r){super({...r,name:"freeTextEditor"});ge(this,wa);ge(this,Db,this.editorDivBlur.bind(this));ge(this,Ob,this.editorDivFocus.bind(this));ge(this,Pb,this.editorDivInput.bind(this));ge(this,Hb,this.editorDivKeydown.bind(this));ge(this,Qb,this.editorDivPaste.bind(this));ge(this,Mu);ge(this,zc,"");ge(this,jb,`${this.id}-editor`);ge(this,Kc);ge(this,Xy,null);ue(this,Mu,r.color||Ji._defaultColor||Si._defaultLineColor),ue(this,Kc,r.fontSize||Ji._defaultFontSize)}static get _keyboardManager(){const r=Ji.prototype,n=a=>a.isEmpty(),i=vm.TRANSLATE_SMALL,s=vm.TRANSLATE_BIG;return Kn(this,"_keyboardManager",new gC([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],r.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],r.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],r._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],r._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],r._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],r._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(r,n){Si.initialize(r,n,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(r,n){switch(r){case en.FREETEXT_SIZE:Ji._defaultFontSize=n;break;case en.FREETEXT_COLOR:Ji._defaultColor=n;break}}updateParams(r,n){switch(r){case en.FREETEXT_SIZE:de(this,wa,Sj).call(this,n);break;case en.FREETEXT_COLOR:de(this,wa,_j).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[en.FREETEXT_SIZE,Ji._defaultFontSize],[en.FREETEXT_COLOR,Ji._defaultColor||Si._defaultLineColor]]}get propertiesToUpdate(){return[[en.FREETEXT_SIZE,_(this,Kc)],[en.FREETEXT_COLOR,_(this,Mu)]]}_translateEmpty(r,n){this._uiManager.translateSelectedEditors(r,n,!0)}getInitialTranslation(){const r=this.parentScale;return[-Ji._internalPadding*r,-(Ji._internalPadding+_(this,Kc))*r]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Gn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const r=this._uiManager._signal;this.editorDiv.addEventListener("keydown",_(this,Hb),{signal:r}),this.editorDiv.addEventListener("focus",_(this,Ob),{signal:r}),this.editorDiv.addEventListener("blur",_(this,Db),{signal:r}),this.editorDiv.addEventListener("input",_(this,Pb),{signal:r}),this.editorDiv.addEventListener("paste",_(this,Qb),{signal:r})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_(this,jb)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",_(this,Hb)),this.editorDiv.removeEventListener("focus",_(this,Ob)),this.editorDiv.removeEventListener("blur",_(this,Db)),this.editorDiv.removeEventListener("input",_(this,Pb)),this.editorDiv.removeEventListener("paste",_(this,Qb)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(r){this._focusEventsAllowed&&(super.focusin(r),r.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var r;this.width||(this.enableEditMode(),this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const r=_(this,zc),n=ue(this,zc,de(this,wa,Ej).call(this).trimEnd());if(r===n)return;const i=s=>{if(ue(this,zc,s),!s){this.remove();return}de(this,wa,t_).call(this),this._uiManager.rebuild(this),de(this,wa,Z5).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(r)},mustExec:!1}),de(this,wa,Z5).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(r){this.enterInEditMode()}keydown(r){r.target===this.div&&r.key==="Enter"&&(this.enterInEditMode(),r.preventDefault())}editorDivKeydown(r){Ji._keyboardManager.exec(this,r)}editorDivFocus(r){this.isEditing=!0}editorDivBlur(r){this.isEditing=!1}editorDivInput(r){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let r,n;this.width&&(r=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_(this,jb)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Si._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var a;return(a=this.editorDiv)==null?void 0:a.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${_(this,Kc)}px * var(--scale-factor))`,i.color=_(this,Mu),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),j_(this,this.div,["dblclick","keydown"]),this.width){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=_(this,Xy);let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,f]=this.pageDimensions,[p,g]=this.pageTranslation;let y,x;switch(this.rotation){case 0:y=r+(o[0]-p)/u,x=n+this.height-(o[1]-g)/f;break;case 90:y=r+(o[0]-p)/u,x=n-(o[1]-g)/f,[l,c]=[c,-l];break;case 180:y=r-this.width+(o[0]-p)/u,x=n-(o[1]-g)/f,[l,c]=[-l,-c];break;case 270:y=r+(o[0]-p-this.height*f)/u,x=n+(o[1]-g-this.width*u)/f,[l,c]=[-c,l];break}this.setAt(y*s,x*a,l,c)}else this.setAt(r*s,n*a,this.width*s,this.height*a);de(this,wa,t_).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(r){var y,x,w;const n=r.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;r.preventDefault();const s=de(y=Ji,Pd,YF).call(y,n.getData("text")||"").replaceAll(t5,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=o,u=[],f=[];if(l.nodeType===Node.TEXT_NODE){const S=l.parentElement;if(f.push(l.nodeValue.slice(c).replaceAll(t5,"")),S!==this.editorDiv){let B=u;for(const F of this.editorDiv.childNodes){if(F===S){B=f;continue}B.push(de(x=Ji,Pd,e_).call(x,F))}}u.push(l.nodeValue.slice(0,c).replaceAll(t5,""))}else if(l===this.editorDiv){let S=u,B=0;for(const F of this.editorDiv.childNodes)B++===c&&(S=f),S.push(de(w=Ji,Pd,e_).call(w,F))}ue(this,zc,`${u.join(`
`)}${s}${f.join(`
`)}`),de(this,wa,t_).call(this);const p=new Range;let g=u.reduce((S,B)=>S+B.length,0);for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const B=S.nodeValue.length;if(g<=B){p.setStart(S,g),p.setEnd(S,g);break}g-=B}a.removeAllRanges(),a.addRange(p)}get contentDiv(){return this.editorDiv}static deserialize(r,n,i){var o;let s=null;if(r instanceof xj){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:f,id:p},textContent:g,textPosition:y,parent:{page:{pageNumber:x}}}=r;if(!g||g.length===0)return null;s=r={annotationType:Gn.FREETEXT,color:Array.from(c),fontSize:l,value:g.join(`
`),position:y,pageIndex:x-1,rect:u.slice(0),rotation:f,id:p,deleted:!1}}const a=super.deserialize(r,n,i);return ue(a,Kc,r.fontSize),ue(a,Mu,yr.makeHexColor(...r.color)),ue(a,zc,de(o=Ji,Pd,YF).call(o,r.value)),a.annotationElementId=r.id||null,ue(a,Xy,s),a}serialize(r=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const n=Ji._internalPadding*this.parentScale,i=this.getRect(n,n),s=Si._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_(this,Mu)),a={annotationType:Gn.FREETEXT,color:s,fontSize:_(this,Kc),value:de(this,wa,Bj).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return r?a:this.annotationElementId&&!de(this,wa,Tj).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(r){const n=super.renderAnnotationElement(r);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${_(this,Kc)}px * var(--scale-factor))`,i.color=_(this,Mu),n.replaceChildren();for(const a of _(this,zc).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),n.append(o)}const s=Ji._internalPadding*this.parentScale;return r.updateEdited({rect:this.getRect(s,s),popupContent:_(this,zc)}),n}resetAnnotationElement(r){super.resetAnnotationElement(r),r.resetEdited()}};Db=new WeakMap,Ob=new WeakMap,Pb=new WeakMap,Hb=new WeakMap,Qb=new WeakMap,Mu=new WeakMap,zc=new WeakMap,jb=new WeakMap,Kc=new WeakMap,Xy=new WeakMap,wa=new WeakSet,Sj=function(r){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-_(this,Kc))*this.parentScale),ue(this,Kc,s),de(this,wa,Z5).call(this)},i=_(this,Kc);this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:en.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},_j=function(r){const n=s=>{ue(this,Mu,this.editorDiv.style.color=s)},i=_(this,Mu);this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:en.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ej=function(){var n;const r=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)r.push(de(n=Ji,Pd,e_).call(n,i));return r.join(`
`)},Z5=function(){const[r,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/r,this.height=i.height/n):(this.width=i.height/r,this.height=i.width/n),this.fixAndSetPosition()},Pd=new WeakSet,e_=function(r){return(r.nodeType===Node.TEXT_NODE?r.nodeValue:r.innerText).replaceAll(t5,"")},t_=function(){if(this.editorDiv.replaceChildren(),!!_(this,zc))for(const r of _(this,zc).split(`
`)){const n=document.createElement("div");n.append(r?document.createTextNode(r):document.createElement("br")),this.editorDiv.append(n)}},Bj=function(){return _(this,zc).replaceAll(""," ")},YF=function(r){return r.replaceAll(" ","")},Tj=function(r){const{value:n,fontSize:i,color:s,pageIndex:a}=_(this,Xy);return this._hasBeenMoved||r.value!==n||r.fontSize!==i||r.color.some((o,l)=>o!==s[l])||r.pageIndex!==a},ge(Ji,Pd),er(Ji,"_freeTextDefaultContent",""),er(Ji,"_internalPadding",0),er(Ji,"_defaultColor",null),er(Ji,"_defaultFontSize",10),er(Ji,"_type","freetext"),er(Ji,"_editorType",Gn.FREETEXT);let WF=Ji;var Gb,tp,Uu,ql,Nj,r_,Fj,Ij,JF;class XF{constructor(e,r=0,n=0,i=!0){ge(this,ql);ge(this,Gb);ge(this,tp,[]);ge(this,Uu,[]);let s=1/0,a=-1/0,o=1/0,l=-1/0;const c=10**-4;for(const{x:w,y:S,width:B,height:F}of e){const k=Math.floor((w-r)/c)*c,O=Math.ceil((w+B+r)/c)*c,R=Math.floor((S-r)/c)*c,D=Math.ceil((S+F+r)/c)*c,Q=[k,R,D,!0],V=[O,R,D,!1];_(this,tp).push(Q,V),s=Math.min(s,k),a=Math.max(a,O),o=Math.min(o,R),l=Math.max(l,D)}const u=a-s+2*n,f=l-o+2*n,p=s-n,g=o-n,y=_(this,tp).at(i?-1:-2),x=[y[0],y[2]];for(const w of _(this,tp)){const[S,B,F]=w;w[0]=(S-p)/u,w[1]=(B-g)/f,w[2]=(F-g)/f}ue(this,Gb,{x:p,y:g,width:u,height:f,lastPoint:x})}getOutlines(){_(this,tp).sort((r,n)=>r[0]-n[0]||r[1]-n[1]||r[2]-n[2]);const e=[];for(const r of _(this,tp))r[3]?(e.push(...de(this,ql,JF).call(this,r)),de(this,ql,Fj).call(this,r)):(de(this,ql,Ij).call(this,r),e.push(...de(this,ql,JF).call(this,r)));return de(this,ql,Nj).call(this,e)}}Gb=new WeakMap,tp=new WeakMap,Uu=new WeakMap,ql=new WeakSet,Nj=function(e){const r=[],n=new Set;for(const a of e){const[o,l,c]=a;r.push([o,l,a],[o,c,a])}r.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=r.length;a<o;a+=2){const l=r[a][2],c=r[a+1][2];l.push(c),c.push(l),n.add(l),n.add(c)}const i=[];let s;for(;n.size>0;){const a=n.values().next().value;let[o,l,c,u,f]=a;n.delete(a);let p=o,g=l;for(s=[o,c],i.push(s);;){let y;if(n.has(u))y=u;else if(n.has(f))y=f;else break;n.delete(y),[o,l,c,u,f]=y,p!==o&&(s.push(p,g,o,g===l?l:c),p=o),g=g===l?c:l}s.push(p,g)}return new ale(i,_(this,Gb))},r_=function(e){const r=_(this,Uu);let n=0,i=r.length-1;for(;n<=i;){const s=n+i>>1,a=r[s][0];if(a===e)return s;a<e?n=s+1:i=s-1}return i+1},Fj=function([,e,r]){const n=de(this,ql,r_).call(this,e);_(this,Uu).splice(n,0,[e,r])},Ij=function([,e,r]){const n=de(this,ql,r_).call(this,e);for(let i=n;i<_(this,Uu).length;i++){const[s,a]=_(this,Uu)[i];if(s!==e)break;if(s===e&&a===r){_(this,Uu).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[s,a]=_(this,Uu)[i];if(s!==e)break;if(s===e&&a===r){_(this,Uu).splice(i,1);return}}},JF=function(e){const[r,n,i]=e,s=[[r,n,i]],a=de(this,ql,r_).call(this,i);for(let o=0;o<a;o++){const[l,c]=_(this,Uu)[o];for(let u=0,f=s.length;u<f;u++){const[,p,g]=s[u];if(!(c<=p||g<=l)){if(p>=l){if(g>c)s[u][1]=c;else{if(f===1)return[];s.splice(u,1),u--,f--}continue}s[u][2]=l,g>c&&s.push([r,c,g])}}}return s};class kj{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,r){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof eI}}var Vb,Jy;class ale extends kj{constructor(r,n){super();ge(this,Vb);ge(this,Jy);ue(this,Jy,r),ue(this,Vb,n)}toSVGPath(){const r=[];for(const n of _(this,Jy)){let[i,s]=n;r.push(`M${i} ${s}`);for(let a=2;a<n.length;a+=2){const o=n[a],l=n[a+1];o===i?(r.push(`V${l}`),s=l):l===s&&(r.push(`H${o}`),i=o)}r.push("Z")}return r.join(" ")}serialize([r,n,i,s],a){const o=[],l=i-r,c=s-n;for(const u of _(this,Jy)){const f=new Array(u.length);for(let p=0;p<u.length;p+=2)f[p]=r+u[p]*l,f[p+1]=s-u[p+1]*c;o.push(f)}return o}get box(){return _(this,Vb)}}Vb=new WeakMap,Jy=new WeakMap;var ef,wd,Zy,ex,tf,Pn,Yg,Xg,$b,qb,tx,rx,rp,zb,mB,yB,Kb,ZF;const nd=class nd{constructor({x:e,y:r},n,i,s,a,o=0){ge(this,Kb);ge(this,ef);ge(this,wd,[]);ge(this,Zy);ge(this,ex);ge(this,tf,[]);ge(this,Pn,new Float64Array(18));ge(this,Yg);ge(this,Xg);ge(this,$b);ge(this,qb);ge(this,tx);ge(this,rx);ge(this,rp,[]);ue(this,ef,n),ue(this,rx,s*i),ue(this,ex,a),_(this,Pn).set([NaN,NaN,NaN,NaN,e,r],6),ue(this,Zy,o),ue(this,qb,_(nd,zb)*i),ue(this,$b,_(nd,yB)*i),ue(this,tx,i),_(this,rp).push(e,r)}get free(){return!0}isEmpty(){return isNaN(_(this,Pn)[8])}add({x:e,y:r}){var V;ue(this,Yg,e),ue(this,Xg,r);const[n,i,s,a]=_(this,ef);let[o,l,c,u]=_(this,Pn).subarray(8,12);const f=e-c,p=r-u,g=Math.hypot(f,p);if(g<_(this,$b))return!1;const y=g-_(this,qb),x=y/g,w=x*f,S=x*p;let B=o,F=l;o=c,l=u,c+=w,u+=S,(V=_(this,rp))==null||V.push(e,r);const k=-S/y,O=w/y,R=k*_(this,rx),D=O*_(this,rx);return _(this,Pn).set(_(this,Pn).subarray(2,8),0),_(this,Pn).set([c+R,u+D],4),_(this,Pn).set(_(this,Pn).subarray(14,18),12),_(this,Pn).set([c-R,u-D],16),isNaN(_(this,Pn)[6])?(_(this,tf).length===0&&(_(this,Pn).set([o+R,l+D],2),_(this,tf).push(NaN,NaN,NaN,NaN,(o+R-n)/s,(l+D-i)/a),_(this,Pn).set([o-R,l-D],14),_(this,wd).push(NaN,NaN,NaN,NaN,(o-R-n)/s,(l-D-i)/a)),_(this,Pn).set([B,F,o,l,c,u],6),!this.isEmpty()):(_(this,Pn).set([B,F,o,l,c,u],6),Math.abs(Math.atan2(F-l,B-o)-Math.atan2(S,w))<Math.PI/2?([o,l,c,u]=_(this,Pn).subarray(2,6),_(this,tf).push(NaN,NaN,NaN,NaN,((o+c)/2-n)/s,((l+u)/2-i)/a),[o,l,B,F]=_(this,Pn).subarray(14,18),_(this,wd).push(NaN,NaN,NaN,NaN,((B+o)/2-n)/s,((F+l)/2-i)/a),!0):([B,F,o,l,c,u]=_(this,Pn).subarray(0,6),_(this,tf).push(((B+5*o)/6-n)/s,((F+5*l)/6-i)/a,((5*o+c)/6-n)/s,((5*l+u)/6-i)/a,((o+c)/2-n)/s,((l+u)/2-i)/a),[c,u,o,l,B,F]=_(this,Pn).subarray(12,18),_(this,wd).push(((B+5*o)/6-n)/s,((F+5*l)/6-i)/a,((5*o+c)/6-n)/s,((5*l+u)/6-i)/a,((o+c)/2-n)/s,((l+u)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=_(this,tf),r=_(this,wd),n=_(this,Pn).subarray(4,6),i=_(this,Pn).subarray(16,18),[s,a,o,l]=_(this,ef),[c,u,f,p]=de(this,Kb,ZF).call(this);if(isNaN(_(this,Pn)[6])&&!this.isEmpty())return`M${(_(this,Pn)[2]-s)/o} ${(_(this,Pn)[3]-a)/l} L${(_(this,Pn)[4]-s)/o} ${(_(this,Pn)[5]-a)/l} L${c} ${u} L${f} ${p} L${(_(this,Pn)[16]-s)/o} ${(_(this,Pn)[17]-a)/l} L${(_(this,Pn)[14]-s)/o} ${(_(this,Pn)[15]-a)/l} Z`;const g=[];g.push(`M${e[4]} ${e[5]}`);for(let y=6;y<e.length;y+=6)isNaN(e[y])?g.push(`L${e[y+4]} ${e[y+5]}`):g.push(`C${e[y]} ${e[y+1]} ${e[y+2]} ${e[y+3]} ${e[y+4]} ${e[y+5]}`);g.push(`L${(n[0]-s)/o} ${(n[1]-a)/l} L${c} ${u} L${f} ${p} L${(i[0]-s)/o} ${(i[1]-a)/l}`);for(let y=r.length-6;y>=6;y-=6)isNaN(r[y])?g.push(`L${r[y+4]} ${r[y+5]}`):g.push(`C${r[y]} ${r[y+1]} ${r[y+2]} ${r[y+3]} ${r[y+4]} ${r[y+5]}`);return g.push(`L${r[4]} ${r[5]} Z`),g.join(" ")}getOutlines(){var S;const e=_(this,tf),r=_(this,wd),n=_(this,Pn),i=n.subarray(4,6),s=n.subarray(16,18),[a,o,l,c]=_(this,ef),u=new Float64Array((((S=_(this,rp))==null?void 0:S.length)??0)+2);for(let B=0,F=u.length-2;B<F;B+=2)u[B]=(_(this,rp)[B]-a)/l,u[B+1]=(_(this,rp)[B+1]-o)/c;u[u.length-2]=(_(this,Yg)-a)/l,u[u.length-1]=(_(this,Xg)-o)/c;const[f,p,g,y]=de(this,Kb,ZF).call(this);if(isNaN(n[6])&&!this.isEmpty()){const B=new Float64Array(36);return B.set([NaN,NaN,NaN,NaN,(n[2]-a)/l,(n[3]-o)/c,NaN,NaN,NaN,NaN,(n[4]-a)/l,(n[5]-o)/c,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,y,NaN,NaN,NaN,NaN,(n[16]-a)/l,(n[17]-o)/c,NaN,NaN,NaN,NaN,(n[14]-a)/l,(n[15]-o)/c],0),new eI(B,u,_(this,ef),_(this,tx),_(this,Zy),_(this,ex))}const x=new Float64Array(_(this,tf).length+24+_(this,wd).length);let w=e.length;for(let B=0;B<w;B+=2){if(isNaN(e[B])){x[B]=x[B+1]=NaN;continue}x[B]=e[B],x[B+1]=e[B+1]}x.set([NaN,NaN,NaN,NaN,(i[0]-a)/l,(i[1]-o)/c,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,y,NaN,NaN,NaN,NaN,(s[0]-a)/l,(s[1]-o)/c],w),w+=24;for(let B=r.length-6;B>=6;B-=6)for(let F=0;F<6;F+=2){if(isNaN(r[B+F])){x[w]=x[w+1]=NaN,w+=2;continue}x[w]=r[B+F],x[w+1]=r[B+F+1],w+=2}return x.set([NaN,NaN,NaN,NaN,r[4],r[5]],w),new eI(x,u,_(this,ef),_(this,tx),_(this,Zy),_(this,ex))}};ef=new WeakMap,wd=new WeakMap,Zy=new WeakMap,ex=new WeakMap,tf=new WeakMap,Pn=new WeakMap,Yg=new WeakMap,Xg=new WeakMap,$b=new WeakMap,qb=new WeakMap,tx=new WeakMap,rx=new WeakMap,rp=new WeakMap,zb=new WeakMap,mB=new WeakMap,yB=new WeakMap,Kb=new WeakSet,ZF=function(){const e=_(this,Pn).subarray(4,6),r=_(this,Pn).subarray(16,18),[n,i,s,a]=_(this,ef);return[(_(this,Yg)+(e[0]-r[0])/2-n)/s,(_(this,Xg)+(e[1]-r[1])/2-i)/a,(_(this,Yg)+(r[0]-e[0])/2-n)/s,(_(this,Xg)+(r[1]-e[1])/2-i)/a]},ge(nd,zb,8),ge(nd,mB,2),ge(nd,yB,_(nd,zb)+_(nd,mB));let $_=nd;var nx,Jg,bd,Wb,Wc,Yb,Xs,Sc,x2,v2,Lj;class eI extends kj{constructor(r,n,i,s,a,o){super();ge(this,Sc);ge(this,nx);ge(this,Jg,null);ge(this,bd);ge(this,Wb);ge(this,Wc);ge(this,Yb);ge(this,Xs);ue(this,Xs,r),ue(this,Wc,n),ue(this,nx,i),ue(this,Yb,s),ue(this,bd,a),ue(this,Wb,o),de(this,Sc,Lj).call(this,o);const{x:l,y:c,width:u,height:f}=_(this,Jg);for(let p=0,g=r.length;p<g;p+=2)r[p]=(r[p]-l)/u,r[p+1]=(r[p+1]-c)/f;for(let p=0,g=n.length;p<g;p+=2)n[p]=(n[p]-l)/u,n[p+1]=(n[p+1]-c)/f}toSVGPath(){const r=[`M${_(this,Xs)[4]} ${_(this,Xs)[5]}`];for(let n=6,i=_(this,Xs).length;n<i;n+=6){if(isNaN(_(this,Xs)[n])){r.push(`L${_(this,Xs)[n+4]} ${_(this,Xs)[n+5]}`);continue}r.push(`C${_(this,Xs)[n]} ${_(this,Xs)[n+1]} ${_(this,Xs)[n+2]} ${_(this,Xs)[n+3]} ${_(this,Xs)[n+4]} ${_(this,Xs)[n+5]}`)}return r.push("Z"),r.join(" ")}serialize([r,n,i,s],a){const o=i-r,l=s-n;let c,u;switch(a){case 0:c=de(this,Sc,x2).call(this,_(this,Xs),r,s,o,-l),u=de(this,Sc,x2).call(this,_(this,Wc),r,s,o,-l);break;case 90:c=de(this,Sc,v2).call(this,_(this,Xs),r,n,o,l),u=de(this,Sc,v2).call(this,_(this,Wc),r,n,o,l);break;case 180:c=de(this,Sc,x2).call(this,_(this,Xs),i,n,-o,l),u=de(this,Sc,x2).call(this,_(this,Wc),i,n,-o,l);break;case 270:c=de(this,Sc,v2).call(this,_(this,Xs),i,s,-o,-l),u=de(this,Sc,v2).call(this,_(this,Wc),i,s,-o,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return _(this,Jg)}getNewOutline(r,n){const{x:i,y:s,width:a,height:o}=_(this,Jg),[l,c,u,f]=_(this,nx),p=a*u,g=o*f,y=i*u+l,x=s*f+c,w=new $_({x:_(this,Wc)[0]*p+y,y:_(this,Wc)[1]*g+x},_(this,nx),_(this,Yb),r,_(this,Wb),n??_(this,bd));for(let S=2;S<_(this,Wc).length;S+=2)w.add({x:_(this,Wc)[S]*p+y,y:_(this,Wc)[S+1]*g+x});return w.getOutlines()}}nx=new WeakMap,Jg=new WeakMap,bd=new WeakMap,Wb=new WeakMap,Wc=new WeakMap,Yb=new WeakMap,Xs=new WeakMap,Sc=new WeakSet,x2=function(r,n,i,s,a){const o=new Float64Array(r.length);for(let l=0,c=r.length;l<c;l+=2)o[l]=n+r[l]*s,o[l+1]=i+r[l+1]*a;return o},v2=function(r,n,i,s,a){const o=new Float64Array(r.length);for(let l=0,c=r.length;l<c;l+=2)o[l]=n+r[l+1]*s,o[l+1]=i+r[l]*a;return o},Lj=function(r){const n=_(this,Xs);let i=n[4],s=n[5],a=i,o=s,l=i,c=s,u=i,f=s;const p=r?Math.max:Math.min;for(let S=6,B=n.length;S<B;S+=6){if(isNaN(n[S]))a=Math.min(a,n[S+4]),o=Math.min(o,n[S+5]),l=Math.max(l,n[S+4]),c=Math.max(c,n[S+5]),f<n[S+5]?(u=n[S+4],f=n[S+5]):f===n[S+5]&&(u=p(u,n[S+4]));else{const F=yr.bezierBoundingBox(i,s,...n.slice(S,S+6));a=Math.min(a,F[0]),o=Math.min(o,F[1]),l=Math.max(l,F[2]),c=Math.max(c,F[3]),f<F[3]?(u=F[2],f=F[3]):f===F[3]&&(u=p(u,F[2]))}i=n[S+4],s=n[S+5]}const g=a-_(this,bd),y=o-_(this,bd),x=l-a+2*_(this,bd),w=c-o+2*_(this,bd);ue(this,Jg,{x:g,y,width:x,height:w,lastPoint:[u,f]})};var Xb,Jb,Du,Zg,ix,Ua,Zb,sx,eC,tC,Ou,ax,Ki,tI,rI,Rj,eg,Mj,R0;const id=class id{constructor({editor:e=null,uiManager:r=null}){ge(this,Ki);ge(this,Xb,de(this,Ki,Rj).bind(this));ge(this,Jb,de(this,Ki,Mj).bind(this));ge(this,Du,null);ge(this,Zg,null);ge(this,ix);ge(this,Ua,null);ge(this,Zb,!1);ge(this,sx,!1);ge(this,eC,null);ge(this,tC);ge(this,Ou,null);ge(this,ax);var n;e?(ue(this,sx,!1),ue(this,ax,en.HIGHLIGHT_COLOR),ue(this,eC,e)):(ue(this,sx,!0),ue(this,ax,en.HIGHLIGHT_DEFAULT_COLOR)),ue(this,Ou,(e==null?void 0:e._uiManager)||r),ue(this,tC,_(this,Ou)._eventBus),ue(this,ix,(e==null?void 0:e.color)||((n=_(this,Ou))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Kn(this,"_keyboardManager",new gC([[["Escape","mac+Escape"],id.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],id.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],id.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],id.prototype._moveToPrevious],[["Home","mac+Home"],id.prototype._moveToBeginning],[["End","mac+End"],id.prototype._moveToEnd]]))}renderButton(){const e=ue(this,Du,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const r=_(this,Ou)._signal;e.addEventListener("click",de(this,Ki,eg).bind(this),{signal:r}),e.addEventListener("keydown",_(this,Xb),{signal:r});const n=ue(this,Zg,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=_(this,ix),e.append(n),e}renderMainDropdown(){const e=ue(this,Ua,de(this,Ki,tI).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===_(this,Du)){de(this,Ki,eg).call(this,e);return}const r=e.target.getAttribute("data-color");r&&de(this,Ki,rI).call(this,r,e)}_moveToNext(e){var r,n;if(!_(this,Ki,R0)){de(this,Ki,eg).call(this,e);return}if(e.target===_(this,Du)){(r=_(this,Ua).firstChild)==null||r.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var r,n;if(e.target===((r=_(this,Ua))==null?void 0:r.firstChild)||e.target===_(this,Du)){_(this,Ki,R0)&&this._hideDropdownFromKeyboard();return}_(this,Ki,R0)||de(this,Ki,eg).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var r;if(!_(this,Ki,R0)){de(this,Ki,eg).call(this,e);return}(r=_(this,Ua).firstChild)==null||r.focus()}_moveToEnd(e){var r;if(!_(this,Ki,R0)){de(this,Ki,eg).call(this,e);return}(r=_(this,Ua).lastChild)==null||r.focus()}hideDropdown(){var e;(e=_(this,Ua))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",_(this,Jb))}_hideDropdownFromKeyboard(){var e;if(!_(this,sx)){if(!_(this,Ki,R0)){(e=_(this,eC))==null||e.unselect();return}this.hideDropdown(),_(this,Du).focus({preventScroll:!0,focusVisible:_(this,Zb)})}}updateColor(e){if(_(this,Zg)&&(_(this,Zg).style.backgroundColor=e),!_(this,Ua))return;const r=_(this,Ou).highlightColors.values();for(const n of _(this,Ua).children)n.setAttribute("aria-selected",r.next().value===e)}destroy(){var e,r;(e=_(this,Du))==null||e.remove(),ue(this,Du,null),ue(this,Zg,null),(r=_(this,Ua))==null||r.remove(),ue(this,Ua,null)}};Xb=new WeakMap,Jb=new WeakMap,Du=new WeakMap,Zg=new WeakMap,ix=new WeakMap,Ua=new WeakMap,Zb=new WeakMap,sx=new WeakMap,eC=new WeakMap,tC=new WeakMap,Ou=new WeakMap,ax=new WeakMap,Ki=new WeakSet,tI=function(){const e=document.createElement("div"),r=_(this,Ou)._signal;e.addEventListener("contextmenu",_c,{signal:r}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of _(this,Ou).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.setAttribute("aria-selected",i===_(this,ix)),s.addEventListener("click",de(this,Ki,rI).bind(this,i),{signal:r}),e.append(s)}return e.addEventListener("keydown",_(this,Xb),{signal:r}),e},rI=function(e,r){r.stopPropagation(),_(this,tC).dispatch("switchannotationeditorparams",{source:this,type:_(this,ax),value:e})},Rj=function(e){id._keyboardManager.exec(this,e)},eg=function(e){if(_(this,Ki,R0)){this.hideDropdown();return}if(ue(this,Zb,e.detail===0),window.addEventListener("pointerdown",_(this,Jb),{signal:_(this,Ou)._signal}),_(this,Ua)){_(this,Ua).classList.remove("hidden");return}const r=ue(this,Ua,de(this,Ki,tI).call(this));_(this,Du).append(r)},Mj=function(e){var r;(r=_(this,Ua))!=null&&r.contains(e.target)||this.hideDropdown()},R0=function(){return _(this,Ua)&&!_(this,Ua).classList.contains("hidden")};let q_=id;var ox,rC,np,em,lx,UA,nC,iC,tm,Pu,Ll,Yc,xB,cx,rm,Da,Ax,rf,sC,En,nI,iI,Uj,Dj,Oj,sI,w2,jA,$1,Pj,n_,b2,Hj,Qj,jj,Gj;const ai=class ai extends Si{constructor(r){super({...r,name:"highlightEditor"});ge(this,En);ge(this,ox,null);ge(this,rC,0);ge(this,np);ge(this,em,null);ge(this,lx,null);ge(this,UA,null);ge(this,nC,null);ge(this,iC,0);ge(this,tm,null);ge(this,Pu,null);ge(this,Ll,null);ge(this,Yc,!1);ge(this,xB,de(this,En,Pj).bind(this));ge(this,cx,null);ge(this,rm);ge(this,Da,null);ge(this,Ax,"");ge(this,rf);ge(this,sC,"");this.color=r.color||ai._defaultColor,ue(this,rf,r.thickness||ai._defaultThickness),ue(this,rm,r.opacity||ai._defaultOpacity),ue(this,np,r.boxes||null),ue(this,sC,r.methodOfCreation||""),ue(this,Ax,r.text||""),this._isDraggable=!1,r.highlightId>-1?(ue(this,Yc,!0),de(this,En,iI).call(this,r),de(this,En,w2).call(this)):(ue(this,ox,r.anchorNode),ue(this,rC,r.anchorOffset),ue(this,nC,r.focusNode),ue(this,iC,r.focusOffset),de(this,En,nI).call(this),de(this,En,w2).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const r=ai.prototype;return Kn(this,"_keyboardManager",new gC([[["ArrowLeft","mac+ArrowLeft"],r._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],r._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],r._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],r._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:_(this,Yc)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:_(this,rf),methodOfCreation:_(this,sC)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(r){return{numberOfColors:r.get("color").size}}static initialize(r,n){var i;Si.initialize(r,n),ai._defaultColor||(ai._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(r,n){switch(r){case en.HIGHLIGHT_DEFAULT_COLOR:ai._defaultColor=n;break;case en.HIGHLIGHT_THICKNESS:ai._defaultThickness=n;break}}translateInPage(r,n){}get toolbarPosition(){return _(this,cx)}updateParams(r,n){switch(r){case en.HIGHLIGHT_COLOR:de(this,En,Uj).call(this,n);break;case en.HIGHLIGHT_THICKNESS:de(this,En,Dj).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[en.HIGHLIGHT_DEFAULT_COLOR,ai._defaultColor],[en.HIGHLIGHT_THICKNESS,ai._defaultThickness]]}get propertiesToUpdate(){return[[en.HIGHLIGHT_COLOR,this.color||ai._defaultColor],[en.HIGHLIGHT_THICKNESS,_(this,rf)||ai._defaultThickness],[en.HIGHLIGHT_FREE,_(this,Yc)]]}async addEditToolbar(){const r=await super.addEditToolbar();return r?(this._uiManager.highlightColors&&(ue(this,lx,new q_({editor:this})),r.addColorPicker(_(this,lx))),r):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(de(this,En,b2).call(this))}getBaseTranslation(){return[0,0]}getRect(r,n){return super.getRect(r,n,de(this,En,b2).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){de(this,En,sI).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(de(this,En,w2).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(r){var i;let n=!1;this.parent&&!r?de(this,En,sI).call(this):r&&(de(this,En,w2).call(this,r),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(r),this.show(this._isVisible),n&&this.select()}rotate(r){var s,a,o;const{drawLayer:n}=this.parent;let i;_(this,Yc)?(r=(r-this.rotation+360)%360,i=de(s=ai,jA,$1).call(s,_(this,Pu).box,r)):i=de(a=ai,jA,$1).call(a,this,r),n.rotate(_(this,Ll),r),n.rotate(_(this,Da),r),n.updateBox(_(this,Ll),i),n.updateBox(_(this,Da),de(o=ai,jA,$1).call(o,_(this,UA).box,r))}render(){if(this.div)return this.div;const r=super.render();_(this,Ax)&&(r.setAttribute("aria-label",_(this,Ax)),r.setAttribute("role","mark")),_(this,Yc)?r.classList.add("free"):this.div.addEventListener("keydown",_(this,xB),{signal:this._uiManager._signal});const n=ue(this,tm,document.createElement("div"));r.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=_(this,em);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),j_(this,_(this,tm),["pointerover","pointerleave"]),this.enableEditing(),r}pointerover(){this.parent.drawLayer.addClass(_(this,Da),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(_(this,Da),"hovered")}_moveCaret(r){switch(this.parent.unselect(this),r){case 0:case 2:de(this,En,n_).call(this,!0);break;case 1:case 3:de(this,En,n_).call(this,!1);break}}select(){var r,n;super.select(),_(this,Da)&&((r=this.parent)==null||r.drawLayer.removeClass(_(this,Da),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(_(this,Da),"selected"))}unselect(){var r;super.unselect(),_(this,Da)&&((r=this.parent)==null||r.drawLayer.removeClass(_(this,Da),"selected"),_(this,Yc)||de(this,En,n_).call(this,!1))}get _mustFixPosition(){return!_(this,Yc)}show(r=this._isVisible){super.show(r),this.parent&&(this.parent.drawLayer.show(_(this,Ll),r),this.parent.drawLayer.show(_(this,Da),r))}static startHighlighting(r,n,{target:i,x:s,y:a}){const{x:o,y:l,width:c,height:u}=i.getBoundingClientRect(),f=w=>{de(this,jA,jj).call(this,r,w)},p=r._signal,g={capture:!0,passive:!1,signal:p},y=w=>{w.preventDefault(),w.stopPropagation()},x=w=>{i.removeEventListener("pointermove",f),window.removeEventListener("blur",x),window.removeEventListener("pointerup",x),window.removeEventListener("pointerdown",y,g),window.removeEventListener("contextmenu",_c),de(this,jA,Gj).call(this,r,w)};window.addEventListener("blur",x,{signal:p}),window.addEventListener("pointerup",x,{signal:p}),window.addEventListener("pointerdown",y,g),window.addEventListener("contextmenu",_c,{signal:p}),i.addEventListener("pointermove",f,{signal:p}),this._freeHighlight=new $_({x:s,y:a},[o,l,c,u],r.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=r.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(r,n,i){var x;const s=super.deserialize(r,n,i),{rect:[a,o,l,c],color:u,quadPoints:f}=r;s.color=yr.makeHexColor(...u),ue(s,rm,r.opacity);const[p,g]=s.pageDimensions;s.width=(l-a)/p,s.height=(c-o)/g;const y=ue(s,np,[]);for(let w=0;w<f.length;w+=8)y.push({x:(f[4]-l)/p,y:(c-(1-f[w+5]))/g,width:(f[w+2]-f[w])/p,height:(f[w+5]-f[w+1])/g});return de(x=s,En,nI).call(x),s}serialize(r=!1){if(this.isEmpty()||r)return null;const n=this.getRect(0,0),i=Si._colorManager.convert(this.color);return{annotationType:Gn.HIGHLIGHT,color:i,opacity:_(this,rm),thickness:_(this,rf),quadPoints:de(this,En,Hj).call(this),outlines:de(this,En,Qj).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:de(this,En,b2).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};ox=new WeakMap,rC=new WeakMap,np=new WeakMap,em=new WeakMap,lx=new WeakMap,UA=new WeakMap,nC=new WeakMap,iC=new WeakMap,tm=new WeakMap,Pu=new WeakMap,Ll=new WeakMap,Yc=new WeakMap,xB=new WeakMap,cx=new WeakMap,rm=new WeakMap,Da=new WeakMap,Ax=new WeakMap,rf=new WeakMap,sC=new WeakMap,En=new WeakSet,nI=function(){const r=new XF(_(this,np),.001);ue(this,Pu,r.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=_(this,Pu).box;const n=new XF(_(this,np),.0025,.001,this._uiManager.direction==="ltr");ue(this,UA,n.getOutlines());const{lastPoint:i}=_(this,UA).box;ue(this,cx,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},iI=function({highlightOutlines:r,highlightId:n,clipPathId:i}){var f,p;if(ue(this,Pu,r),ue(this,UA,r.getNewOutline(_(this,rf)/2+1.5,.0025)),n>=0)ue(this,Ll,n),ue(this,em,i),this.parent.drawLayer.finalizeLine(n,r),ue(this,Da,this.parent.drawLayer.highlightOutline(_(this,UA)));else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(_(this,Ll),r),this.parent.drawLayer.updateBox(_(this,Ll),de(f=ai,jA,$1).call(f,_(this,Pu).box,(g-this.rotation+360)%360)),this.parent.drawLayer.updateLine(_(this,Da),_(this,UA)),this.parent.drawLayer.updateBox(_(this,Da),de(p=ai,jA,$1).call(p,_(this,UA).box,g))}const{x:a,y:o,width:l,height:c}=r.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=c;break;case 90:{const[g,y]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*y/g,this.height=c*g/y;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[g,y]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*y/g,this.height=c*g/y;break}}const{lastPoint:u}=_(this,UA).box;ue(this,cx,[(u[0]-a)/l,(u[1]-o)/c])},Uj=function(r){const n=s=>{var a,o;this.color=s,(a=this.parent)==null||a.drawLayer.changeColor(_(this,Ll),s),(o=_(this,lx))==null||o.updateColor(s)},i=this.color;this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:en.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(r)},!0)},Dj=function(r){const n=_(this,rf),i=s=>{ue(this,rf,s),de(this,En,Oj).call(this,s)};this.addCommands({cmd:i.bind(this,r),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:en.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:r},!0)},Oj=function(r){if(!_(this,Yc))return;de(this,En,iI).call(this,{highlightOutlines:_(this,Pu).getNewOutline(r/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},sI=function(){_(this,Ll)===null||!this.parent||(this.parent.drawLayer.remove(_(this,Ll)),ue(this,Ll,null),this.parent.drawLayer.remove(_(this,Da)),ue(this,Da,null))},w2=function(r=this.parent){_(this,Ll)===null&&({id:Pc(this,Ll)._,clipPathId:Pc(this,em)._}=r.drawLayer.highlight(_(this,Pu),this.color,_(this,rm)),ue(this,Da,r.drawLayer.highlightOutline(_(this,UA))),_(this,tm)&&(_(this,tm).style.clipPath=_(this,em)))},jA=new WeakSet,$1=function({x:r,y:n,width:i,height:s},a){switch(a){case 90:return{x:1-n-s,y:r,width:s,height:i};case 180:return{x:1-r-i,y:1-n-s,width:i,height:s};case 270:return{x:n,y:1-r-i,width:s,height:i}}return{x:r,y:n,width:i,height:s}},Pj=function(r){ai._keyboardManager.exec(this,r)},n_=function(r){if(!_(this,ox))return;const n=window.getSelection();r?n.setPosition(_(this,ox),_(this,rC)):n.setPosition(_(this,nC),_(this,iC))},b2=function(){return _(this,Yc)?this.rotation:0},Hj=function(){if(_(this,Yc))return null;const[r,n]=this.pageDimensions,i=_(this,np),s=new Float32Array(i.length*8);let a=0;for(const{x:o,y:l,width:c,height:u}of i){const f=o*r,p=(1-l-u)*n;s[a]=s[a+4]=f,s[a+1]=s[a+3]=p,s[a+2]=s[a+6]=f+c*r,s[a+5]=s[a+7]=p+u*n,a+=8}return s},Qj=function(r){return _(this,Pu).serialize(r,de(this,En,b2).call(this))},jj=function(r,n){this._freeHighlight.add(n)&&r.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Gj=function(r,n){this._freeHighlight.isEmpty()?r.drawLayer.removeFreeHighlight(this._freeHighlightId):r.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},ge(ai,jA),er(ai,"_defaultColor",null),er(ai,"_defaultOpacity",1),er(ai,"_defaultThickness",12),er(ai,"_l10nPromise"),er(ai,"_type","highlight"),er(ai,"_editorType",Gn.HIGHLIGHT),er(ai,"_freeHighlightId",-1),er(ai,"_freeHighlight",null),er(ai,"_freeHighlightClipId","");let z_=ai;var nm,im,aC,oC,lC,sm,nf,Cd,DA,am,om,Sd,lm,cm,ip,Yt,Vj,$j,qj,zj,oI,Kj,lI,Wj,Yj,Xj,Jj,Zj,tg,cI,i_,s_,q1,AI,a_,Kd,eG,uI,tG,rG,hI,o_,C2;const Ns=class Ns extends Si{constructor(r){super({...r,name:"inkEditor"});ge(this,Yt);ge(this,nm,0);ge(this,im,0);ge(this,aC,this.canvasPointermove.bind(this));ge(this,oC,this.canvasPointerleave.bind(this));ge(this,lC,this.canvasPointerup.bind(this));ge(this,sm,this.canvasPointerdown.bind(this));ge(this,nf,null);ge(this,Cd,new Path2D);ge(this,DA,!1);ge(this,am,!1);ge(this,om,!1);ge(this,Sd,null);ge(this,lm,0);ge(this,cm,0);ge(this,ip,null);this.color=r.color||null,this.thickness=r.thickness||null,this.opacity=r.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(r,n){Si.initialize(r,n)}static updateDefaultParams(r,n){switch(r){case en.INK_THICKNESS:Ns._defaultThickness=n;break;case en.INK_COLOR:Ns._defaultColor=n;break;case en.INK_OPACITY:Ns._defaultOpacity=n/100;break}}updateParams(r,n){switch(r){case en.INK_THICKNESS:de(this,Yt,Vj).call(this,n);break;case en.INK_COLOR:de(this,Yt,$j).call(this,n);break;case en.INK_OPACITY:de(this,Yt,qj).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[en.INK_THICKNESS,Ns._defaultThickness],[en.INK_COLOR,Ns._defaultColor||Si._defaultLineColor],[en.INK_OPACITY,Math.round(Ns._defaultOpacity*100)]]}get propertiesToUpdate(){return[[en.INK_THICKNESS,this.thickness||Ns._defaultThickness],[en.INK_COLOR,this.color||Ns._defaultColor||Si._defaultLineColor],[en.INK_OPACITY,Math.round(100*(this.opacity??Ns._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(de(this,Yt,i_).call(this),de(this,Yt,s_).call(this)),this.isAttachedToDOM||(this.parent.add(this),de(this,Yt,q1).call(this)),de(this,Yt,C2).call(this)))}remove(){var r;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_(this,nf)&&(clearTimeout(_(this,nf)),ue(this,nf,null)),(r=_(this,Sd))==null||r.disconnect(),ue(this,Sd,null),super.remove())}setParent(r){!this.parent&&r?this._uiManager.removeShouldRescale(this):this.parent&&r===null&&this._uiManager.addShouldRescale(this),super.setParent(r)}onScaleChanging(){const[r,n]=this.parentDimensions,i=this.width*r,s=this.height*n;this.setDimensions(i,s)}enableEditMode(){_(this,DA)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",_(this,sm),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_(this,sm)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){_(this,DA)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ue(this,DA,!0),this.div.classList.add("disabled"),de(this,Yt,C2).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(r){this._focusEventsAllowed&&(super.focusin(r),this.enableEditMode())}canvasPointerdown(r){r.button!==0||!this.isInEditMode()||_(this,DA)||(this.setInForeground(),r.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),de(this,Yt,Kj).call(this,r.offsetX,r.offsetY))}canvasPointermove(r){r.preventDefault(),de(this,Yt,lI).call(this,r.offsetX,r.offsetY)}canvasPointerup(r){r.preventDefault(),de(this,Yt,cI).call(this,r)}canvasPointerleave(r){de(this,Yt,cI).call(this,r)}get isResizable(){return!this.isEmpty()&&_(this,DA)}render(){if(this.div)return this.div;let r,n;this.width&&(r=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,a,o]=de(this,Yt,zj).call(this);if(this.setAt(i,s,0,0),this.setDims(a,o),de(this,Yt,i_).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(r*l,n*c,this.width*l,this.height*c),ue(this,om,!0),de(this,Yt,q1).call(this),this.setDims(this.width*l,this.height*c),de(this,Yt,tg).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return de(this,Yt,s_).call(this),this.div}setDimensions(r,n){const i=Math.round(r),s=Math.round(n);if(_(this,lm)===i&&_(this,cm)===s)return;ue(this,lm,i),ue(this,cm,s),this.canvas.style.visibility="hidden";const[a,o]=this.parentDimensions;this.width=r/a,this.height=n/o,this.fixAndSetPosition(),_(this,DA)&&de(this,Yt,AI).call(this,r,n),de(this,Yt,q1).call(this),de(this,Yt,tg).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(r,n,i){var w,S,B;if(r instanceof wj)return null;const s=super.deserialize(r,n,i);s.thickness=r.thickness,s.color=yr.makeHexColor(...r.color),s.opacity=r.opacity;const[a,o]=s.pageDimensions,l=s.width*a,c=s.height*o,u=s.parentScale,f=r.thickness/2;ue(s,DA,!0),ue(s,lm,Math.round(l)),ue(s,cm,Math.round(c));const{paths:p,rect:g,rotation:y}=r;for(let{bezier:F}of p){F=de(w=Ns,Kd,tG).call(w,F,g,y);const k=[];s.paths.push(k);let O=u*(F[0]-f),R=u*(F[1]-f);for(let Q=2,V=F.length;Q<V;Q+=6){const re=u*(F[Q]-f),P=u*(F[Q+1]-f),H=u*(F[Q+2]-f),q=u*(F[Q+3]-f),Z=u*(F[Q+4]-f),se=u*(F[Q+5]-f);k.push([[O,R],[re,P],[H,q],[Z,se]]),O=Z,R=se}const D=de(this,Kd,eG).call(this,k);s.bezierPath2D.push(D)}const x=de(S=s,Yt,hI).call(S);return ue(s,im,Math.max(Si.MIN_SIZE,x[2]-x[0])),ue(s,nm,Math.max(Si.MIN_SIZE,x[3]-x[1])),de(B=s,Yt,AI).call(B,l,c),s}serialize(){if(this.isEmpty())return null;const r=this.getRect(0,0),n=Si._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Gn.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:de(this,Yt,rG).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,r),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};nm=new WeakMap,im=new WeakMap,aC=new WeakMap,oC=new WeakMap,lC=new WeakMap,sm=new WeakMap,nf=new WeakMap,Cd=new WeakMap,DA=new WeakMap,am=new WeakMap,om=new WeakMap,Sd=new WeakMap,lm=new WeakMap,cm=new WeakMap,ip=new WeakMap,Yt=new WeakSet,Vj=function(r){const n=s=>{this.thickness=s,de(this,Yt,C2).call(this)},i=this.thickness;this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:en.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},$j=function(r){const n=s=>{this.color=s,de(this,Yt,tg).call(this)},i=this.color;this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:en.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},qj=function(r){const n=s=>{this.opacity=s,de(this,Yt,tg).call(this)};r/=100;const i=this.opacity;this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:en.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},zj=function(){const{parentRotation:r,parentDimensions:[n,i]}=this;switch(r){case 90:return[0,i,i,n];case 180:return[n,i,n,i];case 270:return[n,0,i,n];default:return[0,0,n,i]}},oI=function(){const{ctx:r,color:n,opacity:i,thickness:s,parentScale:a,scaleFactor:o}=this;r.lineWidth=s*a/o,r.lineCap="round",r.lineJoin="round",r.miterLimit=10,r.strokeStyle=`${n}${Fae(i)}`},Kj=function(r,n){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",_c,{signal:i}),this.canvas.addEventListener("pointerleave",_(this,oC),{signal:i}),this.canvas.addEventListener("pointermove",_(this,aC),{signal:i}),this.canvas.addEventListener("pointerup",_(this,lC),{signal:i}),this.canvas.removeEventListener("pointerdown",_(this,sm)),this.isEditing=!0,_(this,om)||(ue(this,om,!0),de(this,Yt,q1).call(this),this.thickness||(this.thickness=Ns._defaultThickness),this.color||(this.color=Ns._defaultColor||Si._defaultLineColor),this.opacity??(this.opacity=Ns._defaultOpacity)),this.currentPath.push([r,n]),ue(this,am,!1),de(this,Yt,oI).call(this),ue(this,ip,()=>{de(this,Yt,Xj).call(this),_(this,ip)&&window.requestAnimationFrame(_(this,ip))}),window.requestAnimationFrame(_(this,ip))},lI=function(r,n){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&r===i&&n===s)return;const a=this.currentPath;let o=_(this,Cd);if(a.push([r,n]),ue(this,am,!0),a.length<=2){o.moveTo(...a[0]),o.lineTo(r,n);return}a.length===3&&(ue(this,Cd,o=new Path2D),o.moveTo(...a[0])),de(this,Yt,Jj).call(this,o,...a.at(-3),...a.at(-2),r,n)},Wj=function(){if(this.currentPath.length===0)return;const r=this.currentPath.at(-1);_(this,Cd).lineTo(...r)},Yj=function(r,n){ue(this,ip,null),r=Math.min(Math.max(r,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),de(this,Yt,lI).call(this,r,n),de(this,Yt,Wj).call(this);let i;if(this.currentPath.length!==1)i=de(this,Yt,Zj).call(this);else{const c=[r,n];i=[[c,c.slice(),c.slice(),c]]}const s=_(this,Cd),a=this.currentPath;this.currentPath=[],ue(this,Cd,new Path2D);const o=()=>{this.allRawPaths.push(a),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(de(this,Yt,i_).call(this),de(this,Yt,s_).call(this)),de(this,Yt,C2).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},Xj=function(){if(!_(this,am))return;ue(this,am,!1);const r=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),i=n.map(o=>o[0]),s=n.map(o=>o[1]);Math.min(...i)-r,Math.max(...i)+r,Math.min(...s)-r,Math.max(...s)+r;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)a.stroke(o);a.stroke(_(this,Cd)),a.restore()},Jj=function(r,n,i,s,a,o,l){const c=(n+s)/2,u=(i+a)/2,f=(s+o)/2,p=(a+l)/2;r.bezierCurveTo(c+2*(s-c)/3,u+2*(a-u)/3,f+2*(s-f)/3,p+2*(a-p)/3,f,p)},Zj=function(){const r=this.currentPath;if(r.length<=2)return[[r[0],r[0],r.at(-1),r.at(-1)]];const n=[];let i,[s,a]=r[0];for(i=1;i<r.length-2;i++){const[g,y]=r[i],[x,w]=r[i+1],S=(g+x)/2,B=(y+w)/2,F=[s+2*(g-s)/3,a+2*(y-a)/3],k=[S+2*(g-S)/3,B+2*(y-B)/3];n.push([[s,a],F,k,[S,B]]),[s,a]=[S,B]}const[o,l]=r[i],[c,u]=r[i+1],f=[s+2*(o-s)/3,a+2*(l-a)/3],p=[c+2*(o-c)/3,u+2*(l-u)/3];return n.push([[s,a],f,p,[c,u]]),n},tg=function(){if(this.isEmpty()){de(this,Yt,a_).call(this);return}de(this,Yt,oI).call(this);const{canvas:r,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.width,r.height),de(this,Yt,a_).call(this);for(const i of this.bezierPath2D)n.stroke(i)},cI=function(r){this.canvas.removeEventListener("pointerleave",_(this,oC)),this.canvas.removeEventListener("pointermove",_(this,aC)),this.canvas.removeEventListener("pointerup",_(this,lC)),this.canvas.addEventListener("pointerdown",_(this,sm),{signal:this._uiManager._signal}),_(this,nf)&&clearTimeout(_(this,nf)),ue(this,nf,setTimeout(()=>{ue(this,nf,null),this.canvas.removeEventListener("contextmenu",_c)},10)),de(this,Yt,Yj).call(this,r.offsetX,r.offsetY),this.addToAnnotationStorage(),this.setInBackground()},i_=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},s_=function(){ue(this,Sd,new ResizeObserver(r=>{const n=r[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),_(this,Sd).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var r;(r=_(this,Sd))==null||r.disconnect(),ue(this,Sd,null)},{once:!0})},q1=function(){if(!_(this,om))return;const[r,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*r),this.canvas.height=Math.ceil(this.height*n),de(this,Yt,a_).call(this)},AI=function(r,n){const i=de(this,Yt,o_).call(this),s=(r-i)/_(this,im),a=(n-i)/_(this,nm);this.scaleFactor=Math.min(s,a)},a_=function(){const r=de(this,Yt,o_).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+r,this.translationY*this.scaleFactor+r)},Kd=new WeakSet,eG=function(r){const n=new Path2D;for(let i=0,s=r.length;i<s;i++){const[a,o,l,c]=r[i];i===0&&n.moveTo(...a),n.bezierCurveTo(o[0],o[1],l[0],l[1],c[0],c[1])}return n},uI=function(r,n,i){const[s,a,o,l]=n;switch(i){case 0:for(let c=0,u=r.length;c<u;c+=2)r[c]+=s,r[c+1]=l-r[c+1];break;case 90:for(let c=0,u=r.length;c<u;c+=2){const f=r[c];r[c]=r[c+1]+s,r[c+1]=f+a}break;case 180:for(let c=0,u=r.length;c<u;c+=2)r[c]=o-r[c],r[c+1]+=a;break;case 270:for(let c=0,u=r.length;c<u;c+=2){const f=r[c];r[c]=o-r[c+1],r[c+1]=l-f}break;default:throw new Error("Invalid rotation")}return r},tG=function(r,n,i){const[s,a,o,l]=n;switch(i){case 0:for(let c=0,u=r.length;c<u;c+=2)r[c]-=s,r[c+1]=l-r[c+1];break;case 90:for(let c=0,u=r.length;c<u;c+=2){const f=r[c];r[c]=r[c+1]-a,r[c+1]=f-s}break;case 180:for(let c=0,u=r.length;c<u;c+=2)r[c]=o-r[c],r[c+1]-=a;break;case 270:for(let c=0,u=r.length;c<u;c+=2){const f=r[c];r[c]=l-r[c+1],r[c+1]=o-f}break;default:throw new Error("Invalid rotation")}return r},rG=function(r,n,i,s){var u,f;const a=[],o=this.thickness/2,l=r*n+o,c=r*i+o;for(const p of this.paths){const g=[],y=[];for(let x=0,w=p.length;x<w;x++){const[S,B,F,k]=p[x];if(S[0]===k[0]&&S[1]===k[1]&&w===1){const q=r*S[0]+l,Z=r*S[1]+c;g.push(q,Z),y.push(q,Z);break}const O=r*S[0]+l,R=r*S[1]+c,D=r*B[0]+l,Q=r*B[1]+c,V=r*F[0]+l,re=r*F[1]+c,P=r*k[0]+l,H=r*k[1]+c;x===0&&(g.push(O,R),y.push(O,R)),g.push(D,Q,V,re,P,H),y.push(D,Q),x===w-1&&y.push(P,H)}a.push({bezier:de(u=Ns,Kd,uI).call(u,g,s,this.rotation),points:de(f=Ns,Kd,uI).call(f,y,s,this.rotation)})}return a},hI=function(){let r=1/0,n=-1/0,i=1/0,s=-1/0;for(const a of this.paths)for(const[o,l,c,u]of a){const f=yr.bezierBoundingBox(...o,...l,...c,...u);r=Math.min(r,f[0]),i=Math.min(i,f[1]),n=Math.max(n,f[2]),s=Math.max(s,f[3])}return[r,i,n,s]},o_=function(){return _(this,DA)?Math.ceil(this.thickness*this.parentScale):0},C2=function(r=!1){if(this.isEmpty())return;if(!_(this,DA)){de(this,Yt,tg).call(this);return}const n=de(this,Yt,hI).call(this),i=de(this,Yt,o_).call(this);ue(this,im,Math.max(Si.MIN_SIZE,n[2]-n[0])),ue(this,nm,Math.max(Si.MIN_SIZE,n[3]-n[1]));const s=Math.ceil(i+_(this,im)*this.scaleFactor),a=Math.ceil(i+_(this,nm)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=s/o,this.height=a/l,this.setAspectRatio(s,a);const c=this.translationX,u=this.translationY;this.translationX=-n[0],this.translationY=-n[1],de(this,Yt,q1).call(this),de(this,Yt,tg).call(this),ue(this,lm,s),ue(this,cm,a),this.setDims(s,a);const f=r?i/this.scaleFactor/2:0;this.translate(c-this.translationX-f,u-this.translationY-f)},ge(Ns,Kd),er(Ns,"_defaultColor",null),er(Ns,"_defaultOpacity",1),er(Ns,"_defaultThickness",1),er(Ns,"_type","ink"),er(Ns,"_editorType",Gn.INK);let aI=Ns;var To,No,sp,_d,ap,ux,sf,Ed,af,Hu,cC,ei,S2,_2,l_,dI,nG,iG,pI,c_,sG;const sw=class sw extends Si{constructor(r){super({...r,name:"stampEditor"});ge(this,ei);ge(this,To,null);ge(this,No,null);ge(this,sp,null);ge(this,_d,null);ge(this,ap,null);ge(this,ux,"");ge(this,sf,null);ge(this,Ed,null);ge(this,af,null);ge(this,Hu,!1);ge(this,cC,!1);ue(this,_d,r.bitmapUrl),ue(this,ap,r.bitmapFile)}static initialize(r,n){Si.initialize(r,n)}static get supportedTypes(){return Kn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Kn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(r){return this.supportedTypes.includes(r)}static paste(r,n){n.pasteEditor(Gn.STAMP,{bitmapFile:r.getAsFile()})}remove(){var r,n;_(this,No)&&(ue(this,To,null),this._uiManager.imageManager.deleteId(_(this,No)),(r=_(this,sf))==null||r.remove(),ue(this,sf,null),(n=_(this,Ed))==null||n.disconnect(),ue(this,Ed,null),_(this,af)&&(clearTimeout(_(this,af)),ue(this,af,null))),super.remove()}rebuild(){if(!this.parent){_(this,No)&&de(this,ei,l_).call(this);return}super.rebuild(),this.div!==null&&(_(this,No)&&_(this,sf)===null&&de(this,ei,l_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(_(this,sp)||_(this,To)||_(this,_d)||_(this,ap)||_(this,No))}get isResizable(){return!0}render(){if(this.div)return this.div;let r,n;if(this.width&&(r=this.x,n=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),_(this,To)?de(this,ei,dI).call(this):de(this,ei,l_).call(this),this.width){const[i,s]=this.parentDimensions;this.setAt(r*i,n*s,this.width*i,this.height*s)}return this.div}getImageForAltText(){return _(this,sf)}static deserialize(r,n,i){if(r instanceof bj)return null;const s=super.deserialize(r,n,i),{rect:a,bitmapUrl:o,bitmapId:l,isSvg:c,accessibilityData:u}=r;l&&i.imageManager.isValidId(l)?ue(s,No,l):ue(s,_d,o),ue(s,Hu,c);const[f,p]=s.pageDimensions;return s.width=(a[2]-a[0])/f,s.height=(a[3]-a[1])/p,u&&(s.altTextData=u),s}serialize(r=!1,n=null){if(this.isEmpty())return null;const i={annotationType:Gn.STAMP,bitmapId:_(this,No),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:_(this,Hu),structTreeParentId:this._structTreeParentId};if(r)return i.bitmapUrl=de(this,ei,c_).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:s,altText:a}=this.altTextData;if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),n===null)return i;n.stamps||(n.stamps=new Map);const o=_(this,Hu)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(_(this,No)))n.stamps.set(_(this,No),{area:o,serialized:i}),i.bitmap=de(this,ei,c_).call(this,!1);else if(_(this,Hu)){const l=n.stamps.get(_(this,No));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=de(this,ei,c_).call(this,!1))}return i}};To=new WeakMap,No=new WeakMap,sp=new WeakMap,_d=new WeakMap,ap=new WeakMap,ux=new WeakMap,sf=new WeakMap,Ed=new WeakMap,af=new WeakMap,Hu=new WeakMap,cC=new WeakMap,ei=new WeakSet,S2=function(r,n=!1){if(!r){this.remove();return}ue(this,To,r.bitmap),n||(ue(this,No,r.id),ue(this,Hu,r.isSvg)),r.file&&ue(this,ux,r.file.name),de(this,ei,dI).call(this)},_2=function(){ue(this,sp,null),this._uiManager.enableWaiting(!1),_(this,sf)&&this.div.focus()},l_=function(){if(_(this,No)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(_(this,No)).then(i=>de(this,ei,S2).call(this,i,!0)).finally(()=>de(this,ei,_2).call(this));return}if(_(this,_d)){const i=_(this,_d);ue(this,_d,null),this._uiManager.enableWaiting(!0),ue(this,sp,this._uiManager.imageManager.getFromUrl(i).then(s=>de(this,ei,S2).call(this,s)).finally(()=>de(this,ei,_2).call(this)));return}if(_(this,ap)){const i=_(this,ap);ue(this,ap,null),this._uiManager.enableWaiting(!0),ue(this,sp,this._uiManager.imageManager.getFromFile(i).then(s=>de(this,ei,S2).call(this,s)).finally(()=>de(this,ei,_2).call(this)));return}const r=document.createElement("input");r.type="file",r.accept=sw.supportedTypesStr;const n=this._uiManager._signal;ue(this,sp,new Promise(i=>{r.addEventListener("change",async()=>{if(!r.files||r.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(r.files[0]);de(this,ei,S2).call(this,s)}i()},{signal:n}),r.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>de(this,ei,_2).call(this))),r.click()},dI=function(){const{div:r}=this;let{width:n,height:i}=_(this,To);const[s,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*s,i=this.height*a;else if(n>o*s||i>o*a){const f=Math.min(o*s/n,o*a/i);n*=f,i*=f}const[l,c]=this.parentDimensions;this.setDims(n*l/s,i*c/a),this._uiManager.enableWaiting(!1);const u=ue(this,sf,document.createElement("canvas"));r.append(u),r.hidden=!1,de(this,ei,pI).call(this,n,i),de(this,ei,sG).call(this),_(this,cC)||(this.parent.addUndoableEditor(this),ue(this,cC,!0)),this._reportTelemetry({action:"inserted_image"}),_(this,ux)&&u.setAttribute("aria-label",_(this,ux))},nG=function(r,n){var o;const[i,s]=this.parentDimensions;this.width=r/i,this.height=n/s,this.setDims(r,n),(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,_(this,af)!==null&&clearTimeout(_(this,af)),ue(this,af,setTimeout(()=>{ue(this,af,null),de(this,ei,pI).call(this,r,n)},200))},iG=function(r,n){const{width:i,height:s}=_(this,To);let a=i,o=s,l=_(this,To);for(;a>2*r||o>2*n;){const c=a,u=o;a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(a,o);f.getContext("2d").drawImage(l,0,0,c,u,0,0,a,o),l=f.transferToImageBitmap()}return l},pI=function(r,n){r=Math.ceil(r),n=Math.ceil(n);const i=_(this,sf);if(!i||i.width===r&&i.height===n)return;i.width=r,i.height=n;const s=_(this,Hu)?_(this,To):de(this,ei,iG).call(this,r,n);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(r,n).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,r,n),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,r,n).data,width:r,height:n,channels:4}}).then(c=>{const u=(c==null?void 0:c.output)||"";this.parent&&u&&!this.hasAltText()&&(this.altTextData={altText:u,decorative:!1})})}const a=i.getContext("2d");a.filter=this._uiManager.hcmFilter,a.drawImage(s,0,0,s.width,s.height,0,0,r,n)},c_=function(r){if(r){if(_(this,Hu)){const s=this._uiManager.imageManager.getSvgUrl(_(this,No));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=_(this,To),n.getContext("2d").drawImage(_(this,To),0,0),n.toDataURL()}if(_(this,Hu)){const[n,i]=this.pageDimensions,s=Math.round(this.width*n*Cp.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*Cp.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(_(this,To),0,0,_(this,To).width,_(this,To).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(_(this,To))},sG=function(){this._uiManager._signal&&(ue(this,Ed,new ResizeObserver(r=>{const n=r[0].contentRect;n.width&&n.height&&de(this,ei,nG).call(this,n.width,n.height)})),_(this,Ed).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var r;(r=_(this,Ed))==null||r.disconnect(),ue(this,Ed,null)},{once:!0}))},er(sw,"_type","stamp"),er(sw,"_editorType",Gn.STAMP);let fI=sw;var Am,hx,of,um,Bd,Td,Nd,Xc,op,fx,dx,Rl,Fr,lp,Do,aG,mI,yI,xI,A_;const _u=class _u{constructor({uiManager:e,pageIndex:r,div:n,accessibilityManager:i,annotationLayer:s,drawLayer:a,textLayer:o,viewport:l,l10n:c}){ge(this,Do);ge(this,Am);ge(this,hx,!1);ge(this,of,null);ge(this,um,null);ge(this,Bd,null);ge(this,Td,null);ge(this,Nd,null);ge(this,Xc,new Map);ge(this,op,!1);ge(this,fx,!1);ge(this,dx,!1);ge(this,Rl,null);ge(this,Fr);const u=[..._(_u,lp).values()];if(!_u._initialized){_u._initialized=!0;for(const f of u)f.initialize(c,e)}e.registerEditorTypes(u),ue(this,Fr,e),this.pageIndex=r,this.div=n,ue(this,Am,i),ue(this,of,s),this.viewport=l,ue(this,Rl,o),this.drawLayer=a,_(this,Fr).addLayer(this)}get isEmpty(){return _(this,Xc).size===0}get isInvisible(){return this.isEmpty&&_(this,Fr).getMode()===Gn.NONE}updateToolbar(e){_(this,Fr).updateToolbar(e)}updateMode(e=_(this,Fr).getMode()){switch(de(this,Do,A_).call(this),e){case Gn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Gn.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Gn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:r}=this.div;for(const n of _(_u,lp).values())r.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var r;return e===((r=_(this,Rl))==null?void 0:r.div)}addInkEditorIfNeeded(e){if(_(this,Fr).getMode()!==Gn.INK)return;if(!e){for(const n of _(this,Xc).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){_(this,Fr).setEditingState(e)}addCommands(e){_(this,Fr).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var r;(r=_(this,of))==null||r.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of _(this,Xc).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(_(this,Fr).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!_(this,of))return;const r=_(this,of).getEditableAnnotations();for(const n of r){if(n.hide(),_(this,Fr).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const i=this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;ue(this,dx,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,r=new Map;for(const s of _(this,Xc).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else r.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(_(this,of)){const s=_(this,of).getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(_(this,Fr).isDeletedAnnotationElement(o))continue;let l=r.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(o),l&&(_(this,Fr).addChangedExistingAnnotation(l),l.renderAnnotationElement(a),l.show(!1)),a.show()}}de(this,Do,A_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of _(_u,lp).values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),ue(this,dx,!1)}getEditableAnnotation(e){var r;return((r=_(this,of))==null?void 0:r.getEditableAnnotation(e))||null}setActiveEditor(e){_(this,Fr).getActive()!==e&&_(this,Fr).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=_(this,Rl))!=null&&e.div&&!_(this,Td)&&(ue(this,Td,de(this,Do,aG).bind(this)),_(this,Rl).div.addEventListener("pointerdown",_(this,Td),{signal:_(this,Fr)._signal}),_(this,Rl).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=_(this,Rl))!=null&&e.div&&_(this,Td)&&(_(this,Rl).div.removeEventListener("pointerdown",_(this,Td)),ue(this,Td,null),_(this,Rl).div.classList.remove("highlighting"))}enableClick(){if(_(this,Bd))return;const e=_(this,Fr)._signal;ue(this,Bd,this.pointerdown.bind(this)),ue(this,um,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",_(this,Bd),{signal:e}),this.div.addEventListener("pointerup",_(this,um),{signal:e})}disableClick(){_(this,Bd)&&(this.div.removeEventListener("pointerdown",_(this,Bd)),this.div.removeEventListener("pointerup",_(this,um)),ue(this,Bd,null),ue(this,um,null))}attach(e){_(this,Xc).set(e.id,e);const{annotationElementId:r}=e;r&&_(this,Fr).isDeletedAnnotationElement(r)&&_(this,Fr).removeDeletedAnnotationElement(e)}detach(e){var r;_(this,Xc).delete(e.id),(r=_(this,Am))==null||r.removePointerInTextLayer(e.contentDiv),!_(this,dx)&&e.annotationElementId&&_(this,Fr).addDeletedAnnotationElement(e)}remove(e){this.detach(e),_(this,Fr).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,_(this,fx)||this.addInkEditorIfNeeded(!1)}changeParent(e){var r;e.parent!==this&&(e.parent&&e.annotationElementId&&(_(this,Fr).addDeletedAnnotationElement(e.annotationElementId),Si.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(r=e.parent)==null||r.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),_(this,Fr).addEditor(e),this.attach(e),!e.isAttachedToDOM){const r=e.render();this.div.append(r),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),_(this,Fr).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:r}=document;e.div.contains(r)&&!_(this,Nd)&&(e._focusEventsAllowed=!1,ue(this,Nd,setTimeout(()=>{ue(this,Nd,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:_(this,Fr)._signal}),r.focus())},0))),e._structTreeParentId=(n=_(this,Am))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const r=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:r,undo:n,mustExec:!1})}getNextId(){return _(this,Fr).getId()}get _signal(){return _(this,Fr)._signal}canCreateNewEmptyEditor(){var e;return(e=_(this,Do,mI))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,r){_(this,Fr).updateToolbar(e),_(this,Fr).updateMode(e);const{offsetX:n,offsetY:i}=de(this,Do,xI).call(this),s=this.getNextId(),a=de(this,Do,yI).call(this,{parent:this,id:s,x:n,y:i,uiManager:_(this,Fr),isCentered:!0,...r});a&&this.add(a)}deserialize(e){var r;return((r=_(_u,lp).get(e.annotationType??e.annotationEditorType))==null?void 0:r.deserialize(e,this,_(this,Fr)))||null}createAndAddNewEditor(e,r,n={}){const i=this.getNextId(),s=de(this,Do,yI).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:_(this,Fr),isCentered:r,...n});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(de(this,Do,xI).call(this),!0)}setSelected(e){_(this,Fr).setSelected(e)}toggleSelected(e){_(this,Fr).toggleSelected(e)}isSelected(e){return _(this,Fr).isSelected(e)}unselect(e){_(this,Fr).unselect(e)}pointerup(e){const{isMac:r}=bc.platform;if(!(e.button!==0||e.ctrlKey&&r)&&e.target===this.div&&_(this,op)){if(ue(this,op,!1),!_(this,hx)){ue(this,hx,!0);return}if(_(this,Fr).getMode()===Gn.STAMP){_(this,Fr).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(_(this,Fr).getMode()===Gn.HIGHLIGHT&&this.enableTextSelection(),_(this,op)){ue(this,op,!1);return}const{isMac:r}=bc.platform;if(e.button!==0||e.ctrlKey&&r||e.target!==this.div)return;ue(this,op,!0);const n=_(this,Fr).getActive();ue(this,hx,!n||n.isEmpty())}findNewParent(e,r,n){const i=_(this,Fr).findParent(r,n);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,r;((e=_(this,Fr).getActive())==null?void 0:e.parent)===this&&(_(this,Fr).commitOrRemove(),_(this,Fr).setActiveEditor(null)),_(this,Nd)&&(clearTimeout(_(this,Nd)),ue(this,Nd,null));for(const n of _(this,Xc).values())(r=_(this,Am))==null||r.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,_(this,Xc).clear(),_(this,Fr).removeLayer(this)}render({viewport:e}){this.viewport=e,xm(this.div,e);for(const r of _(this,Fr).getEditors(this.pageIndex))this.add(r),r.rebuild();this.updateMode()}update({viewport:e}){_(this,Fr).commitOrRemove(),de(this,Do,A_).call(this);const r=this.viewport.rotation,n=e.rotation;if(this.viewport=e,xm(this.div,{rotation:n}),r!==n)for(const i of _(this,Xc).values())i.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:r}=this.viewport.rawDims;return[e,r]}get scale(){return _(this,Fr).viewParameters.realScale}};Am=new WeakMap,hx=new WeakMap,of=new WeakMap,um=new WeakMap,Bd=new WeakMap,Td=new WeakMap,Nd=new WeakMap,Xc=new WeakMap,op=new WeakMap,fx=new WeakMap,dx=new WeakMap,Rl=new WeakMap,Fr=new WeakMap,lp=new WeakMap,Do=new WeakSet,aG=function(e){if(_(this,Fr).unselectAll(),e.target===_(this,Rl).div){const{isMac:r}=bc.platform;if(e.button!==0||e.ctrlKey&&r)return;_(this,Fr).showAllEditors("highlight",!0,!0),_(this,Rl).div.classList.add("free"),z_.startHighlighting(this,_(this,Fr).direction==="ltr",e),_(this,Rl).div.addEventListener("pointerup",()=>{_(this,Rl).div.classList.remove("free")},{once:!0,signal:_(this,Fr)._signal}),e.preventDefault()}},mI=function(){return _(_u,lp).get(_(this,Fr).getMode())},yI=function(e){const r=_(this,Do,mI);return r?new r.prototype.constructor(e):null},xI=function(){const{x:e,y:r,width:n,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,r),o=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,r+i),c=(s+o)/2-e,u=(a+l)/2-r,[f,p]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:f,offsetY:p}},A_=function(){ue(this,fx,!0);for(const e of _(this,Xc).values())e.isEmpty()&&e.remove();ue(this,fx,!1)},er(_u,"_initialized",!1),ge(_u,lp,new Map([WF,aI,fI,z_].map(e=>[e._editorType,e])));let gI=_u;var lf,AC,Oa,cp,uC,wI,Um,bI,oG;const Co=class Co{constructor({pageIndex:e}){ge(this,Um);ge(this,lf,null);ge(this,AC,0);ge(this,Oa,new Map);ge(this,cp,new Map);this.pageIndex=e}setParent(e){if(!_(this,lf)){ue(this,lf,e);return}if(_(this,lf)!==e){if(_(this,Oa).size>0)for(const r of _(this,Oa).values())r.remove(),e.append(r);ue(this,lf,e)}}static get _svgFactory(){return Kn(this,"_svgFactory",new sL)}highlight(e,r,n,i=!1){const s=Pc(this,AC)._++,a=de(this,Um,bI).call(this,e.box);a.classList.add("highlight"),e.free&&a.classList.add("free");const o=Co._svgFactory.createElement("defs");a.append(o);const l=Co._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),i&&_(this,cp).set(s,l);const u=de(this,Um,oG).call(this,o,c),f=Co._svgFactory.createElement("use");return a.append(f),a.setAttribute("fill",r),a.setAttribute("fill-opacity",n),f.setAttribute("href",`#${c}`),_(this,Oa).set(s,a),{id:s,clipPathId:`url(#${u})`}}highlightOutline(e){const r=Pc(this,AC)._++,n=de(this,Um,bI).call(this,e.box);n.classList.add("highlightOutline");const i=Co._svgFactory.createElement("defs");n.append(i);const s=Co._svgFactory.createElement("path");i.append(s);const a=`path_p${this.pageIndex}_${r}`;s.setAttribute("id",a),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.free){n.classList.add("free");const u=Co._svgFactory.createElement("mask");i.append(u),o=`mask_p${this.pageIndex}_${r}`,u.setAttribute("id",o),u.setAttribute("maskUnits","objectBoundingBox");const f=Co._svgFactory.createElement("rect");u.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Co._svgFactory.createElement("use");u.append(p),p.setAttribute("href",`#${a}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const l=Co._svgFactory.createElement("use");n.append(l),l.setAttribute("href",`#${a}`),o&&l.setAttribute("mask",`url(#${o})`);const c=l.cloneNode();return n.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),_(this,Oa).set(r,n),r}finalizeLine(e,r){const n=_(this,cp).get(e);_(this,cp).delete(e),this.updateBox(e,r.box),n.setAttribute("d",r.toSVGPath())}updateLine(e,r){_(this,Oa).get(e).firstChild.firstChild.setAttribute("d",r.toSVGPath())}removeFreeHighlight(e){this.remove(e),_(this,cp).delete(e)}updatePath(e,r){_(this,cp).get(e).setAttribute("d",r.toSVGPath())}updateBox(e,r){var n;de(n=Co,uC,wI).call(n,_(this,Oa).get(e),r)}show(e,r){_(this,Oa).get(e).classList.toggle("hidden",!r)}rotate(e,r){_(this,Oa).get(e).setAttribute("data-main-rotation",r)}changeColor(e,r){_(this,Oa).get(e).setAttribute("fill",r)}changeOpacity(e,r){_(this,Oa).get(e).setAttribute("fill-opacity",r)}addClass(e,r){_(this,Oa).get(e).classList.add(r)}removeClass(e,r){_(this,Oa).get(e).classList.remove(r)}remove(e){_(this,lf)!==null&&(_(this,Oa).get(e).remove(),_(this,Oa).delete(e))}destroy(){ue(this,lf,null);for(const e of _(this,Oa).values())e.remove();_(this,Oa).clear()}};lf=new WeakMap,AC=new WeakMap,Oa=new WeakMap,cp=new WeakMap,uC=new WeakSet,wI=function(e,{x:r=0,y:n=0,width:i=1,height:s=1}={}){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*r}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},Um=new WeakSet,bI=function(e){var n;const r=Co._svgFactory.create(1,1,!0);return _(this,lf).append(r),r.setAttribute("aria-hidden",!0),de(n=Co,uC,wI).call(n,r,e),r},oG=function(e,r){const n=Co._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${r}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=Co._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${r}`),s.classList.add("clip"),i},ge(Co,uC);let vI=Co;Xr.AbortException;Xr.AnnotationEditorLayer;Xr.AnnotationEditorParamsType;Xr.AnnotationEditorType;Xr.AnnotationEditorUIManager;Xr.AnnotationLayer;Xr.AnnotationMode;Xr.CMapCompressionType;Xr.ColorPicker;Xr.DOMSVGFactory;Xr.DrawLayer;Xr.FeatureTest;var ole=Xr.GlobalWorkerOptions;Xr.ImageKind;Xr.InvalidPDFException;Xr.MissingPDFException;Xr.OPS;Xr.Outliner;Xr.PDFDataRangeTransport;Xr.PDFDateString;Xr.PDFWorker;Xr.PasswordResponses;Xr.PermissionFlag;Xr.PixelsPerInch;Xr.RenderingCancelledException;Xr.TextLayer;Xr.UnexpectedResponseException;Xr.Util;Xr.VerbosityLevel;Xr.XfaLayer;Xr.build;Xr.createValidAbsoluteUrl;Xr.fetchData;var E8=Xr.getDocument;Xr.getFilenameFromUrl;Xr.getPdfFilenameFromUrl;Xr.getXfaPageViewport;Xr.isDataScheme;Xr.isPdfFile;Xr.noContextMenu;Xr.normalizeUnicode;Xr.renderTextLayer;Xr.setLayerDimensions;Xr.shadow;Xr.updateTextLayer;Xr.version;var Ne=(t=>(t.FOUNDER_DNA="Founder DNA",t.MARKET_FIT_ANALYST="Market-Fit Analyst",t.PROBLEM_RESEARCH="Problem Research",t.CUSTOMER_PERSONA="Customer Persona",t.EMPATHY_MAP="Empathy Map",t.PROBLEM_SYNTHESIZER="Problem Synthesizer",t.TECHNOLOGY_SCOUT="Technology Scout",t.SOLUTION_IDEATION="Solution Ideation",t.SOLUTION_CRITIQUE="Solution Critique",t.VENTURE_ANALYST="Venture Analyst",t.SOLUTION_EVOLUTION="Solution Evolution",t.SOLUTION_SELECTION="Solution Selection",t.DEVILS_ADVOCATE="Devil's Advocate",t.IP_STRATEGIST="IP Strategist",t.TALENT_STRATEGIST="Talent Strategist",t.VALUE_PROPOSITION="Value Proposition",t.LEAN_CANVAS="Lean Canvas",t.STORYBOARDING="Storyboarding",t.FINANCIAL_MODELER="Financial Modeler",t.INVESTMENT_MEMO="Investment Memo",t.RISK_ANALYSIS="Risk Analysis",t.TECHNICAL_BLUEPRINT="Technical Blueprint",t.GO_TO_MARKET="Go-to-Market",t.STRATEGY="Strategy",t.PITCH_DECK="Pitch Deck",t.ETHICS_ORACLE="Ethics Oracle",t.SUCCESS_SCORE_ANALYSIS="Success Score Analysis",t))(Ne||{});const lle=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),cle=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0"})}),Ale=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),ule=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v18m0-18l-1.48 1.48M12 3l1.48 1.48M12 21l-1.48-1.48M12 21l1.48 1.48M3 12h18M3 12l1.48 1.48M3 12l1.48-1.48M21 12l-1.48 1.48M21 12l-1.48-1.48M9 9l-6 6m12 0l6-6m-6 6l6 6m-6-6l-6-6"})}),hle=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 001.5-11.25a6.01 6.01 0 00-1.5-11.25m-1.5 11.25a6.01 6.01 0 01-1.5 11.25m1.5-11.25v-5.25m0 5.25a6.01 6.01 0 00-1.5 11.25m3-11.25a6.01 6.01 0 011.5 11.25m0 0a6.01 6.01 0 011.5 11.25m-3-11.25a6.01 6.01 0 00-1.5-11.25"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75a3 3 0 116 0 3 3 0 01-6 0z"})]}),CI=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126z"})}),fle=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),dle=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 11.25v8.25a2.25 2.25 0 01-2.25 2.25H5.25a2.25 2.25 0 01-2.25-2.25v-8.25M12 4.875A2.625 2.625 0 1014.625 7.5H9.375A2.625 2.625 0 1012 4.875z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9.75v12m0 0l-3-3m3 3l3-3m-3-3v-2.25a2.25 2.25 0 012.25-2.25h1.5a2.25 2.25 0 012.25 2.25V9.75m-6.75 0v-2.25a2.25 2.25 0 00-2.25-2.25h-1.5a2.25 2.25 0 00-2.25 2.25V9.75"})]}),ple=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2-2H6a2 2 0 01-2-2V6z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 4v16m4-16v16M4 10h16m-16 4h16"})]}),gle=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[d.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 3v18M17 3v18M3 8h18M3 16h18"})]}),mle=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h1.5c.621 0 1.125.504 1.125 1.125v6.75c0 .621-.504 1.125-1.125 1.125h-1.5c-.621 0-1.125-.504-1.125-1.125v-6.75z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.375 9.75c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125v10.125c0 .621-.504 1.125-1.125 1.125h-1.5c-.621 0-1.125-.504-1.125-1.125V9.75z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6.375c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125v13.5c0 .621-.504 1.125-1.125 1.125h-1.5c-.621 0-1.125-.504-1.125-1.125V6.375z"})]}),yle=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 100-18 9 9 0 000 18z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12l-3-7-3 7 3 2 3-2z"})]}),xle=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21.75c2.396 0 4.6-1.004 6.166-2.666C19.796 17.418 21 14.826 21 12c0-2.826-1.204-5.418-2.834-7.084C16.6 3.254 14.396 2.25 12 2.25 9.604 2.25 7.4 3.254 5.834 4.916 4.204 6.582 3 9.174 3 12c0 2.826 1.204 5.418 2.834 7.084C7.4 20.746 9.604 21.75 12 21.75z"})]}),vle=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25-2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V12"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 12H12m0 0h3.75"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12V7.5"})]}),wle=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L6 12z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12h9"})]}),ble=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5v-7.5M3.375 12v-7.5m0 7.5h17.25m-17.25 0a1.125 1.125 0 00-1.125 1.125M12 12a1.125 1.125 0 01-1.125-1.125V3.375m1.125 7.5a1.125 1.125 0 011.125-1.125V3.375m0 0a1.125 1.125 0 011.125 1.125m-2.25 0a1.125 1.125 0 01-1.125 1.125m1.125-2.25v7.5m1.125-7.5a1.125 1.125 0 00-1.125-1.125m1.125 1.125a1.125 1.125 0 011.125 1.125m-2.25 0a1.125 1.125 0 01-1.125 1.125m5.625-7.5v11.25a2.25 2.25 0 01-2.25 2.25H4.875a2.25 2.25 0 01-2.25-2.25V3.375a2.25 2.25 0 012.25-2.25h11.25a2.25 2.25 0 012.25 2.25z"})}),Cle=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1.5M12 21v-1.5m8.25-11.25H3.75M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3.75m16.5 0a9 9 0 01-9 9m0-9a9 9 0 00-9 9"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),_x=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"none",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),uw=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),lG=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0011.667 0l3.181-3.183m-4.991-2.691L7.5 5.951m11.667 0l-1.167 1.167M11.25 5.951l-1.167-1.167m0 0L7.5 2.25l-2.5 2.5M16.023 9.348l-2.5-2.5M2.985 19.644l2.5 2.5m0 0l2.5-2.5m-2.5 2.5v-4.992"})}),Sle=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"})}),K_=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v16.5h16.5V3.75H3.75z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9h16.5m-16.5 6h16.5M8.25 3.75v16.5M15.75 3.75v16.5"})]}),B8=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25H7.5a2.25 2.25 0 00-2.25 2.25v9a2.25 2.25 0 002.25 2.25h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25H15m0-3l-3-3m0 0l-3 3m3-3v12"})}),_le=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 13.5l3 3m0 0l3-3m-3 3v-6m1.06-4.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})}),pm=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5.586a1 1 0 0 1 .707.293l5.414 5.414a1 1 0 0 1 .293.707V19a2 2 0 0 1-2 2Z"})}),SI=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125V6.375c0-.621.504-1.125 1.125-1.125h17.25c.621 0 1.125.504 1.125 1.125v12c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0V6.375M3.375 6.375h17.25m0 0V3.375c0-.621-.504-1.125-1.125-1.125h-1.5c-.621 0-1.125.504-1.125 1.125v3M10.5 19.5v-15m0 0h3m-3 0V3.375c0-.621-.504-1.125-1.125-1.125h-1.5c-.621 0-1.125.504-1.125 1.125v3m7.5 15v-15m0 0h3m-3 0V3.375c0-.621-.504-1.125-1.125-1.125h-1.5a1.125 1.125 0 00-1.125 1.125v3"})}),_I=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5v-7.5M3.375 12v-7.5m0 7.5h17.25m-17.25 0a1.125 1.125 0 00-1.125 1.125M12 12a1.125 1.125 0 01-1.125-1.125V3.375m1.125 7.5a1.125 1.125 0 011.125-1.125V3.375m-1.125 7.5a1.125 1.125 0 01-1.125 1.125M12 12h5.25m-5.25 0h-5.25m5.25 0v7.5m0-7.5a1.125 1.125 0 00-1.125-1.125V3.375m1.125 7.5a1.125 1.125 0 001.125-1.125V3.375m1.125 7.5a1.125 1.125 0 011.125 1.125m-2.25 0a1.125 1.125 0 01-1.125 1.125v7.5m1.125-7.5a1.125 1.125 0 011.125 1.125v7.5m-1.125-7.5a1.125 1.125 0 01-1.125-1.125V3.375m1.125 7.5a1.125 1.125 0 011.125-1.125V3.375"})}),cG=({className:t})=>d.jsxs("svg",{className:t,viewBox:"0 0 100 90",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"logo-gradient",x1:"0%",y1:"100%",x2:"100%",y2:"0%",children:[d.jsx("stop",{offset:"0%",stopColor:"#6B0F9C"}),"   ",d.jsx("stop",{offset:"25%",stopColor:"#E04595"}),"  ",d.jsx("stop",{offset:"75%",stopColor:"#0047FF"}),"  ",d.jsx("stop",{offset:"100%",stopColor:"#00B9E8"})," "]}),d.jsxs("filter",{id:"logo-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[d.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"blur"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),d.jsxs("g",{filter:"url(#logo-glow)",children:[d.jsx("path",{d:"M50 45 C 20 45, 20 85, 50 85 C 80 85, 80 45, 50 45 C 20 45, 20 5, 50 5 C 80 5, 80 45, 50 45 Z",stroke:"url(#logo-gradient)",strokeWidth:"10",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),d.jsx("circle",{cx:"27",cy:"65",r:"4",fill:"#6B0F9C"}),d.jsx("circle",{cx:"73",cy:"25",r:"4",fill:"#00B9E8"}),d.jsx("circle",{cx:"27",cy:"25",r:"4",fill:"#E04595"}),d.jsx("circle",{cx:"73",cy:"65",r:"4",fill:"#0047FF"})]})]}),bm=({className:t})=>d.jsx("svg",{className:t||"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})}),Wd=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Mp=({className:t})=>d.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),AG=({className:t})=>d.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126z"})}),Ele=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})}),EI=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),BI=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),uG=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),hG=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})}),Ble=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l-3-3m0 0l-3 3m3-3V9"})}),Tle=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.75V16.5L12 14.25 7.5 16.5V3.75m9 0H18A2.25 2.25 0 0120.25 6v12A2.25 2.25 0 0118 20.25H6A2.25 2.25 0 013.75 18V6A2.25 2.25 0 016 3.75h1.5m9 0h-9"})}),xC=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 001.5-11.25a6.01 6.01 0 00-1.5-11.25m-1.5 11.25a6.01 6.01 0 01-1.5 11.25m1.5-11.25v-5.25m0 5.25a6.01 6.01 0 00-1.5 11.25m3-11.25a6.01 6.01 0 011.5 11.25m0 0a6.01 6.01 0 011.5 11.25m-3-11.25a6.01 6.01 0 00-1.5-11.25"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75a3 3 0 116 0 3 3 0 01-6 0z"})]}),fG=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),dG=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"})]}),Ex=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008H12v-.008z"})}),fL=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 01-5.84 7.38v-4.82m5.84-2.56a6 6 0 01-5.84 7.38v-4.82m5.84-2.56L17.75 4.5 21.25 8.5 15.59 14.37zM9.75 8.87a6 6 0 01-5.84-2.56L1.25 10.5 4.75 14.5 9.75 8.87z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.04 14.37a6 6 0 01-5.84-7.38v4.82m5.84 2.56a6 6 0 01-5.84-7.38v4.82m5.84 2.56L4.25 21.5 7.75 17.5 6.04 14.37z"})]}),dL=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 6.087c0-.66.538-1.198 1.197-1.198s1.197.537 1.197 1.198v1.5c0 .66-.538 1.197-1.197 1.197S14.25 8.247 14.25 7.587v-1.5zM14.25 18.087c0-.66.538-1.197 1.197-1.197s1.197.537 1.197 1.197v1.5c0 .66-.538 1.197-1.197 1.197S14.25 20.247 14.25 19.587v-1.5zM9.75 6.087c0-.66.538-1.198 1.197-1.198s1.197.537 1.197 1.198v1.5c0 .66-.538 1.197-1.197 1.197S9.75 8.247 9.75 7.587v-1.5z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 18.087c0-.66.538-1.197 1.197-1.197s1.197.537 1.197 1.197v1.5c0 .66-.538 1.197-1.197 1.197S9.75 20.247 9.75 19.587v-1.5z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.18 9.75c-.66 0-1.197.538-1.197 1.197v1.5c0 .66.537 1.197 1.197 1.197s1.197-.537 1.197-1.197v-1.5c0-.66-.537-1.197-1.197-1.197zM18.087 9.75c-.66 0-1.197.538-1.197 1.197v1.5c0 .66.537 1.197 1.197 1.197s1.197-.537 1.197-1.197v-1.5c0-.66-.537-1.197-1.197-1.197z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.18 18.087c-.66 0-1.197.538-1.197 1.197v1.5c0 .66.537 1.197 1.197 1.197s1.197-.537 1.197-1.197v-1.5c0-.66-.537-1.197-1.197-1.197zM18.087 18.087c-.66 0-1.197.538-1.197 1.197v1.5c0 .66.537 1.197 1.197 1.197s1.197-.537 1.197-1.197v-1.5c0-.66-.537-1.197-1.197-1.197z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12.813V3.75a2.25 2.25 0 012.25-2.25h7.5A2.25 2.25 0 0118 3.75v9.063M6 12.813c0 .66-.537 1.197-1.197 1.197H3.75A2.25 2.25 0 011.5 11.25V7.5A2.25 2.25 0 013.75 5.25h1.053c.66 0 1.197.537 1.197 1.197v6.063z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12.813V20.25a2.25 2.25 0 01-2.25 2.25h-7.5a2.25 2.25 0 01-2.25-2.25v-7.437m12 0c0 .66.537 1.197 1.197 1.197h1.053a2.25 2.25 0 002.25-2.25V7.5a2.25 2.25 0 00-2.25-2.25h-1.053c-.66 0-1.197.537-1.197 1.197v6.063z"})]}),Cm=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 00-12 0m12 0a9.094 9.094 0 00-12 0m12 0a9.094 9.094 0 00-12 0m12 0a9.094 9.094 0 00-12 0M6 12.75a5.25 5.25 0 1112 0 5.25 5.25 0 01-12 0zm6 5.25a7.5 7.5 0 100-15 7.5 7.5 0 000 15z"})}),GB=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),pL=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})}),T8=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12m-3 0a3 3 0 106 0 3 3 0 10-6 0"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12m-3 0a3 3 0 106 0 3 3 0 10-6 0"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6m-3 0a3 3 0 106 0 3 3 0 10-6 0"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18m-3 0a3 3 0 106 0 3 3 0 10-6 0"})]}),zu=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM18 15.75l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 21l-1.035.259a3.375 3.375 0 00-2.456 2.456L18 24.75l-.259-1.035a3.375 3.375 0 00-2.456-2.456L14.25 21l1.035-.259a3.375 3.375 0 002.456-2.456L18 15.75z"})}),Bx=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.036.243c-2.132 0-4.14-.818-5.62-2.25L12 14.47l-1.22 1.22c-1.48 1.432-3.488 2.25-5.62 2.25a5.988 5.988 0 01-2.036-.243c-.483-.174-.711-.703-.59-1.202L5.25 4.97m13.5 0c-1.01.143-2.01.317-3 .52m3-.52c-1.01-.143-2.01-.317-3-.52m0 0c-2.291 0-4.545.16-6.75.47m11.25 0c-1.472 0-2.882.265-4.185.75M5.25 4.97c-1.472 0-2.882.265-4.185.75M12 4.5c-1.472 0-2.882.265-4.185.75"})}),W_=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.134H8.09a2.09 2.09 0 00-2.09 2.134v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),hw=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM17.25 15a.75.75 0 100-1.5.75.75 0 000 1.5z"})]}),pG=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Nle=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 004.5 4.5H18a3.75 3.75 0 001.332-7.257 3 3 0 00-2.666-5.113 5.25 5.25 0 00-10.512 0 3 3 0 00-2.666 5.113A4.5 4.5 0 002.25 15z"})}),fw=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})}),Y_=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),Fle=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.828 14.828a4.5 4.5 0 01-6.364 0M9 10.5h.008v.008H9v-.008zm6 0h.008v.008H15v-.008z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),Ile=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h12A2.25 2.25 0 0120.25 6v12A2.25 2.25 0 0118 20.25H6A2.25 2.25 0 013.75 18V6zM3.75 9h19.5m-16.5 5.25h6m-6 2.25h6m3-3.75l3 3m0 0l3-3m-3 3V1.5m-9 5.25h10.5"})}),vC=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 100-18 9 9 0 000 18z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15a3 3 0 100-6 3 3 0 000 6z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m0 13.5V21m-6.75-9H3m15.75 0H21m-6-6.75L6.343 6.343m11.314 11.314L15.657 15.657"})]}),gG=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})}),kle=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 9h.008v.008H6V9z"})]}),Lle=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})}),Rle=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.5c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 012.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 00.322-1.672V3a.75.75 0 01.75-.75A2.25 2.25 0 0116.5 4.5c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 01-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 00-1.423-.23H6.5a.75.75 0 01-.75-.75V11.25a.75.75 0 01.75-.75h.133c.291.07.65.141.99.141z"})}),Mle=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.5c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 012.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 00.322-1.672V3a.75.75 0 01.75-.75A2.25 2.25 0 0116.5 4.5c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 01-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 00-1.423-.23H6.5a.75.75 0 01-.75-.75V11.25a.75.75 0 01.75-.75h.133c.291.07.65.141.99.141z",transform:"scale(1, -1) translate(0, -21)"})}),Ule=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0l2.77-.693a9 9 0 016.208.682l.108.054a9 9 0 006.086.71l3.114-.732a48.524 48.524 0 01-.005-10.499l-3.11.732a9 9 0 01-6.085-.711l-.108-.054a9 9 0 00-6.208-.682L3 4.5M3 15V4.5"})}),Dle=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12.75 3.095c.523-.217 1.13-.341 1.777-.341 3.314 0 6 2.686 6 6 0 .647-.124 1.254-.341 1.777M12.75 3.095a2.25 2.25 0 00-2.223.46c-.712.645-1.09.167-1.12.127-.042-.054-.084-.112-.127-.179a2.25 2.25 0 00-3.182-3.182c-.066.042-.124.084-.179.127-.04.03-.518.412-1.12.127a2.25 2.25 0 00-.46-2.223M12.75 3.095c-.523-.217-1.13-.341-1.777-.341a6 6 0 00-5.656 8.666c.217.523.341 1.13.341 1.777a6 6 0 008.666 5.656c.647 0 1.254-.124 1.777-.341m-1.332-1.332c.523.217 1.13.341 1.777.341a6 6 0 005.656-8.666c-.217-.523-.341-1.13-.341-1.777a6 6 0 00-8.666-5.656c-.647 0-1.254.124-1.777.341M12.75 3.095L11.418 4.427M8.25 6.75L6.918 8.082"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.002 9.002 0 008.666-5.656M12 21a9.002 9.002 0 01-8.666-5.656M12 21v-6.332c0-.523.124-1.037.341-1.5M12 14.668c.217-.463.341-.977.341-1.5V6.332"})]}),Px=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h1.5c.621 0 1.125.504 1.125 1.125v6.75c0 .621-.504 1.125-1.125 1.125h-1.5c-.621 0-1.125-.504-1.125-1.125v-6.75zM9.375 9.75c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125v10.125c0 .621-.504 1.125-1.125 1.125h-1.5c-.621 0-1.125-.504-1.125-1.125V9.75zM15.75 6.375c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125v13.5c0 .621-.504 1.125-1.125 1.125h-1.5c-.621 0-1.125-.504-1.125-1.125V6.375z"})}),gL=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})}),Ole=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),mG=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L6 12z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12h9"})]}),Ple=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193l-3.722.372a2.25 2.25 0 01-2.184-2.193v-4.286c0-.97.616-1.813 1.5-2.097m0 0A2.25 2.25 0 0015.75 6H5.25A2.25 2.25 0 003 8.25v4.5A2.25 2.25 0 005.25 15h3.75m0 0c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193l-3.722.372a2.25 2.25 0 01-2.184-2.193v-4.286c0-.97.616-1.813 1.5-2.097m0 0A2.25 2.25 0 005.25 6H15"})}),mL="1.20.0",M0=.03,yG=250,xG={quality:12,creative:15,fast:6},Hle=[{version:"1.20.0",date:"July 2024",changes:['**Feature**: Significantly expanded the "Target Market" selection to include a comprehensive list of countries.',"**UI Improvement**: Added visual status indicators (colored dots) to Agent nodes for better progress tracking."]},{version:"1.19.0",date:"July 2024",changes:["**Major Feature**: Added a new **Investment Memo Writer** agent to synthesize the full venture plan into a professional memo for VCs.",'**Improvement**: Renamed the "Financial Planner" agent to **"Financial Modeler"** to more accurately reflect its function in creating detailed financial models and projections.']},{version:"1.18.1",date:"July 2024",changes:['**Feature**: Added a "Regenerate Ideas" button to the Solution Analysis screen, allowing users to request a new set of solutions if the initial batch is not satisfactory.',"**Improvement**: Enhanced the iterative loop during the ideation phase, giving users more control over the creative process."]},{version:"1.18.0",date:"July 2024",changes:['**Major Feature**: Enhanced the solution selection phase with a quantitative "Solution Analysis" dashboard. The Venture Analyst now scores each idea on key metrics (Innovation, Feasibility, Market Fit, etc.).',"**Feature**: Added a spider chart to visually compare the strengths and weaknesses of each solution.",'**Feature**: Added a "Tangible Advantages" chart to quantify the benefits of each solution against the current baseline.',"**Improvement**: The idea selection screen is now a more powerful, data-driven decision point for the user."]},{version:"1.17.0",date:"July 2024",changes:[`**Feature**: Reintroduced user selection after the AI's "Tournament of Ideas." Users can now review the AI's ranked analysis and choose which concept to evolve, providing a better balance between AI automation and user strategy.`]},{version:"1.16.0",date:"July 2024",changes:['**Major Feature**: The "Talent Strategist" is now interactive. Users can trigger a "Talent Scout" AI agent that suggests real-world professional examples from public sources like LinkedIn for each ideal co-founder profile.',"**Improvement**: Enhanced UI for displaying suggested candidates with justifications and links to public profiles."]},{version:"1.15.1",date:"July 2024",changes:["**Patch**: Internal code quality improvements and stability updates."]},{version:"1.15.0",date:"July 2024",changes:['**Major Feature**: Added a "Pitch Deck" agent. It can be selected as a deliverable to synthesize the entire venture plan into a 10-slide investor pitch deck.','**Feature**: The final report now includes a "Pitch Deck" tab with a slide viewer and an option to download the deck as a multi-page PDF.']},{version:"1.14.0",date:"July 2024",changes:['**Major Feature**: Added a "Talent Strategist" agent that analyzes the solution and founder DNA to recommend ideal co-founder profiles needed to fill skill and experience gaps.','**Improvement**: The new "Ideal Co-Founder Profiles" section is now integrated into the "Founders" tab in the final report.']},{version:"1.13.0",date:"July 2024",changes:[`**Major Feature**: Introduced the "IP Strategist" agent to analyze a solution's novelty, patentability, and freedom to operate.`,'**Feature**: Added a new "IP & Defensibility" canvas to the final report to display the IP analysis.',"**Improvement**: Updated UI icons for Red Team and Ethics audit tabs for better visual distinction."]},{version:"1.12.3",date:"July 2024",changes:["**Improvement**: The version number on the login page is now interactive and displays the full version history.","**Patch**: Internal code quality improvements and dependency updates."]},{version:"1.12.2",date:"July 2024",changes:["**Patch**: Corrected module resolution paths and fixed component import/export errors across the application.","**Patch**: Resolved a syntax error in the Cash Flow Modelling module.","**Patch**: Implemented and exported several missing UI components to ensure application stability."]},{version:"1.12.1",date:"July 2024",changes:["**Patch**: Internal updates and performance improvements."]},{version:"1.12.0",date:"July 2024",changes:["**Feature**: Added a new Brand Naming step. When a user provides their own solution, the AI now suggests brand names to choose from or allows for custom entry.",'**Feature**: Added "Consultancy" as a new option in the "Area of Innovation" dropdown, expanding the types of ventures that can be explored.']},{version:"1.11.0",date:"July 2024",changes:['**Feature**: Added "Area of Innovation" and "Target Market" selectors to allow users to guide the ideation process towards specific domains.',"**Improvement**: All configuration controls are now disabled during a simulation run to improve user experience and prevent errors."]},{version:"1.10.0",date:"July 2024",changes:["**Major Feature**: Introduced financial scenario modeling. Users can now run 'Best Case' and 'Worst Case' analyses to stress-test their financial projections."]},{version:"1.9.0",date:"July 2024",changes:["**Major Improvement**: Overhauled the financial modeling to provide a granular, spreadsheet-style breakdown of revenue and costs, ensuring greater transparency and accuracy.","**Improvement**: Completely redesigned the Customer Journey Map with an intuitive visual timeline for enhanced readability and strategic clarity."]},{version:"1.8.0",date:"July 2024",changes:[`**Major Feature**: Added the "Innovation Viability Framework" to the Overview tab, providing a Venn diagram visualization of the venture's core strengths (Desirability, Feasibility, Viability, Adaptability).`,"**Feature**: Replaced the technical architecture diagram with a strategic Customer Journey Map on the Go-to-Market tab.","**Feature**: Added a detailed financial data table below the projection chart for transparent analysis.","**Improvement**: Enhanced financial reporting consistency between the overview snapshot and detailed projections.","**Patch**: Fixed a rendering issue where the financial projection chart would not display correctly."]},{version:"1.7.0",date:"July 2024",changes:['**Feature**: Redesigned the "Overview" tab into a dynamic, scannable infographic.',"**Improvement**: The new infographic view provides a more compelling executive summary, combining the elevator pitch, success score, core venture details, and customer journey into a single, cohesive narrative."]},{version:"1.6.0",date:"July 2024",changes:[`**Major Feature**: Introduced a predictive "Innovation Success Score". This AI-powered analysis provides a VC-style rating of the venture's potential based on Desirability, Feasibility, Viability, and Impact Integrity.`]},{version:"1.5.0",date:"July 2024",changes:["**Refactor**: Removed the UI/UX Wireframer agent to streamline the venture creation process and focus on core strategic deliverables."]},{version:"1.4.2",date:"July 2024",changes:["**Patch**: Minor UI text and layout improvements.","**Patch**: Improved stability for image generation services.","**Patch**: Corrected formatting in downloadable PDF reports."]},{version:"1.4.0",date:"July 2024",changes:['**Major Feature**: Added post-analysis "Red Team" agent to generate competitive counter-strategies.','**Major Feature**: Added post-analysis "Ethics Oracle" agent to perform an ethical audit of the venture.',"**Feature**: UI/UX Wireframer agent now generates an HTML preview of the main application screen.","**Improvement**: Revamped the agent progress visualization for better clarity and aesthetics.","**Improvement**: The full venture plan can now be downloaded as a shareable, self-contained HTML file.","**Improvement**: Added interactive chat with the generated Customer Persona."]},{version:"1.3.0",date:"June 2024",changes:[`**Major Feature**: Introduced optional "Founder DNA" analysis to tailor ideation to the founding team's strengths.`,`**Feature**: Added a "Devil's Advocate" refinement loop, allowing users to iteratively improve the selected solution before generating final deliverables.`,"**Improvement**: Added user authentication and the ability to save and load past venture runs.","**Improvement**: Reworked the final report view with dedicated tabs for each canvas and improved navigation."]}],O0=[{value:"OTHER",label:"Other / General"},{value:"AI_SAAS",label:"Artificial Intelligence & SaaS"},{value:"DEEP_TECH",label:"Deep Tech"},{value:"HEALTH",label:"Healthcare & Biotech"},{value:"FINTECH",label:"Finance & FinTech"},{value:"SUSTAINABILITY",label:"Sustainability & Green Tech"},{value:"EDUCATION",label:"Education & EdTech"},{value:"CONSUMER",label:"Consumer Goods & Retail"},{value:"MEDIA",label:"Entertainment & Media"},{value:"TRANSPORT",label:"Transportation & Logistics"},{value:"PROPTECH",label:"Real Estate & PropTech"},{value:"SOCIAL_IMPACT",label:"Social Impact & Non-Profit"},{value:"CONSULTANCY",label:"Consultancy"}],mc=[{value:"GLOBAL",label:"Global (Default)"},{value:"NORTH_AMERICA_REGION",label:"North America (Region)"},{value:"EUROPE_REGION",label:"Europe (Region)"},{value:"ASIA_PACIFIC_REGION",label:"Asia Pacific (Region)"},{value:"LATIN_AMERICA_REGION",label:"Latin America (Region)"},{value:"MIDDLE_EAST_REGION",label:"Middle East (Region)"},{value:"AFRICA_REGION",label:"Africa (Region)"},{value:"US",label:"United States"},{value:"GB",label:"United Kingdom"},{value:"CA",label:"Canada"},{value:"DE",label:"Germany"},{value:"FR",label:"France"},{value:"JP",label:"Japan"},{value:"CN",label:"China"},{value:"IN",label:"India"},{value:"BR",label:"Brazil"},{value:"AU",label:"Australia"},{value:"AF",label:"Afghanistan"},{value:"AL",label:"Albania"},{value:"DZ",label:"Algeria"},{value:"AD",label:"Andorra"},{value:"AO",label:"Angola"},{value:"AR",label:"Argentina"},{value:"AM",label:"Armenia"},{value:"AT",label:"Austria"},{value:"AZ",label:"Azerbaijan"},{value:"BH",label:"Bahrain"},{value:"BD",label:"Bangladesh"},{value:"BE",label:"Belgium"},{value:"BO",label:"Bolivia"},{value:"BA",label:"Bosnia and Herzegovina"},{value:"BW",label:"Botswana"},{value:"BG",label:"Bulgaria"},{value:"KH",label:"Cambodia"},{value:"CM",label:"Cameroon"},{value:"CL",label:"Chile"},{value:"CO",label:"Colombia"},{value:"CR",label:"Costa Rica"},{value:"HR",label:"Croatia"},{value:"CY",label:"Cyprus"},{value:"CZ",label:"Czech Republic"},{value:"DK",label:"Denmark"},{value:"DO",label:"Dominican Republic"},{value:"EC",label:"Ecuador"},{value:"EG",label:"Egypt"},{value:"EE",label:"Estonia"},{value:"ET",label:"Ethiopia"},{value:"FI",label:"Finland"},{value:"GE",label:"Georgia"},{value:"GH",label:"Ghana"},{value:"GR",label:"Greece"},{value:"HK",label:"Hong Kong"},{value:"HU",label:"Hungary"},{value:"IS",label:"Iceland"},{value:"ID",label:"Indonesia"},{value:"IR",label:"Iran"},{value:"IQ",label:"Iraq"},{value:"IE",label:"Ireland"},{value:"IL",label:"Israel"},{value:"IT",label:"Italy"},{value:"JM",label:"Jamaica"},{value:"JO",label:"Jordan"},{value:"KZ",label:"Kazakhstan"},{value:"KE",label:"Kenya"},{value:"KR",label:"South Korea"},{value:"KW",label:"Kuwait"},{value:"LV",label:"Latvia"},{value:"LB",label:"Lebanon"},{value:"LT",label:"Lithuania"},{value:"LU",label:"Luxembourg"},{value:"MY",label:"Malaysia"},{value:"MT",label:"Malta"},{value:"MX",label:"Mexico"},{value:"MA",label:"Morocco"},{value:"NL",label:"Netherlands"},{value:"NZ",label:"New Zealand"},{value:"NG",label:"Nigeria"},{value:"NO",label:"Norway"},{value:"OM",label:"Oman"},{value:"PK",label:"Pakistan"},{value:"PA",label:"Panama"},{value:"PE",label:"Peru"},{value:"PH",label:"Philippines"},{value:"PL",label:"Poland"},{value:"PT",label:"Portugal"},{value:"QA",label:"Qatar"},{value:"RO",label:"Romania"},{value:"RU",label:"Russia"},{value:"SA",label:"Saudi Arabia"},{value:"RS",label:"Serbia"},{value:"SG",label:"Singapore"},{value:"SK",label:"Slovakia"},{value:"SI",label:"Slovenia"},{value:"ZA",label:"South Africa"},{value:"ES",label:"Spain"},{value:"LK",label:"Sri Lanka"},{value:"SE",label:"Sweden"},{value:"CH",label:"Switzerland"},{value:"TW",label:"Taiwan"},{value:"TH",label:"Thailand"},{value:"TR",label:"Turkey"},{value:"UA",label:"Ukraine"},{value:"AE",label:"United Arab Emirates"},{value:"UY",label:"Uruguay"},{value:"VN",label:"Vietnam"}],q2=[{role:Ne.FOUNDER_DNA,name:"Founder DNA",description:"Profiles the founding team based on their backgrounds, styles, and motivations to provide strategic self-awareness and identify team synergies.",status:"idle",avatar:Cm},{role:Ne.MARKET_FIT_ANALYST,name:"Market-Fit Analyst",description:"Analyzes a user-provided solution to identify the most promising market problems it could solve, generating actionable challenges.",status:"idle",avatar:uw},{role:Ne.PROBLEM_RESEARCH,name:"Problem Research",description:"Performs deep, recursive market research. Scans the landscape, identifies gaps, executes targeted follow-up searches, and synthesizes comprehensive data on competitors and trends.",status:"idle",avatar:lle},{role:Ne.CUSTOMER_PERSONA,name:"Persona Creator",description:"Creates a detailed, representative customer persona based on the initial research.",status:"idle",avatar:cle},{role:Ne.EMPATHY_MAP,name:"Empathy Mapper",description:"Builds an empathy map to deeply understand the persona's world, thoughts, and feelings.",status:"idle",avatar:Ale},{role:Ne.PROBLEM_SYNTHESIZER,name:"Problem Synthesizer",description:"Analyzes all discovery findings to define a single, clear, and actionable problem statement.",status:"idle",avatar:ule},{role:Ne.TECHNOLOGY_SCOUT,name:"Technology Scout",description:"Researches existing technologies, academic literature, and solution patterns relevant to the defined problem to inform the ideation process.",status:"idle",avatar:hw},{role:Ne.SOLUTION_IDEATION,name:"Solution Ideation",description:"Brainstorms multiple, diverse solutions specifically for the defined problem statement.",status:"idle",avatar:hle},{role:Ne.SOLUTION_CRITIQUE,name:"Solution Critics",description:"Rigorously critiques the potential solutions from both pragmatic (Devil's Advocate) and visionary (Steve Jobs) perspectives.",status:"idle",avatar:CI},{role:Ne.VENTURE_ANALYST,name:"Venture Analyst",description:"Scores and ranks solutions based on key venture metrics (e.g., Innovation, Feasibility, Market Fit), providing a data-driven comparison with visual charts to aid in decision-making.",status:"idle",avatar:Bx},{role:Ne.SOLUTION_EVOLUTION,name:"Solution Evolution",description:"Evolves the user-selected idea by synthesizing its strengths with features from other concepts and addressing key critiques to create a superior version.",status:"idle",avatar:zu},{role:Ne.SOLUTION_SELECTION,name:"Solution Selection",description:"Finalizes the evolved solution, providing a clear title, description, and justification for the chosen path forward.",status:"idle",avatar:fle},{role:Ne.DEVILS_ADVOCATE,name:"Devil's Advocate",description:"Provides a final, critical review of the selected solution, enabling an optional iterative refinement loop before final deliverable generation.",status:"idle",avatar:CI},{role:Ne.IP_STRATEGIST,name:"IP Strategist",description:"Analyzes the solution's novelty, potential patentability, and freedom to operate by searching for prior art. Recommends an intellectual property strategy.",status:"idle",avatar:Bx},{role:Ne.TALENT_STRATEGIST,name:"Talent Strategist",description:"Analyzes the selected solution and existing team's DNA to identify and describe the ideal co-founders needed to fill skill and personality gaps.",status:"idle",avatar:Cm},{role:Ne.VALUE_PROPOSITION,name:"Value Proposition",description:"Creates the Value Proposition Canvas for the selected solution.",status:"idle",avatar:dle},{role:Ne.LEAN_CANVAS,name:"Lean Canvas Modeler",description:"Constructs the Lean Canvas to focus on a problem-solution fit, key metrics, and a path to market.",status:"idle",avatar:ple},{role:Ne.STORYBOARDING,name:"Storyboarding",description:"Creates a visual storyboard to illustrate the customer experience with the solution.",status:"idle",avatar:gle},{role:Ne.FINANCIAL_MODELER,name:"Financial Modeler",description:"Projects 5-year financials, valuation, market size, and constructs a detailed interactive financial model.",status:"idle",avatar:mle},{role:Ne.STRATEGY,name:"Strategy",description:"Formulates strategic analysis, including SWOT and competitive landscape, to define the unfair advantage.",status:"idle",avatar:yle},{role:Ne.RISK_ANALYSIS,name:"Risk Analysis",description:"Identifies potential risks and suggests mitigation strategies.",status:"idle",avatar:xle},{role:Ne.TECHNICAL_BLUEPRINT,name:"Tech Blueprint",description:"Outlines a high-level tech stack, architecture, and development roadmap.",status:"idle",avatar:vle},{role:Ne.GO_TO_MARKET,name:"GTM Strategist",description:"Develops a launch strategy, defining marketing channels, messaging, and timelines.",status:"idle",avatar:wle},{role:Ne.PITCH_DECK,name:"Pitch Deck",description:"Generates an investor-ready pitch deck.",status:"idle",avatar:ble},{role:Ne.INVESTMENT_MEMO,name:"Investment Memo Writer",description:"Synthesizes the entire venture plan into a structured investment memorandum for VCs.",status:"idle",avatar:pm},{role:Ne.ETHICS_ORACLE,name:"Ethics Oracle",description:"Evaluates the ethical and societal implications of the proposed business venture.",status:"idle",avatar:Cle},{role:Ne.SUCCESS_SCORE_ANALYSIS,name:"Success Score Analyst",description:"Provides a VC-style analysis and predictive success score for the entire venture plan.",status:"idle",avatar:_x}];var Qle={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let jle,Gle;function Vle(){return{geminiUrl:jle,vertexUrl:Gle}}function $le(t,e,r,n){var i,s;if(!(t!=null&&t.baseUrl)){const a=Vle();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:r:(s=a.geminiUrl)!==null&&s!==void 0?s:n}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yd{}function Kt(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(n,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function E(t,e,r){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in t))if(Array.isArray(r))t[o]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[o])){const l=t[o];if(Array.isArray(r))for(let c=0;c<l.length;c++){const u=l[c];E(u,e.slice(s+1),r[c])}else for(const c of l)E(c,e.slice(s+1),r)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in t||(t[o]=[{}]);const l=t[o];E(l[0],e.slice(s+1),r);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const n=e[e.length-1],i=t[n];if(i!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===i)return;if(typeof i=="object"&&typeof r=="object"&&i!==null&&r!==null)Object.assign(i,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else n==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(t,r):t[n]=r}function b(t,e,r=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return r;const i=e[n];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const a=t[s];return Array.isArray(a)?a.map(o=>b(o,e.slice(n+1),r)):r}else return r}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return r;throw n}}function qle(t,e){for(const[r,n]of Object.entries(e)){const i=r.split("."),s=n.split("."),a=new Set;let o=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){o=l;break}if(o!==-1&&s.length>o)for(let l=o;l<s.length;l++){const c=s[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&a.add(c)}TI(t,i,s,0,a)}}function TI(t,e,r,n,i){if(n>=e.length||typeof t!="object"||t===null)return;const s=e[n];if(s.endsWith("[]")){const a=s.slice(0,-2),o=t;if(a in o&&Array.isArray(o[a]))for(const l of o[a])TI(l,e,r,n+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,o=Object.keys(a).filter(c=>!c.startsWith("_")&&!i.has(c)),l={};for(const c of o)l[c]=a[c];for(const[c,u]of Object.entries(l)){const f=[];for(const p of r.slice(n))p==="*"?f.push(c):f.push(p);E(a,f,u)}for(const c of o)delete a[c]}}else{const a=t;s in a&&TI(a[s],e,r,n+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yL(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zle(t){const e={},r=b(t,["operationName"]);r!=null&&E(e,["operationName"],r);const n=b(t,["resourceName"]);return n!=null&&E(e,["_url","resourceName"],n),e}function Kle(t){const e={},r=b(t,["name"]);r!=null&&E(e,["name"],r);const n=b(t,["metadata"]);n!=null&&E(e,["metadata"],n);const i=b(t,["done"]);i!=null&&E(e,["done"],i);const s=b(t,["error"]);s!=null&&E(e,["error"],s);const a=b(t,["response","generateVideoResponse"]);return a!=null&&E(e,["response"],Yle(a)),e}function Wle(t){const e={},r=b(t,["name"]);r!=null&&E(e,["name"],r);const n=b(t,["metadata"]);n!=null&&E(e,["metadata"],n);const i=b(t,["done"]);i!=null&&E(e,["done"],i);const s=b(t,["error"]);s!=null&&E(e,["error"],s);const a=b(t,["response"]);return a!=null&&E(e,["response"],Xle(a)),e}function Yle(t){const e={},r=b(t,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Jle(a))),E(e,["generatedVideos"],s)}const n=b(t,["raiMediaFilteredCount"]);n!=null&&E(e,["raiMediaFilteredCount"],n);const i=b(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function Xle(t){const e={},r=b(t,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Zle(a))),E(e,["generatedVideos"],s)}const n=b(t,["raiMediaFilteredCount"]);n!=null&&E(e,["raiMediaFilteredCount"],n);const i=b(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function Jle(t){const e={},r=b(t,["video"]);return r!=null&&E(e,["video"],sce(r)),e}function Zle(t){const e={},r=b(t,["_self"]);return r!=null&&E(e,["video"],ace(r)),e}function ece(t){const e={},r=b(t,["operationName"]);return r!=null&&E(e,["_url","operationName"],r),e}function tce(t){const e={},r=b(t,["operationName"]);return r!=null&&E(e,["_url","operationName"],r),e}function rce(t){const e={},r=b(t,["name"]);r!=null&&E(e,["name"],r);const n=b(t,["metadata"]);n!=null&&E(e,["metadata"],n);const i=b(t,["done"]);i!=null&&E(e,["done"],i);const s=b(t,["error"]);s!=null&&E(e,["error"],s);const a=b(t,["response"]);return a!=null&&E(e,["response"],nce(a)),e}function nce(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["parent"]);n!=null&&E(e,["parent"],n);const i=b(t,["documentName"]);return i!=null&&E(e,["documentName"],i),e}function vG(t){const e={},r=b(t,["name"]);r!=null&&E(e,["name"],r);const n=b(t,["metadata"]);n!=null&&E(e,["metadata"],n);const i=b(t,["done"]);i!=null&&E(e,["done"],i);const s=b(t,["error"]);s!=null&&E(e,["error"],s);const a=b(t,["response"]);return a!=null&&E(e,["response"],ice(a)),e}function ice(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["parent"]);n!=null&&E(e,["parent"],n);const i=b(t,["documentName"]);return i!=null&&E(e,["documentName"],i),e}function sce(t){const e={},r=b(t,["uri"]);r!=null&&E(e,["uri"],r);const n=b(t,["encodedVideo"]);n!=null&&E(e,["videoBytes"],yL(n));const i=b(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function ace(t){const e={},r=b(t,["gcsUri"]);r!=null&&E(e,["uri"],r);const n=b(t,["bytesBase64Encoded"]);n!=null&&E(e,["videoBytes"],yL(n));const i=b(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var N8;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(N8||(N8={}));var F8;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(F8||(F8={}));var I8;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(I8||(I8={}));var K;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(K||(K={}));var k8;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(k8||(k8={}));var L8;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(L8||(L8={}));var R8;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(R8||(R8={}));var M8;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(M8||(M8={}));var U8;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(U8||(U8={}));var D8;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(D8||(D8={}));var O8;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(O8||(O8={}));var P8;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(P8||(P8={}));var H8;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(H8||(H8={}));var Q8;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Q8||(Q8={}));var j8;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(j8||(j8={}));var G8;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(G8||(G8={}));var V8;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(V8||(V8={}));var $8;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})($8||($8={}));var q8;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(q8||(q8={}));var X_;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(X_||(X_={}));var z8;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(z8||(z8={}));var K8;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(K8||(K8={}));var W8;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(W8||(W8={}));var NI;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(NI||(NI={}));var Y8;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Y8||(Y8={}));var X8;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(X8||(X8={}));var J8;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(J8||(J8={}));var Z8;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Z8||(Z8={}));var eO;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(eO||(eO={}));var tO;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(tO||(tO={}));var rO;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(rO||(rO={}));var nO;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(nO||(nO={}));var iO;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(iO||(iO={}));var sO;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(sO||(sO={}));var aO;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(aO||(aO={}));var oO;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(oO||(oO={}));var lO;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(lO||(lO={}));var cO;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(cO||(cO={}));var AO;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(AO||(AO={}));var uO;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(uO||(uO={}));var hO;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(hO||(hO={}));var fO;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(fO||(fO={}));var dO;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(dO||(dO={}));var pO;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(pO||(pO={}));var gO;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(gO||(gO={}));var mO;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(mO||(mO={}));var yO;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(yO||(yO={}));var xO;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(xO||(xO={}));var vO;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(vO||(vO={}));var wO;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wO||(wO={}));var bO;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(bO||(bO={}));var CO;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(CO||(CO={}));var SO;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(SO||(SO={}));var _O;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(_O||(_O={}));var EO;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(EO||(EO={}));var Z1;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Z1||(Z1={}));class FI{constructor(e){const r={};for(const n of e.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class Qv{get text(){var e,r,n,i,s,a,o,l;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const f=[];for(const p of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(p))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(y!==null||y!==void 0)&&f.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,c+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,r,n,i,s,a,o,l;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const f of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,g]of Object.entries(f))p!=="inlineData"&&(g!==null||g!==void 0)&&u.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,r,n,i,s,a,o,l;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,r,n,i,s,a,o,l,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,r,n,i,s,a,o,l,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class BO{}class TO{}class oce{}class lce{}class cce{}class Ace{}class NO{}class FO{}class IO{}class uce{}class J_{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new J_;let i;const s=e;return r?i=Wle(s):i=Kle(s),Object.assign(n,i),n}}class kO{}class LO{}class RO{}class MO{}class hce{}class fce{}class dce{}class xL{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new xL,s=rce(e);return Object.assign(n,s),n}}class pce{}class gce{}class mce{}class UO{}class yce{get text(){var e,r,n;let i="",s=!1;const a=[];for(const o of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[l,c]of Object.entries(o))l!=="text"&&l!=="thought"&&c!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,r,n;let i="";const s=[];for(const a of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class xce{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class vL{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new vL,s=vG(e);return Object.assign(n,s),n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ti(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function wG(t,e){const r=ti(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function bG(t){return Array.isArray(t)?t.map(e=>Z_(e)):[Z_(t)]}function Z_(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function CG(t){const e=Z_(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function SG(t){const e=Z_(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function DO(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function _G(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>DO(e)):[DO(t)]}function II(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function OO(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function PO(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function cl(t){if(t==null)throw new Error("ContentUnion is required");return II(t)?t:{role:"user",parts:_G(t)}}function wL(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const n=cl(r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(t.isVertexAI()){const r=cl(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>cl(r)):[cl(e)]}function $A(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(OO(t)||PO(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[cl(t)]}const e=[],r=[],n=II(t[0]);for(const i of t){const s=II(i);if(s!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(OO(i)||PO(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return n||e.push({role:"user",parts:_G(r)}),e}function vce(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(n=>n!=="null");if(r.length===1)e.type=Object.values(K).includes(r[0].toUpperCase())?r[0].toUpperCase():K.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of r)e.anyOf.push({type:Object.values(K).includes(n.toUpperCase())?n.toUpperCase():K.TYPE_UNSPECIFIED})}}function uy(t){const e={},r=["items"],n=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&vce(t.type,e);for(const[a,o]of Object.entries(t))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(K).includes(o.toUpperCase())?o.toUpperCase():K.TYPE_UNSPECIFIED}else if(r.includes(a))e[a]=uy(o);else if(n.includes(a)){const l=[];for(const c of o){if(c.type=="null"){e.nullable=!0;continue}l.push(uy(c))}e[a]=l}else if(i.includes(a)){const l={};for(const[c,u]of Object.entries(o))l[c]=uy(u);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function bL(t){return uy(t)}function CL(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function SL(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Hx(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=uy(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=uy(e.response));return t}function Qx(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of t)e.push(r);return e}function wce(t,e,r,n=1){const i=!e.startsWith(`${r}/`)&&e.split("/").length===n;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:i?`${r}/${e}`:e}function Xd(t,e){if(typeof e!="string")throw new Error("name must be a string");return wce(t,e,"cachedContents")}function EG(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Up(t){return yL(t)}function bce(t){return t!=null&&typeof t=="object"&&"name"in t}function Cce(t){return t!=null&&typeof t=="object"&&"video"in t}function Sce(t){return t!=null&&typeof t=="object"&&"uri"in t}function BG(t){var e;let r;if(bce(t)&&(r=t.name),!(Sce(t)&&(r=t.uri,r===void 0))&&!(Cce(t)&&(r=(e=t.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof t=="string"&&(r=t),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function TG(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function NG(t){for(const e of["models","tunedModels","publisherModels"])if(_ce(t,e))return t[e];return[]}function _ce(t,e){return t!==null&&typeof t=="object"&&e in t}function Ece(t,e={}){const r=t,n={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(n.responseJsonSchema=r.outputSchema),e.behavior&&(n.behavior=e.behavior),{functionDeclarations:[n]}}function Bce(t,e={}){const r=[],n=new Set;for(const i of t){const s=i.name;if(n.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);n.add(s);const a=Ece(i,e);a.functionDeclarations&&r.push(...a.functionDeclarations)}return{functionDeclarations:r}}function FG(t,e){let r;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))r={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))r={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))r={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:e}}else r=e;const n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,i=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||n!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function Tce(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function IG(t){if(typeof t!="object"||t===null)return{};const e=t,r=e.inlinedResponses;if(typeof r!="object"||r===null)return t;const i=r.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function jx(t,e){const r=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function kG(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nce(t){const e={},r=b(t,["responsesFile"]);r!=null&&E(e,["fileName"],r);const n=b(t,["inlinedResponses","inlinedResponses"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>cAe(a))),E(e,["inlinedResponses"],s)}const i=b(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),E(e,["inlinedEmbedContentResponses"],s)}return e}function Fce(t){const e={},r=b(t,["predictionsFormat"]);r!=null&&E(e,["format"],r);const n=b(t,["gcsDestination","outputUriPrefix"]);n!=null&&E(e,["gcsUri"],n);const i=b(t,["bigqueryDestination","outputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function Ice(t){const e={},r=b(t,["format"]);r!=null&&E(e,["predictionsFormat"],r);const n=b(t,["gcsUri"]);n!=null&&E(e,["gcsDestination","outputUriPrefix"],n);const i=b(t,["bigqueryUri"]);if(i!=null&&E(e,["bigqueryDestination","outputUri"],i),b(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(b(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(b(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function u_(t){const e={},r=b(t,["name"]);r!=null&&E(e,["name"],r);const n=b(t,["metadata","displayName"]);n!=null&&E(e,["displayName"],n);const i=b(t,["metadata","state"]);i!=null&&E(e,["state"],kG(i));const s=b(t,["metadata","createTime"]);s!=null&&E(e,["createTime"],s);const a=b(t,["metadata","endTime"]);a!=null&&E(e,["endTime"],a);const o=b(t,["metadata","updateTime"]);o!=null&&E(e,["updateTime"],o);const l=b(t,["metadata","model"]);l!=null&&E(e,["model"],l);const c=b(t,["metadata","output"]);return c!=null&&E(e,["dest"],Nce(IG(c))),e}function kI(t){const e={},r=b(t,["name"]);r!=null&&E(e,["name"],r);const n=b(t,["displayName"]);n!=null&&E(e,["displayName"],n);const i=b(t,["state"]);i!=null&&E(e,["state"],kG(i));const s=b(t,["error"]);s!=null&&E(e,["error"],s);const a=b(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=b(t,["startTime"]);o!=null&&E(e,["startTime"],o);const l=b(t,["endTime"]);l!=null&&E(e,["endTime"],l);const c=b(t,["updateTime"]);c!=null&&E(e,["updateTime"],c);const u=b(t,["model"]);u!=null&&E(e,["model"],u);const f=b(t,["inputConfig"]);f!=null&&E(e,["src"],kce(f));const p=b(t,["outputConfig"]);p!=null&&E(e,["dest"],Fce(IG(p)));const g=b(t,["completionStats"]);return g!=null&&E(e,["completionStats"],g),e}function kce(t){const e={},r=b(t,["instancesFormat"]);r!=null&&E(e,["format"],r);const n=b(t,["gcsSource","uris"]);n!=null&&E(e,["gcsUri"],n);const i=b(t,["bigquerySource","inputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function Lce(t,e){const r={};if(b(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(b(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(b(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=b(e,["fileName"]);n!=null&&E(r,["fileName"],n);const i=b(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>lAe(t,a))),E(r,["requests","requests"],s)}return r}function Rce(t){const e={},r=b(t,["format"]);r!=null&&E(e,["instancesFormat"],r);const n=b(t,["gcsUri"]);n!=null&&E(e,["gcsSource","uris"],n);const i=b(t,["bigqueryUri"]);if(i!=null&&E(e,["bigquerySource","inputUri"],i),b(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(b(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Mce(t){const e={},r=b(t,["data"]);if(r!=null&&E(e,["data"],r),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function Uce(t,e){const r={},n=b(e,["name"]);return n!=null&&E(r,["_url","name"],jx(t,n)),r}function Dce(t,e){const r={},n=b(e,["name"]);return n!=null&&E(r,["_url","name"],jx(t,n)),r}function Oce(t){const e={},r=b(t,["content"]);r!=null&&E(e,["content"],r);const n=b(t,["citationMetadata"]);n!=null&&E(e,["citationMetadata"],Pce(n));const i=b(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=b(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=b(t,["avgLogprobs"]);a!=null&&E(e,["avgLogprobs"],a);const o=b(t,["groundingMetadata"]);o!=null&&E(e,["groundingMetadata"],o);const l=b(t,["index"]);l!=null&&E(e,["index"],l);const c=b(t,["logprobsResult"]);c!=null&&E(e,["logprobsResult"],c);const u=b(t,["safetyRatings"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>g)),E(e,["safetyRatings"],p)}const f=b(t,["urlContextMetadata"]);return f!=null&&E(e,["urlContextMetadata"],f),e}function Pce(t){const e={},r=b(t,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),E(e,["citations"],n)}return e}function LG(t){const e={},r=b(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>gAe(s))),E(e,["parts"],i)}const n=b(t,["role"]);return n!=null&&E(e,["role"],n),e}function Hce(t,e){const r={},n=b(t,["displayName"]);if(e!==void 0&&n!=null&&E(e,["batch","displayName"],n),b(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function Qce(t,e){const r={},n=b(t,["displayName"]);e!==void 0&&n!=null&&E(e,["displayName"],n);const i=b(t,["dest"]);return e!==void 0&&i!=null&&E(e,["outputConfig"],Ice(Tce(i))),r}function HO(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["src"]);i!=null&&E(r,["batch","inputConfig"],Lce(t,FG(t,i)));const s=b(e,["config"]);return s!=null&&Hce(s,r),r}function jce(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["model"],ti(t,n));const i=b(e,["src"]);i!=null&&E(r,["inputConfig"],Rce(FG(t,i)));const s=b(e,["config"]);return s!=null&&Qce(s,r),r}function Gce(t,e){const r={},n=b(t,["displayName"]);return e!==void 0&&n!=null&&E(e,["batch","displayName"],n),r}function Vce(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["src"]);i!=null&&E(r,["batch","inputConfig"],Xce(t,i));const s=b(e,["config"]);return s!=null&&Gce(s,r),r}function $ce(t,e){const r={},n=b(e,["name"]);return n!=null&&E(r,["_url","name"],jx(t,n)),r}function qce(t,e){const r={},n=b(e,["name"]);return n!=null&&E(r,["_url","name"],jx(t,n)),r}function zce(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["name"]);n!=null&&E(e,["name"],n);const i=b(t,["done"]);i!=null&&E(e,["done"],i);const s=b(t,["error"]);return s!=null&&E(e,["error"],s),e}function Kce(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["name"]);n!=null&&E(e,["name"],n);const i=b(t,["done"]);i!=null&&E(e,["done"],i);const s=b(t,["error"]);return s!=null&&E(e,["error"],s),e}function Wce(t,e){const r={},n=b(e,["contents"]);if(n!=null){let s=wL(t,n);Array.isArray(s)&&(s=s.map(a=>a)),E(r,["requests[]","request","content"],s)}const i=b(e,["config"]);return i!=null&&(E(r,["_self"],Yce(i,r)),qle(r,{"requests[].*":"requests[].request.*"})),r}function Yce(t,e){const r={},n=b(t,["taskType"]);e!==void 0&&n!=null&&E(e,["requests[]","taskType"],n);const i=b(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=b(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),b(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(b(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Xce(t,e){const r={},n=b(e,["fileName"]);n!=null&&E(r,["file_name"],n);const i=b(e,["inlinedRequests"]);return i!=null&&E(r,["requests"],Wce(t,i)),r}function Jce(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const n=b(t,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function Zce(t){const e={},r=b(t,["id"]);r!=null&&E(e,["id"],r);const n=b(t,["args"]);n!=null&&E(e,["args"],n);const i=b(t,["name"]);if(i!=null&&E(e,["name"],i),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function eAe(t){const e={},r=b(t,["mode"]);r!=null&&E(e,["mode"],r);const n=b(t,["allowedFunctionNames"]);if(n!=null&&E(e,["allowedFunctionNames"],n),b(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function tAe(t,e,r){const n={},i=b(e,["systemInstruction"]);r!==void 0&&i!=null&&E(r,["systemInstruction"],LG(cl(i)));const s=b(e,["temperature"]);s!=null&&E(n,["temperature"],s);const a=b(e,["topP"]);a!=null&&E(n,["topP"],a);const o=b(e,["topK"]);o!=null&&E(n,["topK"],o);const l=b(e,["candidateCount"]);l!=null&&E(n,["candidateCount"],l);const c=b(e,["maxOutputTokens"]);c!=null&&E(n,["maxOutputTokens"],c);const u=b(e,["stopSequences"]);u!=null&&E(n,["stopSequences"],u);const f=b(e,["responseLogprobs"]);f!=null&&E(n,["responseLogprobs"],f);const p=b(e,["logprobs"]);p!=null&&E(n,["logprobs"],p);const g=b(e,["presencePenalty"]);g!=null&&E(n,["presencePenalty"],g);const y=b(e,["frequencyPenalty"]);y!=null&&E(n,["frequencyPenalty"],y);const x=b(e,["seed"]);x!=null&&E(n,["seed"],x);const w=b(e,["responseMimeType"]);w!=null&&E(n,["responseMimeType"],w);const S=b(e,["responseSchema"]);S!=null&&E(n,["responseSchema"],bL(S));const B=b(e,["responseJsonSchema"]);if(B!=null&&E(n,["responseJsonSchema"],B),b(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(b(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=b(e,["safetySettings"]);if(r!==void 0&&F!=null){let q=F;Array.isArray(q)&&(q=q.map(Z=>mAe(Z))),E(r,["safetySettings"],q)}const k=b(e,["tools"]);if(r!==void 0&&k!=null){let q=Qx(k);Array.isArray(q)&&(q=q.map(Z=>xAe(Hx(Z)))),E(r,["tools"],q)}const O=b(e,["toolConfig"]);if(r!==void 0&&O!=null&&E(r,["toolConfig"],yAe(O)),b(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=b(e,["cachedContent"]);r!==void 0&&R!=null&&E(r,["cachedContent"],Xd(t,R));const D=b(e,["responseModalities"]);D!=null&&E(n,["responseModalities"],D);const Q=b(e,["mediaResolution"]);Q!=null&&E(n,["mediaResolution"],Q);const V=b(e,["speechConfig"]);if(V!=null&&E(n,["speechConfig"],CL(V)),b(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=b(e,["thinkingConfig"]);re!=null&&E(n,["thinkingConfig"],re);const P=b(e,["imageConfig"]);P!=null&&E(n,["imageConfig"],oAe(P));const H=b(e,["enableEnhancedCivicAnswers"]);return H!=null&&E(n,["enableEnhancedCivicAnswers"],H),n}function rAe(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>Oce(c))),E(e,["candidates"],l)}const i=b(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=b(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const a=b(t,["responseId"]);a!=null&&E(e,["responseId"],a);const o=b(t,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function nAe(t,e){const r={},n=b(e,["name"]);return n!=null&&E(r,["_url","name"],jx(t,n)),r}function iAe(t,e){const r={},n=b(e,["name"]);return n!=null&&E(r,["_url","name"],jx(t,n)),r}function sAe(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=b(t,["enableWidget"]);return r!=null&&E(e,["enableWidget"],r),e}function aAe(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=b(t,["timeRangeFilter"]);return r!=null&&E(e,["timeRangeFilter"],r),e}function oAe(t){const e={},r=b(t,["aspectRatio"]);r!=null&&E(e,["aspectRatio"],r);const n=b(t,["imageSize"]);if(n!=null&&E(e,["imageSize"],n),b(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(b(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function lAe(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["request","model"],ti(t,n));const i=b(e,["contents"]);if(i!=null){let o=$A(i);Array.isArray(o)&&(o=o.map(l=>LG(l))),E(r,["request","contents"],o)}const s=b(e,["metadata"]);s!=null&&E(r,["metadata"],s);const a=b(e,["config"]);return a!=null&&E(r,["request","generationConfig"],tAe(t,a,b(r,["request"],{}))),r}function cAe(t){const e={},r=b(t,["response"]);r!=null&&E(e,["response"],rAe(r));const n=b(t,["error"]);return n!=null&&E(e,["error"],n),e}function AAe(t,e){const r={},n=b(t,["pageSize"]);e!==void 0&&n!=null&&E(e,["_query","pageSize"],n);const i=b(t,["pageToken"]);if(e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),b(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function uAe(t,e){const r={},n=b(t,["pageSize"]);e!==void 0&&n!=null&&E(e,["_query","pageSize"],n);const i=b(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=b(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),r}function hAe(t){const e={},r=b(t,["config"]);return r!=null&&AAe(r,e),e}function fAe(t){const e={},r=b(t,["config"]);return r!=null&&uAe(r,e),e}function dAe(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=b(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>u_(a))),E(e,["batchJobs"],s)}return e}function pAe(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=b(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>kI(a))),E(e,["batchJobs"],s)}return e}function gAe(t){const e={},r=b(t,["mediaResolution"]);r!=null&&E(e,["mediaResolution"],r);const n=b(t,["codeExecutionResult"]);n!=null&&E(e,["codeExecutionResult"],n);const i=b(t,["executableCode"]);i!=null&&E(e,["executableCode"],i);const s=b(t,["fileData"]);s!=null&&E(e,["fileData"],Jce(s));const a=b(t,["functionCall"]);a!=null&&E(e,["functionCall"],Zce(a));const o=b(t,["functionResponse"]);o!=null&&E(e,["functionResponse"],o);const l=b(t,["inlineData"]);l!=null&&E(e,["inlineData"],Mce(l));const c=b(t,["text"]);c!=null&&E(e,["text"],c);const u=b(t,["thought"]);u!=null&&E(e,["thought"],u);const f=b(t,["thoughtSignature"]);f!=null&&E(e,["thoughtSignature"],f);const p=b(t,["videoMetadata"]);return p!=null&&E(e,["videoMetadata"],p),e}function mAe(t){const e={},r=b(t,["category"]);if(r!=null&&E(e,["category"],r),b(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=b(t,["threshold"]);return n!=null&&E(e,["threshold"],n),e}function yAe(t){const e={},r=b(t,["functionCallingConfig"]);r!=null&&E(e,["functionCallingConfig"],eAe(r));const n=b(t,["retrievalConfig"]);return n!=null&&E(e,["retrievalConfig"],n),e}function xAe(t){const e={},r=b(t,["functionDeclarations"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),E(e,["functionDeclarations"],u)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=b(t,["googleSearchRetrieval"]);n!=null&&E(e,["googleSearchRetrieval"],n);const i=b(t,["computerUse"]);i!=null&&E(e,["computerUse"],i);const s=b(t,["fileSearch"]);s!=null&&E(e,["fileSearch"],s);const a=b(t,["codeExecution"]);if(a!=null&&E(e,["codeExecution"],a),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=b(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],sAe(o));const l=b(t,["googleSearch"]);l!=null&&E(e,["googleSearch"],aAe(l));const c=b(t,["urlContext"]);return c!=null&&E(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qd;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Qd||(Qd={}));class Qm{constructor(e,r,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,n,i)}init(e,r,n){var i,s;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!n||Object.keys(n).length===0?a={config:{}}:typeof n=="object"?a=Object.assign({},n):a=n,a.config&&(a.config.pageToken=r.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vAe extends Yd{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Qm(Qd.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)}}createInlinedGenerateContentRequest(e){const r=HO(this.apiClient,e),n=r._url,i=Kt("{model}:batchGenerateContent",n),o=r.batch.inputConfig.requests,l=o.requests,c=[];for(const u of l){const f=Object.assign({},u);if(f.systemInstruction){const p=f.systemInstruction;delete f.systemInstruction;const g=f.request;g.systemInstruction=p,f.request=g}c.push(f)}return o.requests=c,delete r.config,delete r._url,delete r._query,{path:i,body:r}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,r){const n=r?Object.assign({},r):{},i=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${i}`),n.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?n.dest=`${s.slice(0,-6)}/dest`:n.dest=`${s}_dest_${i}`;else if(a)n.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return n}async createInternal(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=jce(this.apiClient,e);return o=Kt("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>kI(u))}else{const c=HO(this.apiClient,e);return o=Kt("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>u_(u))}}async createEmbeddingsInternal(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Vce(this.apiClient,e);return s=Kt("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>u_(l))}}async get(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=iAe(this.apiClient,e);return o=Kt("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>kI(u))}else{const c=nAe(this.apiClient,e);return o=Kt("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>u_(u))}}async cancel(e){var r,n,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=Dce(this.apiClient,e);a=Kt("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}else{const l=Uce(this.apiClient,e);a=Kt("batches/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=fAe(e);return o=Kt("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=pAe(u),p=new UO;return Object.assign(p,f),p})}else{const c=hAe(e);return o=Kt("batches",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=dAe(u),p=new UO;return Object.assign(p,f),p})}}async delete(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=qce(this.apiClient,e);return o=Kt("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>Kce(u))}else{const c=$ce(this.apiClient,e);return o=Kt("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>zce(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wAe(t){const e={},r=b(t,["data"]);if(r!=null&&E(e,["data"],r),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function QO(t){const e={},r=b(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>VAe(s))),E(e,["parts"],i)}const n=b(t,["role"]);return n!=null&&E(e,["role"],n),e}function bAe(t,e){const r={},n=b(t,["ttl"]);e!==void 0&&n!=null&&E(e,["ttl"],n);const i=b(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=b(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const a=b(t,["contents"]);if(e!==void 0&&a!=null){let u=$A(a);Array.isArray(u)&&(u=u.map(f=>QO(f))),E(e,["contents"],u)}const o=b(t,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],QO(cl(o)));const l=b(t,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>qAe(f))),E(e,["tools"],u)}const c=b(t,["toolConfig"]);if(e!==void 0&&c!=null&&E(e,["toolConfig"],$Ae(c)),b(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function CAe(t,e){const r={},n=b(t,["ttl"]);e!==void 0&&n!=null&&E(e,["ttl"],n);const i=b(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=b(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const a=b(t,["contents"]);if(e!==void 0&&a!=null){let f=$A(a);Array.isArray(f)&&(f=f.map(p=>p)),E(e,["contents"],f)}const o=b(t,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],cl(o));const l=b(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>zAe(p))),E(e,["tools"],f)}const c=b(t,["toolConfig"]);e!==void 0&&c!=null&&E(e,["toolConfig"],c);const u=b(t,["kmsKeyName"]);return e!==void 0&&u!=null&&E(e,["encryption_spec","kmsKeyName"],u),r}function SAe(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["model"],wG(t,n));const i=b(e,["config"]);return i!=null&&bAe(i,r),r}function _Ae(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["model"],wG(t,n));const i=b(e,["config"]);return i!=null&&CAe(i,r),r}function EAe(t,e){const r={},n=b(e,["name"]);return n!=null&&E(r,["_url","name"],Xd(t,n)),r}function BAe(t,e){const r={},n=b(e,["name"]);return n!=null&&E(r,["_url","name"],Xd(t,n)),r}function TAe(t){const e={},r=b(t,["sdkHttpResponse"]);return r!=null&&E(e,["sdkHttpResponse"],r),e}function NAe(t){const e={},r=b(t,["sdkHttpResponse"]);return r!=null&&E(e,["sdkHttpResponse"],r),e}function FAe(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const n=b(t,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function IAe(t){const e={},r=b(t,["id"]);r!=null&&E(e,["id"],r);const n=b(t,["args"]);n!=null&&E(e,["args"],n);const i=b(t,["name"]);if(i!=null&&E(e,["name"],i),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kAe(t){const e={},r=b(t,["mode"]);r!=null&&E(e,["mode"],r);const n=b(t,["allowedFunctionNames"]);if(n!=null&&E(e,["allowedFunctionNames"],n),b(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function LAe(t){const e={};if(b(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=b(t,["description"]);r!=null&&E(e,["description"],r);const n=b(t,["name"]);n!=null&&E(e,["name"],n);const i=b(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=b(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=b(t,["response"]);a!=null&&E(e,["response"],a);const o=b(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function RAe(t,e){const r={},n=b(e,["name"]);return n!=null&&E(r,["_url","name"],Xd(t,n)),r}function MAe(t,e){const r={},n=b(e,["name"]);return n!=null&&E(r,["_url","name"],Xd(t,n)),r}function UAe(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=b(t,["enableWidget"]);return r!=null&&E(e,["enableWidget"],r),e}function DAe(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=b(t,["timeRangeFilter"]);return r!=null&&E(e,["timeRangeFilter"],r),e}function OAe(t,e){const r={},n=b(t,["pageSize"]);e!==void 0&&n!=null&&E(e,["_query","pageSize"],n);const i=b(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),r}function PAe(t,e){const r={},n=b(t,["pageSize"]);e!==void 0&&n!=null&&E(e,["_query","pageSize"],n);const i=b(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),r}function HAe(t){const e={},r=b(t,["config"]);return r!=null&&OAe(r,e),e}function QAe(t){const e={},r=b(t,["config"]);return r!=null&&PAe(r,e),e}function jAe(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=b(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),E(e,["cachedContents"],s)}return e}function GAe(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=b(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),E(e,["cachedContents"],s)}return e}function VAe(t){const e={},r=b(t,["mediaResolution"]);r!=null&&E(e,["mediaResolution"],r);const n=b(t,["codeExecutionResult"]);n!=null&&E(e,["codeExecutionResult"],n);const i=b(t,["executableCode"]);i!=null&&E(e,["executableCode"],i);const s=b(t,["fileData"]);s!=null&&E(e,["fileData"],FAe(s));const a=b(t,["functionCall"]);a!=null&&E(e,["functionCall"],IAe(a));const o=b(t,["functionResponse"]);o!=null&&E(e,["functionResponse"],o);const l=b(t,["inlineData"]);l!=null&&E(e,["inlineData"],wAe(l));const c=b(t,["text"]);c!=null&&E(e,["text"],c);const u=b(t,["thought"]);u!=null&&E(e,["thought"],u);const f=b(t,["thoughtSignature"]);f!=null&&E(e,["thoughtSignature"],f);const p=b(t,["videoMetadata"]);return p!=null&&E(e,["videoMetadata"],p),e}function $Ae(t){const e={},r=b(t,["functionCallingConfig"]);r!=null&&E(e,["functionCallingConfig"],kAe(r));const n=b(t,["retrievalConfig"]);return n!=null&&E(e,["retrievalConfig"],n),e}function qAe(t){const e={},r=b(t,["functionDeclarations"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),E(e,["functionDeclarations"],u)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=b(t,["googleSearchRetrieval"]);n!=null&&E(e,["googleSearchRetrieval"],n);const i=b(t,["computerUse"]);i!=null&&E(e,["computerUse"],i);const s=b(t,["fileSearch"]);s!=null&&E(e,["fileSearch"],s);const a=b(t,["codeExecution"]);if(a!=null&&E(e,["codeExecution"],a),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=b(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],UAe(o));const l=b(t,["googleSearch"]);l!=null&&E(e,["googleSearch"],DAe(l));const c=b(t,["urlContext"]);return c!=null&&E(e,["urlContext"],c),e}function zAe(t){const e={},r=b(t,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>LAe(p))),E(e,["functionDeclarations"],f)}const n=b(t,["retrieval"]);n!=null&&E(e,["retrieval"],n);const i=b(t,["googleSearchRetrieval"]);i!=null&&E(e,["googleSearchRetrieval"],i);const s=b(t,["computerUse"]);if(s!=null&&E(e,["computerUse"],s),b(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=b(t,["codeExecution"]);a!=null&&E(e,["codeExecution"],a);const o=b(t,["enterpriseWebSearch"]);o!=null&&E(e,["enterpriseWebSearch"],o);const l=b(t,["googleMaps"]);l!=null&&E(e,["googleMaps"],l);const c=b(t,["googleSearch"]);c!=null&&E(e,["googleSearch"],c);const u=b(t,["urlContext"]);return u!=null&&E(e,["urlContext"],u),e}function KAe(t,e){const r={},n=b(t,["ttl"]);e!==void 0&&n!=null&&E(e,["ttl"],n);const i=b(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),r}function WAe(t,e){const r={},n=b(t,["ttl"]);e!==void 0&&n!=null&&E(e,["ttl"],n);const i=b(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),r}function YAe(t,e){const r={},n=b(e,["name"]);n!=null&&E(r,["_url","name"],Xd(t,n));const i=b(e,["config"]);return i!=null&&KAe(i,r),r}function XAe(t,e){const r={},n=b(e,["name"]);n!=null&&E(r,["_url","name"],Xd(t,n));const i=b(e,["config"]);return i!=null&&WAe(i,r),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JAe extends Yd{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Qm(Qd.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=_Ae(this.apiClient,e);return o=Kt("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>u)}else{const c=SAe(this.apiClient,e);return o=Kt("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>u)}}async get(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=MAe(this.apiClient,e);return o=Kt("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>u)}else{const c=RAe(this.apiClient,e);return o=Kt("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>u)}}async delete(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=BAe(this.apiClient,e);return o=Kt("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=NAe(u),p=new RO;return Object.assign(p,f),p})}else{const c=EAe(this.apiClient,e);return o=Kt("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=TAe(u),p=new RO;return Object.assign(p,f),p})}}async update(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=XAe(this.apiClient,e);return o=Kt("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>u)}else{const c=YAe(this.apiClient,e);return o=Kt("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>u)}}async listInternal(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=QAe(e);return o=Kt("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=GAe(u),p=new MO;return Object.assign(p,f),p})}else{const c=HAe(e);return o=Kt("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=jAe(u),p=new MO;return Object.assign(p,f),p})}}}function eE(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function jO(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tn(t){return this instanceof tn?(this.v=t,this):new tn(t)}function Ku(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(y){return Promise.resolve(y).then(g,f)}}function o(g,y){n[g]&&(i[g]=function(x){return new Promise(function(w,S){s.push([g,x,w,S])>1||l(g,x)})},y&&(i[g]=y(i[g])))}function l(g,y){try{c(n[g](y))}catch(x){p(s[0][3],x)}}function c(g){g.value instanceof tn?Promise.resolve(g.value.v).then(u,f):p(s[0][2],g)}function u(g){l("next",g)}function f(g){l("throw",g)}function p(g,y){g(y),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Wu(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof jO=="function"?jO(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZAe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:RG(r)}function RG(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function eue(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function GO(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let n=0;for(;n<r;)if(t[n].role==="user")e.push(t[n]),n++;else{const i=[];let s=!0;for(;n<r&&t[n].role==="model";)i.push(t[n]),s&&!RG(t[n])&&(s=!1),n++;s?e.push(...i):e.pop()}return e}class tue{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new rue(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class rue{constructor(e,r,n,i={},s=[]){this.apiClient=e,this.modelsModule=r,this.model=n,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),eue(s)}async sendMessage(e){var r;await this.sendPromise;const n=cl(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await i,c=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,u=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let p=[];u!=null&&(p=(o=u.slice(f))!==null&&o!==void 0?o:[]);const g=c?[c]:[];this.recordHistory(n,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var r;await this.sendPromise;const n=cl(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,n)}getHistory(e=!1){const r=e?GO(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){return Ku(this,arguments,function*(){var i,s,a,o,l,c;const u=[];try{for(var f=!0,p=Wu(e),g;g=yield tn(p.next()),i=g.done,!i;f=!0){o=g.value,f=!1;const y=o;if(ZAe(y)){const x=(c=(l=y.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;x!==void 0&&u.push(x)}yield yield tn(y)}}catch(y){s={error:y}}finally{try{!f&&!i&&(a=p.return)&&(yield tn(a.call(p)))}finally{if(s)throw s.error}}this.recordHistory(r,u)})}recordHistory(e,r,n){let i=[];r.length>0&&r.every(s=>s.role!==void 0)?i=r:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...GO(n)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VB extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,VB.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nue(t){const e={},r=b(t,["file"]);return r!=null&&E(e,["file"],r),e}function iue(t){const e={},r=b(t,["sdkHttpResponse"]);return r!=null&&E(e,["sdkHttpResponse"],r),e}function sue(t){const e={},r=b(t,["name"]);return r!=null&&E(e,["_url","file"],BG(r)),e}function aue(t){const e={},r=b(t,["sdkHttpResponse"]);return r!=null&&E(e,["sdkHttpResponse"],r),e}function oue(t){const e={},r=b(t,["name"]);return r!=null&&E(e,["_url","file"],BG(r)),e}function lue(t,e){const r={},n=b(t,["pageSize"]);e!==void 0&&n!=null&&E(e,["_query","pageSize"],n);const i=b(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),r}function cue(t){const e={},r=b(t,["config"]);return r!=null&&lue(r,e),e}function Aue(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=b(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),E(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uue extends Yd{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Qm(Qd.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>r)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=cue(e);return s=Kt("files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=Aue(l),u=new pce;return Object.assign(u,c),u})}}async createInternal(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=nue(e);return s=Kt("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=iue(l),u=new gce;return Object.assign(u,c),u})}}async get(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=oue(e);return s=Kt("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=sue(e);return s=Kt("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=aue(l),u=new mce;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h_(t){const e={},r=b(t,["data"]);if(r!=null&&E(e,["data"],r),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function hue(t){const e={},r=b(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Tue(s))),E(e,["parts"],i)}const n=b(t,["role"]);return n!=null&&E(e,["role"],n),e}function fue(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const n=b(t,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function due(t){const e={},r=b(t,["id"]);r!=null&&E(e,["id"],r);const n=b(t,["args"]);n!=null&&E(e,["args"],n);const i=b(t,["name"]);if(i!=null&&E(e,["name"],i),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function pue(t){const e={};if(b(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=b(t,["description"]);r!=null&&E(e,["description"],r);const n=b(t,["name"]);n!=null&&E(e,["name"],n);const i=b(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=b(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=b(t,["response"]);a!=null&&E(e,["response"],a);const o=b(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function gue(t){const e={},r=b(t,["modelSelectionConfig"]);r!=null&&E(e,["modelConfig"],r);const n=b(t,["responseJsonSchema"]);n!=null&&E(e,["responseJsonSchema"],n);const i=b(t,["audioTimestamp"]);i!=null&&E(e,["audioTimestamp"],i);const s=b(t,["candidateCount"]);s!=null&&E(e,["candidateCount"],s);const a=b(t,["enableAffectiveDialog"]);a!=null&&E(e,["enableAffectiveDialog"],a);const o=b(t,["frequencyPenalty"]);o!=null&&E(e,["frequencyPenalty"],o);const l=b(t,["logprobs"]);l!=null&&E(e,["logprobs"],l);const c=b(t,["maxOutputTokens"]);c!=null&&E(e,["maxOutputTokens"],c);const u=b(t,["mediaResolution"]);u!=null&&E(e,["mediaResolution"],u);const f=b(t,["presencePenalty"]);f!=null&&E(e,["presencePenalty"],f);const p=b(t,["responseLogprobs"]);p!=null&&E(e,["responseLogprobs"],p);const g=b(t,["responseMimeType"]);g!=null&&E(e,["responseMimeType"],g);const y=b(t,["responseModalities"]);y!=null&&E(e,["responseModalities"],y);const x=b(t,["responseSchema"]);x!=null&&E(e,["responseSchema"],x);const w=b(t,["routingConfig"]);w!=null&&E(e,["routingConfig"],w);const S=b(t,["seed"]);S!=null&&E(e,["seed"],S);const B=b(t,["speechConfig"]);B!=null&&E(e,["speechConfig"],B);const F=b(t,["stopSequences"]);F!=null&&E(e,["stopSequences"],F);const k=b(t,["temperature"]);k!=null&&E(e,["temperature"],k);const O=b(t,["thinkingConfig"]);O!=null&&E(e,["thinkingConfig"],O);const R=b(t,["topK"]);R!=null&&E(e,["topK"],R);const D=b(t,["topP"]);if(D!=null&&E(e,["topP"],D),b(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function mue(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=b(t,["enableWidget"]);return r!=null&&E(e,["enableWidget"],r),e}function yue(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=b(t,["timeRangeFilter"]);return r!=null&&E(e,["timeRangeFilter"],r),e}function xue(t,e){const r={},n=b(t,["generationConfig"]);e!==void 0&&n!=null&&E(e,["setup","generationConfig"],n);const i=b(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=b(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=b(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=b(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=b(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=b(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=b(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=b(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],SL(f));const p=b(t,["thinkingConfig"]);e!==void 0&&p!=null&&E(e,["setup","generationConfig","thinkingConfig"],p);const g=b(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=b(t,["systemInstruction"]);e!==void 0&&y!=null&&E(e,["setup","systemInstruction"],hue(cl(y)));const x=b(t,["tools"]);if(e!==void 0&&x!=null){let R=Qx(x);Array.isArray(R)&&(R=R.map(D=>Fue(Hx(D)))),E(e,["setup","tools"],R)}const w=b(t,["sessionResumption"]);e!==void 0&&w!=null&&E(e,["setup","sessionResumption"],Nue(w));const S=b(t,["inputAudioTranscription"]);e!==void 0&&S!=null&&E(e,["setup","inputAudioTranscription"],S);const B=b(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&E(e,["setup","outputAudioTranscription"],B);const F=b(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&E(e,["setup","realtimeInputConfig"],F);const k=b(t,["contextWindowCompression"]);e!==void 0&&k!=null&&E(e,["setup","contextWindowCompression"],k);const O=b(t,["proactivity"]);if(e!==void 0&&O!=null&&E(e,["setup","proactivity"],O),b(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function vue(t,e){const r={},n=b(t,["generationConfig"]);e!==void 0&&n!=null&&E(e,["setup","generationConfig"],gue(n));const i=b(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=b(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=b(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=b(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=b(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=b(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=b(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=b(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],SL(f));const p=b(t,["thinkingConfig"]);e!==void 0&&p!=null&&E(e,["setup","generationConfig","thinkingConfig"],p);const g=b(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=b(t,["systemInstruction"]);e!==void 0&&y!=null&&E(e,["setup","systemInstruction"],cl(y));const x=b(t,["tools"]);if(e!==void 0&&x!=null){let D=Qx(x);Array.isArray(D)&&(D=D.map(Q=>Iue(Hx(Q)))),E(e,["setup","tools"],D)}const w=b(t,["sessionResumption"]);e!==void 0&&w!=null&&E(e,["setup","sessionResumption"],w);const S=b(t,["inputAudioTranscription"]);e!==void 0&&S!=null&&E(e,["setup","inputAudioTranscription"],S);const B=b(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&E(e,["setup","outputAudioTranscription"],B);const F=b(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&E(e,["setup","realtimeInputConfig"],F);const k=b(t,["contextWindowCompression"]);e!==void 0&&k!=null&&E(e,["setup","contextWindowCompression"],k);const O=b(t,["proactivity"]);e!==void 0&&O!=null&&E(e,["setup","proactivity"],O);const R=b(t,["explicitVadSignal"]);return e!==void 0&&R!=null&&E(e,["setup","explicitVadSignal"],R),r}function wue(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["setup","model"],ti(t,n));const i=b(e,["config"]);return i!=null&&E(r,["config"],xue(i,r)),r}function bue(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["setup","model"],ti(t,n));const i=b(e,["config"]);return i!=null&&E(r,["config"],vue(i,r)),r}function Cue(t){const e={},r=b(t,["musicGenerationConfig"]);return r!=null&&E(e,["musicGenerationConfig"],r),e}function Sue(t){const e={},r=b(t,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),E(e,["weightedPrompts"],n)}return e}function _ue(t){const e={},r=b(t,["media"]);if(r!=null){let c=bG(r);Array.isArray(c)&&(c=c.map(u=>h_(u))),E(e,["mediaChunks"],c)}const n=b(t,["audio"]);n!=null&&E(e,["audio"],h_(SG(n)));const i=b(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=b(t,["video"]);s!=null&&E(e,["video"],h_(CG(s)));const a=b(t,["text"]);a!=null&&E(e,["text"],a);const o=b(t,["activityStart"]);o!=null&&E(e,["activityStart"],o);const l=b(t,["activityEnd"]);return l!=null&&E(e,["activityEnd"],l),e}function Eue(t){const e={},r=b(t,["media"]);if(r!=null){let c=bG(r);Array.isArray(c)&&(c=c.map(u=>u)),E(e,["mediaChunks"],c)}const n=b(t,["audio"]);n!=null&&E(e,["audio"],SG(n));const i=b(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=b(t,["video"]);s!=null&&E(e,["video"],CG(s));const a=b(t,["text"]);a!=null&&E(e,["text"],a);const o=b(t,["activityStart"]);o!=null&&E(e,["activityStart"],o);const l=b(t,["activityEnd"]);return l!=null&&E(e,["activityEnd"],l),e}function Bue(t){const e={},r=b(t,["setupComplete"]);r!=null&&E(e,["setupComplete"],r);const n=b(t,["serverContent"]);n!=null&&E(e,["serverContent"],n);const i=b(t,["toolCall"]);i!=null&&E(e,["toolCall"],i);const s=b(t,["toolCallCancellation"]);s!=null&&E(e,["toolCallCancellation"],s);const a=b(t,["usageMetadata"]);a!=null&&E(e,["usageMetadata"],kue(a));const o=b(t,["goAway"]);o!=null&&E(e,["goAway"],o);const l=b(t,["sessionResumptionUpdate"]);l!=null&&E(e,["sessionResumptionUpdate"],l);const c=b(t,["voiceActivityDetectionSignal"]);return c!=null&&E(e,["voiceActivityDetectionSignal"],c),e}function Tue(t){const e={},r=b(t,["mediaResolution"]);r!=null&&E(e,["mediaResolution"],r);const n=b(t,["codeExecutionResult"]);n!=null&&E(e,["codeExecutionResult"],n);const i=b(t,["executableCode"]);i!=null&&E(e,["executableCode"],i);const s=b(t,["fileData"]);s!=null&&E(e,["fileData"],fue(s));const a=b(t,["functionCall"]);a!=null&&E(e,["functionCall"],due(a));const o=b(t,["functionResponse"]);o!=null&&E(e,["functionResponse"],o);const l=b(t,["inlineData"]);l!=null&&E(e,["inlineData"],h_(l));const c=b(t,["text"]);c!=null&&E(e,["text"],c);const u=b(t,["thought"]);u!=null&&E(e,["thought"],u);const f=b(t,["thoughtSignature"]);f!=null&&E(e,["thoughtSignature"],f);const p=b(t,["videoMetadata"]);return p!=null&&E(e,["videoMetadata"],p),e}function Nue(t){const e={},r=b(t,["handle"]);if(r!=null&&E(e,["handle"],r),b(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Fue(t){const e={},r=b(t,["functionDeclarations"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),E(e,["functionDeclarations"],u)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=b(t,["googleSearchRetrieval"]);n!=null&&E(e,["googleSearchRetrieval"],n);const i=b(t,["computerUse"]);i!=null&&E(e,["computerUse"],i);const s=b(t,["fileSearch"]);s!=null&&E(e,["fileSearch"],s);const a=b(t,["codeExecution"]);if(a!=null&&E(e,["codeExecution"],a),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=b(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],mue(o));const l=b(t,["googleSearch"]);l!=null&&E(e,["googleSearch"],yue(l));const c=b(t,["urlContext"]);return c!=null&&E(e,["urlContext"],c),e}function Iue(t){const e={},r=b(t,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>pue(p))),E(e,["functionDeclarations"],f)}const n=b(t,["retrieval"]);n!=null&&E(e,["retrieval"],n);const i=b(t,["googleSearchRetrieval"]);i!=null&&E(e,["googleSearchRetrieval"],i);const s=b(t,["computerUse"]);if(s!=null&&E(e,["computerUse"],s),b(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=b(t,["codeExecution"]);a!=null&&E(e,["codeExecution"],a);const o=b(t,["enterpriseWebSearch"]);o!=null&&E(e,["enterpriseWebSearch"],o);const l=b(t,["googleMaps"]);l!=null&&E(e,["googleMaps"],l);const c=b(t,["googleSearch"]);c!=null&&E(e,["googleSearch"],c);const u=b(t,["urlContext"]);return u!=null&&E(e,["urlContext"],u),e}function kue(t){const e={},r=b(t,["promptTokenCount"]);r!=null&&E(e,["promptTokenCount"],r);const n=b(t,["cachedContentTokenCount"]);n!=null&&E(e,["cachedContentTokenCount"],n);const i=b(t,["candidatesTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const s=b(t,["toolUsePromptTokenCount"]);s!=null&&E(e,["toolUsePromptTokenCount"],s);const a=b(t,["thoughtsTokenCount"]);a!=null&&E(e,["thoughtsTokenCount"],a);const o=b(t,["totalTokenCount"]);o!=null&&E(e,["totalTokenCount"],o);const l=b(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>y)),E(e,["promptTokensDetails"],g)}const c=b(t,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),E(e,["cacheTokensDetails"],g)}const u=b(t,["candidatesTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(y=>y)),E(e,["responseTokensDetails"],g)}const f=b(t,["toolUsePromptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),E(e,["toolUsePromptTokensDetails"],g)}const p=b(t,["trafficType"]);return p!=null&&E(e,["trafficType"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lue(t){const e={},r=b(t,["data"]);if(r!=null&&E(e,["data"],r),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function Rue(t){const e={},r=b(t,["content"]);r!=null&&E(e,["content"],r);const n=b(t,["citationMetadata"]);n!=null&&E(e,["citationMetadata"],Mue(n));const i=b(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=b(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=b(t,["avgLogprobs"]);a!=null&&E(e,["avgLogprobs"],a);const o=b(t,["groundingMetadata"]);o!=null&&E(e,["groundingMetadata"],o);const l=b(t,["index"]);l!=null&&E(e,["index"],l);const c=b(t,["logprobsResult"]);c!=null&&E(e,["logprobsResult"],c);const u=b(t,["safetyRatings"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>g)),E(e,["safetyRatings"],p)}const f=b(t,["urlContextMetadata"]);return f!=null&&E(e,["urlContextMetadata"],f),e}function Mue(t){const e={},r=b(t,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),E(e,["citations"],n)}return e}function Uue(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["contents"]);if(i!=null){let s=$A(i);Array.isArray(s)&&(s=s.map(a=>a)),E(r,["contents"],s)}return r}function Due(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["tokensInfo"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),E(e,["tokensInfo"],i)}return e}function Oue(t){const e={},r=b(t,["values"]);r!=null&&E(e,["values"],r);const n=b(t,["statistics"]);return n!=null&&E(e,["statistics"],Pue(n)),e}function Pue(t){const e={},r=b(t,["truncated"]);r!=null&&E(e,["truncated"],r);const n=b(t,["token_count"]);return n!=null&&E(e,["tokenCount"],n),e}function $B(t){const e={},r=b(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Khe(s))),E(e,["parts"],i)}const n=b(t,["role"]);return n!=null&&E(e,["role"],n),e}function Hue(t){const e={},r=b(t,["controlType"]);r!=null&&E(e,["controlType"],r);const n=b(t,["enableControlImageComputation"]);return n!=null&&E(e,["computeControl"],n),e}function Que(t){const e={};if(b(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(b(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(b(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function jue(t,e){const r={},n=b(t,["systemInstruction"]);e!==void 0&&n!=null&&E(e,["systemInstruction"],cl(n));const i=b(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>OG(o))),E(e,["tools"],a)}const s=b(t,["generationConfig"]);return e!==void 0&&s!=null&&E(e,["generationConfig"],Lhe(s)),r}function Gue(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["contents"]);if(i!=null){let a=$A(i);Array.isArray(a)&&(a=a.map(o=>$B(o))),E(r,["contents"],a)}const s=b(e,["config"]);return s!=null&&Que(s),r}function Vue(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["contents"]);if(i!=null){let a=$A(i);Array.isArray(a)&&(a=a.map(o=>o)),E(r,["contents"],a)}const s=b(e,["config"]);return s!=null&&jue(s,r),r}function $ue(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["totalTokens"]);n!=null&&E(e,["totalTokens"],n);const i=b(t,["cachedContentTokenCount"]);return i!=null&&E(e,["cachedContentTokenCount"],i),e}function que(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["totalTokens"]);return n!=null&&E(e,["totalTokens"],n),e}function zue(t,e){const r={},n=b(e,["model"]);return n!=null&&E(r,["_url","name"],ti(t,n)),r}function Kue(t,e){const r={},n=b(e,["model"]);return n!=null&&E(r,["_url","name"],ti(t,n)),r}function Wue(t){const e={},r=b(t,["sdkHttpResponse"]);return r!=null&&E(e,["sdkHttpResponse"],r),e}function Yue(t){const e={},r=b(t,["sdkHttpResponse"]);return r!=null&&E(e,["sdkHttpResponse"],r),e}function Xue(t,e){const r={},n=b(t,["outputGcsUri"]);e!==void 0&&n!=null&&E(e,["parameters","storageUri"],n);const i=b(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=b(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const a=b(t,["aspectRatio"]);e!==void 0&&a!=null&&E(e,["parameters","aspectRatio"],a);const o=b(t,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const l=b(t,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const c=b(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const u=b(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=b(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&E(e,["parameters","includeSafetyAttributes"],f);const p=b(t,["includeRaiReason"]);e!==void 0&&p!=null&&E(e,["parameters","includeRaiReason"],p);const g=b(t,["language"]);e!==void 0&&g!=null&&E(e,["parameters","language"],g);const y=b(t,["outputMimeType"]);e!==void 0&&y!=null&&E(e,["parameters","outputOptions","mimeType"],y);const x=b(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&E(e,["parameters","outputOptions","compressionQuality"],x);const w=b(t,["addWatermark"]);e!==void 0&&w!=null&&E(e,["parameters","addWatermark"],w);const S=b(t,["labels"]);e!==void 0&&S!=null&&E(e,["labels"],S);const B=b(t,["editMode"]);e!==void 0&&B!=null&&E(e,["parameters","editMode"],B);const F=b(t,["baseSteps"]);return e!==void 0&&F!=null&&E(e,["parameters","editConfig","baseSteps"],F),r}function Jue(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["prompt"]);i!=null&&E(r,["instances[0]","prompt"],i);const s=b(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>efe(l))),E(r,["instances[0]","referenceImages"],o)}const a=b(e,["config"]);return a!=null&&Xue(a,r),r}function Zue(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>qB(s))),E(e,["generatedImages"],i)}return e}function ehe(t,e){const r={},n=b(t,["taskType"]);e!==void 0&&n!=null&&E(e,["requests[]","taskType"],n);const i=b(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=b(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),b(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(b(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function the(t,e){const r={},n=b(t,["taskType"]);e!==void 0&&n!=null&&E(e,["instances[]","task_type"],n);const i=b(t,["title"]);e!==void 0&&i!=null&&E(e,["instances[]","title"],i);const s=b(t,["outputDimensionality"]);e!==void 0&&s!=null&&E(e,["parameters","outputDimensionality"],s);const a=b(t,["mimeType"]);e!==void 0&&a!=null&&E(e,["instances[]","mimeType"],a);const o=b(t,["autoTruncate"]);return e!==void 0&&o!=null&&E(e,["parameters","autoTruncate"],o),r}function rhe(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["contents"]);if(i!=null){let o=wL(t,i);Array.isArray(o)&&(o=o.map(l=>l)),E(r,["requests[]","content"],o)}const s=b(e,["config"]);s!=null&&ehe(s,r);const a=b(e,["model"]);return a!==void 0&&E(r,["requests[]","model"],ti(t,a)),r}function nhe(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["contents"]);if(i!=null){let a=wL(t,i);Array.isArray(a)&&(a=a.map(o=>o)),E(r,["instances[]","content"],a)}const s=b(e,["config"]);return s!=null&&the(s,r),r}function ihe(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["embeddings"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>a)),E(e,["embeddings"],s)}const i=b(t,["metadata"]);return i!=null&&E(e,["metadata"],i),e}function she(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["predictions[]","embeddings"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Oue(a))),E(e,["embeddings"],s)}const i=b(t,["metadata"]);return i!=null&&E(e,["metadata"],i),e}function ahe(t){const e={},r=b(t,["endpoint"]);r!=null&&E(e,["name"],r);const n=b(t,["deployedModelId"]);return n!=null&&E(e,["deployedModelId"],n),e}function ohe(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const n=b(t,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function lhe(t){const e={},r=b(t,["id"]);r!=null&&E(e,["id"],r);const n=b(t,["args"]);n!=null&&E(e,["args"],n);const i=b(t,["name"]);if(i!=null&&E(e,["name"],i),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function che(t){const e={},r=b(t,["mode"]);r!=null&&E(e,["mode"],r);const n=b(t,["allowedFunctionNames"]);if(n!=null&&E(e,["allowedFunctionNames"],n),b(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ahe(t){const e={};if(b(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=b(t,["description"]);r!=null&&E(e,["description"],r);const n=b(t,["name"]);n!=null&&E(e,["name"],n);const i=b(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=b(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=b(t,["response"]);a!=null&&E(e,["response"],a);const o=b(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function uhe(t,e,r){const n={},i=b(e,["systemInstruction"]);r!==void 0&&i!=null&&E(r,["systemInstruction"],$B(cl(i)));const s=b(e,["temperature"]);s!=null&&E(n,["temperature"],s);const a=b(e,["topP"]);a!=null&&E(n,["topP"],a);const o=b(e,["topK"]);o!=null&&E(n,["topK"],o);const l=b(e,["candidateCount"]);l!=null&&E(n,["candidateCount"],l);const c=b(e,["maxOutputTokens"]);c!=null&&E(n,["maxOutputTokens"],c);const u=b(e,["stopSequences"]);u!=null&&E(n,["stopSequences"],u);const f=b(e,["responseLogprobs"]);f!=null&&E(n,["responseLogprobs"],f);const p=b(e,["logprobs"]);p!=null&&E(n,["logprobs"],p);const g=b(e,["presencePenalty"]);g!=null&&E(n,["presencePenalty"],g);const y=b(e,["frequencyPenalty"]);y!=null&&E(n,["frequencyPenalty"],y);const x=b(e,["seed"]);x!=null&&E(n,["seed"],x);const w=b(e,["responseMimeType"]);w!=null&&E(n,["responseMimeType"],w);const S=b(e,["responseSchema"]);S!=null&&E(n,["responseSchema"],bL(S));const B=b(e,["responseJsonSchema"]);if(B!=null&&E(n,["responseJsonSchema"],B),b(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(b(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=b(e,["safetySettings"]);if(r!==void 0&&F!=null){let q=F;Array.isArray(q)&&(q=q.map(Z=>tfe(Z))),E(r,["safetySettings"],q)}const k=b(e,["tools"]);if(r!==void 0&&k!=null){let q=Qx(k);Array.isArray(q)&&(q=q.map(Z=>lfe(Hx(Z)))),E(r,["tools"],q)}const O=b(e,["toolConfig"]);if(r!==void 0&&O!=null&&E(r,["toolConfig"],ofe(O)),b(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=b(e,["cachedContent"]);r!==void 0&&R!=null&&E(r,["cachedContent"],Xd(t,R));const D=b(e,["responseModalities"]);D!=null&&E(n,["responseModalities"],D);const Q=b(e,["mediaResolution"]);Q!=null&&E(n,["mediaResolution"],Q);const V=b(e,["speechConfig"]);if(V!=null&&E(n,["speechConfig"],CL(V)),b(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=b(e,["thinkingConfig"]);re!=null&&E(n,["thinkingConfig"],re);const P=b(e,["imageConfig"]);P!=null&&E(n,["imageConfig"],Ohe(P));const H=b(e,["enableEnhancedCivicAnswers"]);return H!=null&&E(n,["enableEnhancedCivicAnswers"],H),n}function hhe(t,e,r){const n={},i=b(e,["systemInstruction"]);r!==void 0&&i!=null&&E(r,["systemInstruction"],cl(i));const s=b(e,["temperature"]);s!=null&&E(n,["temperature"],s);const a=b(e,["topP"]);a!=null&&E(n,["topP"],a);const o=b(e,["topK"]);o!=null&&E(n,["topK"],o);const l=b(e,["candidateCount"]);l!=null&&E(n,["candidateCount"],l);const c=b(e,["maxOutputTokens"]);c!=null&&E(n,["maxOutputTokens"],c);const u=b(e,["stopSequences"]);u!=null&&E(n,["stopSequences"],u);const f=b(e,["responseLogprobs"]);f!=null&&E(n,["responseLogprobs"],f);const p=b(e,["logprobs"]);p!=null&&E(n,["logprobs"],p);const g=b(e,["presencePenalty"]);g!=null&&E(n,["presencePenalty"],g);const y=b(e,["frequencyPenalty"]);y!=null&&E(n,["frequencyPenalty"],y);const x=b(e,["seed"]);x!=null&&E(n,["seed"],x);const w=b(e,["responseMimeType"]);w!=null&&E(n,["responseMimeType"],w);const S=b(e,["responseSchema"]);S!=null&&E(n,["responseSchema"],bL(S));const B=b(e,["responseJsonSchema"]);B!=null&&E(n,["responseJsonSchema"],B);const F=b(e,["routingConfig"]);F!=null&&E(n,["routingConfig"],F);const k=b(e,["modelSelectionConfig"]);k!=null&&E(n,["modelConfig"],k);const O=b(e,["safetySettings"]);if(r!==void 0&&O!=null){let X=O;Array.isArray(X)&&(X=X.map(ee=>ee)),E(r,["safetySettings"],X)}const R=b(e,["tools"]);if(r!==void 0&&R!=null){let X=Qx(R);Array.isArray(X)&&(X=X.map(ee=>OG(Hx(ee)))),E(r,["tools"],X)}const D=b(e,["toolConfig"]);r!==void 0&&D!=null&&E(r,["toolConfig"],D);const Q=b(e,["labels"]);r!==void 0&&Q!=null&&E(r,["labels"],Q);const V=b(e,["cachedContent"]);r!==void 0&&V!=null&&E(r,["cachedContent"],Xd(t,V));const re=b(e,["responseModalities"]);re!=null&&E(n,["responseModalities"],re);const P=b(e,["mediaResolution"]);P!=null&&E(n,["mediaResolution"],P);const H=b(e,["speechConfig"]);H!=null&&E(n,["speechConfig"],CL(H));const q=b(e,["audioTimestamp"]);q!=null&&E(n,["audioTimestamp"],q);const Z=b(e,["thinkingConfig"]);Z!=null&&E(n,["thinkingConfig"],Z);const se=b(e,["imageConfig"]);if(se!=null&&E(n,["imageConfig"],Phe(se)),b(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function VO(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["contents"]);if(i!=null){let a=$A(i);Array.isArray(a)&&(a=a.map(o=>$B(o))),E(r,["contents"],a)}const s=b(e,["config"]);return s!=null&&E(r,["generationConfig"],uhe(t,s,r)),r}function $O(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["contents"]);if(i!=null){let a=$A(i);Array.isArray(a)&&(a=a.map(o=>o)),E(r,["contents"],a)}const s=b(e,["config"]);return s!=null&&E(r,["generationConfig"],hhe(t,s,r)),r}function qO(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>Rue(c))),E(e,["candidates"],l)}const i=b(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=b(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const a=b(t,["responseId"]);a!=null&&E(e,["responseId"],a);const o=b(t,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function zO(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(u=>u)),E(e,["candidates"],c)}const i=b(t,["createTime"]);i!=null&&E(e,["createTime"],i);const s=b(t,["modelVersion"]);s!=null&&E(e,["modelVersion"],s);const a=b(t,["promptFeedback"]);a!=null&&E(e,["promptFeedback"],a);const o=b(t,["responseId"]);o!=null&&E(e,["responseId"],o);const l=b(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function fhe(t,e){const r={};if(b(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=b(t,["numberOfImages"]);e!==void 0&&n!=null&&E(e,["parameters","sampleCount"],n);const i=b(t,["aspectRatio"]);e!==void 0&&i!=null&&E(e,["parameters","aspectRatio"],i);const s=b(t,["guidanceScale"]);if(e!==void 0&&s!=null&&E(e,["parameters","guidanceScale"],s),b(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=b(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&E(e,["parameters","safetySetting"],a);const o=b(t,["personGeneration"]);e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o);const l=b(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&E(e,["parameters","includeSafetyAttributes"],l);const c=b(t,["includeRaiReason"]);e!==void 0&&c!=null&&E(e,["parameters","includeRaiReason"],c);const u=b(t,["language"]);e!==void 0&&u!=null&&E(e,["parameters","language"],u);const f=b(t,["outputMimeType"]);e!==void 0&&f!=null&&E(e,["parameters","outputOptions","mimeType"],f);const p=b(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&E(e,["parameters","outputOptions","compressionQuality"],p),b(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(b(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=b(t,["imageSize"]);if(e!==void 0&&g!=null&&E(e,["parameters","sampleImageSize"],g),b(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function dhe(t,e){const r={},n=b(t,["outputGcsUri"]);e!==void 0&&n!=null&&E(e,["parameters","storageUri"],n);const i=b(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=b(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const a=b(t,["aspectRatio"]);e!==void 0&&a!=null&&E(e,["parameters","aspectRatio"],a);const o=b(t,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const l=b(t,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const c=b(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const u=b(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=b(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&E(e,["parameters","includeSafetyAttributes"],f);const p=b(t,["includeRaiReason"]);e!==void 0&&p!=null&&E(e,["parameters","includeRaiReason"],p);const g=b(t,["language"]);e!==void 0&&g!=null&&E(e,["parameters","language"],g);const y=b(t,["outputMimeType"]);e!==void 0&&y!=null&&E(e,["parameters","outputOptions","mimeType"],y);const x=b(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&E(e,["parameters","outputOptions","compressionQuality"],x);const w=b(t,["addWatermark"]);e!==void 0&&w!=null&&E(e,["parameters","addWatermark"],w);const S=b(t,["labels"]);e!==void 0&&S!=null&&E(e,["labels"],S);const B=b(t,["imageSize"]);e!==void 0&&B!=null&&E(e,["parameters","sampleImageSize"],B);const F=b(t,["enhancePrompt"]);return e!==void 0&&F!=null&&E(e,["parameters","enhancePrompt"],F),r}function phe(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["prompt"]);i!=null&&E(r,["instances[0]","prompt"],i);const s=b(e,["config"]);return s!=null&&fhe(s,r),r}function ghe(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["prompt"]);i!=null&&E(r,["instances[0]","prompt"],i);const s=b(e,["config"]);return s!=null&&dhe(s,r),r}function mhe(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Nhe(a))),E(e,["generatedImages"],s)}const i=b(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],UG(i)),e}function yhe(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>qB(a))),E(e,["generatedImages"],s)}const i=b(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],DG(i)),e}function xhe(t,e){const r={},n=b(t,["numberOfVideos"]);if(e!==void 0&&n!=null&&E(e,["parameters","sampleCount"],n),b(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=b(t,["durationSeconds"]);if(e!==void 0&&i!=null&&E(e,["parameters","durationSeconds"],i),b(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=b(t,["aspectRatio"]);e!==void 0&&s!=null&&E(e,["parameters","aspectRatio"],s);const a=b(t,["resolution"]);e!==void 0&&a!=null&&E(e,["parameters","resolution"],a);const o=b(t,["personGeneration"]);if(e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o),b(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=b(t,["negativePrompt"]);e!==void 0&&l!=null&&E(e,["parameters","negativePrompt"],l);const c=b(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&E(e,["parameters","enhancePrompt"],c),b(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const u=b(t,["lastFrame"]);e!==void 0&&u!=null&&E(e,["instances[0]","lastFrame"],zB(u));const f=b(t,["referenceImages"]);if(e!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>wfe(g))),E(e,["instances[0]","referenceImages"],p)}if(b(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(b(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function vhe(t,e){const r={},n=b(t,["numberOfVideos"]);e!==void 0&&n!=null&&E(e,["parameters","sampleCount"],n);const i=b(t,["outputGcsUri"]);e!==void 0&&i!=null&&E(e,["parameters","storageUri"],i);const s=b(t,["fps"]);e!==void 0&&s!=null&&E(e,["parameters","fps"],s);const a=b(t,["durationSeconds"]);e!==void 0&&a!=null&&E(e,["parameters","durationSeconds"],a);const o=b(t,["seed"]);e!==void 0&&o!=null&&E(e,["parameters","seed"],o);const l=b(t,["aspectRatio"]);e!==void 0&&l!=null&&E(e,["parameters","aspectRatio"],l);const c=b(t,["resolution"]);e!==void 0&&c!=null&&E(e,["parameters","resolution"],c);const u=b(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=b(t,["pubsubTopic"]);e!==void 0&&f!=null&&E(e,["parameters","pubsubTopic"],f);const p=b(t,["negativePrompt"]);e!==void 0&&p!=null&&E(e,["parameters","negativePrompt"],p);const g=b(t,["enhancePrompt"]);e!==void 0&&g!=null&&E(e,["parameters","enhancePrompt"],g);const y=b(t,["generateAudio"]);e!==void 0&&y!=null&&E(e,["parameters","generateAudio"],y);const x=b(t,["lastFrame"]);e!==void 0&&x!=null&&E(e,["instances[0]","lastFrame"],nh(x));const w=b(t,["referenceImages"]);if(e!==void 0&&w!=null){let F=w;Array.isArray(F)&&(F=F.map(k=>bfe(k))),E(e,["instances[0]","referenceImages"],F)}const S=b(t,["mask"]);e!==void 0&&S!=null&&E(e,["instances[0]","mask"],vfe(S));const B=b(t,["compressionQuality"]);return e!==void 0&&B!=null&&E(e,["parameters","compressionQuality"],B),r}function whe(t){const e={},r=b(t,["name"]);r!=null&&E(e,["name"],r);const n=b(t,["metadata"]);n!=null&&E(e,["metadata"],n);const i=b(t,["done"]);i!=null&&E(e,["done"],i);const s=b(t,["error"]);s!=null&&E(e,["error"],s);const a=b(t,["response","generateVideoResponse"]);return a!=null&&E(e,["response"],_he(a)),e}function bhe(t){const e={},r=b(t,["name"]);r!=null&&E(e,["name"],r);const n=b(t,["metadata"]);n!=null&&E(e,["metadata"],n);const i=b(t,["done"]);i!=null&&E(e,["done"],i);const s=b(t,["error"]);s!=null&&E(e,["error"],s);const a=b(t,["response"]);return a!=null&&E(e,["response"],Ehe(a)),e}function Che(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["prompt"]);i!=null&&E(r,["instances[0]","prompt"],i);const s=b(e,["image"]);s!=null&&E(r,["instances[0]","image"],zB(s));const a=b(e,["video"]);a!=null&&E(r,["instances[0]","video"],PG(a));const o=b(e,["source"]);o!=null&&Bhe(o,r);const l=b(e,["config"]);return l!=null&&xhe(l,r),r}function She(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["prompt"]);i!=null&&E(r,["instances[0]","prompt"],i);const s=b(e,["image"]);s!=null&&E(r,["instances[0]","image"],nh(s));const a=b(e,["video"]);a!=null&&E(r,["instances[0]","video"],HG(a));const o=b(e,["source"]);o!=null&&The(o,r);const l=b(e,["config"]);return l!=null&&vhe(l,r),r}function _he(t){const e={},r=b(t,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Ihe(a))),E(e,["generatedVideos"],s)}const n=b(t,["raiMediaFilteredCount"]);n!=null&&E(e,["raiMediaFilteredCount"],n);const i=b(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function Ehe(t){const e={},r=b(t,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>khe(a))),E(e,["generatedVideos"],s)}const n=b(t,["raiMediaFilteredCount"]);n!=null&&E(e,["raiMediaFilteredCount"],n);const i=b(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function Bhe(t,e){const r={},n=b(t,["prompt"]);e!==void 0&&n!=null&&E(e,["instances[0]","prompt"],n);const i=b(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],zB(i));const s=b(t,["video"]);return e!==void 0&&s!=null&&E(e,["instances[0]","video"],PG(s)),r}function The(t,e){const r={},n=b(t,["prompt"]);e!==void 0&&n!=null&&E(e,["instances[0]","prompt"],n);const i=b(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],nh(i));const s=b(t,["video"]);return e!==void 0&&s!=null&&E(e,["instances[0]","video"],HG(s)),r}function Nhe(t){const e={},r=b(t,["_self"]);r!=null&&E(e,["image"],Hhe(r));const n=b(t,["raiFilteredReason"]);n!=null&&E(e,["raiFilteredReason"],n);const i=b(t,["_self"]);return i!=null&&E(e,["safetyAttributes"],UG(i)),e}function qB(t){const e={},r=b(t,["_self"]);r!=null&&E(e,["image"],MG(r));const n=b(t,["raiFilteredReason"]);n!=null&&E(e,["raiFilteredReason"],n);const i=b(t,["_self"]);i!=null&&E(e,["safetyAttributes"],DG(i));const s=b(t,["prompt"]);return s!=null&&E(e,["enhancedPrompt"],s),e}function Fhe(t){const e={},r=b(t,["_self"]);r!=null&&E(e,["mask"],MG(r));const n=b(t,["labels"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),E(e,["labels"],i)}return e}function Ihe(t){const e={},r=b(t,["video"]);return r!=null&&E(e,["video"],yfe(r)),e}function khe(t){const e={},r=b(t,["_self"]);return r!=null&&E(e,["video"],xfe(r)),e}function Lhe(t){const e={},r=b(t,["modelSelectionConfig"]);r!=null&&E(e,["modelConfig"],r);const n=b(t,["responseJsonSchema"]);n!=null&&E(e,["responseJsonSchema"],n);const i=b(t,["audioTimestamp"]);i!=null&&E(e,["audioTimestamp"],i);const s=b(t,["candidateCount"]);s!=null&&E(e,["candidateCount"],s);const a=b(t,["enableAffectiveDialog"]);a!=null&&E(e,["enableAffectiveDialog"],a);const o=b(t,["frequencyPenalty"]);o!=null&&E(e,["frequencyPenalty"],o);const l=b(t,["logprobs"]);l!=null&&E(e,["logprobs"],l);const c=b(t,["maxOutputTokens"]);c!=null&&E(e,["maxOutputTokens"],c);const u=b(t,["mediaResolution"]);u!=null&&E(e,["mediaResolution"],u);const f=b(t,["presencePenalty"]);f!=null&&E(e,["presencePenalty"],f);const p=b(t,["responseLogprobs"]);p!=null&&E(e,["responseLogprobs"],p);const g=b(t,["responseMimeType"]);g!=null&&E(e,["responseMimeType"],g);const y=b(t,["responseModalities"]);y!=null&&E(e,["responseModalities"],y);const x=b(t,["responseSchema"]);x!=null&&E(e,["responseSchema"],x);const w=b(t,["routingConfig"]);w!=null&&E(e,["routingConfig"],w);const S=b(t,["seed"]);S!=null&&E(e,["seed"],S);const B=b(t,["speechConfig"]);B!=null&&E(e,["speechConfig"],B);const F=b(t,["stopSequences"]);F!=null&&E(e,["stopSequences"],F);const k=b(t,["temperature"]);k!=null&&E(e,["temperature"],k);const O=b(t,["thinkingConfig"]);O!=null&&E(e,["thinkingConfig"],O);const R=b(t,["topK"]);R!=null&&E(e,["topK"],R);const D=b(t,["topP"]);if(D!=null&&E(e,["topP"],D),b(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Rhe(t,e){const r={},n=b(e,["model"]);return n!=null&&E(r,["_url","name"],ti(t,n)),r}function Mhe(t,e){const r={},n=b(e,["model"]);return n!=null&&E(r,["_url","name"],ti(t,n)),r}function Uhe(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=b(t,["enableWidget"]);return r!=null&&E(e,["enableWidget"],r),e}function Dhe(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=b(t,["timeRangeFilter"]);return r!=null&&E(e,["timeRangeFilter"],r),e}function Ohe(t){const e={},r=b(t,["aspectRatio"]);r!=null&&E(e,["aspectRatio"],r);const n=b(t,["imageSize"]);if(n!=null&&E(e,["imageSize"],n),b(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(b(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Phe(t){const e={},r=b(t,["aspectRatio"]);r!=null&&E(e,["aspectRatio"],r);const n=b(t,["imageSize"]);n!=null&&E(e,["imageSize"],n);const i=b(t,["outputMimeType"]);i!=null&&E(e,["imageOutputOptions","mimeType"],i);const s=b(t,["outputCompressionQuality"]);return s!=null&&E(e,["imageOutputOptions","compressionQuality"],s),e}function Hhe(t){const e={},r=b(t,["bytesBase64Encoded"]);r!=null&&E(e,["imageBytes"],Up(r));const n=b(t,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function MG(t){const e={},r=b(t,["gcsUri"]);r!=null&&E(e,["gcsUri"],r);const n=b(t,["bytesBase64Encoded"]);n!=null&&E(e,["imageBytes"],Up(n));const i=b(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function zB(t){const e={};if(b(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=b(t,["imageBytes"]);r!=null&&E(e,["bytesBase64Encoded"],Up(r));const n=b(t,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function nh(t){const e={},r=b(t,["gcsUri"]);r!=null&&E(e,["gcsUri"],r);const n=b(t,["imageBytes"]);n!=null&&E(e,["bytesBase64Encoded"],Up(n));const i=b(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function Qhe(t,e,r){const n={},i=b(e,["pageSize"]);r!==void 0&&i!=null&&E(r,["_query","pageSize"],i);const s=b(e,["pageToken"]);r!==void 0&&s!=null&&E(r,["_query","pageToken"],s);const a=b(e,["filter"]);r!==void 0&&a!=null&&E(r,["_query","filter"],a);const o=b(e,["queryBase"]);return r!==void 0&&o!=null&&E(r,["_url","models_url"],TG(t,o)),n}function jhe(t,e,r){const n={},i=b(e,["pageSize"]);r!==void 0&&i!=null&&E(r,["_query","pageSize"],i);const s=b(e,["pageToken"]);r!==void 0&&s!=null&&E(r,["_query","pageToken"],s);const a=b(e,["filter"]);r!==void 0&&a!=null&&E(r,["_query","filter"],a);const o=b(e,["queryBase"]);return r!==void 0&&o!=null&&E(r,["_url","models_url"],TG(t,o)),n}function Ghe(t,e){const r={},n=b(e,["config"]);return n!=null&&Qhe(t,n,r),r}function Vhe(t,e){const r={},n=b(e,["config"]);return n!=null&&jhe(t,n,r),r}function $he(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=b(t,["_self"]);if(i!=null){let s=NG(i);Array.isArray(s)&&(s=s.map(a=>LI(a))),E(e,["models"],s)}return e}function qhe(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=b(t,["_self"]);if(i!=null){let s=NG(i);Array.isArray(s)&&(s=s.map(a=>RI(a))),E(e,["models"],s)}return e}function zhe(t){const e={},r=b(t,["maskMode"]);r!=null&&E(e,["maskMode"],r);const n=b(t,["segmentationClasses"]);n!=null&&E(e,["maskClasses"],n);const i=b(t,["maskDilation"]);return i!=null&&E(e,["dilation"],i),e}function LI(t){const e={},r=b(t,["name"]);r!=null&&E(e,["name"],r);const n=b(t,["displayName"]);n!=null&&E(e,["displayName"],n);const i=b(t,["description"]);i!=null&&E(e,["description"],i);const s=b(t,["version"]);s!=null&&E(e,["version"],s);const a=b(t,["_self"]);a!=null&&E(e,["tunedModelInfo"],cfe(a));const o=b(t,["inputTokenLimit"]);o!=null&&E(e,["inputTokenLimit"],o);const l=b(t,["outputTokenLimit"]);l!=null&&E(e,["outputTokenLimit"],l);const c=b(t,["supportedGenerationMethods"]);c!=null&&E(e,["supportedActions"],c);const u=b(t,["temperature"]);u!=null&&E(e,["temperature"],u);const f=b(t,["maxTemperature"]);f!=null&&E(e,["maxTemperature"],f);const p=b(t,["topP"]);p!=null&&E(e,["topP"],p);const g=b(t,["topK"]);g!=null&&E(e,["topK"],g);const y=b(t,["thinking"]);return y!=null&&E(e,["thinking"],y),e}function RI(t){const e={},r=b(t,["name"]);r!=null&&E(e,["name"],r);const n=b(t,["displayName"]);n!=null&&E(e,["displayName"],n);const i=b(t,["description"]);i!=null&&E(e,["description"],i);const s=b(t,["versionId"]);s!=null&&E(e,["version"],s);const a=b(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>ahe(p))),E(e,["endpoints"],f)}const o=b(t,["labels"]);o!=null&&E(e,["labels"],o);const l=b(t,["_self"]);l!=null&&E(e,["tunedModelInfo"],Afe(l));const c=b(t,["defaultCheckpointId"]);c!=null&&E(e,["defaultCheckpointId"],c);const u=b(t,["checkpoints"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>p)),E(e,["checkpoints"],f)}return e}function Khe(t){const e={},r=b(t,["mediaResolution"]);r!=null&&E(e,["mediaResolution"],r);const n=b(t,["codeExecutionResult"]);n!=null&&E(e,["codeExecutionResult"],n);const i=b(t,["executableCode"]);i!=null&&E(e,["executableCode"],i);const s=b(t,["fileData"]);s!=null&&E(e,["fileData"],ohe(s));const a=b(t,["functionCall"]);a!=null&&E(e,["functionCall"],lhe(a));const o=b(t,["functionResponse"]);o!=null&&E(e,["functionResponse"],o);const l=b(t,["inlineData"]);l!=null&&E(e,["inlineData"],Lue(l));const c=b(t,["text"]);c!=null&&E(e,["text"],c);const u=b(t,["thought"]);u!=null&&E(e,["thought"],u);const f=b(t,["thoughtSignature"]);f!=null&&E(e,["thoughtSignature"],f);const p=b(t,["videoMetadata"]);return p!=null&&E(e,["videoMetadata"],p),e}function Whe(t){const e={},r=b(t,["productImage"]);return r!=null&&E(e,["image"],nh(r)),e}function Yhe(t,e){const r={},n=b(t,["numberOfImages"]);e!==void 0&&n!=null&&E(e,["parameters","sampleCount"],n);const i=b(t,["baseSteps"]);e!==void 0&&i!=null&&E(e,["parameters","baseSteps"],i);const s=b(t,["outputGcsUri"]);e!==void 0&&s!=null&&E(e,["parameters","storageUri"],s);const a=b(t,["seed"]);e!==void 0&&a!=null&&E(e,["parameters","seed"],a);const o=b(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&E(e,["parameters","safetySetting"],o);const l=b(t,["personGeneration"]);e!==void 0&&l!=null&&E(e,["parameters","personGeneration"],l);const c=b(t,["addWatermark"]);e!==void 0&&c!=null&&E(e,["parameters","addWatermark"],c);const u=b(t,["outputMimeType"]);e!==void 0&&u!=null&&E(e,["parameters","outputOptions","mimeType"],u);const f=b(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&E(e,["parameters","outputOptions","compressionQuality"],f);const p=b(t,["enhancePrompt"]);e!==void 0&&p!=null&&E(e,["parameters","enhancePrompt"],p);const g=b(t,["labels"]);return e!==void 0&&g!=null&&E(e,["labels"],g),r}function Xhe(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["source"]);i!=null&&Zhe(i,r);const s=b(e,["config"]);return s!=null&&Yhe(s,r),r}function Jhe(t){const e={},r=b(t,["predictions"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>qB(i))),E(e,["generatedImages"],n)}return e}function Zhe(t,e){const r={},n=b(t,["prompt"]);e!==void 0&&n!=null&&E(e,["instances[0]","prompt"],n);const i=b(t,["personImage"]);e!==void 0&&i!=null&&E(e,["instances[0]","personImage","image"],nh(i));const s=b(t,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>Whe(o))),E(e,["instances[0]","productImages"],a)}return r}function efe(t){const e={},r=b(t,["referenceImage"]);r!=null&&E(e,["referenceImage"],nh(r));const n=b(t,["referenceId"]);n!=null&&E(e,["referenceId"],n);const i=b(t,["referenceType"]);i!=null&&E(e,["referenceType"],i);const s=b(t,["maskImageConfig"]);s!=null&&E(e,["maskImageConfig"],zhe(s));const a=b(t,["controlImageConfig"]);a!=null&&E(e,["controlImageConfig"],Hue(a));const o=b(t,["styleImageConfig"]);o!=null&&E(e,["styleImageConfig"],o);const l=b(t,["subjectImageConfig"]);return l!=null&&E(e,["subjectImageConfig"],l),e}function UG(t){const e={},r=b(t,["safetyAttributes","categories"]);r!=null&&E(e,["categories"],r);const n=b(t,["safetyAttributes","scores"]);n!=null&&E(e,["scores"],n);const i=b(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function DG(t){const e={},r=b(t,["safetyAttributes","categories"]);r!=null&&E(e,["categories"],r);const n=b(t,["safetyAttributes","scores"]);n!=null&&E(e,["scores"],n);const i=b(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function tfe(t){const e={},r=b(t,["category"]);if(r!=null&&E(e,["category"],r),b(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=b(t,["threshold"]);return n!=null&&E(e,["threshold"],n),e}function rfe(t){const e={},r=b(t,["image"]);return r!=null&&E(e,["image"],nh(r)),e}function nfe(t,e){const r={},n=b(t,["mode"]);e!==void 0&&n!=null&&E(e,["parameters","mode"],n);const i=b(t,["maxPredictions"]);e!==void 0&&i!=null&&E(e,["parameters","maxPredictions"],i);const s=b(t,["confidenceThreshold"]);e!==void 0&&s!=null&&E(e,["parameters","confidenceThreshold"],s);const a=b(t,["maskDilation"]);e!==void 0&&a!=null&&E(e,["parameters","maskDilation"],a);const o=b(t,["binaryColorThreshold"]);e!==void 0&&o!=null&&E(e,["parameters","binaryColorThreshold"],o);const l=b(t,["labels"]);return e!==void 0&&l!=null&&E(e,["labels"],l),r}function ife(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["source"]);i!=null&&afe(i,r);const s=b(e,["config"]);return s!=null&&nfe(s,r),r}function sfe(t){const e={},r=b(t,["predictions"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>Fhe(i))),E(e,["generatedMasks"],n)}return e}function afe(t,e){const r={},n=b(t,["prompt"]);e!==void 0&&n!=null&&E(e,["instances[0]","prompt"],n);const i=b(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],nh(i));const s=b(t,["scribbleImage"]);return e!==void 0&&s!=null&&E(e,["instances[0]","scribble"],rfe(s)),r}function ofe(t){const e={},r=b(t,["functionCallingConfig"]);r!=null&&E(e,["functionCallingConfig"],che(r));const n=b(t,["retrievalConfig"]);return n!=null&&E(e,["retrievalConfig"],n),e}function lfe(t){const e={},r=b(t,["functionDeclarations"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),E(e,["functionDeclarations"],u)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=b(t,["googleSearchRetrieval"]);n!=null&&E(e,["googleSearchRetrieval"],n);const i=b(t,["computerUse"]);i!=null&&E(e,["computerUse"],i);const s=b(t,["fileSearch"]);s!=null&&E(e,["fileSearch"],s);const a=b(t,["codeExecution"]);if(a!=null&&E(e,["codeExecution"],a),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=b(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],Uhe(o));const l=b(t,["googleSearch"]);l!=null&&E(e,["googleSearch"],Dhe(l));const c=b(t,["urlContext"]);return c!=null&&E(e,["urlContext"],c),e}function OG(t){const e={},r=b(t,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Ahe(p))),E(e,["functionDeclarations"],f)}const n=b(t,["retrieval"]);n!=null&&E(e,["retrieval"],n);const i=b(t,["googleSearchRetrieval"]);i!=null&&E(e,["googleSearchRetrieval"],i);const s=b(t,["computerUse"]);if(s!=null&&E(e,["computerUse"],s),b(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=b(t,["codeExecution"]);a!=null&&E(e,["codeExecution"],a);const o=b(t,["enterpriseWebSearch"]);o!=null&&E(e,["enterpriseWebSearch"],o);const l=b(t,["googleMaps"]);l!=null&&E(e,["googleMaps"],l);const c=b(t,["googleSearch"]);c!=null&&E(e,["googleSearch"],c);const u=b(t,["urlContext"]);return u!=null&&E(e,["urlContext"],u),e}function cfe(t){const e={},r=b(t,["baseModel"]);r!=null&&E(e,["baseModel"],r);const n=b(t,["createTime"]);n!=null&&E(e,["createTime"],n);const i=b(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function Afe(t){const e={},r=b(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&E(e,["baseModel"],r);const n=b(t,["createTime"]);n!=null&&E(e,["createTime"],n);const i=b(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function ufe(t,e){const r={},n=b(t,["displayName"]);e!==void 0&&n!=null&&E(e,["displayName"],n);const i=b(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=b(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),r}function hfe(t,e){const r={},n=b(t,["displayName"]);e!==void 0&&n!=null&&E(e,["displayName"],n);const i=b(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=b(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),r}function ffe(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","name"],ti(t,n));const i=b(e,["config"]);return i!=null&&ufe(i,r),r}function dfe(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["config"]);return i!=null&&hfe(i,r),r}function pfe(t,e){const r={},n=b(t,["outputGcsUri"]);e!==void 0&&n!=null&&E(e,["parameters","storageUri"],n);const i=b(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&E(e,["parameters","safetySetting"],i);const s=b(t,["personGeneration"]);e!==void 0&&s!=null&&E(e,["parameters","personGeneration"],s);const a=b(t,["includeRaiReason"]);e!==void 0&&a!=null&&E(e,["parameters","includeRaiReason"],a);const o=b(t,["outputMimeType"]);e!==void 0&&o!=null&&E(e,["parameters","outputOptions","mimeType"],o);const l=b(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&E(e,["parameters","outputOptions","compressionQuality"],l);const c=b(t,["enhanceInputImage"]);e!==void 0&&c!=null&&E(e,["parameters","upscaleConfig","enhanceInputImage"],c);const u=b(t,["imagePreservationFactor"]);e!==void 0&&u!=null&&E(e,["parameters","upscaleConfig","imagePreservationFactor"],u);const f=b(t,["labels"]);e!==void 0&&f!=null&&E(e,["labels"],f);const p=b(t,["numberOfImages"]);e!==void 0&&p!=null&&E(e,["parameters","sampleCount"],p);const g=b(t,["mode"]);return e!==void 0&&g!=null&&E(e,["parameters","mode"],g),r}function gfe(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["_url","model"],ti(t,n));const i=b(e,["image"]);i!=null&&E(r,["instances[0]","image"],nh(i));const s=b(e,["upscaleFactor"]);s!=null&&E(r,["parameters","upscaleConfig","upscaleFactor"],s);const a=b(e,["config"]);return a!=null&&pfe(a,r),r}function mfe(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>qB(s))),E(e,["generatedImages"],i)}return e}function yfe(t){const e={},r=b(t,["uri"]);r!=null&&E(e,["uri"],r);const n=b(t,["encodedVideo"]);n!=null&&E(e,["videoBytes"],Up(n));const i=b(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function xfe(t){const e={},r=b(t,["gcsUri"]);r!=null&&E(e,["uri"],r);const n=b(t,["bytesBase64Encoded"]);n!=null&&E(e,["videoBytes"],Up(n));const i=b(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function vfe(t){const e={},r=b(t,["image"]);r!=null&&E(e,["_self"],nh(r));const n=b(t,["maskMode"]);return n!=null&&E(e,["maskMode"],n),e}function wfe(t){const e={},r=b(t,["image"]);r!=null&&E(e,["image"],zB(r));const n=b(t,["referenceType"]);return n!=null&&E(e,["referenceType"],n),e}function bfe(t){const e={},r=b(t,["image"]);r!=null&&E(e,["image"],nh(r));const n=b(t,["referenceType"]);return n!=null&&E(e,["referenceType"],n),e}function PG(t){const e={},r=b(t,["uri"]);r!=null&&E(e,["uri"],r);const n=b(t,["videoBytes"]);n!=null&&E(e,["encodedVideo"],Up(n));const i=b(t,["mimeType"]);return i!=null&&E(e,["encoding"],i),e}function HG(t){const e={},r=b(t,["uri"]);r!=null&&E(e,["gcsUri"],r);const n=b(t,["videoBytes"]);n!=null&&E(e,["bytesBase64Encoded"],Up(n));const i=b(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cfe(t,e){const r={},n=b(t,["displayName"]);return e!==void 0&&n!=null&&E(e,["displayName"],n),r}function Sfe(t){const e={},r=b(t,["config"]);return r!=null&&Cfe(r,e),e}function _fe(t,e){const r={},n=b(t,["force"]);return e!==void 0&&n!=null&&E(e,["_query","force"],n),r}function Efe(t){const e={},r=b(t,["name"]);r!=null&&E(e,["_url","name"],r);const n=b(t,["config"]);return n!=null&&_fe(n,e),e}function Bfe(t){const e={},r=b(t,["name"]);return r!=null&&E(e,["_url","name"],r),e}function Tfe(t,e){const r={},n=b(t,["customMetadata"]);if(e!==void 0&&n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>a)),E(e,["customMetadata"],s)}const i=b(t,["chunkingConfig"]);return e!==void 0&&i!=null&&E(e,["chunkingConfig"],i),r}function Nfe(t){const e={},r=b(t,["name"]);r!=null&&E(e,["name"],r);const n=b(t,["metadata"]);n!=null&&E(e,["metadata"],n);const i=b(t,["done"]);i!=null&&E(e,["done"],i);const s=b(t,["error"]);s!=null&&E(e,["error"],s);const a=b(t,["response"]);return a!=null&&E(e,["response"],Ife(a)),e}function Ffe(t){const e={},r=b(t,["fileSearchStoreName"]);r!=null&&E(e,["_url","file_search_store_name"],r);const n=b(t,["fileName"]);n!=null&&E(e,["fileName"],n);const i=b(t,["config"]);return i!=null&&Tfe(i,e),e}function Ife(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["parent"]);n!=null&&E(e,["parent"],n);const i=b(t,["documentName"]);return i!=null&&E(e,["documentName"],i),e}function kfe(t,e){const r={},n=b(t,["pageSize"]);e!==void 0&&n!=null&&E(e,["_query","pageSize"],n);const i=b(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),r}function Lfe(t){const e={},r=b(t,["config"]);return r!=null&&kfe(r,e),e}function Rfe(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=b(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),E(e,["fileSearchStores"],s)}return e}function QG(t,e){const r={},n=b(t,["mimeType"]);e!==void 0&&n!=null&&E(e,["mimeType"],n);const i=b(t,["displayName"]);e!==void 0&&i!=null&&E(e,["displayName"],i);const s=b(t,["customMetadata"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),E(e,["customMetadata"],o)}const a=b(t,["chunkingConfig"]);return e!==void 0&&a!=null&&E(e,["chunkingConfig"],a),r}function Mfe(t){const e={},r=b(t,["fileSearchStoreName"]);r!=null&&E(e,["_url","file_search_store_name"],r);const n=b(t,["config"]);return n!=null&&QG(n,e),e}function Ufe(t){const e={},r=b(t,["sdkHttpResponse"]);return r!=null&&E(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dfe="Content-Type",Ofe="X-Server-Timeout",Pfe="User-Agent",MI="x-goog-api-client",Hfe="1.34.0",Qfe=`google-genai-sdk/${Hfe}`,jfe="v1beta1",Gfe="v1beta";class Vfe{constructor(e){var r,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:jfe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Gfe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,n){const i=[this.getRequestUrlInternal(r)];return n&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,r,n);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,r,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,r){const n=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(r))typeof s=="object"?n[i]=Object.assign(Object.assign({},n[i]),s):s!==void 0&&(n[i]=s);return n}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,r,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,r,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,n,i){if(r&&r.timeout||i){const s=new AbortController,a=s.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const o=setTimeout(()=>s.abort(),r.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=a}return r&&r.extraBody!==null&&$fe(e,r.extraBody),e.headers=await this.getHeadersInternal(r,n),e}async unaryApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await KO(i),new FI(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await KO(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Ku(this,arguments,function*(){var n;const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const o="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:u}=yield tn(i.read());if(c){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(u,{stream:!0});try{const y=JSON.parse(f);if("error"in y){const x=JSON.parse(JSON.stringify(y.error)),w=x.status,S=x.code,B=`got status: ${w}. ${JSON.stringify(y)}`;if(S>=400&&S<600)throw new VB({message:B,status:S})}}catch(y){if(y.name==="ApiError")throw y}a+=f;let p=-1,g=0;for(;;){p=-1,g=0;for(const w of l){const S=a.indexOf(w);S!==-1&&(p===-1||S<p)&&(p=S,g=w.length)}if(p===-1)break;const y=a.substring(0,p);a=a.substring(p+g);const x=y.trim();if(x.startsWith(o)){const w=x.substring(o.length).trim();try{const S=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield tn(new FI(S))}catch(S){throw new Error(`exception parsing stream chunk ${w}. ${S}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},r=Qfe+" "+this.clientOptions.userAgentExtra;return e[Pfe]=r,e[MI]=r,e[Dfe]="application/json",e}async getHeadersInternal(e,r){const n=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))n.append(i,s);e.timeout&&e.timeout>0&&n.append(Ofe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,r),n}getFileName(e){var r;let n="";return typeof e=="string"&&(n=e.replace(/[/\\]+$/,""),n=(r=n.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),n}async uploadFile(e,r){var n;const i={};r!=null&&(i.mimeType=r.mimeType,i.name=r.name,i.displayName=r.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const o=(n=r==null?void 0:r.mimeType)!==null&&n!==void 0?n:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l={file:i},c=this.getFileName(e),u=Kt("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(u,i.sizeBytes,i.mimeType,c,l,r==null?void 0:r.httpOptions);return s.upload(e,f,this)}async uploadFileToFileSearchStore(e,r,n){var i;const s=this.clientOptions.uploader,a=await s.stat(r),o=String(a.size),l=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,u=this.getFileName(r),f={};n!=null&&QG(n,f);const p=await this.fetchUploadUrl(c,o,l,u,f,n==null?void 0:n.httpOptions);return s.uploadToFileSearchStore(r,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r,n,i,s,a){var o;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${n}`},i?{"X-Goog-Upload-File-Name":i}:{})};const c=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(o=c==null?void 0:c.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function KO(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const r=t.status;let n;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?n=await t.json():n={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(n);throw r>=400&&r<600?new VB({message:i,status:r}):new Error(i)}}function $fe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))r=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const c=a[l],u=o[l];c&&typeof c=="object"&&!Array.isArray(c)&&u&&typeof u=="object"&&!Array.isArray(u)?o[l]=n(u,c):(u&&c&&typeof u!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof u}, New type: ${typeof c}. Overwriting.`),o[l]=c)}return o}const i=n(r,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qfe="mcp_used/unknown";let zfe=!1;function jG(t){for(const e of t)if(Kfe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return zfe}function GG(t){var e;const r=(e=t[MI])!==null&&e!==void 0?e:"";t[MI]=(r+` ${qfe}`).trimStart()}function Kfe(t){return t!==null&&typeof t=="object"&&t instanceof _L}function Wfe(t){return Ku(this,arguments,function*(r,n=100){let i,s=0;for(;s<n;){const a=yield tn(r.listTools({cursor:i}));for(const o of a.tools)yield yield tn(o),s++;if(!a.nextCursor)break;i=a.nextCursor}})}class _L{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new _L(e,r)}async initialize(){var e,r,n,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const u of this.mcpClients)try{for(var o=!0,l=(r=void 0,Wu(Wfe(u))),c;c=await l.next(),e=c.done,!e;o=!0){i=c.value,o=!1;const f=i;a.push(f);const p=f.name;if(s[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);s[p]=u}}catch(f){r={error:f}}finally{try{!o&&!e&&(n=l.return)&&await n.call(l)}finally{if(r)throw r.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),Bce(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[n.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:n.name,arguments:n.args},void 0,s);r.push({functionResponse:{name:n.name,response:a.isError?{error:a}:a}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Yfe(t,e,r){const n=new xce;let i;r.data instanceof Blob?i=JSON.parse(await r.data.text()):i=JSON.parse(r.data),Object.assign(n,i),e(n)}class Xfe{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n}async connect(e){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=ede(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const u=new Promise(F=>{c=F}),f=e.callbacks,p=function(){c({})},g=this.apiClient,y={onopen:p,onmessage:F=>{Yfe(g,f.onmessage,F)},onerror:(r=f==null?void 0:f.onerror)!==null&&r!==void 0?r:function(F){},onclose:(n=f==null?void 0:f.onclose)!==null&&n!==void 0?n:function(F){}},x=this.webSocketFactory.create(l,Zfe(a),y);x.connect(),await u;const B={setup:{model:ti(this.apiClient,e.model)}};return x.send(JSON.stringify(B)),new Jfe(x,this.apiClient)}}class Jfe{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=Sue(e);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=Cue(e);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const r={playbackControl:e};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Z1.PLAY)}pause(){this.sendPlaybackControl(Z1.PAUSE)}stop(){this.sendPlaybackControl(Z1.STOP)}resetContext(){this.sendPlaybackControl(Z1.RESET_CONTEXT)}close(){this.conn.close()}}function Zfe(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function ede(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tde="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function rde(t,e,r){const n=new yce;let i;r.data instanceof Blob?i=await r.data.text():r.data instanceof ArrayBuffer?i=new TextDecoder().decode(r.data):i=r.data;const s=JSON.parse(i);if(t.isVertexAI()){const a=Bue(s);Object.assign(n,a)}else Object.assign(n,s);e(n)}class nde{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n,this.music=new Xfe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,n,i,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let u;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&jG(e.config.tools)&&GG(f);const p=ode(f);if(this.apiClient.isVertexAI())u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,u);else{const V=this.apiClient.getApiKey();let re="BidiGenerateContent",P="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),re="BidiGenerateContentConstrained",P="access_token"),u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${re}?${P}=${V}`}let g=()=>{};const y=new Promise(V=>{g=V}),x=e.callbacks,w=function(){var V;(V=x==null?void 0:x.onopen)===null||V===void 0||V.call(x),g({})},S=this.apiClient,B={onopen:w,onmessage:V=>{rde(S,x.onmessage,V)},onerror:(r=x==null?void 0:x.onerror)!==null&&r!==void 0?r:function(V){},onclose:(n=x==null?void 0:x.onclose)!==null&&n!==void 0?n:function(V){}},F=this.webSocketFactory.create(u,ade(p),B);F.connect(),await y;let k=ti(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const V=this.apiClient.getProject(),re=this.apiClient.getLocation();k=`projects/${V}/locations/${re}/`+k}let O={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[X_.AUDIO]}:e.config.responseModalities=[X_.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],D=[];for(const V of R)if(this.isCallableTool(V)){const re=V;D.push(await re.tool())}else D.push(V);D.length>0&&(e.config.tools=D);const Q={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?O=bue(this.apiClient,Q):O=wue(this.apiClient,Q),delete O.config,F.send(JSON.stringify(O)),new sde(F,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ide={turnComplete:!0};class sde{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=$A(r.turns),e.isVertexAI()||(n=n.map(i=>$B(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const s of n){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(tde)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},ide),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:Eue(e)}:r={realtimeInput:_ue(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function ade(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function ode(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WO=10;function YO(t){var e,r,n;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(hy(a)){i=!0;break}if(!i)return!0;const s=(n=t==null?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function hy(t){return"callTool"in t&&typeof t.callTool=="function"}function lde(t){var e,r,n;return(n=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(i=>hy(i)))!==null&&n!==void 0?n:!1}function XO(t){var e;const r=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((n,i)=>{if(hy(n))return;const s=n;s.functionDeclarations&&s.functionDeclarations.length>0&&r.push(i)}),r}function JO(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cde extends Yd{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var n,i,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!lde(r)||YO(r.config))return await this.generateContentInternal(l);const c=XO(r);if(c.length>0){const x=c.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${x}.`)}let u,f;const p=$A(l.contents),g=(s=(i=(n=l.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:WO;let y=0;for(;y<g&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){const x=u.candidates[0].content,w=[];for(const S of(o=(a=r.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(hy(S)){const F=await S.callTool(u.functionCalls);w.push(...F)}y++,f={role:"user",parts:w},l.contents=$A(l.contents),l.contents.push(x),l.contents.push(f),JO(l.config)&&(p.push(x),p.push(f))}return JO(l.config)&&(u.automaticFunctionCallingHistory=p),u},this.generateContentStream=async r=>{var n,i,s,a,o;if(this.maybeMoveToResponseJsonSchem(r),YO(r.config)){const f=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(f)}const l=XO(r);if(l.length>0){const f=l.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(s=(i=(n=r==null?void 0:r.config)===null||n===void 0?void 0:n.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,u=(o=(a=r==null?void 0:r.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(c&&!u)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var i;let s;const a=[];if(n!=null&&n.generatedImages)for(const l of n.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:n.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:n.sdkHttpResponse},o}),this.list=async r=>{var n;const a={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((n=a.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Qm(Qd.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const i={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(i)},this.generateVideos=async r=>{var n,i,s,a,o,l;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((n=r.video)===null||n===void 0)&&n.uri&&(!((i=r.video)===null||i===void 0)&&i.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((a=(s=r.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((l=(o=r.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,n,i;const s=(r=e.config)===null||r===void 0?void 0:r.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>hy(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&jG(e.config.tools)){const l=(i=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),GG(c),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(e){var r,n,i;const s=new Map;for(const a of(n=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(hy(a)){const o=a,l=await o.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,o)}}return s}async processAfcStream(e){var r,n,i;const s=(i=(n=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:WO;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(c,u,f){return Ku(this,arguments,function*(){for(var p,g,y,x,w,S;o<s;){a&&(o++,a=!1);const O=yield tn(c.processParamsMaybeAddMcpUsage(f)),R=yield tn(c.generateContentStreamInternal(O)),D=[],Q=[];try{for(var B=!0,F=(g=void 0,Wu(R)),k;k=yield tn(F.next()),p=k.done,!p;B=!0){x=k.value,B=!1;const V=x;if(yield yield tn(V),V.candidates&&(!((w=V.candidates[0])===null||w===void 0)&&w.content)){Q.push(V.candidates[0].content);for(const re of(S=V.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(o<s&&re.functionCall){if(!re.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(re.functionCall.name)){const P=yield tn(u.get(re.functionCall.name).callTool([re.functionCall]));D.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${re.functionCall.name}`)}}}}catch(V){g={error:V}}finally{try{!B&&!p&&(y=F.return)&&(yield tn(y.call(F)))}finally{if(g)throw g.error}}if(D.length>0){a=!0;const V=new Qv;V.candidates=[{content:{role:"user",parts:D}}],yield yield tn(V);const re=[];re.push(...Q),re.push({role:"user",parts:D});const P=$A(f.contents).concat(re);f.contents=P}else break}})})(this,l,e)}async generateContentInternal(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=$O(this.apiClient,e);return o=Kt("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=zO(u),p=new Qv;return Object.assign(p,f),p})}else{const c=VO(this.apiClient,e);return o=Kt("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=qO(u),p=new Qv;return Object.assign(p,f),p})}}async generateContentStreamInternal(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=$O(this.apiClient,e);return o=Kt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),a.then(function(f){return Ku(this,arguments,function*(){var p,g,y,x;try{for(var w=!0,S=Wu(f),B;B=yield tn(S.next()),p=B.done,!p;w=!0){x=B.value,w=!1;const F=x,k=zO(yield tn(F.json()));k.sdkHttpResponse={headers:F.headers};const O=new Qv;Object.assign(O,k),yield yield tn(O)}}catch(F){g={error:F}}finally{try{!w&&!p&&(y=S.return)&&(yield tn(y.call(S)))}finally{if(g)throw g.error}}})})}else{const c=VO(this.apiClient,e);return o=Kt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(f){return Ku(this,arguments,function*(){var p,g,y,x;try{for(var w=!0,S=Wu(f),B;B=yield tn(S.next()),p=B.done,!p;w=!0){x=B.value,w=!1;const F=x,k=qO(yield tn(F.json()));k.sdkHttpResponse={headers:F.headers};const O=new Qv;Object.assign(O,k),yield yield tn(O)}}catch(F){g={error:F}}finally{try{!w&&!p&&(y=S.return)&&(yield tn(y.call(S)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=nhe(this.apiClient,e);return o=Kt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=she(u),p=new BO;return Object.assign(p,f),p})}else{const c=rhe(this.apiClient,e);return o=Kt("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=ihe(u),p=new BO;return Object.assign(p,f),p})}}async generateImagesInternal(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=ghe(this.apiClient,e);return o=Kt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=yhe(u),p=new TO;return Object.assign(p,f),p})}else{const c=phe(this.apiClient,e);return o=Kt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=mhe(u),p=new TO;return Object.assign(p,f),p})}}async editImageInternal(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Jue(this.apiClient,e);return s=Kt("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=Zue(l),u=new oce;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=gfe(this.apiClient,e);return s=Kt("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=mfe(l),u=new lce;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Xhe(this.apiClient,e);return s=Kt("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Jhe(l),u=new cce;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=ife(this.apiClient,e);return s=Kt("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=sfe(l),u=new Ace;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Mhe(this.apiClient,e);return o=Kt("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>RI(u))}else{const c=Rhe(this.apiClient,e);return o=Kt("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>LI(u))}}async listInternal(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Vhe(this.apiClient,e);return o=Kt("{models_url}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=qhe(u),p=new NO;return Object.assign(p,f),p})}else{const c=Ghe(this.apiClient,e);return o=Kt("{models_url}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=$he(u),p=new NO;return Object.assign(p,f),p})}}async update(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=dfe(this.apiClient,e);return o=Kt("{model}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>RI(u))}else{const c=ffe(this.apiClient,e);return o=Kt("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>LI(u))}}async delete(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Kue(this.apiClient,e);return o=Kt("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=Yue(u),p=new FO;return Object.assign(p,f),p})}else{const c=zue(this.apiClient,e);return o=Kt("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=Wue(u),p=new FO;return Object.assign(p,f),p})}}async countTokens(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Vue(this.apiClient,e);return o=Kt("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=que(u),p=new IO;return Object.assign(p,f),p})}else{const c=Gue(this.apiClient,e);return o=Kt("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=$ue(u),p=new IO;return Object.assign(p,f),p})}}async computeTokens(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Uue(this.apiClient,e);return s=Kt("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=Due(l),u=new uce;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=She(this.apiClient,e);return o=Kt("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const f=bhe(u),p=new J_;return Object.assign(p,f),p})}else{const c=Che(this.apiClient,e);return o=Kt("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>{const f=whe(u),p=new J_;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ade extends Yd{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let s;n&&"httpOptions"in n&&(s=n.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:s}});return r._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let s;n&&"httpOptions"in n&&(s=n.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:s}});return r._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=tce(e);return o=Kt("{operationName}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a}else{const c=ece(e);return o=Kt("{operationName}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a}}async fetchPredictVideosOperationInternal(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=zle(e);return s=Kt("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ude(t){const e={},r=b(t,["data"]);if(r!=null&&E(e,["data"],r),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function hde(t){const e={},r=b(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>wde(s))),E(e,["parts"],i)}const n=b(t,["role"]);return n!=null&&E(e,["role"],n),e}function fde(t,e,r){const n={},i=b(e,["expireTime"]);r!==void 0&&i!=null&&E(r,["expireTime"],i);const s=b(e,["newSessionExpireTime"]);r!==void 0&&s!=null&&E(r,["newSessionExpireTime"],s);const a=b(e,["uses"]);r!==void 0&&a!=null&&E(r,["uses"],a);const o=b(e,["liveConnectConstraints"]);r!==void 0&&o!=null&&E(r,["bidiGenerateContentSetup"],vde(t,o));const l=b(e,["lockAdditionalFields"]);return r!==void 0&&l!=null&&E(r,["fieldMask"],l),n}function dde(t,e){const r={},n=b(e,["config"]);return n!=null&&E(r,["config"],fde(t,n,r)),r}function pde(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const n=b(t,["mimeType"]);return n!=null&&E(e,["mimeType"],n),e}function gde(t){const e={},r=b(t,["id"]);r!=null&&E(e,["id"],r);const n=b(t,["args"]);n!=null&&E(e,["args"],n);const i=b(t,["name"]);if(i!=null&&E(e,["name"],i),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function mde(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=b(t,["enableWidget"]);return r!=null&&E(e,["enableWidget"],r),e}function yde(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=b(t,["timeRangeFilter"]);return r!=null&&E(e,["timeRangeFilter"],r),e}function xde(t,e){const r={},n=b(t,["generationConfig"]);e!==void 0&&n!=null&&E(e,["setup","generationConfig"],n);const i=b(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=b(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=b(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=b(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=b(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=b(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=b(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=b(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],SL(f));const p=b(t,["thinkingConfig"]);e!==void 0&&p!=null&&E(e,["setup","generationConfig","thinkingConfig"],p);const g=b(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=b(t,["systemInstruction"]);e!==void 0&&y!=null&&E(e,["setup","systemInstruction"],hde(cl(y)));const x=b(t,["tools"]);if(e!==void 0&&x!=null){let R=Qx(x);Array.isArray(R)&&(R=R.map(D=>Cde(Hx(D)))),E(e,["setup","tools"],R)}const w=b(t,["sessionResumption"]);e!==void 0&&w!=null&&E(e,["setup","sessionResumption"],bde(w));const S=b(t,["inputAudioTranscription"]);e!==void 0&&S!=null&&E(e,["setup","inputAudioTranscription"],S);const B=b(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&E(e,["setup","outputAudioTranscription"],B);const F=b(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&E(e,["setup","realtimeInputConfig"],F);const k=b(t,["contextWindowCompression"]);e!==void 0&&k!=null&&E(e,["setup","contextWindowCompression"],k);const O=b(t,["proactivity"]);if(e!==void 0&&O!=null&&E(e,["setup","proactivity"],O),b(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function vde(t,e){const r={},n=b(e,["model"]);n!=null&&E(r,["setup","model"],ti(t,n));const i=b(e,["config"]);return i!=null&&E(r,["config"],xde(i,r)),r}function wde(t){const e={},r=b(t,["mediaResolution"]);r!=null&&E(e,["mediaResolution"],r);const n=b(t,["codeExecutionResult"]);n!=null&&E(e,["codeExecutionResult"],n);const i=b(t,["executableCode"]);i!=null&&E(e,["executableCode"],i);const s=b(t,["fileData"]);s!=null&&E(e,["fileData"],pde(s));const a=b(t,["functionCall"]);a!=null&&E(e,["functionCall"],gde(a));const o=b(t,["functionResponse"]);o!=null&&E(e,["functionResponse"],o);const l=b(t,["inlineData"]);l!=null&&E(e,["inlineData"],ude(l));const c=b(t,["text"]);c!=null&&E(e,["text"],c);const u=b(t,["thought"]);u!=null&&E(e,["thought"],u);const f=b(t,["thoughtSignature"]);f!=null&&E(e,["thoughtSignature"],f);const p=b(t,["videoMetadata"]);return p!=null&&E(e,["videoMetadata"],p),e}function bde(t){const e={},r=b(t,["handle"]);if(r!=null&&E(e,["handle"],r),b(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Cde(t){const e={},r=b(t,["functionDeclarations"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),E(e,["functionDeclarations"],u)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=b(t,["googleSearchRetrieval"]);n!=null&&E(e,["googleSearchRetrieval"],n);const i=b(t,["computerUse"]);i!=null&&E(e,["computerUse"],i);const s=b(t,["fileSearch"]);s!=null&&E(e,["fileSearch"],s);const a=b(t,["codeExecution"]);if(a!=null&&E(e,["codeExecution"],a),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=b(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],mde(o));const l=b(t,["googleSearch"]);l!=null&&E(e,["googleSearch"],yde(l));const c=b(t,["urlContext"]);return c!=null&&E(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sde(t){const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const n=t[r];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const i=Object.keys(n).map(s=>`${r}.${s}`);e.push(...i)}else e.push(r)}return e.join(",")}function _de(t,e){let r=null;const n=t.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const s=n.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,r=s):delete t.bidiGenerateContentSetup}else n!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(r){const s=Sde(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(c=>a.includes(c)?`generationConfig.${c}`:c));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Ede extends Yd{constructor(e){super(),this.apiClient=e}async create(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=dde(this.apiClient,e);s=Kt("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=_de(o,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bde(t,e){const r={},n=b(t,["force"]);return e!==void 0&&n!=null&&E(e,["_query","force"],n),r}function Tde(t){const e={},r=b(t,["name"]);r!=null&&E(e,["_url","name"],r);const n=b(t,["config"]);return n!=null&&Bde(n,e),e}function Nde(t){const e={},r=b(t,["name"]);return r!=null&&E(e,["_url","name"],r),e}function Fde(t,e){const r={},n=b(t,["pageSize"]);e!==void 0&&n!=null&&E(e,["_query","pageSize"],n);const i=b(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),r}function Ide(t){const e={},r=b(t,["parent"]);r!=null&&E(e,["_url","parent"],r);const n=b(t,["config"]);return n!=null&&Fde(n,e),e}function kde(t){const e={},r=b(t,["sdkHttpResponse"]);r!=null&&E(e,["sdkHttpResponse"],r);const n=b(t,["nextPageToken"]);n!=null&&E(e,["nextPageToken"],n);const i=b(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),E(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lde extends Yd{constructor(e){super(),this.apiClient=e,this.list=async r=>new Qm(Qd.PAGED_ITEM_DOCUMENTS,n=>this.listInternal({parent:r.parent,config:n.config}),await this.listInternal(r),r)}async get(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Nde(e);return s=Kt("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var r,n;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Tde(e);i=Kt("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ide(e);return s=Kt("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=kde(l),u=new hce;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rde extends Yd{constructor(e,r=new Lde(e)){super(),this.apiClient=e,this.documents=r,this.list=async(n={})=>new Qm(Qd.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(n),n)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Sfe(e);return s=Kt("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Bfe(e);return s=Kt("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var r,n;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Efe(e);i=Kt("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Lfe(e);return s=Kt("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Rfe(l),u=new fce;return Object.assign(u,c),u})}}async uploadToFileSearchStoreInternal(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Mfe(e);return s=Kt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Ufe(l),u=new dce;return Object.assign(u,c),u})}}async importFile(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ffe(e);return s=Kt("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Nfe(l),u=new xL;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let VG=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return VG=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),r=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};const Mde=()=>VG();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UI(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const DI=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qA extends Error{}class zl extends qA{constructor(e,r,n,i){super(`${zl.makeMessage(e,r,n)}`),this.status=e,this.headers=i,this.error=r}static makeMessage(e,r,n){const i=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,r,n,i){if(!e||!i)return new KB({message:n,cause:DI(r)});const s=r;return e===400?new qG(e,s,n,i):e===401?new zG(e,s,n,i):e===403?new KG(e,s,n,i):e===404?new WG(e,s,n,i):e===409?new YG(e,s,n,i):e===422?new XG(e,s,n,i):e===429?new JG(e,s,n,i):e>=500?new ZG(e,s,n,i):new zl(e,s,n,i)}}class OI extends zl{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class KB extends zl{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}}class $G extends KB{constructor({message:e}={}){super({message:e??"Request timed out."})}}class qG extends zl{}class zG extends zl{}class KG extends zl{}class WG extends zl{}class YG extends zl{}class XG extends zl{}class JG extends zl{}class ZG extends zl{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ude=/^[a-z][a-z0-9+.-]*:/i,Dde=t=>Ude.test(t);let PI=t=>(PI=Array.isArray,PI(t));const Ode=PI;let Pde=Ode;const ZO=Pde;function Hde(t){if(!t)return!0;for(const e in t)return!1;return!0}function Qde(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const jde=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new qA(`${t} must be an integer`);if(e<0)throw new qA(`${t} must be a positive integer`);return e},Gde=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vde=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z1="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $de(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const qde=()=>{var t,e,r,n,i;const s=$de();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":z1,"X-Stainless-OS":tP(Deno.build.os),"X-Stainless-Arch":eP(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":z1,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":z1,"X-Stainless-OS":tP((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":eP((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=zde();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":z1,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":z1,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function zde(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:r}of t){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,s=n[2]||0,a=n[3]||0;return{browser:e,version:`${i}.${s}.${a}`}}}return null}const eP=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",tP=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let r5;const Kde=()=>r5??(r5=qde());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wde(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function eV(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Yde(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return eV({start(){},async pull(r){const{done:n,value:i}=await e.next();n?r.close():r.enqueue(i)},async cancel(){var r;await((r=e.return)===null||r===void 0?void 0:r.call(e))}})}function tV(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const r=await e.read();return r!=null&&r.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){const r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Xde(t){var e,r;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((r=(e=t[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(e));return}const n=t.getReader(),i=n.cancel();n.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jde=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rV=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,r=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function K3(t,e,r){return rV(),new File(t,e??"unknown_file",r)}function Zde(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const e0e=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nV=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",t0e=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&nV(t),r0e=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function n0e(t,e,r){if(rV(),t=await t,t0e(t))return t instanceof File?t:K3([await t.arrayBuffer()],t.name);if(r0e(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),K3(await HI(i),e,r)}const n=await HI(t);if(e||(e=Zde(t)),!(r!=null&&r.type)){const i=n.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(r=Object.assign(Object.assign({},r),{type:i}))}return K3(n,e,r)}async function HI(t){var e,r,n,i,s;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(nV(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(e0e(t))try{for(var o=!0,l=Wu(t),c;c=await l.next(),e=c.done,!e;o=!0){i=c.value,o=!1;const u=i;a.push(...await HI(u))}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=l.return)&&await n.call(l)}finally{if(r)throw r.error}}else{const u=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${u?`; constructor: ${u}`:""}${i0e(t)}`)}return a}function i0e(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iV{constructor(e){this._client=e}}iV._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sV(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const rP=Object.freeze(Object.create(null)),s0e=(t=sV)=>(function(r,...n){if(r.length===1)return r[0];let i=!1;const s=[],a=r.reduce((u,f,p)=>{var g,y,x;/[?#]/.test(f)&&(i=!0);const w=n[p];let S=(i?encodeURIComponent:t)(""+w);return p!==n.length&&(w==null||typeof w=="object"&&w.toString===((x=Object.getPrototypeOf((y=Object.getPrototypeOf((g=w.hasOwnProperty)!==null&&g!==void 0?g:rP))!==null&&y!==void 0?y:rP))===null||x===void 0?void 0:x.toString))&&(S=w+"",s.push({start:u.length+f.length,length:S.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),u+f+(p===n.length?"":S)},""),o=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(o))!==null;)s.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(s.sort((u,f)=>u.start-f.start),s.length>0){let u=0;const f=s.reduce((p,g)=>{const y=" ".repeat(g.start-u),x="^".repeat(g.length);return u=g.start+g.length,p+y+x},"");throw new qA(`Path parameters result in path with invalid segments:
${s.map(p=>p.error).join(`
`)}
${a}
${f}`)}return a}),n5=s0e(sV);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aV extends iV{create(e,r){var n;const{api_version:i=this._client.apiVersion}=e,s=eE(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new qA("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new qA("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(n5`/${i}/interactions`,Object.assign(Object.assign({body:s},r),{stream:(n=e.stream)!==null&&n!==void 0?n:!1}))}delete(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.delete(n5`/${i}/interactions/${e}`,n)}cancel(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.post(n5`/${i}/interactions/${e}/cancel`,n)}get(e,r={},n){var i;const s=r??{},{api_version:a=this._client.apiVersion}=s,o=eE(s,["api_version"]);return this._client.get(n5`/${a}/interactions/${e}`,Object.assign(Object.assign({query:o},n),{stream:(i=r==null?void 0:r.stream)!==null&&i!==void 0?i:!1}))}}aV._key=Object.freeze(["interactions"]);class oV extends aV{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a0e(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}let i5;function EL(t){let e;return(i5??(e=new globalThis.TextEncoder,i5=e.encode.bind(e)))(t)}let s5;function nP(t){let e;return(s5??(e=new globalThis.TextDecoder,s5=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WB{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?EL(e):e;this.buffer=a0e([this.buffer,r]);const n=[];let i;for(;(i=o0e(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){n.push(nP(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=nP(this.buffer.subarray(0,s));n.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}WB.NEWLINE_CHARS=new Set([`
`,"\r"]);WB.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function o0e(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function l0e(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tE={off:0,error:200,warn:300,info:400,debug:500},iP=(t,e,r)=>{if(t){if(Qde(tE,t))return t;Ul(r).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(tE))}`)}};function E2(){}function a5(t,e,r){return!e||tE[t]>tE[r]?E2:e[t].bind(e)}const c0e={error:E2,warn:E2,info:E2,debug:E2};let sP=new WeakMap;function Ul(t){var e;const r=t.logger,n=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!r)return c0e;const i=sP.get(r);if(i&&i[0]===n)return i[1];const s={error:a5("error",r,n),warn:a5("warn",r,n),info:a5("info",r,n),debug:a5("debug",r,n)};return sP.set(r,[n,s]),s}const rg=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,r])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ey{constructor(e,r,n){this.iterator=e,this.controller=r,this.client=n}static fromSSEResponse(e,r,n){let i=!1;const s=n?Ul(n):console;function a(){return Ku(this,arguments,function*(){var l,c,u,f;if(i)throw new qA("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let p=!1;try{try{for(var g=!0,y=Wu(A0e(e,r)),x;x=yield tn(y.next()),l=x.done,!l;g=!0){f=x.value,g=!1;const w=f;if(!p)if(w.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield tn(JSON.parse(w.data))}catch(S){throw s.error("Could not parse message into JSON:",w.data),s.error("From chunk:",w.raw),S}}}catch(w){c={error:w}}finally{try{!g&&!l&&(u=y.return)&&(yield tn(u.call(y)))}finally{if(c)throw c.error}}p=!0}catch(w){if(UI(w))return yield tn(void 0);throw w}finally{p||r.abort()}})}return new ey(a,r,n)}static fromReadableStream(e,r,n){let i=!1;function s(){return Ku(this,arguments,function*(){var l,c,u,f;const p=new WB,g=tV(e);try{for(var y=!0,x=Wu(g),w;w=yield tn(x.next()),l=w.done,!l;y=!0){f=w.value,y=!1;const S=f;for(const B of p.decode(S))yield yield tn(B)}}catch(S){c={error:S}}finally{try{!y&&!l&&(u=x.return)&&(yield tn(u.call(x)))}finally{if(c)throw c.error}}for(const S of p.flush())yield yield tn(S)})}function a(){return Ku(this,arguments,function*(){var l,c,u,f;if(i)throw new qA("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let p=!1;try{try{for(var g=!0,y=Wu(s()),x;x=yield tn(y.next()),l=x.done,!l;g=!0){f=x.value,g=!1;const w=f;p||w&&(yield yield tn(JSON.parse(w)))}}catch(w){c={error:w}}finally{try{!g&&!l&&(u=y.return)&&(yield tn(u.call(y)))}finally{if(c)throw c.error}}p=!0}catch(w){if(UI(w))return yield tn(void 0);throw w}finally{p||r.abort()}})}return new ey(a,r,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],r=[],n=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=n.next();e.push(a),r.push(a)}return s.shift()}});return[new ey(()=>i(e),this.controller,this.client),new ey(()=>i(r),this.controller,this.client)]}toReadableStream(){const e=this;let r;return eV({async start(){r=e[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:s}=await r.next();if(s)return n.close();const a=EL(JSON.stringify(i)+`
`);n.enqueue(a)}catch(i){n.error(i)}},async cancel(){var n;await((n=r.return)===null||n===void 0?void 0:n.call(r))}})}}function A0e(t,e){return Ku(this,arguments,function*(){var n,i,s,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new qA("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new qA("Attempted to iterate over a response with no body");const o=new h0e,l=new WB,c=tV(t.body);try{for(var u=!0,f=Wu(u0e(c)),p;p=yield tn(f.next()),n=p.done,!n;u=!0){a=p.value,u=!1;const g=a;for(const y of l.decode(g)){const x=o.decode(y);x&&(yield yield tn(x))}}}catch(g){i={error:g}}finally{try{!u&&!n&&(s=f.return)&&(yield tn(s.call(f)))}finally{if(i)throw i.error}}for(const g of l.flush()){const y=o.decode(g);y&&(yield yield tn(y))}})}function u0e(t){return Ku(this,arguments,function*(){var r,n,i,s;let a=new Uint8Array;try{for(var o=!0,l=Wu(t),c;c=yield tn(l.next()),r=c.done,!r;o=!0){s=c.value,o=!1;const u=s;if(u==null)continue;const f=u instanceof ArrayBuffer?new Uint8Array(u):typeof u=="string"?EL(u):u;let p=new Uint8Array(a.length+f.length);p.set(a),p.set(f,a.length),a=p;let g;for(;(g=l0e(a))!==-1;)yield yield tn(a.slice(0,g)),a=a.slice(g)}}catch(u){n={error:u}}finally{try{!o&&!r&&(i=l.return)&&(yield tn(i.call(l)))}finally{if(n)throw n.error}}a.length>0&&(yield yield tn(a))})}class h0e{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,i]=f0e(e,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function f0e(t,e){const r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function d0e(t,e){const{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:s}=e,a=await(async()=>{var o;if(e.options.stream)return Ul(t).debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller,t):ey.fromSSEResponse(r,e.controller,t);if(r.status===204)return null;if(e.options.__binaryResponse)return r;const l=r.headers.get("content-type"),c=(o=l==null?void 0:l.split(";")[0])===null||o===void 0?void 0:o.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?await r.json():await r.text()})();return Ul(t).debug(`[${n}] response parsed`,rg({retryOfRequestLogID:i,url:r.url,status:r.status,body:a,durationMs:Date.now()-s})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BL extends Promise{constructor(e,r,n=d0e){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new BL(this.client,this.responsePromise,async(r,n)=>e(await this.parseResponse(r,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lV=Symbol("brand.privateNullableHeaders");function*p0e(t){if(!t)return;if(lV in t){const{values:n,nulls:i}=t;yield*n.entries();for(const s of i)yield[s,null];return}let e=!1,r;t instanceof Headers?r=t.entries():ZO(t)?r=t:(e=!0,r=Object.entries(t??{}));for(let n of r){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=ZO(n[1])?n[1]:[n[1]];let a=!1;for(const o of s)o!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,o])}}const jv=t=>{const e=new Headers,r=new Set;for(const n of t){const i=new Set;for(const[s,a]of p0e(n)){const o=s.toLowerCase();i.has(o)||(e.delete(s),i.add(o)),a===null?(e.delete(s),r.add(o)):(e.append(s,a),r.delete(o))}}return{[lV]:!0,values:e,nulls:r}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W3=t=>{var e,r,n,i,s,a;if(typeof globalThis.process<"u")return(n=(r=(e=Qle)===null||e===void 0?void 0:e[t])===null||r===void 0?void 0:r.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(a=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var cV;class YB{constructor(e){var r,n,i,s,a,o,l,{baseURL:c=W3("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:u=(r=W3("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:f="v1beta"}=e,p=eE(e,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:u,apiVersion:f},p),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(n=g.timeout)!==null&&n!==void 0?n:YB.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const y="warn";this.logLevel=y,this.logLevel=(a=(s=iP(g.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:iP(W3("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:y,this.fetchOptions=g.fetchOptions,this.maxRetries=(o=g.maxRetries)!==null&&o!==void 0?o:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:Wde(),this.encoder=Jde,this._options=g,this.apiKey=u,this.apiVersion=f,this.clientAdapter=g.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:r}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const r=jv([e.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return jv([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return jv([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new qA(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${z1}`}defaultIdempotencyKey(){return`stainless-node-retry-${Mde()}`}makeStatusError(e,r,n,i){return zl.generate(e,r,n,i)}buildURL(e,r,n){const i=!this.baseURLOverridden()&&n||this.baseURL,s=Dde(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return Hde(a)||(r=Object.assign(Object.assign({},a),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(s.search=this.stringifyQuery(r)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const r=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(e,{url:r,options:n}){}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(i=>Object.assign({method:e,path:r},i)))}request(e,r=null){return new BL(this,this.makeRequest(e,r,void 0))}async makeRequest(e,r,n){var i,s,a;const o=await e,l=(i=o.maxRetries)!==null&&i!==void 0?i:this.maxRetries;r==null&&(r=l),await this.prepareOptions(o);const{req:c,url:u,timeout:f}=await this.buildRequest(o,{retryCount:l-r});await this.prepareRequest(c,{url:u,options:o});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=n===void 0?"":`, retryOf: ${n}`,y=Date.now();if(Ul(this).debug(`[${p}] sending request`,rg({retryOfRequestLogID:n,method:o.method,url:u,options:o,headers:c.headers})),!((s=o.signal)===null||s===void 0)&&s.aborted)throw new OI;const x=new AbortController,w=await this.fetchWithTimeout(u,c,f,x).catch(DI),S=Date.now();if(w instanceof globalThis.Error){const F=`retrying, ${r} attempts remaining`;if(!((a=o.signal)===null||a===void 0)&&a.aborted)throw new OI;const k=UI(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(r)return Ul(this).info(`[${p}] connection ${k?"timed out":"failed"} - ${F}`),Ul(this).debug(`[${p}] connection ${k?"timed out":"failed"} (${F})`,rg({retryOfRequestLogID:n,url:u,durationMs:S-y,message:w.message})),this.retryRequest(o,r,n??p);throw Ul(this).info(`[${p}] connection ${k?"timed out":"failed"} - error; no more retries left`),Ul(this).debug(`[${p}] connection ${k?"timed out":"failed"} (error; no more retries left)`,rg({retryOfRequestLogID:n,url:u,durationMs:S-y,message:w.message})),k?new $G:new KB({cause:w})}const B=`[${p}${g}] ${c.method} ${u} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${S-y}ms`;if(!w.ok){const F=await this.shouldRetry(w);if(r&&F){const V=`retrying, ${r} attempts remaining`;return await Xde(w.body),Ul(this).info(`${B} - ${V}`),Ul(this).debug(`[${p}] response error (${V})`,rg({retryOfRequestLogID:n,url:w.url,status:w.status,headers:w.headers,durationMs:S-y})),this.retryRequest(o,r,n??p,w.headers)}const k=F?"error; no more retries left":"error; not retryable";Ul(this).info(`${B} - ${k}`);const O=await w.text().catch(V=>DI(V).message),R=Gde(O),D=R?void 0:O;throw Ul(this).debug(`[${p}] response error (${k})`,rg({retryOfRequestLogID:n,url:w.url,status:w.status,headers:w.headers,message:D,durationMs:Date.now()-y})),this.makeStatusError(w.status,R,D,w.headers)}return Ul(this).info(B),Ul(this).debug(`[${p}] response start`,rg({retryOfRequestLogID:n,url:w.url,status:w.status,headers:w.headers,durationMs:S-y})),{response:w,options:o,controller:x,requestLogID:p,retryOfRequestLogID:n,startTime:y}}async fetchWithTimeout(e,r,n,i){const s=r||{},{signal:a,method:o}=s,l=eE(s,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const c=setTimeout(()=>i.abort(),n),u=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},u?{duplex:"half"}:{}),{method:"GET"}),l);o&&(f.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(c)}}async shouldRetry(e){const r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n,i){var s;let a;const o=i==null?void 0:i.get("retry-after-ms");if(o){const c=parseFloat(o);Number.isNaN(c)||(a=c)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const c=parseFloat(l);Number.isNaN(c)?a=Date.parse(l)-Date.now():a=c*1e3}if(!(a&&0<=a&&a<60*1e3)){const c=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(r,c)}return await Vde(a),this.makeRequest(e,r-1,n)}calculateDefaultRetryTimeoutMillis(e,r){const s=r-e,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}async buildRequest(e,{retryCount:r=0}={}){var n,i,s;const a=Object.assign({},e),{method:o,path:l,query:c,defaultBaseURL:u}=a,f=this.buildURL(l,c,u);"timeout"in a&&jde("timeout",a.timeout),a.timeout=(n=a.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:p,body:g}=this.buildBody({options:a}),y=await this.buildHeaders({options:e,method:o,bodyHeaders:p,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:y},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=a.fetchOptions)!==null&&s!==void 0?s:{}),url:f,timeout:a.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:n,retryCount:i}){let s={};this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let o=jv([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Kde()),this._options.defaultHeaders,n,e.headers,a]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:r}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=jv([r]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Yde(e)}:this.encoder({body:e,headers:n})}}YB.DEFAULT_TIMEOUT=6e4;class co extends YB{constructor(){super(...arguments),this.interactions=new oV(this)}}cV=co;co.GeminiNextGenAPIClient=cV;co.GeminiNextGenAPIClientError=qA;co.APIError=zl;co.APIConnectionError=KB;co.APIConnectionTimeoutError=$G;co.APIUserAbortError=OI;co.NotFoundError=WG;co.ConflictError=YG;co.RateLimitError=JG;co.BadRequestError=qG;co.AuthenticationError=zG;co.InternalServerError=ZG;co.PermissionDeniedError=KG;co.UnprocessableEntityError=XG;co.toFile=n0e;co.Interactions=oV;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g0e(t,e){const r={},n=b(t,["name"]);return n!=null&&E(r,["_url","name"],n),r}function m0e(t,e){const r={},n=b(t,["name"]);return n!=null&&E(r,["_url","name"],n),r}function y0e(t,e){const r={},n=b(t,["sdkHttpResponse"]);return n!=null&&E(r,["sdkHttpResponse"],n),r}function x0e(t,e){const r={},n=b(t,["sdkHttpResponse"]);return n!=null&&E(r,["sdkHttpResponse"],n),r}function v0e(t,e,r){const n={};if(b(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=b(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&E(e,["displayName"],i),b(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=b(t,["epochCount"]);e!==void 0&&s!=null&&E(e,["tuningTask","hyperparameters","epochCount"],s);const a=b(t,["learningRateMultiplier"]);if(a!=null&&E(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),b(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(b(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(b(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=b(t,["batchSize"]);e!==void 0&&o!=null&&E(e,["tuningTask","hyperparameters","batchSize"],o);const l=b(t,["learningRate"]);if(e!==void 0&&l!=null&&E(e,["tuningTask","hyperparameters","learningRate"],l),b(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(b(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return n}function w0e(t,e,r){const n={};let i=b(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=b(t,["validationDataset"]);e!==void 0&&g!=null&&E(e,["supervisedTuningSpec"],aP(g))}else if(i==="PREFERENCE_TUNING"){const g=b(t,["validationDataset"]);e!==void 0&&g!=null&&E(e,["preferenceOptimizationSpec"],aP(g))}const s=b(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&E(e,["tunedModelDisplayName"],s);const a=b(t,["description"]);e!==void 0&&a!=null&&E(e,["description"],a);let o=b(r,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const g=b(t,["epochCount"]);e!==void 0&&g!=null&&E(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(o==="PREFERENCE_TUNING"){const g=b(t,["epochCount"]);e!==void 0&&g!=null&&E(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=b(r,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=b(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&E(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=b(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&E(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let c=b(r,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=b(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&E(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(c==="PREFERENCE_TUNING"){const g=b(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&E(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let u=b(r,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=b(t,["adapterSize"]);e!==void 0&&g!=null&&E(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(u==="PREFERENCE_TUNING"){const g=b(t,["adapterSize"]);e!==void 0&&g!=null&&E(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(b(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(b(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=b(t,["labels"]);e!==void 0&&f!=null&&E(e,["labels"],f);const p=b(t,["beta"]);return e!==void 0&&p!=null&&E(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),n}function b0e(t,e){const r={},n=b(t,["baseModel"]);n!=null&&E(r,["baseModel"],n);const i=b(t,["preTunedModel"]);i!=null&&E(r,["preTunedModel"],i);const s=b(t,["trainingDataset"]);s!=null&&L0e(s);const a=b(t,["config"]);return a!=null&&v0e(a,r),r}function C0e(t,e){const r={},n=b(t,["baseModel"]);n!=null&&E(r,["baseModel"],n);const i=b(t,["preTunedModel"]);i!=null&&E(r,["preTunedModel"],i);const s=b(t,["trainingDataset"]);s!=null&&R0e(s,r,e);const a=b(t,["config"]);return a!=null&&w0e(a,r,e),r}function S0e(t,e){const r={},n=b(t,["name"]);return n!=null&&E(r,["_url","name"],n),r}function _0e(t,e){const r={},n=b(t,["name"]);return n!=null&&E(r,["_url","name"],n),r}function E0e(t,e,r){const n={},i=b(t,["pageSize"]);e!==void 0&&i!=null&&E(e,["_query","pageSize"],i);const s=b(t,["pageToken"]);e!==void 0&&s!=null&&E(e,["_query","pageToken"],s);const a=b(t,["filter"]);return e!==void 0&&a!=null&&E(e,["_query","filter"],a),n}function B0e(t,e,r){const n={},i=b(t,["pageSize"]);e!==void 0&&i!=null&&E(e,["_query","pageSize"],i);const s=b(t,["pageToken"]);e!==void 0&&s!=null&&E(e,["_query","pageToken"],s);const a=b(t,["filter"]);return e!==void 0&&a!=null&&E(e,["_query","filter"],a),n}function T0e(t,e){const r={},n=b(t,["config"]);return n!=null&&E0e(n,r),r}function N0e(t,e){const r={},n=b(t,["config"]);return n!=null&&B0e(n,r),r}function F0e(t,e){const r={},n=b(t,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(t,["nextPageToken"]);i!=null&&E(r,["nextPageToken"],i);const s=b(t,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>AV(o))),E(r,["tuningJobs"],a)}return r}function I0e(t,e){const r={},n=b(t,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(t,["nextPageToken"]);i!=null&&E(r,["nextPageToken"],i);const s=b(t,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>QI(o))),E(r,["tuningJobs"],a)}return r}function k0e(t,e){const r={},n=b(t,["name"]);n!=null&&E(r,["model"],n);const i=b(t,["name"]);return i!=null&&E(r,["endpoint"],i),r}function L0e(t,e){const r={};if(b(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(b(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=b(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),E(r,["examples","examples"],i)}return r}function R0e(t,e,r){const n={};let i=b(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=b(t,["gcsUri"]);e!==void 0&&a!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=b(t,["gcsUri"]);e!==void 0&&a!=null&&E(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=b(r,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=b(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=b(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&E(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(b(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function AV(t,e){const r={},n=b(t,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(t,["name"]);i!=null&&E(r,["name"],i);const s=b(t,["state"]);s!=null&&E(r,["state"],EG(s));const a=b(t,["createTime"]);a!=null&&E(r,["createTime"],a);const o=b(t,["tuningTask","startTime"]);o!=null&&E(r,["startTime"],o);const l=b(t,["tuningTask","completeTime"]);l!=null&&E(r,["endTime"],l);const c=b(t,["updateTime"]);c!=null&&E(r,["updateTime"],c);const u=b(t,["description"]);u!=null&&E(r,["description"],u);const f=b(t,["baseModel"]);f!=null&&E(r,["baseModel"],f);const p=b(t,["_self"]);return p!=null&&E(r,["tunedModel"],k0e(p)),r}function QI(t,e){const r={},n=b(t,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(t,["name"]);i!=null&&E(r,["name"],i);const s=b(t,["state"]);s!=null&&E(r,["state"],EG(s));const a=b(t,["createTime"]);a!=null&&E(r,["createTime"],a);const o=b(t,["startTime"]);o!=null&&E(r,["startTime"],o);const l=b(t,["endTime"]);l!=null&&E(r,["endTime"],l);const c=b(t,["updateTime"]);c!=null&&E(r,["updateTime"],c);const u=b(t,["error"]);u!=null&&E(r,["error"],u);const f=b(t,["description"]);f!=null&&E(r,["description"],f);const p=b(t,["baseModel"]);p!=null&&E(r,["baseModel"],p);const g=b(t,["tunedModel"]);g!=null&&E(r,["tunedModel"],g);const y=b(t,["preTunedModel"]);y!=null&&E(r,["preTunedModel"],y);const x=b(t,["supervisedTuningSpec"]);x!=null&&E(r,["supervisedTuningSpec"],x);const w=b(t,["preferenceOptimizationSpec"]);w!=null&&E(r,["preferenceOptimizationSpec"],w);const S=b(t,["tuningDataStats"]);S!=null&&E(r,["tuningDataStats"],S);const B=b(t,["encryptionSpec"]);B!=null&&E(r,["encryptionSpec"],B);const F=b(t,["partnerModelTuningSpec"]);F!=null&&E(r,["partnerModelTuningSpec"],F);const k=b(t,["customBaseModel"]);k!=null&&E(r,["customBaseModel"],k);const O=b(t,["experiment"]);O!=null&&E(r,["experiment"],O);const R=b(t,["labels"]);R!=null&&E(r,["labels"],R);const D=b(t,["outputUri"]);D!=null&&E(r,["outputUri"],D);const Q=b(t,["pipelineJob"]);Q!=null&&E(r,["pipelineJob"],Q);const V=b(t,["serviceAccount"]);V!=null&&E(r,["serviceAccount"],V);const re=b(t,["tunedModelDisplayName"]);re!=null&&E(r,["tunedModelDisplayName"],re);const P=b(t,["veoTuningSpec"]);return P!=null&&E(r,["veoTuningSpec"],P),r}function M0e(t,e){const r={},n=b(t,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(t,["name"]);i!=null&&E(r,["name"],i);const s=b(t,["metadata"]);s!=null&&E(r,["metadata"],s);const a=b(t,["done"]);a!=null&&E(r,["done"],a);const o=b(t,["error"]);return o!=null&&E(r,["error"],o),r}function aP(t,e){const r={},n=b(t,["gcsUri"]);n!=null&&E(r,["validationDatasetUri"],n);const i=b(t,["vertexDatasetResource"]);return i!=null&&E(r,["validationDatasetUri"],i),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U0e extends Yd{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Qm(Qd.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.get=async r=>await this.getInternal(r),this.tune=async r=>{var n;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const i={tunedModelName:r.baseModel};!((n=r.config)===null||n===void 0)&&n.preTunedModelCheckpointId&&(i.checkpointId=r.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},r),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},r);return await this.tuneInternal(i)}else{const i=Object.assign({},r),s=await this.tuneMldevInternal(i);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:NI.JOB_STATE_QUEUED}}}}async getInternal(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=_0e(e);return o=Kt("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>QI(u))}else{const c=S0e(e);return o=Kt("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>AV(u))}}async listInternal(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=N0e(e);return o=Kt("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=I0e(u),p=new kO;return Object.assign(p,f),p})}else{const c=T0e(e);return o=Kt("tunedModels",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=F0e(u),p=new kO;return Object.assign(p,f),p})}}async cancel(e){var r,n,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=m0e(e);return o=Kt("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=x0e(u),p=new LO;return Object.assign(p,f),p})}else{const c=g0e(e);return o=Kt("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),a.then(u=>{const f=y0e(u),p=new LO;return Object.assign(p,f),p})}}async tuneInternal(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=C0e(e,e);return s=Kt("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>QI(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=b0e(e);return s=Kt("tunedModels",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>M0e(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D0e{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const O0e=1024*1024*8,P0e=3,H0e=1e3,Q0e=2,rE="x-goog-upload-status";async function j0e(t,e,r){var n;const i=await uV(t,e,r),s=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[rE])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function G0e(t,e,r){var n;const i=await uV(t,e,r),s=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[rE])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=vG(s),o=new vL;return Object.assign(o,a),o}async function uV(t,e,r){var n,i;let s=0,a=0,o=new FI(new Response),l="upload";for(s=t.size;a<s;){const c=Math.min(O0e,s-a),u=t.slice(a,a+c);a+c>=s&&(l+=", finalize");let f=0,p=H0e;for(;f<P0e&&(o=await r.request({path:"",body:u,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(c)}}}),!(!((n=o==null?void 0:o.headers)===null||n===void 0)&&n[rE]));)f++,await $0e(p),p=p*Q0e;if(a+=c,((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[rE])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function V0e(t){return{size:t.size,type:t.type}}function $0e(t){return new Promise(e=>setTimeout(e,t))}class q0e{async upload(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await j0e(e,r,n)}async uploadToFileSearchStore(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await G0e(e,r,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await V0e(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z0e{create(e,r,n){return new K0e(e,r,n)}}class K0e{constructor(e,r,n){this.url=e,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oP="x-goog-api-key";class W0e{constructor(e){this.apiKey=e}async addAuthHeaders(e,r){if(e.get(oP)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(oP,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y0e="gl-node/";class TL{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new co({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=r.interactions,this._interactions}constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const n=$le(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new W0e(this.apiKey);this.apiClient=new Vfe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Y0e+"web",uploader:new q0e,downloader:new D0e}),this.models=new cde(this.apiClient),this.live=new nde(this.apiClient,i,new z0e),this.batches=new vAe(this.apiClient),this.chats=new tue(this.models,this.apiClient),this.caches=new JAe(this.apiClient),this.files=new uue(this.apiClient),this.operations=new Ade(this.apiClient),this.authTokens=new Ede(this.apiClient),this.tunings=new U0e(this.apiClient),this.fileSearchStores=new Rde(this.apiClient)}}const jd=new TL({apiKey:"PLACEHOLDER_API_KEY"}),Cn=t=>new Promise(e=>setTimeout(e,t)),Sp=t=>t==="fast"?"gemini-2.5-flash":"gemini-3-pro-preview",li=t=>{switch(t){case"TIME_TO_MARKET":return`

**STRATEGIC DIRECTIVE: TIME TO MARKET.** Your primary focus is speed. All your outputsideas, critiques, plans, and strategiesmust prioritize simplicity, rapid execution, and a fast path to a Minimum Viable Product (MVP). Scrutinize for complexity and potential delays.`;case"UNIQUE_VALUE_PROPOSITION":return`

**STRATEGIC DIRECTIVE: UNIQUE VALUE PROPOSITION.** Your primary focus is innovation and defensibility. All your outputs must prioritize creating a strong, hard-to-copy competitive advantage. Favor novel ideas, technologies, and business models over simple, quick solutions.`;case"CAPITAL_EFFICIENCY":return`

**STRATEGIC DIRECTIVE: CAPITAL EFFICIENCY.** Your primary focus is a lean, bootstrap-friendly approach. All your outputs must prioritize low upfront costs, minimal burn rate, and an early path to revenue. Avoid solutions that require large, long-term capital investments.`;case"BALANCED":default:return`

**STRATEGIC DIRECTIVE: BALANCED APPROACH.** Your focus is to weigh all factorsinnovation, market size, feasibility, and speedequally. Produce a well-rounded and robust output that does not excessively prioritize one strategic goal over others.`}},gn=async(t,e,r,n,i,s=3,a=1e4,o,l=!1)=>{var c,u,f;try{const p={systemInstruction:e,temperature:o??.7,responseMimeType:"application/json",responseSchema:n};i==="fast"?p.thinkingConfig={thinkingBudget:0}:i==="creative"&&o===void 0&&(p.temperature=1);const g=Sp(i),y=await jd.models.generateContent({model:g,contents:r,config:p}),x={input:((c=y.usageMetadata)==null?void 0:c.promptTokenCount)||0,output:((u=y.usageMetadata)==null?void 0:u.candidatesTokenCount)||0,total:((f=y.usageMetadata)==null?void 0:f.totalTokenCount)||0},w=y.text.trim();return{data:JSON.parse(w),usage:x}}catch(p){const g=(((p==null?void 0:p.toString())||"")+JSON.stringify(p)).toLowerCase();if(g.includes("429")||g.includes("503")||g.includes("resource_exhausted")||g.includes("quota")){if(i!=="fast"&&!l)return console.warn(`Quota/Rate limit hit for ${t} on ${Sp(i)}. Falling back to 'fast' model (gemini-2.5-flash).`),gn(t,e,r,n,"fast",s,a,o,!0);if(s>0){if(g.includes("daily limit")||g.includes("plan and billing"))throw console.error(`API call for ${t} failed due to a hard quota limit (e.g., daily limit). Not retrying.`,p),new Error(`The ${t} agent failed due to a daily quota limit. Please check your API plan or try again tomorrow.`);return console.warn(`API call for ${t} failed (rate limit). Retrying in ${a/1e3}s... (${s} retries left)`),await Cn(a),gn(t,e,r,n,i,s-1,a*2,o,l)}}throw console.error(`Gemini API call with schema for ${t} failed:`,p),new Error(`Failed to get a structured response from the ${t}.`)}},XB=async(t,e="16:9",r=3,n=1e4)=>{var s,a,o;const i={input:0,output:0,total:yG};try{const c=(o=(a=(s=(await jd.models.generateImages({model:"imagen-4.0-generate-001",prompt:t,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:e}})).generatedImages)==null?void 0:s[0])==null?void 0:a.image)==null?void 0:o.imageBytes;return c?{imageB64:c,usage:i}:(console.warn(`Image generation returned no data for prompt: "${t}". This could be due to safety filters.`),{imageB64:"",usage:i})}catch(l){const c=(((l==null?void 0:l.toString())||"")+JSON.stringify(l)).toLowerCase(),u=c.includes("429")||c.includes("resource_exhausted")||c.includes("quota");return r>0&&u?c.includes("daily limit")||c.includes("plan and billing")?(console.error(`Image generation for prompt "${t}" failed due to a hard quota limit. Not retrying.`,l),{imageB64:"",usage:i}):(console.warn(`Image generation rate limit/quota hit for prompt "${t}". Retrying in ${n/1e3}s...`),await Cn(n),XB(t,e,r-1,n*2)):(console.error(`Image generation failed for prompt "${t}":`,l),{imageB64:"",usage:i})}},hV=async(t,e=3,r=5e3)=>{var i,s,a;const n={input:0,output:0,total:yG};try{const o=await jd.models.generateContent({model:"gemini-2.5-flash-image",contents:t});if((a=(s=(i=o.candidates)==null?void 0:i[0])==null?void 0:s.content)!=null&&a.parts){for(const l of o.candidates[0].content.parts)if(l.inlineData&&l.inlineData.data)return{imageB64:l.inlineData.data,usage:n}}return console.warn(`Nano Banana returned no image data for prompt: "${t}".`),{imageB64:"",usage:n}}catch(o){const l=(((o==null?void 0:o.toString())||"")+JSON.stringify(o)).toLowerCase(),c=l.includes("429")||l.includes("resource_exhausted")||l.includes("quota");return e>0&&c?(console.warn(`Nano Banana rate limit for prompt "${t}". Retrying in ${r/1e3}s...`),await Cn(r),hV(t,e-1,r*2)):(console.error(`Nano Banana image generation failed for prompt "${t}":`,o),{imageB64:"",usage:n})}},Dl=()=>({input:0,output:0,total:0}),Zu=(...t)=>t.reduce((e,r)=>({input:e.input+r.input,output:e.output+r.output,total:e.total+r.total}),Dl()),lP=t=>{var r,n,i;const e=(i=(n=(r=t.candidates)==null?void 0:r[0])==null?void 0:n.groundingMetadata)==null?void 0:i.groundingChunks;return(e==null?void 0:e.map(s=>({uri:s.web.uri,title:s.web.title})).filter((s,a,o)=>s.uri&&a===o.findIndex(l=>l.uri===s.uri)))||[]},fV={type:K.OBJECT,properties:{problemStatement:{type:K.STRING,description:"The 'How Might We...' problem statement."},context:{type:K.STRING,description:"Briefly explain the background of the problem."},userImpact:{type:K.STRING,description:"Describe how this problem negatively affects a potential user."},keyInsights:{type:K.ARRAY,items:{type:K.STRING},description:"List 2-3 key insights that connect the solution to this problem."}},required:["problemStatement","context","userImpact","keyInsights"]},X0e={type:K.OBJECT,properties:{year:{type:K.INTEGER},revenue:{type:K.NUMBER},cogs:{type:K.NUMBER},grossProfit:{type:K.NUMBER},opex:{type:K.OBJECT,properties:{researchAndDevelopment:{type:K.NUMBER},salesAndMarketing:{type:K.NUMBER},generalAndAdministrative:{type:K.NUMBER},total:{type:K.NUMBER}},required:["researchAndDevelopment","salesAndMarketing","generalAndAdministrative","total"]},ebitda:{type:K.NUMBER},depreciation:{type:K.NUMBER},ebit:{type:K.NUMBER},taxes:{type:K.NUMBER},nopat:{type:K.NUMBER},capex:{type:K.NUMBER},changeInNwc:{type:K.NUMBER},fcff:{type:K.NUMBER}},required:["year","revenue","cogs","grossProfit","opex","ebitda","depreciation","ebit","taxes","nopat","capex","changeInNwc","fcff"]},J0e={type:K.OBJECT,properties:{forecastHorizon:{type:K.INTEGER},initialRevenue:{type:K.NUMBER},revenueGrowthRate:{type:K.ARRAY,items:{type:K.NUMBER}},cogsPercentage:{type:K.ARRAY,items:{type:K.NUMBER}},opex:{type:K.OBJECT,properties:{researchAndDevelopment:{type:K.ARRAY,items:{type:K.NUMBER}},salesAndMarketing:{type:K.ARRAY,items:{type:K.NUMBER}},generalAndAdministrative:{type:K.ARRAY,items:{type:K.NUMBER}}},required:["researchAndDevelopment","salesAndMarketing","generalAndAdministrative"]},taxRate:{type:K.NUMBER},capexPercentage:{type:K.ARRAY,items:{type:K.NUMBER}},depreciationPercentage:{type:K.ARRAY,items:{type:K.NUMBER}},changeInNwcPercentage:{type:K.NUMBER},discountRate:{type:K.NUMBER},terminalValueMethod:{type:K.STRING,enum:["Gordon Growth","Exit Multiple"]},terminalGrowthRate:{type:K.NUMBER},exitMultiple:{type:K.NUMBER}},required:["forecastHorizon","initialRevenue","revenueGrowthRate","cogsPercentage","opex","taxRate","capexPercentage","depreciationPercentage","changeInNwcPercentage","discountRate","terminalValueMethod","terminalGrowthRate","exitMultiple"]},NL={type:K.OBJECT,properties:{assumptions:J0e,cashFlows:{type:K.ARRAY,items:X0e},terminalValue:{type:K.NUMBER},enterpriseValue:{type:K.NUMBER},npv:{type:K.NUMBER},irr:{type:K.NUMBER}},required:["assumptions","cashFlows","terminalValue","enterpriseValue","npv","irr"]},Z0e=(t,e,r)=>{const n=`You are the ${Ne.FOUNDER_DNA} agent  an AI profiler specializing in startup founding teams.
You will receive a list of founders, each with a name and a description of their background, style, and motivation.
Your task is to perform a holistic analysis of the team:
1.  **Individual Profiles**: For EACH founder, provide their name, a 'Founder Type' archetype (e.g., "Visionary Strategist," "Structured Builder"), and a paragraph on their 'Strengths & Style'. The name must match the input name exactly.
2.  **Team Archetype**: Give the entire team a collective archetype name (e.g., "The Builder-Hustler Duo," "The Balanced Trio").
3.  **Team Strengths**: List the combined strengths and synergies of the team.
4.  **Potential Gaps**: Identify potential weaknesses or missing skill sets in the team composition.
5.  **Collaboration Style**: Describe the likely dynamic and how the team will work together.
Your analysis should be concise, strategic, and constructive, aiming to provide self-awareness for the founding team.`+li(r),i=`Analyze the following founding team:

`+t.map(a=>{let o=`Founder: ${a.name}
`;return o+=`Professional Background (Hard Skills): "${a.description}"
`,a.analysisProfile&&(o+=`Personality, Traits & Soft Skills: "${a.analysisProfile.summary}"
`,a.analysisProfile.top_strengths&&a.analysisProfile.top_strengths.length>0&&(o+=`Top Strengths: ${a.analysisProfile.top_strengths.join(", ")}
`),a.analysisProfile.watchouts&&a.analysisProfile.watchouts.length>0&&(o+=`Potential Risks/Watchouts: ${a.analysisProfile.watchouts.join(", ")}
`)),o}).join(`

`),s={type:K.OBJECT,properties:{teamArchetype:{type:K.STRING,description:"A collective archetype name for the team."},teamStrengths:{type:K.ARRAY,items:{type:K.STRING},description:"List of combined team strengths."},potentialGaps:{type:K.ARRAY,items:{type:K.STRING},description:"List of potential team weaknesses or gaps."},collaborationStyle:{type:K.STRING,description:"Description of the team's likely collaboration dynamic."},founderProfiles:{type:K.ARRAY,items:{type:K.OBJECT,properties:{name:{type:K.STRING,description:"The founder's name, matching the input name exactly."},founderType:{type:K.STRING,description:"A short label for the founder's archetype."},strengthsAndStyle:{type:K.STRING,description:"A paragraph on their individual strengths and style."}},required:["name","founderType","strengthsAndStyle"]}}},required:["teamArchetype","teamStrengths","potentialGaps","collaborationStyle","founderProfiles"]};return gn(Ne.FOUNDER_DNA,n,i,s,e)},epe=(t,e,r)=>{const n="You are an expert HR analyst and executive recruiter. Your task is to read a founder's CV/resume and write a concise, professional summary of their background, skills, and accomplishments. This summary will be used as their bio. The summary should be in the third person, well-written, and approximately 100-150 words long. Focus on the most impressive and relevant aspects of their career for a startup context.",i=`Please generate a summary for the following founder based on their CV.

Founder's Name: "${t}"

CV Text:
--- START CV ---
${e}
--- END CV ---`,s={type:K.OBJECT,properties:{summary:{type:K.STRING,description:"The concise, professional summary of the founder's background."}},required:["summary"]};return gn("CV Analyzer",n,i,s,r)},tpe=(t,e,r,n,i)=>{const s=`You are a ${Ne.MARKET_FIT_ANALYST}, an expert at identifying market opportunities for new technologies and solutions. You will receive a description of a solution. Your task is to brainstorm and identify the top 3 most promising, distinct real-world problems that this solution could solve.
For each problem, you must:
1.  Frame it as an actionable 'How Might We...' statement.
2.  Provide context for the problem.
3.  Describe the impact on the user.
4.  List key insights that connect the solution to this problem.`+li(i),a=`Solution Description: "${t}"
Area of Innovation: "${e}"
Target Market: "${r}"

Based on this, generate the top 3 problem statements this solution could address.`,o={type:K.OBJECT,properties:{challenges:{type:K.ARRAY,items:fV}},required:["challenges"]};return gn(Ne.MARKET_FIT_ANALYST,s,a,o,n)},rpe=async(t,e)=>{const r=`You are a Strategic Innovation Scout acting as a market trend analyst. Your task is to identify 5 high-priority, high-impact innovation challenges currently relevant to the specified target market.
    Focus on urgent societal needs, emerging technological opportunities, or underserved market gaps. The challenges should be framed as concise, inspiring problem statements (1-2 sentences each).`,n=`Target Market: "${t}"
    
    Generate 5 distinct, high-priority innovation challenges for this market.`,i={type:K.OBJECT,properties:{challenges:{type:K.ARRAY,items:{type:K.STRING},description:"A list of 5 innovation challenges."}},required:["challenges"]};return gn("Challenge Generator",r,n,i,e)},cP=async(t,e,r,n,i,s)=>{var B,F,k,O,R,D,Q,V,re,P;const a=`You are the ${Ne.PROBLEM_RESEARCH} agent. Your focus is to conduct deep research into the PROBLEM SPACE of the user's challenge. Use Google Search to gather comprehensive data.`+li(i);let o=`Create a detailed research report on the problem space for the innovation challenge: "${t}".
This challenge is situated within the broader area of "${e}".
Your report MUST focus on the initial target market: **${r}**. All analysis (market size, competitors, trends, etc.) should be specific to this region.`;s&&(o+=`

**IMPORTANT USER-PROVIDED CONTEXT:**
You MUST treat the following text as the primary source of truth. Web searches should be used to supplement this information.
--- START USER CONTEXT ---
${s}
--- END USER CONTEXT ---`),o+=`

Analyze: Problem Summary, Target Audience (Demographics/Needs), Market Analysis (Size/Growth), Competitive Landscape (2-3 competitors with strengths/weaknesses), Technological Analysis, Trends/Opportunities, and Ethical Considerations.`;const l=async(H,q=3,Z=1e4)=>{const se=`${Ne.PROBLEM_RESEARCH} (Web Search)`,X=Sp(n);try{return await jd.models.generateContent({model:X,contents:H,config:{systemInstruction:a,temperature:.2,tools:[{googleSearch:{}}]}})}catch(ee){const te=(((ee==null?void 0:ee.toString())||"")+JSON.stringify(ee)).toLowerCase(),Ce=te.includes("429")||te.includes("503")||te.includes("resource_exhausted")||te.includes("quota");if(q>0&&Ce)return console.warn(`API call for ${se} failed (rate limit). Retrying...`),await Cn(Z),l(H,q-1,Z*2);throw ee}},c=await l(o);let u=((B=c.text)==null?void 0:B.trim())||"",f=lP(c),p={input:((F=c.usageMetadata)==null?void 0:F.promptTokenCount)||0,output:((k=c.usageMetadata)==null?void 0:k.candidatesTokenCount)||0,total:((O=c.usageMetadata)==null?void 0:O.totalTokenCount)||0};if(n!=="fast"&&u)try{const H="You are a Research Director. Analyze the provided research report. Identify 3 critical gaps, vague areas, or missing data points that need deeper investigation to make this report truly comprehensive. Return a JSON array of 3 specific Google Search queries.",q=`Current Research Report:
${u.substring(0,1e4)}

Generate 3 specific follow-up search queries to fill gaps.`,Z={type:K.OBJECT,properties:{queries:{type:K.ARRAY,items:{type:K.STRING}}},required:["queries"]},se=await gn("Gap Analyst",H,q,Z,"fast");p=Zu(p,se.usage);const X=se.data.queries.map(Ce=>l(`Deep dive search for: ${Ce}. Focus on specific data, statistics, and examples.`,2,5e3)),ee=await Promise.allSettled(X);let te="";for(const Ce of ee)Ce.status==="fulfilled"&&Ce.value.text&&(te+=`

--- Additional Findings ---
${Ce.value.text}`,f=[...f,...lP(Ce.value)],p.input+=((R=Ce.value.usageMetadata)==null?void 0:R.promptTokenCount)||0,p.output+=((D=Ce.value.usageMetadata)==null?void 0:D.candidatesTokenCount)||0,p.total+=((Q=Ce.value.usageMetadata)==null?void 0:Q.totalTokenCount)||0);if(te){const Ce="You are the Lead Researcher. Combine the 'Initial Research' and 'Deep Dive Findings' into one cohesive, masterful Deep Research Report. Ensure all original sections are preserved and enriched with new data. Do NOT output JSON, just the structured text.",ke=`Initial Research:
${u}

Deep Dive Findings:
${te}

Synthesize the final report.`,le=await jd.models.generateContent({model:Sp(n),contents:ke,config:{systemInstruction:Ce}});le.text&&(u=le.text,p.input+=((V=le.usageMetadata)==null?void 0:V.promptTokenCount)||0,p.output+=((re=le.usageMetadata)==null?void 0:re.candidatesTokenCount)||0,p.total+=((P=le.usageMetadata)==null?void 0:P.totalTokenCount)||0)}}catch(H){console.warn("Deep research loop failed, falling back to initial research.",H)}if(!u)throw new Error("Failed to get a grounded response from the Research agent.");const g="You are a data parsing agent. Your task is to accurately parse the content of the research report into a structured JSON object based on the schema.",y=`Please parse the content of the research report below:

${u}`,x={type:K.OBJECT,properties:{problemSummary:{type:K.STRING,description:"A concise overview of the core problem."},targetAudience:{type:K.OBJECT,properties:{description:{type:K.STRING},demographics:{type:K.ARRAY,items:{type:K.STRING}},needs:{type:K.ARRAY,items:{type:K.STRING}}},required:["description","demographics","needs"]},marketAnalysis:{type:K.OBJECT,properties:{summary:{type:K.STRING},marketSize:{type:K.STRING},growthRate:{type:K.STRING},keySegments:{type:K.ARRAY,items:{type:K.STRING}}},required:["summary","marketSize","growthRate","keySegments"]},competitiveLandscape:{type:K.ARRAY,items:{type:K.OBJECT,properties:{name:{type:K.STRING},description:{type:K.STRING},founders:{type:K.STRING,description:"Key founders of the company. State 'Not found' if unavailable."},foundedYear:{type:K.INTEGER},funding:{type:K.STRING,description:"Last known funding stage and amount. State 'Not found' if unavailable."},keyProduct:{type:K.STRING},strengths:{type:K.ARRAY,items:{type:K.STRING}},weaknesses:{type:K.ARRAY,items:{type:K.STRING}}},required:["name","description","strengths","weaknesses"]}},technologicalAnalysis:{type:K.OBJECT,properties:{assessment:{type:K.STRING},requiredTechnologies:{type:K.ARRAY,items:{type:K.STRING}},potentialChallenges:{type:K.ARRAY,items:{type:K.STRING}}},required:["assessment","requiredTechnologies","potentialChallenges"]},trendsAndOpportunities:{type:K.ARRAY,items:{type:K.OBJECT,properties:{trend:{type:K.STRING},implication:{type:K.STRING},opportunity:{type:K.STRING}},required:["trend","implication","opportunity"]}},ethicalConsiderations:{type:K.ARRAY,items:{type:K.OBJECT,properties:{aspect:{type:K.STRING},details:{type:K.STRING},mitigation:{type:K.STRING}},required:["aspect","details","mitigation"]}}},required:["problemSummary","targetAudience","marketAnalysis","competitiveLandscape","technologicalAnalysis","trendsAndOpportunities","ethicalConsiderations"]},w=await gn(`${Ne.PROBLEM_RESEARCH} (Parser)`,g,y,x,"fast"),S=f.filter((H,q,Z)=>q===Z.findIndex(se=>se.uri===H.uri));return{data:{...w.data,sources:S},usage:Zu(p,w.usage)}},npe=async(t,e,r)=>{const n=`You are a Strategic Problem Framer and Venture Analyst. The user has provided a broad innovation challenge, and we have conducted initial research.
Your task is to identify 3 DISTINCT "Problem Frames" or "Root Causes" within this broader challenge. Each frame should represent a specific angle or focus area for solving the problem.

CRITICAL REQUIREMENT: For every suggested frame, you must provide an "Evidence" anchor. You MUST cite a specific finding, statistic, or trend from the provided Research Summary to back up why this problem is real and urgent. Do not hallucinate; quote the research.

For EACH frame, you must also EVALUATE it using the R.I.C.E. framework (modified for problem validation):
1. **Reach (1-10)**: How many people are affected? (Based on Market Size research)
2. **Impact (1-10)**: How bad is the pain? (Based on User Pain points)
3. **Confidence (1-10)**: How strong is the evidence? (Based on the 'Evidence' field)
4. **Feasibility (1-10)**: How easy is it to solve with current tech? (High score = Easier/More Feasible).

Finally, assign a 'Strategic Label' to categorize the opportunity (e.g., "Quick Win", "High Risk / High Reward", "Enterprise Play", "Mass Market").`,i=`Broader Challenge: "${t}"

Research Findings Summary:
- Problem Summary: ${e.problemSummary}
- Key Trends: ${e.trendsAndOpportunities.map(a=>a.trend).join(", ")}
- Target Audience Needs: ${e.targetAudience.needs.join(", ")}
- Market Data: ${JSON.stringify(e.marketAnalysis)}

Based on this, generate 3 distinct problem frames with R.I.C.E scores and evidence citations.`,s={type:K.OBJECT,properties:{problemFrames:{type:K.ARRAY,items:{type:K.OBJECT,properties:{id:{type:K.STRING},coreProblem:{type:K.STRING,description:"A short, catchy title for this problem angle."},rootCause:{type:K.STRING,description:"The underlying reason or focus area."},targetSegment:{type:K.STRING,description:"Who is most affected by this specific angle?"},rationale:{type:K.STRING,description:"Why is this a high-potential area to solve?"},evidence:{type:K.STRING,description:"Specific data point or finding from the research that proves this problem exists."},validationScores:{type:K.OBJECT,properties:{reach:{type:K.NUMBER,description:"Score 1-10"},impact:{type:K.NUMBER,description:"Score 1-10"},confidence:{type:K.NUMBER,description:"Score 1-10"},feasibility:{type:K.NUMBER,description:"Score 1-10 (High = Easy)"}},required:["reach","impact","confidence","feasibility"]},strategicLabel:{type:K.STRING,description:"Short category tag, e.g. 'Moonshot'"}},required:["id","coreProblem","rootCause","targetSegment","rationale","evidence","validationScores","strategicLabel"]}}},required:["problemFrames"]};return gn("Problem Framer",n,i,s,r,3,1e4,0)},AP=async(t,e,r,n,i,s)=>{const a=`You are the ${Ne.CUSTOMER_PERSONA} agent. Based on the initial challenge and research, create a single, detailed customer persona representing the user most affected by the problem. The avatar prompt must be a safe-for-work, detailed description for a headshot photograph. The prompt should be concise and focus on creating a simple, photorealistic portrait. Avoid complex scenes or potentially sensitive terms.`+li(i);let o=`Challenge: "${t}"

Target Market: **${r}**

Research Summary: ${JSON.stringify(e,null,2)}`;s&&(o+=`

**CRITICAL FOCUS:** The user has chosen to focus specifically on this aspect of the problem:
        - Core Problem: ${s.coreProblem}
        - Root Cause: ${s.rootCause}
        - Target Segment: ${s.targetSegment}
        
        Ensure the persona you generate is DIRECTLY related to this specific problem frame.`),o+=`

Create the detailed customer persona, ensuring they are representative of the target market.`;const l={type:K.OBJECT,properties:{name:{type:K.STRING},age:{type:K.INTEGER},occupation:{type:K.STRING},bio:{type:K.STRING,description:"A short bio."},goals:{type:K.ARRAY,items:{type:K.STRING}},frustrations:{type:K.ARRAY,items:{type:K.STRING}},avatarPrompt:{type:K.STRING,description:"SFW, simple, and concise prompt for a photorealistic headshot. E.g., 'Photorealistic headshot of a 32-year-old female architect, smiling, studio lighting'."}},required:["name","age","occupation","bio","goals","frustrations","avatarPrompt"]},c=await gn(Ne.CUSTOMER_PERSONA,a,o,l,n),{imageB64:u,usage:f}=await XB(c.data.avatarPrompt,"1:1");return{data:{...c.data,avatarB64:u},usage:Zu(c.usage,f)}},uP=(t,e,r,n,i,s)=>{const a=`You are the ${Ne.EMPATHY_MAP} agent. Based on the persona and research, create a detailed Empathy Map, filling out what the user Says, Thinks, Does, and Feels about the problem space, and summarize their Pains and Gains.`+li(i);let o=`Persona: ${JSON.stringify(r,null,2)}

Research: ${JSON.stringify(e,null,2)}`;s&&(o+=`

**Context:** We are focusing on the specific problem of "${s.coreProblem}" (Root cause: ${s.rootCause}). Ensure the empathy map reflects feelings towards THIS specific issue.`),o+=`

Populate the Empathy Map with 2-4 points per section.`;const l={type:K.ARRAY,items:{type:K.STRING}},c={type:K.OBJECT,properties:{says:l,thinks:l,does:l,feels:l,pains:l,gains:l},required:["says","thinks","does","feels","pains","gains"]};return gn(Ne.EMPATHY_MAP,a,o,c,n)},ipe=(t,e,r,n,i,s,a)=>{const o=`You are the ${Ne.PROBLEM_SYNTHESIZER} agent. Your task is to analyze all the discovery research and DEFINE a single, clear, and actionable problem statement. This statement MUST be in the 'How Might We...' format. Also provide context, user impact, and key insights.`+li(s);let l=`Synthesize the following into a problem statement.

Challenge: "${t}"

Research: ${JSON.stringify(e,null,2)}

Persona: ${JSON.stringify(r,null,2)}

Empathy Map: ${JSON.stringify(n,null,2)}`;return a&&(l+=`

**CRITICAL DIRECTIVE:** The user has explicitly chosen to frame the problem around: "${a.coreProblem}". 
        - Root Cause: ${a.rootCause}
        - Target Segment: ${a.targetSegment}
        
        Your 'How Might We' statement MUST be tightly focused on this chosen frame. Do not drift back to the generic challenge.`),l+=`

Now, define the core problem.`,gn(Ne.PROBLEM_SYNTHESIZER,o,l,fV,i)},hP=async(t,e,r)=>{var S,B,F,k,O,R;const n=`You are the ${Ne.TECHNOLOGY_SCOUT}, a strategic technology intelligence analyst. Your task is to research the SOLUTION DOMAIN for the given problem statement. Use Google Search to find relevant technologies, patents, experts, and existing products. Your output must be a structured text report with citations.`+li(r),i=`Create a strategic technology intelligence report for the solution domain of the problem: "${t.problemStatement}".
Your report MUST include the following distinct sections:
1.  **Summary**: An overview of the technology landscape.
2.  **Key Technologies**: For 2-3 key technologies, provide: name, description, pros, cons, an estimated Technology Readiness Level (TRL) from 1 (basic principles) to 9 (proven in operational environment), and an Implementation Complexity (Low, Medium, High).
3.  **Emerging Trends**: List 2-3 relevant emerging trends.
4.  **Existing Solution Patterns**: Describe 1-2 common solution patterns.
5.  **Prior Art & Patent Landscape**: Identify 2-3 relevant existing patents or patent applications. For each, provide its patent ID, title, a brief summary, and a link to view it (e.g., Google Patents).
6.  **Leading Experts & Research Hubs**: Identify 1-2 leading academics, researchers, or university labs in this field. For each, provide their name, affiliation, specialization, and a link to their profile or lab page.
Cite your sources for all sections using markers like [1], [2], etc.`,a=await(async(D=3,Q=1e4)=>{const V=`${Ne.TECHNOLOGY_SCOUT} (Web Search)`,re=Sp(e);try{return await jd.models.generateContent({model:re,contents:i,config:{systemInstruction:n,temperature:.2,tools:[{googleSearch:{}}]}})}catch(P){throw console.error(`${V} failed during web search:`,P),new Error(`The ${V} agent failed during the web search phase.`)}})(),o=a.text.trim(),l=(F=(B=(S=a.candidates)==null?void 0:S[0])==null?void 0:B.groundingMetadata)==null?void 0:F.groundingChunks,c=(l==null?void 0:l.map(D=>({uri:D.web.uri,title:D.web.title})).filter((D,Q,V)=>D.uri&&Q===V.findIndex(re=>re.uri===D.uri)))||[];if(!o)throw new Error("Failed to get a grounded response from the Technology Scout.");const u={input:((k=a.usageMetadata)==null?void 0:k.promptTokenCount)||0,output:((O=a.usageMetadata)==null?void 0:O.candidatesTokenCount)||0,total:((R=a.usageMetadata)==null?void 0:R.totalTokenCount)||0},f="You are a data parsing agent. Your task is to accurately parse the content of the provided technology report into a structured JSON object based on the schema.",p=`Please parse the content of the technology report below:

${o}`,g={type:K.OBJECT,properties:{patentId:{type:K.STRING},title:{type:K.STRING},summary:{type:K.STRING},link:{type:K.STRING}},required:["patentId","title","summary","link"]},y={type:K.OBJECT,properties:{name:{type:K.STRING},affiliation:{type:K.STRING},specialization:{type:K.STRING},link:{type:K.STRING}},required:["name","affiliation","specialization","link"]},x={type:K.OBJECT,properties:{summary:{type:K.STRING},keyTechnologies:{type:K.ARRAY,items:{type:K.OBJECT,properties:{name:{type:K.STRING},description:{type:K.STRING},pros:{type:K.ARRAY,items:{type:K.STRING}},cons:{type:K.ARRAY,items:{type:K.STRING}},trl:{type:K.INTEGER,description:"Technology Readiness Level from 1 to 9"},implementationComplexity:{type:K.STRING,enum:["Low","Medium","High"]}},required:["name","description","pros","cons","trl","implementationComplexity"]}},emergingTrends:{type:K.ARRAY,items:{type:K.STRING}},existingSolutionPatterns:{type:K.ARRAY,items:{type:K.OBJECT,properties:{name:{type:K.STRING},description:{type:K.STRING},companiesUsingIt:{type:K.ARRAY,items:{type:K.STRING}}},required:["name","description","companiesUsingIt"]}},priorArt:{type:K.ARRAY,items:g},leadingExperts:{type:K.ARRAY,items:y}},required:["summary","keyTechnologies","emergingTrends","existingSolutionPatterns","priorArt","leadingExperts"]},w=await gn(`${Ne.TECHNOLOGY_SCOUT} (Parser)`,f,p,x,"fast");return{data:{...w.data,sources:c},usage:Zu(u,w.usage)}},fP=(t,e,r,n)=>{const i="You are a world-class branding expert specializing in naming tech startups. Your task is to generate 5 creative, memorable, and professional brand names based on a user's solution concept. The names should be easy to pronounce and spell. Avoid generic or overused tech tropes. Provide only the names."+li(n),s=`
Problem Context: "${e}"
User's Solution Idea: "${t}"

Based on this, generate 5 brand names.
`,a={type:K.OBJECT,properties:{suggestedNames:{type:K.ARRAY,items:{type:K.STRING}}},required:["suggestedNames"]};return gn("Brand Namer",i,s,a,r)},dP=(t,e,r,n,i)=>{let s=`You are the ${Ne.SOLUTION_IDEATION} agent. Your goal is to brainstorm 3 distinct, creative solutions for the given 'How Might We...' problem statement. You MUST use the provided technology research to inform your ideas, ensuring they are grounded in feasible technology and aware of existing patterns. For each solution, provide a title, a one-sentence summary, and a detailed description.`,a=`Problem Statement: "${t.problemStatement}".
    
Technology & Solution Research:
${JSON.stringify(e,null,2)}

Based on the problem and the research, generate 3 potential solutions.`;i&&(s+=`

You MUST also tailor your solutions to the strengths and style of the founding team. The ideas should be a natural fit for this specific group.`,a+=`

**Founding Team Profile:**
${JSON.stringify(i,null,2)}

Brainstorm solutions that this specific team would be well-suited to build and lead.`),s+=li(n);const o={type:K.OBJECT,properties:{solutions:{type:K.ARRAY,items:{type:K.OBJECT,properties:{id:{type:K.INTEGER},title:{type:K.STRING},summary:{type:K.STRING,description:"A one-sentence summary of the solution."},description:{type:K.STRING,description:"A detailed description of the solution."}},required:["id","title","summary","description"]}}},required:["solutions"]};return gn(Ne.SOLUTION_IDEATION,s,a,o,r)},Y3=(t,e,r)=>{const n=`You are the ${Ne.SOLUTION_CRITIQUE} agent, a dual-persona AI. You will critique a list of solutions from two perspectives:
1.  **Devil's Advocate**: Be pragmatic, skeptical, and risk-averse. Focus on feasibility, market risks, financial viability, and potential implementation hurdles. Your goal is to identify every possible way the solution could fail.
2.  **Steve Jobs**: Be a visionary, product-obsessed, and uncompromising on user experience. Focus on elegance, simplicity, 'wow' factor, and whether the solution is truly magical and compelling for the user. Your goal is to push for a 10x better product.

For EACH solution provided, you must provide a separate critique from BOTH personas. Each critique should include a list of weaknesses and a list of tough, probing questions.`+li(r),i=`Critique the following solutions:

${JSON.stringify(t,null,2)}`,s={type:K.OBJECT,properties:{weaknesses:{type:K.ARRAY,items:{type:K.STRING}},questions:{type:K.ARRAY,items:{type:K.STRING}}},required:["weaknesses","questions"]},a={type:K.ARRAY,items:{type:K.OBJECT,properties:{solutionId:{type:K.INTEGER},devilsAdvocate:s,steveJobs:s},required:["solutionId","devilsAdvocate","steveJobs"]}};return gn(Ne.SOLUTION_CRITIQUE,n,i,a,e)},pP=(t,e,r,n,i,s)=>{const a=`You are the ${Ne.VENTURE_ANALYST}, a sharp and decisive venture capitalist. Your task is to quantitatively score a set of solutions and provide a recommendation.
1.  **Score each solution**: For each solution, provide a score from 1 (terrible) to 10 (game-changing) across these key dimensions: Innovation, Feasibility, Market Fit, Scalability, and Capital Efficiency. If founder DNA is provided, also score on Founder-DNA-Alignment.
2.  **Define Key Advantage Metrics**: Identify 2-3 tangible, quantifiable metrics that best capture the core advantage of these solutions over the status quo (the problem context). For each metric, define its unit, state a baseline value (what exists today), and then provide a projected value for EACH solution.
3.  **Recommend**: Write a concise recommendation explaining which solution you would invest in and why, referencing your scores and the critiques.`+li(i);let o=`Problem Context: "${t.userImpact}"
Solutions: ${JSON.stringify(e.solutions)}
Critiques: ${JSON.stringify(r)}
`;s&&(o+=`
Founder DNA Profile: ${JSON.stringify(s)}`);const l={type:K.OBJECT,properties:{Innovation:{type:K.INTEGER},Feasibility:{type:K.INTEGER},MarketFit:{type:K.INTEGER},Scalability:{type:K.INTEGER},CapitalEfficiency:{type:K.INTEGER},FounderDnaAlignment:{type:K.INTEGER,description:"Score from 1-10 on how well this solution aligns with the team's strengths. 0 if no founder DNA was provided."}},required:["Innovation","Feasibility","MarketFit","Scalability","CapitalEfficiency"]},c={type:K.OBJECT,properties:{scores:{type:K.ARRAY,items:{type:K.OBJECT,properties:{solutionId:{type:K.INTEGER},scores:l},required:["solutionId","scores"]}},recommendationText:{type:K.STRING},recommendedSolutionId:{type:K.INTEGER},keyAdvantageMetrics:{type:K.ARRAY,items:{type:K.OBJECT,properties:{metricName:{type:K.STRING},unit:{type:K.STRING},baselineValue:{type:K.NUMBER},isHigherBetter:{type:K.BOOLEAN},solutionValues:{type:K.ARRAY,items:{type:K.OBJECT,properties:{solutionId:{type:K.INTEGER},value:{type:K.NUMBER}},required:["solutionId","value"]}}},required:["metricName","unit","baselineValue","isHigherBetter","solutionValues"]}}},required:["scores","recommendationText","recommendedSolutionId","keyAdvantageMetrics"]};return gn(Ne.VENTURE_ANALYST,a,o,c,n)},spe=(t,e,r,n,i)=>{const s=`You are the ${Ne.SOLUTION_EVOLUTION} agent, a master synthesizer and product strategist. Your task is to take a recommended solution and evolve it into something even better.
You will receive a ranked list of solutions and their critiques. The user has chosen one to move forward with, which may or may not be the one you initially recommended.
Your job is to:
1.  Take the user's selected solution as the base.
2.  Review the critiques for that solution AND the strengths of the *other* solutions.
3.  Intelligently synthesize the best elements. Can you incorporate a strength from another idea to mitigate a weakness in the chosen one?
4.  Produce an 'evolved' final solution. This isn't just a summary; it's a new, improved version.
5.  Provide a clear title, a detailed description, a justification for why this evolved version is superior, and list its final pros and cons.`+li(i),a=`Analysis of all solutions: ${JSON.stringify(t,null,2)}
Full list of original solutions: ${JSON.stringify(e.solutions,null,2)}
Full list of critiques: ${JSON.stringify(r,null,2)}

The user has selected solution ID #${t.recommendedSolutionId} to proceed with. Please evolve this solution based on all the available information.`,o={type:K.OBJECT,properties:{selectedSolutionId:{type:K.INTEGER,description:"The ID of the original solution that was evolved."},solutionTitle:{type:K.STRING,description:"The new, compelling title for the evolved solution."},solutionDescription:{type:K.STRING,description:"A detailed description of the final, evolved solution."},justification:{type:K.STRING,description:"Explanation of how and why the solution was evolved."},pros:{type:K.ARRAY,items:{type:K.STRING}},cons:{type:K.ARRAY,items:{type:K.STRING}}},required:["selectedSolutionId","solutionTitle","solutionDescription","justification","pros","cons"]};return gn(Ne.SOLUTION_EVOLUTION,s,a,o,n)},ape=async(t,e,r,n,i,s)=>{const a=`You are an AI Product Manager acting as a ${Ne.DEVILS_ADVOCATE}. You will receive a problem, a proposed solution, and a critique of that solution. Your task is to refine and enhance the solution based *only* on the critique provided. Do not introduce new ideas. Address the weaknesses and answer the tough questions.
Your output must be a refined solution title, a refined solution description, and a clear justification for the changes you made, explaining how they address the specific points in the critique.`+li(i);s("Analyzing critique..."),await Cn(1e3);const o=`Problem: "${t}"
Solution Title: "${e.solutionTitle}"
Solution Description: "${e.solutionDescription}"

Critique to address:
- Weaknesses: ${r.weaknesses.join(", ")}
- Questions: ${r.questions.join(", ")}

Now, refine the solution.`;s("Formulating refinement..."),await Cn(1e3);const l={type:K.OBJECT,properties:{refinedSolutionTitle:{type:K.STRING},refinedSolutionDescription:{type:K.STRING},justificationForChange:{type:K.STRING}},required:["refinedSolutionTitle","refinedSolutionDescription","justificationForChange"]},c=await gn(Ne.DEVILS_ADVOCATE,a,o,l,n);return s("Enhancement complete."),c},ope=(t,e,r)=>{const n=`You are the ${Ne.IP_STRATEGIST}, an AI specializing in intellectual property analysis for technology startups. Your task is to analyze a given solution and provide a strategic IP assessment. Use Google Search for a high-level prior art search.`+li(r),i=`Analyze the following solution for its intellectual property potential: "${t}".
Your output must be a structured text report with citations. The report should include:
1.  **Patentability Score**: An estimated score from 1 (not patentable) to 10 (highly patentable), with a brief reasoning.
2.  **Prior Art Summary**: A summary of 2-3 of the most relevant existing patents, products, or papers found via web search. Include titles and links.
3.  **Freedom to Operate (FTO) Signal**: A 'Green', 'Yellow', or 'Red' signal indicating the estimated risk of infringing on existing patents, with reasoning.
4.  **IP Strategy Recommendation**: A high-level recommendation (e.g., pursue utility patent, rely on trade secrets, focus on defensive publication).`,s=async()=>{const o=Sp(e);return await jd.models.generateContent({model:o,contents:i,config:{systemInstruction:n,temperature:.2,tools:[{googleSearch:{}}]}})};return(async()=>{var w,S,B,F,k,O;const o=await s(),l=o.text.trim(),c=(B=(S=(w=o.candidates)==null?void 0:w[0])==null?void 0:S.groundingMetadata)==null?void 0:B.groundingChunks,u=(c==null?void 0:c.map(R=>({uri:R.web.uri,title:R.web.title})).filter((R,D,Q)=>R.uri&&D===Q.findIndex(V=>V.uri===R.uri)))||[],f={input:((F=o.usageMetadata)==null?void 0:F.promptTokenCount)||0,output:((k=o.usageMetadata)==null?void 0:k.candidatesTokenCount)||0,total:((O=o.usageMetadata)==null?void 0:O.totalTokenCount)||0},p="You are a data parsing agent. Convert the provided IP strategy report into a structured JSON object.",g=`Parse the following report:

---START REPORT---
${l}
---END REPORT---`,y={type:K.OBJECT,properties:{patentabilityScore:{type:K.INTEGER},patentabilityReasoning:{type:K.STRING},priorArtSummary:{type:K.ARRAY,items:{type:K.OBJECT,properties:{title:{type:K.STRING},link:{type:K.STRING},summary:{type:K.STRING}},required:["title","link","summary"]}},freedomToOperateSignal:{type:K.STRING,enum:["Green","Yellow","Red"]},freedomToOperateReasoning:{type:K.STRING},ipStrategyRecommendation:{type:K.STRING}},required:["patentabilityScore","patentabilityReasoning","priorArtSummary","freedomToOperateSignal","freedomToOperateReasoning","ipStrategyRecommendation"]},x=await gn(Ne.IP_STRATEGIST,p,g,y,e);return{data:{...x.data,sources:u},usage:Zu(f,x.usage)}})()},lpe=(t,e,r,n)=>{const i=`You are the ${Ne.TALENT_STRATEGIST}, an expert in startup team composition and organizational design. Your task is to analyze the venture's solution and the existing founder DNA to devise a comprehensive talent strategy.
1.  **Ideal Co-Founders**: Based on the solution and the gaps in the current team, define 2-3 ideal co-founder profiles needed for success. For each profile, provide a role title, an archetype (e.g., "The Growth Hacker," "The Deep Tech Scientist"), key responsibilities, required skills, and the complementary traits that would balance the existing team.
2.  **Team Capability Analysis**: Score the 'Current Team' and the 'Ideal Team' (with the new co-founders) from 1-10 across key dimensions: Technical Expertise, Product Vision, Sales & Marketing, Operational Excellence, Fundraising Ability, and Industry Network. Provide a justification for each score.
3.  **Summary**: Write a brief summary of your overall talent strategy.`+li(n),s=`Venture Solution: "${t.solutionTitle}" - ${t.solutionDescription}
Existing Founder DNA: ${JSON.stringify(e)}

Please generate the talent strategy.`,a={type:K.OBJECT,properties:{dimension:{type:K.STRING,enum:["Technical Expertise","Product Vision","Sales & Marketing","Operational Excellence","Fundraising Ability","Industry Network"]},score:{type:K.INTEGER},justification:{type:K.STRING}},required:["dimension","score","justification"]},o={type:K.OBJECT,properties:{summary:{type:K.STRING},idealCoFounders:{type:K.ARRAY,items:{type:K.OBJECT,properties:{roleTitle:{type:K.STRING},archetype:{type:K.STRING},keyResponsibilities:{type:K.ARRAY,items:{type:K.STRING}},requiredSkillsAndExperience:{type:K.ARRAY,items:{type:K.STRING}},complementaryTraits:{type:K.ARRAY,items:{type:K.STRING}}},required:["roleTitle","archetype","keyResponsibilities","requiredSkillsAndExperience","complementaryTraits"]}},teamCapabilityAnalysis:{type:K.OBJECT,properties:{currentTeam:{type:K.ARRAY,items:a},idealTeam:{type:K.ARRAY,items:a}},required:["currentTeam","idealTeam"]}},required:["summary","idealCoFounders","teamCapabilityAnalysis"]};return gn(Ne.TALENT_STRATEGIST,i,s,o,r)},cpe=async(t,e,r,n)=>{var y,x,w;const i=`You are an AI Talent Scout. Your task is to find 3 real-world examples of professionals who fit an ideal co-founder profile for a specific startup. Use Google Search to find public information (like LinkedIn profiles).
For each suggested candidate, provide their name, current role and company, a link to their public profile, and a brief justification for why they are a good fit.
IMPORTANT: This is for inspirational and research purposes only. Do not generate contact information. Focus on publicly available professional profiles.`+li(n),s=`Startup Solution: "${e.solutionTitle}"
Ideal Co-Founder Profile to find:
- Role Title: ${t.roleTitle}
- Archetype: ${t.archetype}
- Key Responsibilities: ${t.keyResponsibilities.join(", ")}
- Required Skills: ${t.requiredSkillsAndExperience.join(", ")}

Find 3 real-world examples.`,o=await(async()=>{const S=Sp(r);return await jd.models.generateContent({model:S,contents:s,config:{systemInstruction:i,temperature:.5,tools:[{googleSearch:{}}]}})})(),l=o.text,c={input:((y=o.usageMetadata)==null?void 0:y.promptTokenCount)||0,output:((x=o.usageMetadata)==null?void 0:x.candidatesTokenCount)||0,total:((w=o.usageMetadata)==null?void 0:w.totalTokenCount)||0},u="You are a data parsing agent. Convert the provided text list of candidates into a structured JSON array.",f=`Parse the following text into a JSON array of suggested candidates:

${l}`,p={type:K.ARRAY,items:{type:K.OBJECT,properties:{name:{type:K.STRING},currentRole:{type:K.STRING},company:{type:K.STRING},profileUrl:{type:K.STRING},justification:{type:K.STRING}},required:["name","currentRole","company","profileUrl","justification"]}},g=await gn("Talent Scout Parser",u,f,p,r);return{data:g.data,usage:Zu(c,g.usage)}},Ape=(t,e,r)=>{const n=`You are the ${Ne.VALUE_PROPOSITION} agent. Your task is to complete the Value Proposition Canvas. Based on the solution, identify the Customer Jobs, their Pains, and their Gains. Then, map the solution's features as Products & Services, Pain Relievers, and Gain Creators.`+li(r),i=`Problem: "${t.problemStatement}"
Solution: "${t.solution}"

Complete the Value Proposition Canvas with 2-4 points per section.`,s={type:K.ARRAY,items:{type:K.STRING}},a={type:K.OBJECT,properties:{customer:{type:K.OBJECT,properties:{gains:s,pains:s,customerJobs:s},required:["gains","pains","customerJobs"]},valueMap:{type:K.OBJECT,properties:{gainCreators:s,painRelievers:s,productsAndServices:s},required:["gainCreators","painRelievers","productsAndServices"]}},required:["customer","valueMap"]};return gn(Ne.VALUE_PROPOSITION,n,i,a,e)},upe=(t,e,r,n)=>{const i=`You are the ${Ne.LEAN_CANVAS} agent. Fill out all 9 sections of the Lean Canvas based on the provided information. Be concise and strategic.`+li(n),s=`Problem: "${t.problemStatement}"
Solution: "${t.solution}"

Value Proposition Canvas: ${JSON.stringify(e,null,2)}

Fill out the Lean Canvas. Provide 1-3 points for each section.`,a={type:K.ARRAY,items:{type:K.STRING}},o={type:K.OBJECT,properties:{problem:a,solution:a,keyMetrics:a,uniqueValueProposition:a,unfairAdvantage:a,channels:a,customerSegments:a,costStructure:a,revenueStreams:a},required:["problem","solution","keyMetrics","uniqueValueProposition","unfairAdvantage","channels","customerSegments","costStructure","revenueStreams"]};return gn(Ne.LEAN_CANVAS,i,s,o,r)},hpe=async(t,e,r,n,i,s)=>{const a=`You are the ${Ne.STORYBOARDING} agent. Create a 5-panel storyboard that tells the customer's journey. For each panel, provide the panel number, a scene description, narration, and a detailed, SFW image prompt for an image generation model. The prompts should describe a visually interesting scene in a consistent style (e.g., 'digital art illustration', 'photorealistic'). The story must follow this arc:
1.  **The Problem**: Show the persona struggling with the problem.
2.  **The Discovery**: The persona discovers your solution.
3.  **The "Aha!" Moment**: The persona uses the solution for the first time and experiences its core value.
4.  **The New Reality**: Show the positive outcome and new state after using the solution.
5.  **The Advocate**: The persona shares their positive experience with others.`+li(s),o=`Persona: ${e.name}, a ${e.occupation}.
Problem: "${t.problemStatement}"
Solution: "${t.solution}"

Create the 5-panel storyboard.`,l={type:K.OBJECT,properties:{panel:{type:K.INTEGER},scene:{type:K.STRING},narration:{type:K.STRING},imagePrompt:{type:K.STRING}},required:["panel","scene","narration","imagePrompt"]},c={type:K.OBJECT,properties:{title:{type:K.STRING},panels:{type:K.ARRAY,items:l}},required:["title","panels"]},u=await gn(Ne.STORYBOARDING,a,o,c,i);let f=Dl();const p=await Promise.all(u.data.panels.map(async g=>{const{imageB64:y,usage:x}=await XB(g.imagePrompt);return f=Zu(f,x),{...g,imageB64:y}}));return{data:{...u.data,panels:p},usage:Zu(u.usage,f)}},fpe=async(t,e,r,n,i)=>{const s=`You are the ${Ne.FINANCIAL_MODELER}, an AI acting as a startup CFO and branding expert. Your task is to create a high-level financial and branding plan.
1.  **Brand Names**: Suggest 5 creative, memorable, and professional brand names.
2.  **Elevator Pitch**: Write a compelling, concise one-paragraph elevator pitch.
3.  **Image Prompt**: Create a detailed, SFW prompt for an abstract, visually stunning 16:9 background image that represents the brand essence.
4.  **Cost Breakdown**: Identify the top 5-7 major annual cost categories and estimate their costs in USD.
5.  **Market Size**: Estimate the TAM, SAM, and SOM in USD, and cite a reference for your calculation methodology.
6.  **Cash Flow Model**: Generate a complete 5-year cash flow model, including all assumptions and final valuation metrics (Enterprise Value, NPV, IRR).`+li(n),a=`Venture Context:
- Problem: ${t.problemStatement}
- Solution: ${t.solution}
- Target Market: ${t.targetMarket}
- Lean Canvas: ${JSON.stringify(e,null,2)}

Now, generate the full financial and branding plan.`,o={type:K.OBJECT,properties:{suggestedBrandNames:{type:K.ARRAY,items:{type:K.STRING}},elevatorPitch:{type:K.STRING},elevatorPitchImagePrompt:{type:K.STRING},costBreakdown:{type:K.ARRAY,items:{type:K.OBJECT,properties:{category:{type:K.STRING},description:{type:K.STRING},estimatedAnnualCost:{type:K.STRING}},required:["category","description","estimatedAnnualCost"]}},marketSize:{type:K.OBJECT,properties:{potentialAddressableMarket:{type:K.STRING},totalAddressableMarket:{type:K.STRING},serviceableAvailableMarket:{type:K.STRING},serviceableObtainableMarket:{type:K.STRING},calculationReference:{type:K.STRING}},required:["potentialAddressableMarket","totalAddressableMarket","serviceableAvailableMarket","serviceableObtainableMarket","calculationReference"]},cashFlowModel:NL},required:["suggestedBrandNames","elevatorPitch","elevatorPitchImagePrompt","costBreakdown","marketSize","cashFlowModel"]},l=await gn(Ne.FINANCIAL_MODELER,s,a,o,r),{imageB64:c,usage:u}=await XB(l.data.elevatorPitchImagePrompt,"16:9");return{data:{...l.data,selectedBrandName:i||l.data.suggestedBrandNames[0]||"InnovateX",elevatorPitchImageB64:c},usage:Zu(l.usage,u)}},dpe=(t,e,r,n,i)=>{const s=`You are the ${Ne.STRATEGY} agent. Conduct a SWOT analysis and analyze the competitive landscape to define the venture's Unfair Advantage.`+li(i),a=`Venture: "${t.solution}"

Lean Canvas: ${JSON.stringify(e,null,2)}

Initial Research: ${JSON.stringify(r,null,2)}

Provide the strategic analysis.`,o={type:K.OBJECT,properties:{strengths:{type:K.ARRAY,items:{type:K.STRING}},weaknesses:{type:K.ARRAY,items:{type:K.STRING}},opportunities:{type:K.ARRAY,items:{type:K.STRING}},threats:{type:K.ARRAY,items:{type:K.STRING}}},required:["strengths","weaknesses","opportunities","threats"]},l={type:K.OBJECT,properties:{swotAnalysis:o,unfairAdvantage:{type:K.STRING},competitors:{type:K.ARRAY,items:{type:K.OBJECT,properties:{name:{type:K.STRING},description:{type:K.STRING},keyProduct:{type:K.STRING},businessModel:{type:K.STRING},strengths:{type:K.ARRAY,items:{type:K.STRING}},weaknesses:{type:K.ARRAY,items:{type:K.STRING}},differentiationOpportunity:{type:K.STRING}},required:["name","description","keyProduct","businessModel","strengths","weaknesses","differentiationOpportunity"]}}},required:["swotAnalysis","unfairAdvantage","competitors"]};return gn(Ne.STRATEGY,s,a,l,n)},ppe=(t,e,r)=>{const n=`You are the ${Ne.RISK_ANALYSIS} agent. Identify potential Market, Financial, Technical, and Operational risks. For each risk, assess its Likelihood and Impact (Low, Medium, High) and propose a mitigation strategy.`+li(r),i=`Venture: "${t.solution}"

Identify the key risks and their mitigations.`,s={type:K.OBJECT,properties:{risk:{type:K.STRING},category:{type:K.STRING,enum:["Market","Financial","Technical","Operational"]},likelihood:{type:K.STRING,enum:["Low","Medium","High"]},impact:{type:K.STRING,enum:["Low","Medium","High"]},mitigation:{type:K.STRING}},required:["risk","category","likelihood","impact","mitigation"]},a={type:K.OBJECT,properties:{riskSummary:{type:K.STRING},risks:{type:K.ARRAY,items:s}},required:["riskSummary","risks"]};return gn(Ne.RISK_ANALYSIS,n,i,a,e)},gpe=(t,e,r)=>{const n=`You are the ${Ne.TECHNICAL_BLUEPRINT} agent. Your task is to create a strategic product and technical plan.
1.  **Architecture Overview**: Briefly describe the high-level architecture.
2.  **Tech Stack**: Recommend a technology stack for each layer (Frontend, Backend, etc.).
3.  **MVP Definition**: Create a detailed definition of the Minimum Viable Product (MVP). This MUST include a concise summary of its purpose, a bulleted list of the absolute core features, and a list of key metrics to validate the MVP's success.
4.  **Product Roadmap**: Create a phased roadmap (MVP, V1, V2). For each phase, define the strategic goals and list the key features to be built. The MVP features in the roadmap should align with your MVP definition.
5.  **Roadmap Visualization**: Generate a Mermaid.js 'gantt' chart diagram to visualize this roadmap.
6.  **AI Core Specification**: If relevant, describe the AI approach.
7.  **Validation Strategy**: Outline how to validate the product at different stages.`+li(r),i=`Solution: "${t.solution}"

Provide the strategic product and technical blueprint. Ensure the Mermaid.js code for the Gantt chart is valid and correctly represents the phased roadmap.`,s={type:K.OBJECT,properties:{phase:{type:K.STRING,enum:["MVP (0-3 months)","V1 (3-6 months)","V2 (6-12 months)"]},strategicGoals:{type:K.ARRAY,items:{type:K.STRING}},features:{type:K.ARRAY,items:{type:K.STRING}}},required:["phase","strategicGoals","features"]},a={type:K.OBJECT,properties:{summary:{type:K.STRING,description:"A concise summary of the MVP's purpose and target user."},coreFeatures:{type:K.ARRAY,items:{type:K.STRING},description:"A bulleted list of the absolute essential features for the MVP."},successMetrics:{type:K.ARRAY,items:{type:K.STRING},description:"Key metrics to validate the MVP's success (e.g., 'User retention rate > 20% after 1 week')."}},required:["summary","coreFeatures","successMetrics"]},o={type:K.OBJECT,properties:{architectureOverview:{type:K.STRING},techStack:{type:K.ARRAY,items:{type:K.OBJECT,properties:{layer:{type:K.STRING,enum:["Frontend","Backend","Database","Cloud/Hosting","Key Libraries"]},technology:{type:K.STRING},reason:{type:K.STRING}},required:["layer","technology","reason"]}},mvpDefinition:a,productRoadmap:{type:K.ARRAY,items:s},productRoadmapMermaidCode:{type:K.STRING,description:"Mermaid.js code for a 'gantt' chart to visualize the product roadmap."},aiCoreSpecification:{type:K.OBJECT,properties:{approach:{type:K.STRING},reasoning:{type:K.STRING}},required:["approach","reasoning"]},validationStrategy:{type:K.ARRAY,items:{type:K.OBJECT,properties:{phase:{type:K.STRING},objective:{type:K.STRING},methodology:{type:K.STRING}},required:["phase","objective","methodology"]}}},required:["architectureOverview","techStack","mvpDefinition","productRoadmap","productRoadmapMermaidCode","aiCoreSpecification","validationStrategy"]};return gn(Ne.TECHNICAL_BLUEPRINT,n,i,o,e)},mpe=(t,e,r)=>{const n=`You are the ${Ne.GO_TO_MARKET} agent. Create a comprehensive Go-to-Market strategy, including launch summary, target channels, key messaging, timelines, ad copy, content calendar, expansion roadmap, and a customer journey map.`+li(r),i=`Venture: "${t.solution}" targeting ${t.targetMarket}.

Develop the GTM strategy. The market expansion roadmap mermaid code must be a valid 'graph TD' diagram.`,s={type:K.OBJECT,properties:{launchStrategySummary:{type:K.STRING},initialTargetCustomer:{type:K.OBJECT,properties:{segment:{type:K.STRING},justification:{type:K.STRING}},required:["segment","justification"]},impactMetrics:{type:K.ARRAY,items:{type:K.OBJECT,properties:{metric:{type:K.STRING},target:{type:K.STRING},measurementMethod:{type:K.STRING}},required:["metric","target","measurementMethod"]}},targetChannels:{type:K.ARRAY,items:{type:K.OBJECT,properties:{channel:{type:K.STRING},strategy:{type:K.STRING},kpis:{type:K.STRING}},required:["channel","strategy","kpis"]}},keyMessaging:{type:K.OBJECT,properties:{slogan:{type:K.STRING},messagePoints:{type:K.ARRAY,items:{type:K.STRING}}},required:["slogan","messagePoints"]},launchTimeline:{type:K.ARRAY,items:{type:K.OBJECT,properties:{phase:{type:K.STRING,enum:["Pre-Launch","Beta Launch","Public Launch"]},activities:{type:K.ARRAY,items:{type:K.STRING}},duration:{type:K.STRING}},required:["phase","activities","duration"]}},sampleAdCopy:{type:K.ARRAY,items:{type:K.OBJECT,properties:{channel:{type:K.STRING},headline:{type:K.STRING},body:{type:K.STRING}},required:["channel","headline","body"]}},contentCalendar:{type:K.ARRAY,items:{type:K.OBJECT,properties:{week:{type:K.STRING},theme:{type:K.STRING},samplePost:{type:K.STRING}},required:["week","theme","samplePost"]}},marketExpansionRoadmap:{type:K.ARRAY,items:{type:K.OBJECT,properties:{market:{type:K.STRING},timeframe:{type:K.STRING},justification:{type:K.STRING},strategicGoals:{type:K.ARRAY,items:{type:K.STRING}}},required:["market","timeframe","justification","strategicGoals"]}},expansionRoadmapMermaidCode:{type:K.STRING,description:"Mermaid.js code for a 'graph TD' timeline diagram."},customerJourneyMap:{type:K.ARRAY,items:{type:K.OBJECT,properties:{stageName:{type:K.STRING,enum:["Awareness","Consideration","Purchase","Service","Loyalty"]},customerGoals:{type:K.ARRAY,items:{type:K.STRING}},touchpoints:{type:K.ARRAY,items:{type:K.STRING}},customerExperience:{type:K.STRING}},required:["stageName","customerGoals","touchpoints","customerExperience"]}}},required:["launchStrategySummary","initialTargetCustomer","impactMetrics","targetChannels","keyMessaging","launchTimeline","sampleAdCopy","contentCalendar","marketExpansionRoadmap","expansionRoadmapMermaidCode","customerJourneyMap"]};return gn(Ne.GO_TO_MARKET,n,i,s,e)},ype=async(t,e,r)=>{const n=`You are the ${Ne.PITCH_DECK} agent, a world-class venture capitalist and startup pitch coach.
Your task is to synthesize the provided venture report into a strictly structured, investor-ready 10-slide pitch deck (based on the Sequoia/Y Combinator standard).

**Crucial:**
1. Populate each slide with specific details, data, and evidence found in the provided report. Do not use generic placeholders.
2. For EVERY slide, write a detailed 'imagePrompt' that describes a visually compelling, professional image to accompany the slide content. The style should be modern, minimalist, and suitable for a high-stakes presentation.

**Structure Requirements:**
1. **Title Slide**: Venture Name, Tagline, and Vision. Image: Abstract, visionary representation of the core concept.
2. **The Problem**: Define the pain point and who has it. Image: A scene depicting the user's struggle or the magnitude of the problem.
3. **The Solution**: Describe the product and value prop. Image: A sleek product mockup or a diagram of the solution in action.
4. **Why Now?**: Trends and timing. Image: A metaphorical representation of momentum, timing, or a trend wave.
5. **Market Size**: TAM, SAM, SOM. Image: A visualized market map or growth chart concept.
6. **Competition**: The landscape and your Unfair Advantage. Image: A chessboard, race track, or positioning matrix concept.
7.  **Product**: Key features and Roadmap. Image: A feature highlight or a roadmap timeline visualization.
8.  **Business Model**: How you make money. Image: An ecosystem diagram or a value exchange illustration.
9.  **The Team**: Founder superpowers and gaps. Image: A dynamic team silhouette or collaboration concept.
10. **Financials & Ask**: Projections and funding request. Image: An upward trending financial graph or a rocket taking off.

Also, write a powerful 2-3 sentence Executive Summary.`+li(r),i=`Venture Data Report:
${JSON.stringify(t,null,2)}

Create the 10-slide pitch deck following the strict structure defined in the system instructions.`,s={type:K.OBJECT,properties:{heading:{type:K.STRING},points:{type:K.ARRAY,items:{type:K.STRING}}},required:["heading","points"]},a={type:K.OBJECT,properties:{executiveSummary:{type:K.STRING},slides:{type:K.ARRAY,items:{type:K.OBJECT,properties:{slideNumber:{type:K.INTEGER},title:{type:K.STRING},content:{type:K.ARRAY,items:s},imagePrompt:{type:K.STRING,description:"A detailed prompt for generating a background or accompanying image for this slide."}},required:["slideNumber","title","content","imagePrompt"]}}},required:["executiveSummary","slides"]},o=await gn(Ne.PITCH_DECK,n,i,a,e);let l=Dl();const c=await Promise.all(o.data.slides.map(async u=>{const{imageB64:f,usage:p}=await hV(u.imagePrompt);return l=Zu(l,p),{...u,imageB64:f}}));return{data:{...o.data,slides:c},usage:Zu(o.usage,l)}},xpe=(t,e,r)=>{const n=`You are the ${Ne.INVESTMENT_MEMO} agent, a Venture Capital analyst. Your task is to synthesize the provided venture plan into a professional, structured investment memorandum suitable for a VC investment committee. Be concise, analytical, and objective.`+li(r),i=`Venture Plan Data:
${JSON.stringify(t,null,2)}

Generate the investment memo.`,s={type:K.OBJECT,properties:{executiveSummary:{type:K.STRING},problemAndSolution:{type:K.OBJECT,properties:{problem:{type:K.STRING},solution:{type:K.STRING}},required:["problem","solution"]},marketOpportunity:{type:K.OBJECT,properties:{summary:{type:K.STRING},marketSize:{type:K.STRING}},required:["summary","marketSize"]},product:{type:K.OBJECT,properties:{description:{type:K.STRING},unfairAdvantage:{type:K.STRING}},required:["description","unfairAdvantage"]},team:{type:K.OBJECT,properties:{summary:{type:K.STRING},strengths:{type:K.ARRAY,items:{type:K.STRING}}},required:["summary","strengths"]},goToMarketStrategy:{type:K.OBJECT,properties:{summary:{type:K.STRING}},required:["summary"]},financialsSummary:{type:K.OBJECT,properties:{summary:{type:K.STRING},keyProjections:{type:K.ARRAY,items:{type:K.OBJECT,properties:{metric:{type:K.STRING},value:{type:K.STRING}},required:["metric","value"]}}},required:["summary","keyProjections"]},dealAndAsk:{type:K.OBJECT,properties:{ask:{type:K.STRING},useOfFunds:{type:K.STRING}},required:["ask","useOfFunds"]},investmentThesis:{type:K.ARRAY,items:{type:K.STRING}},keyRisks:{type:K.ARRAY,items:{type:K.STRING}}},required:["executiveSummary","problemAndSolution","marketOpportunity","product","team","goToMarketStrategy","financialsSummary","dealAndAsk","investmentThesis","keyRisks"]};return gn(Ne.INVESTMENT_MEMO,n,i,s,e)},vpe=(t,e,r)=>{const n="You are a Red Team agent, a ruthless competitive strategist. Your goal is to simulate a well-funded competitor and devise a strategy to crush the user's venture. Analyze the provided venture plan, identify its weaknesses, and create a multi-pronged counter-attack."+li(r),i=`Venture Plan to attack:
${JSON.stringify(t,null,2)}

Now, define your competitor profile and counter-strategy.`,s={type:K.OBJECT,properties:{competitorProfile:{type:K.OBJECT,properties:{name:{type:K.STRING},description:{type:K.STRING}},required:["name","description"]},counterStrategySummary:{type:K.STRING},keyVulnerabilitiesExploited:{type:K.ARRAY,items:{type:K.STRING}},productFlank:{type:K.OBJECT,properties:{strategy:{type:K.STRING},features:{type:K.ARRAY,items:{type:K.STRING}}},required:["strategy","features"]},marketingBlitz:{type:K.OBJECT,properties:{strategy:{type:K.STRING},tactics:{type:K.ARRAY,items:{type:K.STRING}}},required:["strategy","tactics"]},pricingPressure:{type:K.OBJECT,properties:{strategy:{type:K.STRING},details:{type:K.STRING}},required:["strategy","details"]}},required:["competitorProfile","counterStrategySummary","keyVulnerabilitiesExploited","productFlank","marketingBlitz","pricingPressure"]};return gn("Red Team",n,i,s,e)},wpe=(t,e,r)=>{const n=`You are the ${Ne.ETHICS_ORACLE}. Your task is to perform an ethics and compliance audit on the provided venture plan. Score the venture's risk as 'Green', 'Yellow', or 'Red' across key dimensions, provide explanations, and offer actionable recommendations. If you find a severe, unavoidable ethical issue, include a 'Red Flag Warning'.`+li(r),i=`Venture Plan to audit:
${JSON.stringify(t,null,2)}

Perform the ethics audit.`,s={type:K.OBJECT,properties:{dimension:{type:K.STRING,enum:["Data Privacy & Security","Bias & Fairness","Environmental Sustainability","Social Equity & Inclusion","Regulatory Compliance Risk"]},score:{type:K.STRING,enum:["Green","Yellow","Red"]},explanation:{type:K.STRING}},required:["dimension","score","explanation"]},a={type:K.OBJECT,properties:{scores:{type:K.ARRAY,items:s},recommendations:{type:K.ARRAY,items:{type:K.STRING}},redFlagWarning:{type:K.STRING,description:"Only include this field if a critical, un-mitigatable ethical flaw is discovered."}},required:["scores","recommendations"]};return gn(Ne.ETHICS_ORACLE,n,i,a,e)},bpe=(t,e,r)=>{const n=`You are the ${Ne.SUCCESS_SCORE_ANALYSIS}, acting as a seasoned venture capitalist. Your task is to provide a predictive success score for the entire venture plan.
1.  **Overall Score**: Provide a score out of 1000.
2.  **Score Justification**: Explain your reasoning for the overall score.
3.  **Score Level**: Categorize the score as 'Low', 'Medium', 'High', or 'Excellent'.
4.  **Pillar Scores**: Score the venture from 1-100 on four pillars: Desirability (market need), Feasibility (can it be built), Viability (business sense), and Impact Integrity (ethical/ESG). Provide a summary for each.
5.  **Strengths & Improvements**: List the key strengths and areas for improvement.
6.  **Recommendations**: Provide actionable recommendations for the founders.`+li(r),i=`Analyze the following complete venture plan and provide a success score.

${JSON.stringify(t,null,2)}`,s={type:K.OBJECT,properties:{overallScore:{type:K.INTEGER},scoreJustification:{type:K.STRING},scoreLevel:{type:K.STRING,enum:["Low","Medium","High","Excellent"]},pillarScores:{type:K.ARRAY,items:{type:K.OBJECT,properties:{pillar:{type:K.STRING,enum:["Desirability","Feasibility","Viability","Impact Integrity"]},score:{type:K.INTEGER},summary:{type:K.STRING}},required:["pillar","score","summary"]}},keyStrengths:{type:K.ARRAY,items:{type:K.STRING}},areasForImprovement:{type:K.ARRAY,items:{type:K.STRING}},recommendations:{type:K.ARRAY,items:{type:K.STRING}}},required:["overallScore","scoreJustification","scoreLevel","pillarScores","keyStrengths","areasForImprovement","recommendations"]};return gn(Ne.SUCCESS_SCORE_ANALYSIS,n,i,s,e)},Cpe=(t,e,r,n)=>{const i=`You are a financial analyst specializing in scenario modeling for startups. You will be given a base financial model. Your task is to generate two alternative scenarios: 'Best Case' and 'Worst Case'.
For each scenario:
1.  **State the Scenario Type**.
2.  **Summarize Assumptions**: Briefly explain the key assumption changes you made for this scenario (e.g., "Assumes faster market adoption and lower customer acquisition costs").
3.  **Generate a New Cash Flow Model**: Recalculate the entire 5-year cash flow model based on these new assumptions. The structure must match the original model exactly.`+li(n),s=`Base Venture & Financials:
- Problem: ${t.problemStatement}
- Solution: ${t.solution}
- Base Cash Flow Model: ${JSON.stringify(e.cashFlowModel)}

Generate the 'Best Case' and 'Worst Case' scenarios.`,a={type:K.ARRAY,items:{type:K.OBJECT,properties:{scenarioType:{type:K.STRING,enum:["Best Case","Worst Case"]},summaryOfAssumptions:{type:K.STRING},cashFlowModel:NL},required:["scenarioType","summaryOfAssumptions","cashFlowModel"]}};return gn("Financial Scenario Modeler",i,s,a,r)},Spe=async(t,e,r,n)=>{var a,o,l,c;r("Initializing video generation...");let i;try{const u=new TL({apiKey:"PLACEHOLDER_API_KEY"}),f=`Create a short video based on this storyboard: ${t.title}. The story is: ${t.panels.map(g=>g.narration).join(". ")}. Style should be: ${t.panels[0].imagePrompt}.`,p=e==="fast"?"veo-3.1-fast-generate-preview":"veo-3.1-generate-preview";for(i=await u.models.generateVideos({model:p,prompt:f,config:{numberOfVideos:1,resolution:"720p",aspectRatio:"16:9"}}),r("Video generation started. This may take a few minutes...");!i.done;){if(n.aborted)throw new DOMException("Aborted","AbortError");await new Promise(g=>setTimeout(g,1e4)),i=await u.operations.getVideosOperation({operation:i}),r(`Checking status... (State: ${i.state})`)}if(i.error)throw new Error(`Video generation failed: ${i.error.message}`)}catch(u){throw u instanceof DOMException&&u.name==="AbortError"?r("Video generation cancelled."):(console.error("Video generation failed:",u),r("An error occurred during video generation.")),u}r("Video generated successfully.");const s=(c=(l=(o=(a=i.response)==null?void 0:a.generatedVideos)==null?void 0:o[0])==null?void 0:l.video)==null?void 0:c.uri;if(!s)throw new Error("Video generation completed, but no download link was found.");return{data:{videoUrl:s},usage:Dl()}},_pe=(t,e)=>{const r="You are a research assistant. Your task is to find professional information about a person online using Google Search and summarize it in a concise paragraph. Focus on their career, expertise, and accomplishments. If no relevant professional information is found, state that clearly.",n=`Find professional information about "${t}" and provide a summary.`;return(async()=>{var u,f,p;const s=Sp(e),a=await jd.models.generateContent({model:s,contents:n,config:{systemInstruction:r,temperature:.2,tools:[{googleSearch:{}}]}}),o=a.text.trim(),l={input:((u=a.usageMetadata)==null?void 0:u.promptTokenCount)||0,output:((f=a.usageMetadata)==null?void 0:f.candidatesTokenCount)||0,total:((p=a.usageMetadata)==null?void 0:p.totalTokenCount)||0};return{data:{summary:o.toLowerCase().includes("no professional information found")||o.toLowerCase().includes("could not find any professional information")?null:o},usage:l}})()},Epe=(t,e,r)=>{const n=`You are an expert organizational psychologist and VC talent partner. Your task is to analyze a personality or strengths report for a startup founder.
Based on the text, you must:
1.  **Score Capabilities**: Rate the founder from 0.0 to 1.0 on four key startup capability clusters: 'vision_opportunity' (strategic thinking, market sense), 'execution_delivery' (getting things done, operational skill), 'people_culture' (leadership, team building), and 'depth_rigor' (analytical skill, deep thinking).
2.  **Score Role Fit**: Rate the founder's fit from 0.0 to 1.0 for five key startup roles: CEO, CTO, COO, CPO, and Head of People.
3.  **Write a Headline**: A short, powerful summary of the founder's archetype (e.g., "The Visionary Product-Led Founder").
4.  **Write a Summary**: A concise paragraph summarizing their profile.
5.  **List Top Strengths**: Identify their top 3-4 most prominent strengths.
6.  **List Watchouts**: Identify 2-3 potential risks or areas for development.
7.  **Give Advice**: Provide one piece of actionable advice for the founder.`,i=`Analyze the following report for the founder named "${t}":

--- REPORT START ---
${e}
--- REPORT END ---`,s={type:K.NUMBER,description:"A score from 0.0 (low) to 1.0 (high)"},a={type:K.OBJECT,properties:{founder_name:{type:K.STRING},capability_scores:{type:K.OBJECT,properties:{vision_opportunity:s,execution_delivery:s,people_culture:s,depth_rigor:s},required:["vision_opportunity","execution_delivery","people_culture","depth_rigor"]},role_fit:{type:K.OBJECT,properties:{CEO:s,CTO:s,COO:s,CPO:s,Head_of_People:s},required:["CEO","CTO","COO","CPO","Head_of_People"]},headline:{type:K.STRING},summary:{type:K.STRING},top_strengths:{type:K.ARRAY,items:{type:K.STRING}},watchouts:{type:K.ARRAY,items:{type:K.STRING}},advice:{type:K.STRING}},required:["founder_name","capability_scores","role_fit","headline","summary","top_strengths","watchouts","advice"]};return gn("Founder Report Analyzer",n,i,a,r)},Bpe=(t,e,r,n,i)=>{const s="You are an AI financial modeler. You will receive a set of financial assumptions. Your task is to generate a complete 5-year cash flow model and calculate the final valuation metrics (Enterprise Value, NPV, IRR). Do not change the assumptions; simply perform the calculations based on the inputs provided."+li(i),a=`Venture Context:
- Problem: ${t.problemStatement}
- Solution: ${e.elevatorPitch}

Financial Assumptions:
${JSON.stringify(r,null,2)}

Now, generate the cash flow model and valuation based *only* on these assumptions.`;return gn("Cash Flow Modeler",s,a,NL,n)},Tpe="XinovatesDB",Npe=2,dc="users",P0="runs",H0="agentTimings";let o5;const fc=()=>new Promise((t,e)=>{if(o5)return t(o5);const r=indexedDB.open(Tpe,Npe);r.onerror=n=>{console.error("IndexedDB error:",r.error),e("IndexedDB error")},r.onsuccess=n=>{o5=r.result,t(o5)},r.onupgradeneeded=n=>{const i=r.result;i.objectStoreNames.contains(dc)||i.createObjectStore(dc,{keyPath:"username"}),i.objectStoreNames.contains(P0)||i.createObjectStore(P0,{keyPath:"id"}).createIndex("by_username","username",{unique:!1}),i.objectStoreNames.contains(H0)||i.createObjectStore(H0,{keyPath:"id"})}}),Uh={getUser:async t=>{const r=(await fc()).transaction(dc,"readonly").objectStore(dc);return new Promise((n,i)=>{const s=r.get(t.toLowerCase());s.onsuccess=()=>n(s.result),s.onerror=()=>i(s.error)})},getAllUsers:async()=>{const e=(await fc()).transaction(dc,"readonly").objectStore(dc);return new Promise((r,n)=>{const i=e.getAll();i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},addUser:async t=>{const r=(await fc()).transaction(dc,"readwrite");return r.objectStore(dc).add({...t,username:t.username.toLowerCase()}),new Promise((i,s)=>{r.oncomplete=()=>i(),r.onerror=()=>s(r.error)})},updateUser:async t=>{const r=(await fc()).transaction(dc,"readwrite");return r.objectStore(dc).put(t),new Promise((i,s)=>{r.oncomplete=()=>i(),r.onerror=()=>s(r.error)})},deleteUser:async t=>{const r=(await fc()).transaction(dc,"readwrite");return r.objectStore(dc).delete(t.toLowerCase()),new Promise((i,s)=>{r.oncomplete=()=>i(),r.onerror=()=>s(r.error)})},incrementUserRunCount:async t=>{const n=(await fc()).transaction(dc,"readwrite").objectStore(dc),i=t.toLowerCase();return new Promise((s,a)=>{const o=n.get(i);o.onsuccess=()=>{const l=o.result;if(!l){a("User not found");return}if(typeof l.runCount>"u"&&(l.runCount=0),typeof l.maxRuns>"u"&&(l.maxRuns=5),l.runCount>=l.maxRuns){a("Quota exceeded");return}l.runCount+=1;const c=n.put(l);c.onsuccess=()=>s(l.runCount),c.onerror=()=>a(c.error)},o.onerror=()=>a(o.error)})},getRuns:async t=>{const n=(await fc()).transaction(P0,"readonly").objectStore(P0).index("by_username");return new Promise((i,s)=>{const a=n.getAll(t);a.onsuccess=()=>{const o=a.result.sort((l,c)=>new Date(c.savedAt).getTime()-new Date(l.savedAt).getTime());i(o)},a.onerror=()=>s(a.error)})},addOrUpdateRun:async t=>{const r=(await fc()).transaction(P0,"readwrite");return r.objectStore(P0).put(t),new Promise((i,s)=>{r.oncomplete=()=>i(),r.onerror=()=>s(r.error)})},deleteRun:async t=>{const r=(await fc()).transaction(P0,"readwrite");return r.objectStore(P0).delete(t),new Promise((i,s)=>{r.oncomplete=()=>i(),r.onerror=()=>s(r.error)})},getAgentTiming:async t=>{const r=(await fc()).transaction(H0,"readonly").objectStore(H0);return new Promise((n,i)=>{const s=r.get(t);s.onsuccess=()=>n(s.result),s.onerror=()=>i(s.error)})},getAllAgentTimings:async()=>{const e=(await fc()).transaction(H0,"readonly").objectStore(H0);return new Promise((r,n)=>{const i=e.getAll();i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},updateAgentTiming:async t=>{const r=(await fc()).transaction(H0,"readwrite");return r.objectStore(H0).put(t),new Promise((i,s)=>{r.oncomplete=()=>i(),r.onerror=()=>s(r.error)})},clearStore:async t=>{const r=(await fc()).transaction(t,"readwrite");return r.objectStore(t).clear(),new Promise((i,s)=>{r.oncomplete=()=>i(),r.onerror=()=>s(r.error)})}};fc().catch(t=>console.error("Failed to open IndexedDB on startup:",t));const T0="xinovates_currentUser",xs={getUser:async t=>{try{const e=await Uh.getUser(t);return e&&(typeof e.runCount>"u"&&(e.runCount=0),typeof e.maxRuns>"u"&&(e.maxRuns=5)),e}catch(e){console.error("IDB getUser failed:",e);return}},getAllUsers:async()=>{try{return await Uh.getAllUsers()}catch(t){return console.error("IDB getAllUsers failed:",t),[]}},addUser:async t=>{try{return await Uh.getUser(t.username)?!1:(await Uh.addUser(t),!0)}catch(e){return console.error("IDB addUser failed:",e),!1}},updateUser:async t=>{try{await Uh.updateUser(t)}catch(e){console.error("IDB updateUser failed:",e)}},deleteUser:async t=>{try{await Uh.deleteUser(t)}catch(e){console.error("IDB deleteUser failed:",e)}},incrementRunCount:async t=>{try{return await Uh.incrementUserRunCount(t)}catch(e){return console.error("IDB incrementRunCount failed:",e),null}},getCurrentUser:()=>{try{const t=localStorage.getItem(T0)||sessionStorage.getItem(T0);return t?JSON.parse(t):null}catch(t){return console.error("Could not access web storage:",t),null}},setCurrentUser:(t,e)=>{try{const r=JSON.stringify(t);e?(sessionStorage.removeItem(T0),localStorage.setItem(T0,r)):(localStorage.removeItem(T0),sessionStorage.setItem(T0,r))}catch(r){console.error("Could not access web storage:",r)}},clearCurrentUser:()=>{try{localStorage.removeItem(T0),sessionStorage.removeItem(T0)}catch(t){console.error("Could not access web storage:",t)}},getRuns:async t=>{try{return await Uh.getRuns(t)}catch(e){return console.error("IDB getRuns failed:",e),[]}},saveRun:async t=>{try{await Uh.addOrUpdateRun(t)}catch(e){console.error("IDB saveRun failed:",e),alert("Failed to save run. Your browser's storage might be full or disabled.")}},deleteRun:async t=>{try{await Uh.deleteRun(t)}catch(e){console.error("IDB deleteRun failed:",e)}}},vs=()=>d.jsx("div",{className:"w-5 h-5 border-2 border-t-transparent border-white rounded-full animate-spin"});var gP={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},f_={exports:{}},Fpe=f_.exports,mP;function Ipe(){return mP||(mP=1,(function(t,e){(function(r,n){t.exports=n()})(Fpe,(function(){var r=1e3,n=6e4,i=36e5,s="millisecond",a="second",o="minute",l="hour",c="day",u="week",f="month",p="quarter",g="year",y="date",x="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,B={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Z){var se=["th","st","nd","rd"],X=Z%100;return"["+Z+(se[(X-20)%10]||se[X]||se[0])+"]"}},F=function(Z,se,X){var ee=String(Z);return!ee||ee.length>=se?Z:""+Array(se+1-ee.length).join(X)+Z},k={s:F,z:function(Z){var se=-Z.utcOffset(),X=Math.abs(se),ee=Math.floor(X/60),te=X%60;return(se<=0?"+":"-")+F(ee,2,"0")+":"+F(te,2,"0")},m:function Z(se,X){if(se.date()<X.date())return-Z(X,se);var ee=12*(X.year()-se.year())+(X.month()-se.month()),te=se.clone().add(ee,f),Ce=X-te<0,ke=se.clone().add(ee+(Ce?-1:1),f);return+(-(ee+(X-te)/(Ce?te-ke:ke-te))||0)},a:function(Z){return Z<0?Math.ceil(Z)||0:Math.floor(Z)},p:function(Z){return{M:f,y:g,w:u,d:c,D:y,h:l,m:o,s:a,ms:s,Q:p}[Z]||String(Z||"").toLowerCase().replace(/s$/,"")},u:function(Z){return Z===void 0}},O="en",R={};R[O]=B;var D="$isDayjsObject",Q=function(Z){return Z instanceof H||!(!Z||!Z[D])},V=function Z(se,X,ee){var te;if(!se)return O;if(typeof se=="string"){var Ce=se.toLowerCase();R[Ce]&&(te=Ce),X&&(R[Ce]=X,te=Ce);var ke=se.split("-");if(!te&&ke.length>1)return Z(ke[0])}else{var le=se.name;R[le]=se,te=le}return!ee&&te&&(O=te),te||!ee&&O},re=function(Z,se){if(Q(Z))return Z.clone();var X=typeof se=="object"?se:{};return X.date=Z,X.args=arguments,new H(X)},P=k;P.l=V,P.i=Q,P.w=function(Z,se){return re(Z,{locale:se.$L,utc:se.$u,x:se.$x,$offset:se.$offset})};var H=(function(){function Z(X){this.$L=V(X.locale,null,!0),this.parse(X),this.$x=this.$x||X.x||{},this[D]=!0}var se=Z.prototype;return se.parse=function(X){this.$d=(function(ee){var te=ee.date,Ce=ee.utc;if(te===null)return new Date(NaN);if(P.u(te))return new Date;if(te instanceof Date)return new Date(te);if(typeof te=="string"&&!/Z$/i.test(te)){var ke=te.match(w);if(ke){var le=ke[2]-1||0,M=(ke[7]||"0").substring(0,3);return Ce?new Date(Date.UTC(ke[1],le,ke[3]||1,ke[4]||0,ke[5]||0,ke[6]||0,M)):new Date(ke[1],le,ke[3]||1,ke[4]||0,ke[5]||0,ke[6]||0,M)}}return new Date(te)})(X),this.init()},se.init=function(){var X=this.$d;this.$y=X.getFullYear(),this.$M=X.getMonth(),this.$D=X.getDate(),this.$W=X.getDay(),this.$H=X.getHours(),this.$m=X.getMinutes(),this.$s=X.getSeconds(),this.$ms=X.getMilliseconds()},se.$utils=function(){return P},se.isValid=function(){return this.$d.toString()!==x},se.isSame=function(X,ee){var te=re(X);return this.startOf(ee)<=te&&te<=this.endOf(ee)},se.isAfter=function(X,ee){return re(X)<this.startOf(ee)},se.isBefore=function(X,ee){return this.endOf(ee)<re(X)},se.$g=function(X,ee,te){return P.u(X)?this[ee]:this.set(te,X)},se.unix=function(){return Math.floor(this.valueOf()/1e3)},se.valueOf=function(){return this.$d.getTime()},se.startOf=function(X,ee){var te=this,Ce=!!P.u(ee)||ee,ke=P.p(X),le=function(Ie,He){var at=P.w(te.$u?Date.UTC(te.$y,He,Ie):new Date(te.$y,He,Ie),te);return Ce?at:at.endOf(c)},M=function(Ie,He){return P.w(te.toDate()[Ie].apply(te.toDate("s"),(Ce?[0,0,0,0]:[23,59,59,999]).slice(He)),te)},G=this.$W,W=this.$M,J=this.$D,ae="set"+(this.$u?"UTC":"");switch(ke){case g:return Ce?le(1,0):le(31,11);case f:return Ce?le(1,W):le(0,W+1);case u:var ve=this.$locale().weekStart||0,Fe=(G<ve?G+7:G)-ve;return le(Ce?J-Fe:J+(6-Fe),W);case c:case y:return M(ae+"Hours",0);case l:return M(ae+"Minutes",1);case o:return M(ae+"Seconds",2);case a:return M(ae+"Milliseconds",3);default:return this.clone()}},se.endOf=function(X){return this.startOf(X,!1)},se.$set=function(X,ee){var te,Ce=P.p(X),ke="set"+(this.$u?"UTC":""),le=(te={},te[c]=ke+"Date",te[y]=ke+"Date",te[f]=ke+"Month",te[g]=ke+"FullYear",te[l]=ke+"Hours",te[o]=ke+"Minutes",te[a]=ke+"Seconds",te[s]=ke+"Milliseconds",te)[Ce],M=Ce===c?this.$D+(ee-this.$W):ee;if(Ce===f||Ce===g){var G=this.clone().set(y,1);G.$d[le](M),G.init(),this.$d=G.set(y,Math.min(this.$D,G.daysInMonth())).$d}else le&&this.$d[le](M);return this.init(),this},se.set=function(X,ee){return this.clone().$set(X,ee)},se.get=function(X){return this[P.p(X)]()},se.add=function(X,ee){var te,Ce=this;X=Number(X);var ke=P.p(ee),le=function(W){var J=re(Ce);return P.w(J.date(J.date()+Math.round(W*X)),Ce)};if(ke===f)return this.set(f,this.$M+X);if(ke===g)return this.set(g,this.$y+X);if(ke===c)return le(1);if(ke===u)return le(7);var M=(te={},te[o]=n,te[l]=i,te[a]=r,te)[ke]||1,G=this.$d.getTime()+X*M;return P.w(G,this)},se.subtract=function(X,ee){return this.add(-1*X,ee)},se.format=function(X){var ee=this,te=this.$locale();if(!this.isValid())return te.invalidDate||x;var Ce=X||"YYYY-MM-DDTHH:mm:ssZ",ke=P.z(this),le=this.$H,M=this.$m,G=this.$M,W=te.weekdays,J=te.months,ae=te.meridiem,ve=function(He,at,lt,St){return He&&(He[at]||He(ee,Ce))||lt[at].slice(0,St)},Fe=function(He){return P.s(le%12||12,He,"0")},Ie=ae||function(He,at,lt){var St=He<12?"AM":"PM";return lt?St.toLowerCase():St};return Ce.replace(S,(function(He,at){return at||(function(lt){switch(lt){case"YY":return String(ee.$y).slice(-2);case"YYYY":return P.s(ee.$y,4,"0");case"M":return G+1;case"MM":return P.s(G+1,2,"0");case"MMM":return ve(te.monthsShort,G,J,3);case"MMMM":return ve(J,G);case"D":return ee.$D;case"DD":return P.s(ee.$D,2,"0");case"d":return String(ee.$W);case"dd":return ve(te.weekdaysMin,ee.$W,W,2);case"ddd":return ve(te.weekdaysShort,ee.$W,W,3);case"dddd":return W[ee.$W];case"H":return String(le);case"HH":return P.s(le,2,"0");case"h":return Fe(1);case"hh":return Fe(2);case"a":return Ie(le,M,!0);case"A":return Ie(le,M,!1);case"m":return String(M);case"mm":return P.s(M,2,"0");case"s":return String(ee.$s);case"ss":return P.s(ee.$s,2,"0");case"SSS":return P.s(ee.$ms,3,"0");case"Z":return ke}return null})(He)||ke.replace(":","")}))},se.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},se.diff=function(X,ee,te){var Ce,ke=this,le=P.p(ee),M=re(X),G=(M.utcOffset()-this.utcOffset())*n,W=this-M,J=function(){return P.m(ke,M)};switch(le){case g:Ce=J()/12;break;case f:Ce=J();break;case p:Ce=J()/3;break;case u:Ce=(W-G)/6048e5;break;case c:Ce=(W-G)/864e5;break;case l:Ce=W/i;break;case o:Ce=W/n;break;case a:Ce=W/r;break;default:Ce=W}return te?Ce:P.a(Ce)},se.daysInMonth=function(){return this.endOf(f).$D},se.$locale=function(){return R[this.$L]},se.locale=function(X,ee){if(!X)return this.$L;var te=this.clone(),Ce=V(X,ee,!0);return Ce&&(te.$L=Ce),te},se.clone=function(){return P.w(this.$d,this)},se.toDate=function(){return new Date(this.valueOf())},se.toJSON=function(){return this.isValid()?this.toISOString():null},se.toISOString=function(){return this.$d.toISOString()},se.toString=function(){return this.$d.toUTCString()},Z})(),q=H.prototype;return re.prototype=q,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",c],["$M",f],["$y",g],["$D",y]].forEach((function(Z){q[Z[1]]=function(se){return this.$g(se,Z[0],Z[1])}})),re.extend=function(Z,se){return Z.$i||(Z(se,H,re),Z.$i=!0),re},re.locale=V,re.isDayjs=Q,re.unix=function(Z){return re(1e3*Z)},re.en=R[O],re.Ls=R,re.p={},re}))})(f_)),f_.exports}var kpe=Ipe();const Lpe=$k(kpe);var dV=Object.defineProperty,j=(t,e)=>dV(t,"name",{value:e,configurable:!0}),Rpe=(t,e)=>{for(var r in e)dV(t,r,{get:e[r],enumerable:!0})},Yf={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},_t={trace:j((...t)=>{},"trace"),debug:j((...t)=>{},"debug"),info:j((...t)=>{},"info"),warn:j((...t)=>{},"warn"),error:j((...t)=>{},"error"),fatal:j((...t)=>{},"fatal")},FL=j(function(t="fatal"){let e=Yf.fatal;typeof t=="string"?t.toLowerCase()in Yf&&(e=Yf[t]):typeof t=="number"&&(e=t),_t.trace=()=>{},_t.debug=()=>{},_t.info=()=>{},_t.warn=()=>{},_t.error=()=>{},_t.fatal=()=>{},e<=Yf.fatal&&(_t.fatal=console.error?console.error.bind(console,IA("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",IA("FATAL"))),e<=Yf.error&&(_t.error=console.error?console.error.bind(console,IA("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",IA("ERROR"))),e<=Yf.warn&&(_t.warn=console.warn?console.warn.bind(console,IA("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",IA("WARN"))),e<=Yf.info&&(_t.info=console.info?console.info.bind(console,IA("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",IA("INFO"))),e<=Yf.debug&&(_t.debug=console.debug?console.debug.bind(console,IA("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",IA("DEBUG"))),e<=Yf.trace&&(_t.trace=console.debug?console.debug.bind(console,IA("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",IA("TRACE")))},"setLogLevel"),IA=j(t=>`%c${Lpe().format("ss.SSS")} : ${t} : `,"format");const d_={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t),hsl2rgb:({h:t,s:e,l:r},n)=>{if(!e)return r*2.55;t/=360,e/=100,r/=100;const i=r<.5?r*(1+e):r+e-r*e,s=2*r-i;switch(n){case"r":return d_.hue2rgb(s,i,t+1/3)*255;case"g":return d_.hue2rgb(s,i,t)*255;case"b":return d_.hue2rgb(s,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:r},n)=>{t/=255,e/=255,r/=255;const i=Math.max(t,e,r),s=Math.min(t,e,r),a=(i+s)/2;if(n==="l")return a*100;if(i===s)return 0;const o=i-s,l=a>.5?o/(2-i-s):o/(i+s);if(n==="s")return l*100;switch(i){case t:return((e-r)/o+(e<r?6:0))*60;case e:return((r-t)/o+2)*60;case r:return((t-e)/o+4)*60;default:return-1}}},Mpe={clamp:(t,e,r)=>e>r?Math.min(e,Math.max(r,t)):Math.min(r,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},Upe={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},Yr={channel:d_,lang:Mpe,unit:Upe},U0={};for(let t=0;t<=255;t++)U0[t]=Yr.unit.dec2hex(t);const tl={ALL:0,RGB:1,HSL:2};class Dpe{constructor(){this.type=tl.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=tl.ALL}is(e){return this.type===e}}class Ope{constructor(e,r){this.color=r,this.changed=!1,this.data=e,this.type=new Dpe}set(e,r){return this.color=r,this.changed=!1,this.data=e,this.type.type=tl.ALL,this}_ensureHSL(){const e=this.data,{h:r,s:n,l:i}=e;r===void 0&&(e.h=Yr.channel.rgb2hsl(e,"h")),n===void 0&&(e.s=Yr.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=Yr.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r,g:n,b:i}=e;r===void 0&&(e.r=Yr.channel.hsl2rgb(e,"r")),n===void 0&&(e.g=Yr.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=Yr.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,r=e.r;return!this.type.is(tl.HSL)&&r!==void 0?r:(this._ensureHSL(),Yr.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,r=e.g;return!this.type.is(tl.HSL)&&r!==void 0?r:(this._ensureHSL(),Yr.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,r=e.b;return!this.type.is(tl.HSL)&&r!==void 0?r:(this._ensureHSL(),Yr.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,r=e.h;return!this.type.is(tl.RGB)&&r!==void 0?r:(this._ensureRGB(),Yr.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,r=e.s;return!this.type.is(tl.RGB)&&r!==void 0?r:(this._ensureRGB(),Yr.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,r=e.l;return!this.type.is(tl.RGB)&&r!==void 0?r:(this._ensureRGB(),Yr.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(tl.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(tl.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(tl.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(tl.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(tl.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(tl.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const JB=new Ope({r:0,g:0,b:0,a:0},"transparent"),fy={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(fy.re);if(!e)return;const r=e[1],n=parseInt(r,16),i=r.length,s=i%4===0,a=i>4,o=a?1:17,l=a?8:4,c=s?0:-1,u=a?255:15;return JB.set({r:(n>>l*(c+3)&u)*o,g:(n>>l*(c+2)&u)*o,b:(n>>l*(c+1)&u)*o,a:s?(n&u)*o/255:1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`#${U0[Math.round(e)]}${U0[Math.round(r)]}${U0[Math.round(n)]}${U0[Math.round(i*255)]}`:`#${U0[Math.round(e)]}${U0[Math.round(r)]}${U0[Math.round(n)]}`}},hg={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(hg.hueRe);if(e){const[,r,n]=e;switch(n){case"grad":return Yr.channel.clamp.h(parseFloat(r)*.9);case"rad":return Yr.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return Yr.channel.clamp.h(parseFloat(r)*360)}}return Yr.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const r=t.match(hg.re);if(!r)return;const[,n,i,s,a,o]=r;return JB.set({h:hg._hue2deg(n),s:Yr.channel.clamp.s(parseFloat(i)),l:Yr.channel.clamp.l(parseFloat(s)),a:a?Yr.channel.clamp.a(o?parseFloat(a)/100:parseFloat(a)):1},t)},stringify:t=>{const{h:e,s:r,l:n,a:i}=t;return i<1?`hsla(${Yr.lang.round(e)}, ${Yr.lang.round(r)}%, ${Yr.lang.round(n)}%, ${i})`:`hsl(${Yr.lang.round(e)}, ${Yr.lang.round(r)}%, ${Yr.lang.round(n)}%)`}},z2={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=z2.colors[t];if(e)return fy.parse(e)},stringify:t=>{const e=fy.stringify(t);for(const r in z2.colors)if(z2.colors[r]===e)return r}},B2={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const r=t.match(B2.re);if(!r)return;const[,n,i,s,a,o,l,c,u]=r;return JB.set({r:Yr.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:Yr.channel.clamp.g(a?parseFloat(s)*2.55:parseFloat(s)),b:Yr.channel.clamp.b(l?parseFloat(o)*2.55:parseFloat(o)),a:c?Yr.channel.clamp.a(u?parseFloat(c)/100:parseFloat(c)):1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`rgba(${Yr.lang.round(e)}, ${Yr.lang.round(r)}, ${Yr.lang.round(n)}, ${Yr.lang.round(i)})`:`rgb(${Yr.lang.round(e)}, ${Yr.lang.round(r)}, ${Yr.lang.round(n)})`}},pf={format:{keyword:z2,hex:fy,rgb:B2,rgba:B2,hsl:hg,hsla:hg},parse:t=>{if(typeof t!="string")return t;const e=fy.parse(t)||B2.parse(t)||hg.parse(t)||z2.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(tl.HSL)||t.data.r===void 0?hg.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?B2.stringify(t):fy.stringify(t)},pV=(t,e)=>{const r=pf.parse(t);for(const n in e)r[n]=Yr.channel.clamp[n](e[n]);return pf.stringify(r)},K2=(t,e,r=0,n=1)=>{if(typeof t!="number")return pV(t,{a:e});const i=JB.set({r:Yr.channel.clamp.r(t),g:Yr.channel.clamp.g(e),b:Yr.channel.clamp.b(r),a:Yr.channel.clamp.a(n)});return pf.stringify(i)},Ppe=t=>{const{r:e,g:r,b:n}=pf.parse(t),i=.2126*Yr.channel.toLinear(e)+.7152*Yr.channel.toLinear(r)+.0722*Yr.channel.toLinear(n);return Yr.lang.round(i)},Hpe=t=>Ppe(t)>=.5,wC=t=>!Hpe(t),gV=(t,e,r)=>{const n=pf.parse(t),i=n[e],s=Yr.channel.clamp[e](i+r);return i!==s&&(n[e]=s),pf.stringify(n)},or=(t,e)=>gV(t,"l",e),Ir=(t,e)=>gV(t,"l",-e),Ye=(t,e)=>{const r=pf.parse(t),n={};for(const i in e)e[i]&&(n[i]=r[i]+e[i]);return pV(t,n)},Qpe=(t,e,r=50)=>{const{r:n,g:i,b:s,a}=pf.parse(t),{r:o,g:l,b:c,a:u}=pf.parse(e),f=r/100,p=f*2-1,g=a-u,x=((p*g===-1?p:(p+g)/(1+p*g))+1)/2,w=1-x,S=n*x+o*w,B=i*x+l*w,F=s*x+c*w,k=a*f+u*(1-f);return K2(S,B,F,k)},Gt=(t,e=100)=>{const r=pf.parse(t);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,Qpe(r,t,e)};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:mV,setPrototypeOf:yP,isFrozen:jpe,getPrototypeOf:Gpe,getOwnPropertyDescriptor:Vpe}=Object;let{freeze:Kl,seal:zA,create:jI}=Object,{apply:GI,construct:VI}=typeof Reflect<"u"&&Reflect;Kl||(Kl=function(e){return e});zA||(zA=function(e){return e});GI||(GI=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];return e.apply(r,i)});VI||(VI=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return new e(...n)});const l5=Wl(Array.prototype.forEach),$pe=Wl(Array.prototype.lastIndexOf),xP=Wl(Array.prototype.pop),Gv=Wl(Array.prototype.push),qpe=Wl(Array.prototype.splice),p_=Wl(String.prototype.toLowerCase),X3=Wl(String.prototype.toString),J3=Wl(String.prototype.match),Vv=Wl(String.prototype.replace),zpe=Wl(String.prototype.indexOf),Kpe=Wl(String.prototype.trim),Su=Wl(Object.prototype.hasOwnProperty),Fl=Wl(RegExp.prototype.test),$v=Wpe(TypeError);function Wl(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return GI(t,e,n)}}function Wpe(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return VI(t,r)}}function dn(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p_;yP&&yP(t,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){const s=r(i);s!==i&&(jpe(e)||(e[n]=s),i=s)}t[i]=!0}return t}function Ype(t){for(let e=0;e<t.length;e++)Su(t,e)||(t[e]=null);return t}function Hh(t){const e=jI(null);for(const[r,n]of mV(t))Su(t,r)&&(Array.isArray(n)?e[r]=Ype(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=Hh(n):e[r]=n);return e}function qv(t,e){for(;t!==null;){const n=Vpe(t,e);if(n){if(n.get)return Wl(n.get);if(typeof n.value=="function")return Wl(n.value)}t=Gpe(t)}function r(){return null}return r}const vP=Kl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Z3=Kl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),eN=Kl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Xpe=Kl(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),tN=Kl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Jpe=Kl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wP=Kl(["#text"]),bP=Kl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),rN=Kl(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),CP=Kl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),c5=Kl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Zpe=zA(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ege=zA(/<%[\w\W]*|[\w\W]*%>/gm),tge=zA(/\$\{[\w\W]*/gm),rge=zA(/^data-[\-\w.\u00B7-\uFFFF]+$/),nge=zA(/^aria-[\-\w]+$/),yV=zA(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ige=zA(/^(?:\w+script|data):/i),sge=zA(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),xV=zA(/^html$/i),age=zA(/^[a-z][.\w]*(-[.\w]+)+$/i);var SP=Object.freeze({__proto__:null,ARIA_ATTR:nge,ATTR_WHITESPACE:sge,CUSTOM_ELEMENT:age,DATA_ATTR:rge,DOCTYPE_NAME:xV,ERB_EXPR:ege,IS_ALLOWED_URI:yV,IS_SCRIPT_OR_DATA:ige,MUSTACHE_EXPR:Zpe,TMPLIT_EXPR:tge});const zv={element:1,text:3,progressingInstruction:7,comment:8,document:9},oge=function(){return typeof window>"u"?null:window},lge=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},_P=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function vV(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oge();const e=Me=>vV(Me);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==zv.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,i=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:c,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:p,trustedTypes:g}=t,y=l.prototype,x=qv(y,"cloneNode"),w=qv(y,"remove"),S=qv(y,"nextSibling"),B=qv(y,"childNodes"),F=qv(y,"parentNode");if(typeof a=="function"){const Me=r.createElement("template");Me.content&&Me.content.ownerDocument&&(r=Me.content.ownerDocument)}let k,O="";const{implementation:R,createNodeIterator:D,createDocumentFragment:Q,getElementsByTagName:V}=r,{importNode:re}=n;let P=_P();e.isSupported=typeof mV=="function"&&typeof F=="function"&&R&&R.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:H,ERB_EXPR:q,TMPLIT_EXPR:Z,DATA_ATTR:se,ARIA_ATTR:X,IS_SCRIPT_OR_DATA:ee,ATTR_WHITESPACE:te,CUSTOM_ELEMENT:Ce}=SP;let{IS_ALLOWED_URI:ke}=SP,le=null;const M=dn({},[...vP,...Z3,...eN,...tN,...wP]);let G=null;const W=dn({},[...bP,...rN,...CP,...c5]);let J=Object.seal(jI(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ae=null,ve=null;const Fe=Object.seal(jI(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ie=!0,He=!0,at=!1,lt=!0,St=!1,Nt=!0,it=!1,Be=!1,xt=!1,Dt=!1,vt=!1,Ft=!1,Lt=!0,Ut=!1;const ir="user-content-";let Vt=!0,_r=!1,tr={},kr=null;const zr=dn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let xr=null;const vr=dn({},["audio","video","img","source","image","track"]);let Mt=null;const Ti=dn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ur="http://www.w3.org/1998/Math/MathML",mn="http://www.w3.org/2000/svg",Br="http://www.w3.org/1999/xhtml";let Gr=Br,Wi=!1,Jr=null;const Ao=dn({},[Ur,mn,Br],X3);let fn=dn({},["mi","mo","mn","ms","mtext"]),Yi=dn({},["annotation-xml"]);const Is=dn({},["title","style","font","a","script"]);let rn=null;const Cr=["application/xhtml+xml","text/html"],an="text/html";let Mn=null,Hn=null;const ks=r.createElement("form"),ls=function(ye){return ye instanceof RegExp||ye instanceof Function},dr=function(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Hn&&Hn===ye)){if((!ye||typeof ye!="object")&&(ye={}),ye=Hh(ye),rn=Cr.indexOf(ye.PARSER_MEDIA_TYPE)===-1?an:ye.PARSER_MEDIA_TYPE,Mn=rn==="application/xhtml+xml"?X3:p_,le=Su(ye,"ALLOWED_TAGS")?dn({},ye.ALLOWED_TAGS,Mn):M,G=Su(ye,"ALLOWED_ATTR")?dn({},ye.ALLOWED_ATTR,Mn):W,Jr=Su(ye,"ALLOWED_NAMESPACES")?dn({},ye.ALLOWED_NAMESPACES,X3):Ao,Mt=Su(ye,"ADD_URI_SAFE_ATTR")?dn(Hh(Ti),ye.ADD_URI_SAFE_ATTR,Mn):Ti,xr=Su(ye,"ADD_DATA_URI_TAGS")?dn(Hh(vr),ye.ADD_DATA_URI_TAGS,Mn):vr,kr=Su(ye,"FORBID_CONTENTS")?dn({},ye.FORBID_CONTENTS,Mn):zr,ae=Su(ye,"FORBID_TAGS")?dn({},ye.FORBID_TAGS,Mn):Hh({}),ve=Su(ye,"FORBID_ATTR")?dn({},ye.FORBID_ATTR,Mn):Hh({}),tr=Su(ye,"USE_PROFILES")?ye.USE_PROFILES:!1,Ie=ye.ALLOW_ARIA_ATTR!==!1,He=ye.ALLOW_DATA_ATTR!==!1,at=ye.ALLOW_UNKNOWN_PROTOCOLS||!1,lt=ye.ALLOW_SELF_CLOSE_IN_ATTR!==!1,St=ye.SAFE_FOR_TEMPLATES||!1,Nt=ye.SAFE_FOR_XML!==!1,it=ye.WHOLE_DOCUMENT||!1,Dt=ye.RETURN_DOM||!1,vt=ye.RETURN_DOM_FRAGMENT||!1,Ft=ye.RETURN_TRUSTED_TYPE||!1,xt=ye.FORCE_BODY||!1,Lt=ye.SANITIZE_DOM!==!1,Ut=ye.SANITIZE_NAMED_PROPS||!1,Vt=ye.KEEP_CONTENT!==!1,_r=ye.IN_PLACE||!1,ke=ye.ALLOWED_URI_REGEXP||yV,Gr=ye.NAMESPACE||Br,fn=ye.MATHML_TEXT_INTEGRATION_POINTS||fn,Yi=ye.HTML_INTEGRATION_POINTS||Yi,J=ye.CUSTOM_ELEMENT_HANDLING||{},ye.CUSTOM_ELEMENT_HANDLING&&ls(ye.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(J.tagNameCheck=ye.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ye.CUSTOM_ELEMENT_HANDLING&&ls(ye.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(J.attributeNameCheck=ye.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ye.CUSTOM_ELEMENT_HANDLING&&typeof ye.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(J.allowCustomizedBuiltInElements=ye.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),St&&(He=!1),vt&&(Dt=!0),tr&&(le=dn({},wP),G=[],tr.html===!0&&(dn(le,vP),dn(G,bP)),tr.svg===!0&&(dn(le,Z3),dn(G,rN),dn(G,c5)),tr.svgFilters===!0&&(dn(le,eN),dn(G,rN),dn(G,c5)),tr.mathMl===!0&&(dn(le,tN),dn(G,CP),dn(G,c5))),ye.ADD_TAGS&&(typeof ye.ADD_TAGS=="function"?Fe.tagCheck=ye.ADD_TAGS:(le===M&&(le=Hh(le)),dn(le,ye.ADD_TAGS,Mn))),ye.ADD_ATTR&&(typeof ye.ADD_ATTR=="function"?Fe.attributeCheck=ye.ADD_ATTR:(G===W&&(G=Hh(G)),dn(G,ye.ADD_ATTR,Mn))),ye.ADD_URI_SAFE_ATTR&&dn(Mt,ye.ADD_URI_SAFE_ATTR,Mn),ye.FORBID_CONTENTS&&(kr===zr&&(kr=Hh(kr)),dn(kr,ye.FORBID_CONTENTS,Mn)),ye.ADD_FORBID_CONTENTS&&(kr===zr&&(kr=Hh(kr)),dn(kr,ye.ADD_FORBID_CONTENTS,Mn)),Vt&&(le["#text"]=!0),it&&dn(le,["html","head","body"]),le.table&&(dn(le,["tbody"]),delete ae.tbody),ye.TRUSTED_TYPES_POLICY){if(typeof ye.TRUSTED_TYPES_POLICY.createHTML!="function")throw $v('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ye.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw $v('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=ye.TRUSTED_TYPES_POLICY,O=k.createHTML("")}else k===void 0&&(k=lge(g,i)),k!==null&&typeof O=="string"&&(O=k.createHTML(""));Kl&&Kl(ye),Hn=ye}},Ls=dn({},[...Z3,...eN,...Xpe]),cs=dn({},[...tN,...Jpe]),ws=function(ye){let Qe=F(ye);(!Qe||!Qe.tagName)&&(Qe={namespaceURI:Gr,tagName:"template"});const rt=p_(ye.tagName),ft=p_(Qe.tagName);return Jr[ye.namespaceURI]?ye.namespaceURI===mn?Qe.namespaceURI===Br?rt==="svg":Qe.namespaceURI===Ur?rt==="svg"&&(ft==="annotation-xml"||fn[ft]):!!Ls[rt]:ye.namespaceURI===Ur?Qe.namespaceURI===Br?rt==="math":Qe.namespaceURI===mn?rt==="math"&&Yi[ft]:!!cs[rt]:ye.namespaceURI===Br?Qe.namespaceURI===mn&&!Yi[ft]||Qe.namespaceURI===Ur&&!fn[ft]?!1:!cs[rt]&&(Is[rt]||!Ls[rt]):!!(rn==="application/xhtml+xml"&&Jr[ye.namespaceURI]):!1},cn=function(ye){Gv(e.removed,{element:ye});try{F(ye).removeChild(ye)}catch{w(ye)}},yn=function(ye,Qe){try{Gv(e.removed,{attribute:Qe.getAttributeNode(ye),from:Qe})}catch{Gv(e.removed,{attribute:null,from:Qe})}if(Qe.removeAttribute(ye),ye==="is")if(Dt||vt)try{cn(Qe)}catch{}else try{Qe.setAttribute(ye,"")}catch{}},oe=function(ye){let Qe=null,rt=null;if(xt)ye="<remove></remove>"+ye;else{const It=J3(ye,/^[\r\n\t ]+/);rt=It&&It[0]}rn==="application/xhtml+xml"&&Gr===Br&&(ye='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ye+"</body></html>");const ft=k?k.createHTML(ye):ye;if(Gr===Br)try{Qe=new p().parseFromString(ft,rn)}catch{}if(!Qe||!Qe.documentElement){Qe=R.createDocument(Gr,"template",null);try{Qe.documentElement.innerHTML=Wi?O:ft}catch{}}const wt=Qe.body||Qe.documentElement;return ye&&rt&&wt.insertBefore(r.createTextNode(rt),wt.childNodes[0]||null),Gr===Br?V.call(Qe,it?"html":"body")[0]:it?Qe.documentElement:wt},_e=function(ye){return D.call(ye.ownerDocument||ye,ye,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},xe=function(ye){return ye instanceof f&&(typeof ye.nodeName!="string"||typeof ye.textContent!="string"||typeof ye.removeChild!="function"||!(ye.attributes instanceof u)||typeof ye.removeAttribute!="function"||typeof ye.setAttribute!="function"||typeof ye.namespaceURI!="string"||typeof ye.insertBefore!="function"||typeof ye.hasChildNodes!="function")},pe=function(ye){return typeof o=="function"&&ye instanceof o};function be(Me,ye,Qe){l5(Me,rt=>{rt.call(e,ye,Qe,Hn)})}const we=function(ye){let Qe=null;if(be(P.beforeSanitizeElements,ye,null),xe(ye))return cn(ye),!0;const rt=Mn(ye.nodeName);if(be(P.uponSanitizeElement,ye,{tagName:rt,allowedTags:le}),Nt&&ye.hasChildNodes()&&!pe(ye.firstElementChild)&&Fl(/<[/\w!]/g,ye.innerHTML)&&Fl(/<[/\w!]/g,ye.textContent)||ye.nodeType===zv.progressingInstruction||Nt&&ye.nodeType===zv.comment&&Fl(/<[/\w]/g,ye.data))return cn(ye),!0;if(!(Fe.tagCheck instanceof Function&&Fe.tagCheck(rt))&&(!le[rt]||ae[rt])){if(!ae[rt]&&tt(rt)&&(J.tagNameCheck instanceof RegExp&&Fl(J.tagNameCheck,rt)||J.tagNameCheck instanceof Function&&J.tagNameCheck(rt)))return!1;if(Vt&&!kr[rt]){const ft=F(ye)||ye.parentNode,wt=B(ye)||ye.childNodes;if(wt&&ft){const It=wt.length;for(let nr=It-1;nr>=0;--nr){const Kr=x(wt[nr],!0);Kr.__removalCount=(ye.__removalCount||0)+1,ft.insertBefore(Kr,S(ye))}}}return cn(ye),!0}return ye instanceof l&&!ws(ye)||(rt==="noscript"||rt==="noembed"||rt==="noframes")&&Fl(/<\/no(script|embed|frames)/i,ye.innerHTML)?(cn(ye),!0):(St&&ye.nodeType===zv.text&&(Qe=ye.textContent,l5([H,q,Z],ft=>{Qe=Vv(Qe,ft," ")}),ye.textContent!==Qe&&(Gv(e.removed,{element:ye.cloneNode()}),ye.textContent=Qe)),be(P.afterSanitizeElements,ye,null),!1)},qe=function(ye,Qe,rt){if(Lt&&(Qe==="id"||Qe==="name")&&(rt in r||rt in ks))return!1;if(!(He&&!ve[Qe]&&Fl(se,Qe))){if(!(Ie&&Fl(X,Qe))){if(!(Fe.attributeCheck instanceof Function&&Fe.attributeCheck(Qe,ye))){if(!G[Qe]||ve[Qe]){if(!(tt(ye)&&(J.tagNameCheck instanceof RegExp&&Fl(J.tagNameCheck,ye)||J.tagNameCheck instanceof Function&&J.tagNameCheck(ye))&&(J.attributeNameCheck instanceof RegExp&&Fl(J.attributeNameCheck,Qe)||J.attributeNameCheck instanceof Function&&J.attributeNameCheck(Qe,ye))||Qe==="is"&&J.allowCustomizedBuiltInElements&&(J.tagNameCheck instanceof RegExp&&Fl(J.tagNameCheck,rt)||J.tagNameCheck instanceof Function&&J.tagNameCheck(rt))))return!1}else if(!Mt[Qe]){if(!Fl(ke,Vv(rt,te,""))){if(!((Qe==="src"||Qe==="xlink:href"||Qe==="href")&&ye!=="script"&&zpe(rt,"data:")===0&&xr[ye])){if(!(at&&!Fl(ee,Vv(rt,te,"")))){if(rt)return!1}}}}}}}return!0},tt=function(ye){return ye!=="annotation-xml"&&J3(ye,Ce)},ze=function(ye){be(P.beforeSanitizeAttributes,ye,null);const{attributes:Qe}=ye;if(!Qe||xe(ye))return;const rt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G,forceKeepAttr:void 0};let ft=Qe.length;for(;ft--;){const wt=Qe[ft],{name:It,namespaceURI:nr,value:Kr}=wt,Dr=Mn(It),Pi=Kr;let Tr=It==="value"?Pi:Kpe(Pi);if(rt.attrName=Dr,rt.attrValue=Tr,rt.keepAttr=!0,rt.forceKeepAttr=void 0,be(P.uponSanitizeAttribute,ye,rt),Tr=rt.attrValue,Ut&&(Dr==="id"||Dr==="name")&&(yn(It,ye),Tr=ir+Tr),Nt&&Fl(/((--!?|])>)|<\/(style|title|textarea)/i,Tr)){yn(It,ye);continue}if(Dr==="attributename"&&J3(Tr,"href")){yn(It,ye);continue}if(rt.forceKeepAttr)continue;if(!rt.keepAttr){yn(It,ye);continue}if(!lt&&Fl(/\/>/i,Tr)){yn(It,ye);continue}St&&l5([H,q,Z],pi=>{Tr=Vv(Tr,pi," ")});const Rs=Mn(ye.nodeName);if(!qe(Rs,Dr,Tr)){yn(It,ye);continue}if(k&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!nr)switch(g.getAttributeType(Rs,Dr)){case"TrustedHTML":{Tr=k.createHTML(Tr);break}case"TrustedScriptURL":{Tr=k.createScriptURL(Tr);break}}if(Tr!==Pi)try{nr?ye.setAttributeNS(nr,It,Tr):ye.setAttribute(It,Tr),xe(ye)?cn(ye):xP(e.removed)}catch{yn(It,ye)}}be(P.afterSanitizeAttributes,ye,null)},We=function Me(ye){let Qe=null;const rt=_e(ye);for(be(P.beforeSanitizeShadowDOM,ye,null);Qe=rt.nextNode();)be(P.uponSanitizeShadowNode,Qe,null),we(Qe),ze(Qe),Qe.content instanceof s&&Me(Qe.content);be(P.afterSanitizeShadowDOM,ye,null)};return e.sanitize=function(Me){let ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Qe=null,rt=null,ft=null,wt=null;if(Wi=!Me,Wi&&(Me="<!-->"),typeof Me!="string"&&!pe(Me))if(typeof Me.toString=="function"){if(Me=Me.toString(),typeof Me!="string")throw $v("dirty is not a string, aborting")}else throw $v("toString is not a function");if(!e.isSupported)return Me;if(Be||dr(ye),e.removed=[],typeof Me=="string"&&(_r=!1),_r){if(Me.nodeName){const Kr=Mn(Me.nodeName);if(!le[Kr]||ae[Kr])throw $v("root node is forbidden and cannot be sanitized in-place")}}else if(Me instanceof o)Qe=oe("<!---->"),rt=Qe.ownerDocument.importNode(Me,!0),rt.nodeType===zv.element&&rt.nodeName==="BODY"||rt.nodeName==="HTML"?Qe=rt:Qe.appendChild(rt);else{if(!Dt&&!St&&!it&&Me.indexOf("<")===-1)return k&&Ft?k.createHTML(Me):Me;if(Qe=oe(Me),!Qe)return Dt?null:Ft?O:""}Qe&&xt&&cn(Qe.firstChild);const It=_e(_r?Me:Qe);for(;ft=It.nextNode();)we(ft),ze(ft),ft.content instanceof s&&We(ft.content);if(_r)return Me;if(Dt){if(vt)for(wt=Q.call(Qe.ownerDocument);Qe.firstChild;)wt.appendChild(Qe.firstChild);else wt=Qe;return(G.shadowroot||G.shadowrootmode)&&(wt=re.call(n,wt,!0)),wt}let nr=it?Qe.outerHTML:Qe.innerHTML;return it&&le["!doctype"]&&Qe.ownerDocument&&Qe.ownerDocument.doctype&&Qe.ownerDocument.doctype.name&&Fl(xV,Qe.ownerDocument.doctype.name)&&(nr="<!DOCTYPE "+Qe.ownerDocument.doctype.name+`>
`+nr),St&&l5([H,q,Z],Kr=>{nr=Vv(nr,Kr," ")}),k&&Ft?k.createHTML(nr):nr},e.setConfig=function(){let Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};dr(Me),Be=!0},e.clearConfig=function(){Hn=null,Be=!1},e.isValidAttribute=function(Me,ye,Qe){Hn||dr({});const rt=Mn(Me),ft=Mn(ye);return qe(rt,ft,Qe)},e.addHook=function(Me,ye){typeof ye=="function"&&Gv(P[Me],ye)},e.removeHook=function(Me,ye){if(ye!==void 0){const Qe=$pe(P[Me],ye);return Qe===-1?void 0:qpe(P[Me],Qe,1)[0]}return xP(P[Me])},e.removeHooks=function(Me){P[Me]=[]},e.removeAllHooks=function(){P=_P()},e}var Tx=vV(),wV=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,W2=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,cge=/\s*%%.*\n/gm,px,bV=(px=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},j(px,"UnknownDiagramError"),px),Sm={},IL=j(function(t,e){t=t.replace(wV,"").replace(W2,"").replace(cge,`
`);for(const[r,{detector:n}]of Object.entries(Sm))if(n(t,e))return r;throw new bV(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),$I=j((...t)=>{for(const{id:e,detector:r,loader:n}of t)CV(e,r,n)},"registerLazyLoadedDiagrams"),CV=j((t,e,r)=>{Sm[t]&&_t.warn(`Detector with key ${t} already exists. Overwriting.`),Sm[t]={detector:e,loader:r},_t.debug(`Detector with key ${t} added${r?" with loader":""}`)},"addDetector"),Age=j(t=>Sm[t].loader,"getDiagramLoader"),qI=j((t,e,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(s=>qI(t,s,i)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(s=>{t.includes(s)||t.push(s)}),t):t===void 0||r<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(s=>{typeof e[s]=="object"&&(t[s]===void 0||typeof t[s]=="object")?(t[s]===void 0&&(t[s]=Array.isArray(e[s])?[]:{}),t[s]=qI(t[s],e[s],{depth:r-1,clobber:n})):(n||typeof t[s]!="object"&&typeof e[s]!="object")&&(t[s]=e[s])}),t)},"assignWithDepth"),Qa=qI,ZB="#ffffff",eT="#f2f2f2",Ql=j((t,e)=>e?Ye(t,{s:-40,l:10}):Ye(t,{s:-40,l:-10}),"mkBorder"),gx,uge=(gx=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var r,n,i,s,a,o,l,c,u,f,p,g,y,x,w,S,B,F,k,O,R;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Ye(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Ye(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Ql(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Ql(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Ql(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Ql(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Gt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Gt(this.tertiaryColor),this.lineColor=this.lineColor||Gt(this.background),this.arrowheadColor=this.arrowheadColor||Gt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Ir(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Ir(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Gt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||or(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Ir(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Ir(this.mainBkg,10)):(this.rowOdd=this.rowOdd||or(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||or(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ye(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ye(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ye(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ye(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ye(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ye(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Ye(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ye(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ye(this.primaryColor,{h:330}),this.darkMode)for(let D=0;D<this.THEME_COLOR_LIMIT;D++)this["cScale"+D]=Ir(this["cScale"+D],75);else for(let D=0;D<this.THEME_COLOR_LIMIT;D++)this["cScale"+D]=Ir(this["cScale"+D],25);for(let D=0;D<this.THEME_COLOR_LIMIT;D++)this["cScaleInv"+D]=this["cScaleInv"+D]||Gt(this["cScale"+D]);for(let D=0;D<this.THEME_COLOR_LIMIT;D++)this.darkMode?this["cScalePeer"+D]=this["cScalePeer"+D]||or(this["cScale"+D],10):this["cScalePeer"+D]=this["cScalePeer"+D]||Ir(this["cScale"+D],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let D=0;D<this.THEME_COLOR_LIMIT;D++)this["cScaleLabel"+D]=this["cScaleLabel"+D]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let D=0;D<5;D++)this["surface"+D]=this["surface"+D]||Ye(this.mainBkg,{h:180,s:-15,l:e*(5+D*3)}),this["surfacePeer"+D]=this["surfacePeer"+D]||Ye(this.mainBkg,{h:180,s:-15,l:e*(8+D*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Ye(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Ye(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Ye(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Ye(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Ye(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Ye(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ye(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ye(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Ye(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Ye(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ye(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ye(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ye(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Ye(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Ye(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((r=this.radar)==null?void 0:r.axisColor)||this.lineColor,axisStrokeWidth:((n=this.radar)==null?void 0:n.axisStrokeWidth)||2,axisLabelFontSize:((i=this.radar)==null?void 0:i.axisLabelFontSize)||12,curveOpacity:((s=this.radar)==null?void 0:s.curveOpacity)||.5,curveStrokeWidth:((a=this.radar)==null?void 0:a.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((l=this.radar)==null?void 0:l.graticuleStrokeWidth)||1,graticuleOpacity:((c=this.radar)==null?void 0:c.graticuleOpacity)||.3,legendBoxSize:((u=this.radar)==null?void 0:u.legendBoxSize)||12,legendFontSize:((f=this.radar)==null?void 0:f.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ye(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ye(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ye(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ye(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ye(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ye(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||wC(this.quadrant1Fill)?or(this.quadrant1Fill):Ir(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((p=this.xyChart)==null?void 0:p.backgroundColor)||this.background,titleColor:((g=this.xyChart)==null?void 0:g.titleColor)||this.primaryTextColor,xAxisTitleColor:((y=this.xyChart)==null?void 0:y.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((x=this.xyChart)==null?void 0:x.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((w=this.xyChart)==null?void 0:w.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((S=this.xyChart)==null?void 0:S.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((B=this.xyChart)==null?void 0:B.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((F=this.xyChart)==null?void 0:F.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((k=this.xyChart)==null?void 0:k.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((O=this.xyChart)==null?void 0:O.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((R=this.xyChart)==null?void 0:R.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ir(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ye(this.primaryColor,{h:-30}),this.git4=this.git4||Ye(this.primaryColor,{h:-60}),this.git5=this.git5||Ye(this.primaryColor,{h:-90}),this.git6=this.git6||Ye(this.primaryColor,{h:60}),this.git7=this.git7||Ye(this.primaryColor,{h:120}),this.darkMode?(this.git0=or(this.git0,25),this.git1=or(this.git1,25),this.git2=or(this.git2,25),this.git3=or(this.git3,25),this.git4=or(this.git4,25),this.git5=or(this.git5,25),this.git6=or(this.git6,25),this.git7=or(this.git7,25)):(this.git0=Ir(this.git0,25),this.git1=Ir(this.git1,25),this.git2=Ir(this.git2,25),this.git3=Ir(this.git3,25),this.git4=Ir(this.git4,25),this.git5=Ir(this.git5,25),this.git6=Ir(this.git6,25),this.git7=Ir(this.git7,25)),this.gitInv0=this.gitInv0||Gt(this.git0),this.gitInv1=this.gitInv1||Gt(this.git1),this.gitInv2=this.gitInv2||Gt(this.git2),this.gitInv3=this.gitInv3||Gt(this.git3),this.gitInv4=this.gitInv4||Gt(this.git4),this.gitInv5=this.gitInv5||Gt(this.git5),this.gitInv6=this.gitInv6||Gt(this.git6),this.gitInv7=this.gitInv7||Gt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ZB,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||eT}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},j(gx,"Theme"),gx),hge=j(t=>{const e=new uge;return e.calculate(t),e},"getThemeVariables"),mx,fge=(mx=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=or(this.primaryColor,16),this.tertiaryColor=Ye(this.primaryColor,{h:-160}),this.primaryBorderColor=Gt(this.background),this.secondaryBorderColor=Ql(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ql(this.tertiaryColor,this.darkMode),this.primaryTextColor=Gt(this.primaryColor),this.secondaryTextColor=Gt(this.secondaryColor),this.tertiaryTextColor=Gt(this.tertiaryColor),this.lineColor=Gt(this.background),this.textColor=Gt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=or(Gt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=K2(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Ir("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Ir(this.sectionBkgColor,10),this.taskBorderColor=K2(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=K2(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||or(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Ir(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var e,r,n,i,s,a,o,l,c,u,f,p,g,y,x,w,S,B,F,k,O;this.secondBkg=or(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=or(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=or(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ye(this.primaryColor,{h:64}),this.fillType3=Ye(this.secondaryColor,{h:64}),this.fillType4=Ye(this.primaryColor,{h:-64}),this.fillType5=Ye(this.secondaryColor,{h:-64}),this.fillType6=Ye(this.primaryColor,{h:128}),this.fillType7=Ye(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ye(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ye(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ye(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ye(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ye(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ye(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ye(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ye(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ye(this.primaryColor,{h:330});for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleInv"+R]=this["cScaleInv"+R]||Gt(this["cScale"+R]);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScalePeer"+R]=this["cScalePeer"+R]||or(this["cScale"+R],10);for(let R=0;R<5;R++)this["surface"+R]=this["surface"+R]||Ye(this.mainBkg,{h:30,s:-30,l:-(-10+R*4)}),this["surfacePeer"+R]=this["surfacePeer"+R]||Ye(this.mainBkg,{h:30,s:-30,l:-(-7+R*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleLabel"+R]=this["cScaleLabel"+R]||this.scaleLabelColor;for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["pie"+R]=this["cScale"+R];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ye(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ye(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ye(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ye(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ye(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ye(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||wC(this.quadrant1Fill)?or(this.quadrant1Fill):Ir(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((u=this.xyChart)==null?void 0:u.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((f=this.xyChart)==null?void 0:f.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((p=this.radar)==null?void 0:p.axisColor)||this.lineColor,axisStrokeWidth:((g=this.radar)==null?void 0:g.axisStrokeWidth)||2,axisLabelFontSize:((y=this.radar)==null?void 0:y.axisLabelFontSize)||12,curveOpacity:((x=this.radar)==null?void 0:x.curveOpacity)||.5,curveStrokeWidth:((w=this.radar)==null?void 0:w.curveStrokeWidth)||2,graticuleColor:((S=this.radar)==null?void 0:S.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((B=this.radar)==null?void 0:B.graticuleStrokeWidth)||1,graticuleOpacity:((F=this.radar)==null?void 0:F.graticuleOpacity)||.3,legendBoxSize:((k=this.radar)==null?void 0:k.legendBoxSize)||12,legendFontSize:((O=this.radar)==null?void 0:O.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ir(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=or(this.secondaryColor,20),this.git1=or(this.pie2||this.secondaryColor,20),this.git2=or(this.pie3||this.tertiaryColor,20),this.git3=or(this.pie4||Ye(this.primaryColor,{h:-30}),20),this.git4=or(this.pie5||Ye(this.primaryColor,{h:-60}),20),this.git5=or(this.pie6||Ye(this.primaryColor,{h:-90}),10),this.git6=or(this.pie7||Ye(this.primaryColor,{h:60}),10),this.git7=or(this.pie8||Ye(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Gt(this.git0),this.gitInv1=this.gitInv1||Gt(this.git1),this.gitInv2=this.gitInv2||Gt(this.git2),this.gitInv3=this.gitInv3||Gt(this.git3),this.gitInv4=this.gitInv4||Gt(this.git4),this.gitInv5=this.gitInv5||Gt(this.git5),this.gitInv6=this.gitInv6||Gt(this.git6),this.gitInv7=this.gitInv7||Gt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Gt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Gt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||or(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||or(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},j(mx,"Theme"),mx),dge=j(t=>{const e=new fge;return e.calculate(t),e},"getThemeVariables"),yx,pge=(yx=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Ye(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Ye(this.primaryColor,{h:-160}),this.primaryBorderColor=Ql(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ql(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ql(this.tertiaryColor,this.darkMode),this.primaryTextColor=Gt(this.primaryColor),this.secondaryTextColor=Gt(this.secondaryColor),this.tertiaryTextColor=Gt(this.tertiaryColor),this.lineColor=Gt(this.background),this.textColor=Gt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=K2(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var e,r,n,i,s,a,o,l,c,u,f,p,g,y,x,w,S,B,F,k,O;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ye(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ye(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ye(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ye(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ye(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ye(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ye(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ye(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ye(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ir(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ir(this.tertiaryColor,40);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScale"+R]=Ir(this["cScale"+R],10),this["cScalePeer"+R]=this["cScalePeer"+R]||Ir(this["cScale"+R],25);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleInv"+R]=this["cScaleInv"+R]||Ye(this["cScale"+R],{h:180});for(let R=0;R<5;R++)this["surface"+R]=this["surface"+R]||Ye(this.mainBkg,{h:30,l:-(5+R*5)}),this["surfacePeer"+R]=this["surfacePeer"+R]||Ye(this.mainBkg,{h:30,l:-(7+R*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Gt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Gt(this.labelTextColor);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleLabel"+R]=this["cScaleLabel"+R]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=or(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||or(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||or(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ye(this.primaryColor,{h:64}),this.fillType3=Ye(this.secondaryColor,{h:64}),this.fillType4=Ye(this.primaryColor,{h:-64}),this.fillType5=Ye(this.secondaryColor,{h:-64}),this.fillType6=Ye(this.primaryColor,{h:128}),this.fillType7=Ye(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Ye(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Ye(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ye(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ye(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Ye(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Ye(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Ye(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Ye(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Ye(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Ye(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ye(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ye(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ye(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ye(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ye(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ye(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||wC(this.quadrant1Fill)?or(this.quadrant1Fill):Ir(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((e=this.radar)==null?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((i=this.radar)==null?void 0:i.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((a=this.radar)==null?void 0:a.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((o=this.radar)==null?void 0:o.graticuleStrokeWidth)||1,graticuleOpacity:((l=this.radar)==null?void 0:l.graticuleOpacity)||.3,legendBoxSize:((c=this.radar)==null?void 0:c.legendBoxSize)||12,legendFontSize:((u=this.radar)==null?void 0:u.legendFontSize)||12},this.xyChart={backgroundColor:((f=this.xyChart)==null?void 0:f.backgroundColor)||this.background,titleColor:((p=this.xyChart)==null?void 0:p.titleColor)||this.primaryTextColor,xAxisTitleColor:((g=this.xyChart)==null?void 0:g.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((y=this.xyChart)==null?void 0:y.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((x=this.xyChart)==null?void 0:x.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((w=this.xyChart)==null?void 0:w.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((S=this.xyChart)==null?void 0:S.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((B=this.xyChart)==null?void 0:B.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((F=this.xyChart)==null?void 0:F.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((k=this.xyChart)==null?void 0:k.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((O=this.xyChart)==null?void 0:O.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ye(this.primaryColor,{h:-30}),this.git4=this.git4||Ye(this.primaryColor,{h:-60}),this.git5=this.git5||Ye(this.primaryColor,{h:-90}),this.git6=this.git6||Ye(this.primaryColor,{h:60}),this.git7=this.git7||Ye(this.primaryColor,{h:120}),this.darkMode?(this.git0=or(this.git0,25),this.git1=or(this.git1,25),this.git2=or(this.git2,25),this.git3=or(this.git3,25),this.git4=or(this.git4,25),this.git5=or(this.git5,25),this.git6=or(this.git6,25),this.git7=or(this.git7,25)):(this.git0=Ir(this.git0,25),this.git1=Ir(this.git1,25),this.git2=Ir(this.git2,25),this.git3=Ir(this.git3,25),this.git4=Ir(this.git4,25),this.git5=Ir(this.git5,25),this.git6=Ir(this.git6,25),this.git7=Ir(this.git7,25)),this.gitInv0=this.gitInv0||Ir(Gt(this.git0),25),this.gitInv1=this.gitInv1||Gt(this.git1),this.gitInv2=this.gitInv2||Gt(this.git2),this.gitInv3=this.gitInv3||Gt(this.git3),this.gitInv4=this.gitInv4||Gt(this.git4),this.gitInv5=this.gitInv5||Gt(this.git5),this.gitInv6=this.gitInv6||Gt(this.git6),this.gitInv7=this.gitInv7||Gt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Gt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Gt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ZB,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||eT}calculate(e){if(Object.keys(this).forEach(n=>{this[n]==="calculated"&&(this[n]=void 0)}),typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},j(yx,"Theme"),yx),gge=j(t=>{const e=new pge;return e.calculate(t),e},"getThemeVariables"),xx,mge=(xx=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=or("#cde498",10),this.primaryBorderColor=Ql(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ql(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ql(this.tertiaryColor,this.darkMode),this.primaryTextColor=Gt(this.primaryColor),this.secondaryTextColor=Gt(this.secondaryColor),this.tertiaryTextColor=Gt(this.primaryColor),this.lineColor=Gt(this.background),this.textColor=Gt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,n,i,s,a,o,l,c,u,f,p,g,y,x,w,S,B,F,k,O;this.actorBorder=Ir(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ye(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ye(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ye(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ye(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ye(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ye(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ye(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ye(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ye(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ir(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ir(this.tertiaryColor,40);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScale"+R]=Ir(this["cScale"+R],10),this["cScalePeer"+R]=this["cScalePeer"+R]||Ir(this["cScale"+R],25);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleInv"+R]=this["cScaleInv"+R]||Ye(this["cScale"+R],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleLabel"+R]=this["cScaleLabel"+R]||this.scaleLabelColor;for(let R=0;R<5;R++)this["surface"+R]=this["surface"+R]||Ye(this.mainBkg,{h:30,s:-30,l:-(5+R*5)}),this["surfacePeer"+R]=this["surfacePeer"+R]||Ye(this.mainBkg,{h:30,s:-30,l:-(8+R*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||or(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||or(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ye(this.primaryColor,{h:64}),this.fillType3=Ye(this.secondaryColor,{h:64}),this.fillType4=Ye(this.primaryColor,{h:-64}),this.fillType5=Ye(this.secondaryColor,{h:-64}),this.fillType6=Ye(this.primaryColor,{h:128}),this.fillType7=Ye(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ye(this.primaryColor,{l:-30}),this.pie5=this.pie5||Ye(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ye(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Ye(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ye(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ye(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ye(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Ye(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Ye(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ye(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ye(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ye(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ye(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ye(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ye(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||wC(this.quadrant1Fill)?or(this.quadrant1Fill):Ir(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((e=this.radar)==null?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((i=this.radar)==null?void 0:i.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((a=this.radar)==null?void 0:a.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((o=this.radar)==null?void 0:o.graticuleStrokeWidth)||1,graticuleOpacity:((l=this.radar)==null?void 0:l.graticuleOpacity)||.3,legendBoxSize:((c=this.radar)==null?void 0:c.legendBoxSize)||12,legendFontSize:((u=this.radar)==null?void 0:u.legendFontSize)||12},this.xyChart={backgroundColor:((f=this.xyChart)==null?void 0:f.backgroundColor)||this.background,titleColor:((p=this.xyChart)==null?void 0:p.titleColor)||this.primaryTextColor,xAxisTitleColor:((g=this.xyChart)==null?void 0:g.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((y=this.xyChart)==null?void 0:y.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((x=this.xyChart)==null?void 0:x.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((w=this.xyChart)==null?void 0:w.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((S=this.xyChart)==null?void 0:S.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((B=this.xyChart)==null?void 0:B.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((F=this.xyChart)==null?void 0:F.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((k=this.xyChart)==null?void 0:k.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((O=this.xyChart)==null?void 0:O.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ye(this.primaryColor,{h:-30}),this.git4=this.git4||Ye(this.primaryColor,{h:-60}),this.git5=this.git5||Ye(this.primaryColor,{h:-90}),this.git6=this.git6||Ye(this.primaryColor,{h:60}),this.git7=this.git7||Ye(this.primaryColor,{h:120}),this.darkMode?(this.git0=or(this.git0,25),this.git1=or(this.git1,25),this.git2=or(this.git2,25),this.git3=or(this.git3,25),this.git4=or(this.git4,25),this.git5=or(this.git5,25),this.git6=or(this.git6,25),this.git7=or(this.git7,25)):(this.git0=Ir(this.git0,25),this.git1=Ir(this.git1,25),this.git2=Ir(this.git2,25),this.git3=Ir(this.git3,25),this.git4=Ir(this.git4,25),this.git5=Ir(this.git5,25),this.git6=Ir(this.git6,25),this.git7=Ir(this.git7,25)),this.gitInv0=this.gitInv0||Gt(this.git0),this.gitInv1=this.gitInv1||Gt(this.git1),this.gitInv2=this.gitInv2||Gt(this.git2),this.gitInv3=this.gitInv3||Gt(this.git3),this.gitInv4=this.gitInv4||Gt(this.git4),this.gitInv5=this.gitInv5||Gt(this.git5),this.gitInv6=this.gitInv6||Gt(this.git6),this.gitInv7=this.gitInv7||Gt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Gt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Gt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ZB,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||eT}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},j(xx,"Theme"),xx),yge=j(t=>{const e=new mge;return e.calculate(t),e},"getThemeVariables"),vx,xge=(vx=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=or(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Ye(this.primaryColor,{h:-160}),this.primaryBorderColor=Ql(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ql(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ql(this.tertiaryColor,this.darkMode),this.primaryTextColor=Gt(this.primaryColor),this.secondaryTextColor=Gt(this.secondaryColor),this.tertiaryTextColor=Gt(this.tertiaryColor),this.lineColor=Gt(this.background),this.textColor=Gt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||or(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,n,i,s,a,o,l,c,u,f,p,g,y,x,w,S,B,F,k,O;this.secondBkg=or(this.contrast,55),this.border2=this.contrast,this.actorBorder=or(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleInv"+R]=this["cScaleInv"+R]||Gt(this["cScale"+R]);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this.darkMode?this["cScalePeer"+R]=this["cScalePeer"+R]||or(this["cScale"+R],10):this["cScalePeer"+R]=this["cScalePeer"+R]||Ir(this["cScale"+R],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleLabel"+R]=this["cScaleLabel"+R]||this.scaleLabelColor;for(let R=0;R<5;R++)this["surface"+R]=this["surface"+R]||Ye(this.mainBkg,{l:-(5+R*5)}),this["surfacePeer"+R]=this["surfacePeer"+R]||Ye(this.mainBkg,{l:-(8+R*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=or(this.contrast,30),this.sectionBkgColor2=or(this.contrast,30),this.taskBorderColor=Ir(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=or(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Ir(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ye(this.primaryColor,{h:64}),this.fillType3=Ye(this.secondaryColor,{h:64}),this.fillType4=Ye(this.primaryColor,{h:-64}),this.fillType5=Ye(this.secondaryColor,{h:-64}),this.fillType6=Ye(this.primaryColor,{h:128}),this.fillType7=Ye(this.secondaryColor,{h:128});for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["pie"+R]=this["cScale"+R];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ye(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ye(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ye(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ye(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ye(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ye(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||wC(this.quadrant1Fill)?or(this.quadrant1Fill):Ir(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((u=this.xyChart)==null?void 0:u.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((f=this.xyChart)==null?void 0:f.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((p=this.radar)==null?void 0:p.axisColor)||this.lineColor,axisStrokeWidth:((g=this.radar)==null?void 0:g.axisStrokeWidth)||2,axisLabelFontSize:((y=this.radar)==null?void 0:y.axisLabelFontSize)||12,curveOpacity:((x=this.radar)==null?void 0:x.curveOpacity)||.5,curveStrokeWidth:((w=this.radar)==null?void 0:w.curveStrokeWidth)||2,graticuleColor:((S=this.radar)==null?void 0:S.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((B=this.radar)==null?void 0:B.graticuleStrokeWidth)||1,graticuleOpacity:((F=this.radar)==null?void 0:F.graticuleOpacity)||.3,legendBoxSize:((k=this.radar)==null?void 0:k.legendBoxSize)||12,legendFontSize:((O=this.radar)==null?void 0:O.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ir(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Ye(this.primaryColor,{h:-30}),this.git4=this.pie5||Ye(this.primaryColor,{h:-60}),this.git5=this.pie6||Ye(this.primaryColor,{h:-90}),this.git6=this.pie7||Ye(this.primaryColor,{h:60}),this.git7=this.pie8||Ye(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Gt(this.git0),this.gitInv1=this.gitInv1||Gt(this.git1),this.gitInv2=this.gitInv2||Gt(this.git2),this.gitInv3=this.gitInv3||Gt(this.git3),this.gitInv4=this.gitInv4||Gt(this.git4),this.gitInv5=this.gitInv5||Gt(this.git5),this.gitInv6=this.gitInv6||Gt(this.git6),this.gitInv7=this.gitInv7||Gt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ZB,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||eT}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},j(vx,"Theme"),vx),vge=j(t=>{const e=new xge;return e.calculate(t),e},"getThemeVariables"),Ld={base:{getThemeVariables:hge},dark:{getThemeVariables:dge},default:{getThemeVariables:gge},forest:{getThemeVariables:yge},neutral:{getThemeVariables:vge}},Dh={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},SV={...Dh,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Ld.default.getThemeVariables(),sequence:{...Dh.sequence,messageFont:j(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:j(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:j(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Dh.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Dh.c4,useWidth:void 0,personFont:j(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...Dh.flowchart,inheritDir:!1},external_personFont:j(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:j(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:j(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:j(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:j(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:j(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:j(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:j(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:j(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:j(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:j(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:j(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:j(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:j(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:j(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:j(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:j(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:j(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:j(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:j(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:j(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Dh.pie,useWidth:984},xyChart:{...Dh.xyChart,useWidth:void 0},requirement:{...Dh.requirement,useWidth:void 0},packet:{...Dh.packet},radar:{...Dh.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},_V=j((t,e="")=>Object.keys(t).reduce((r,n)=>Array.isArray(t[n])?r:typeof t[n]=="object"&&t[n]!==null?[...r,e+n,..._V(t[n],"")]:[...r,e+n],[]),"keyify"),wge=new Set(_V(SV,"")),EV=SV,nE=j(t=>{if(_t.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>nE(e));return}for(const e of Object.keys(t)){if(_t.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!wge.has(e)||t[e]==null){_t.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){_t.debug("sanitizing object",e),nE(t[e]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)e.includes(n)&&(_t.debug("sanitizing css option",e),t[e]=bge(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const r=t.themeVariables[e];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}_t.debug("After sanitization",t)}},"sanitizeDirective"),bge=j(t=>{let e=0,r=0;for(const n of t){if(e<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?e++:n==="}"&&r++}return e!==r?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),Nx=Object.freeze(EV),vc=Qa({},Nx),iE,_m=[],Y2=Qa({},Nx),tT=j((t,e)=>{let r=Qa({},t),n={};for(const i of e)NV(i),n=Qa(n,i);if(r=Qa(r,n),n.theme&&n.theme in Ld){const i=Qa({},iE),s=Qa(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in Ld&&(r.themeVariables=Ld[r.theme].getThemeVariables(s))}return Y2=r,FV(Y2),Y2},"updateCurrentConfig"),Cge=j(t=>(vc=Qa({},Nx),vc=Qa(vc,t),t.theme&&Ld[t.theme]&&(vc.themeVariables=Ld[t.theme].getThemeVariables(t.themeVariables)),tT(vc,_m),vc),"setSiteConfig"),Sge=j(t=>{iE=Qa({},t)},"saveConfigFromInitialize"),_ge=j(t=>(vc=Qa(vc,t),tT(vc,_m),vc),"updateSiteConfig"),BV=j(()=>Qa({},vc),"getSiteConfig"),TV=j(t=>(FV(t),Qa(Y2,t),Al()),"setConfig"),Al=j(()=>Qa({},Y2),"getConfig"),NV=j(t=>{t&&(["secure",...vc.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(_t.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&NV(t[e])}))},"sanitize"),Ege=j(t=>{var e;nE(t),t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),_m.push(t),tT(vc,_m)},"addDirective"),sE=j((t=vc)=>{_m=[],tT(t,_m)},"reset"),Bge={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},EP={},Tge=j(t=>{EP[t]||(_t.warn(Bge[t]),EP[t]=!0)},"issueWarning"),FV=j(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&Tge("LAZY_LOAD_DEPRECATED")},"checkConfig"),mRe=j(()=>{let t={};iE&&(t=Qa(t,iE));for(const e of _m)t=Qa(t,e);return t},"getUserDefinedConfig"),bC=/<br\s*\/?>/gi,Nge=j(t=>t?LV(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),Fge=(()=>{let t=!1;return()=>{t||(IV(),t=!0)}})();function IV(){const t="data-temp-href-target";Tx.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),Tx.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}j(IV,"setupDompurifyHooks");var kV=j(t=>(Fge(),Tx.sanitize(t)),"removeScript"),BP=j((t,e)=>{var r;if(((r=e.flowchart)==null?void 0:r.htmlLabels)!==!1){const n=e.securityLevel;n==="antiscript"||n==="strict"?t=kV(t):n!=="loose"&&(t=LV(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=Rge(t))}return t},"sanitizeMore"),KA=j((t,e)=>t&&(e.dompurifyConfig?t=Tx.sanitize(BP(t,e),e.dompurifyConfig).toString():t=Tx.sanitize(BP(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),Ige=j((t,e)=>typeof t=="string"?KA(t,e):t.flat().map(r=>KA(r,e)),"sanitizeTextOrArray"),kge=j(t=>bC.test(t),"hasBreaks"),Lge=j(t=>t.split(bC),"splitBreaks"),Rge=j(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),LV=j(t=>t.replace(bC,"#br#"),"breakToPlaceholder"),Mge=j(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=CSS.escape(e)),e},"getUrl"),Ga=j(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),Uge=j(function(...t){const e=t.filter(r=>!isNaN(r));return Math.max(...e)},"getMax"),Dge=j(function(...t){const e=t.filter(r=>!isNaN(r));return Math.min(...e)},"getMin"),TP=j(function(t){const e=t.split(/(,)/),r=[];for(let n=0;n<e.length;n++){let i=e[n];if(i===","&&n>0&&n+1<e.length){const s=e[n-1],a=e[n+1];Oge(s,a)&&(i=s+","+a,n++,r.pop())}r.push(Pge(i))}return r.join("")},"parseGenericTypes"),zI=j((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),Oge=j((t,e)=>{const r=zI(t,"~"),n=zI(e,"~");return r===1&&n===1},"shouldCombineSets"),Pge=j(t=>{const e=zI(t,"~");let r=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),r=!0);const n=[...t];let i=n.indexOf("~"),s=n.lastIndexOf("~");for(;i!==-1&&s!==-1&&i!==s;)n[i]="<",n[s]=">",i=n.indexOf("~"),s=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),NP=j(()=>window.MathMLElement!==void 0,"isMathMLSupported"),KI=/\$\$(.*)\$\$/g,Fx=j(t=>{var e;return(((e=t.match(KI))==null?void 0:e.length)??0)>0},"hasKatex"),yRe=j(async(t,e)=>{const r=document.createElement("div");r.innerHTML=await kL(t,e),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const n=document.querySelector("body");n==null||n.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),Hge=j(async(t,e)=>{if(!Fx(t))return t;if(!(NP()||e.legacyMathML||e.forceLegacyMathML))return t.replace(KI,"MathML is unsupported in this environment.");{const{default:r}=await Sn(async()=>{const{default:i}=await import("./katex-Cu_Erd72.js");return{default:i}},[]),n=e.forceLegacyMathML||!NP()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(bC).map(i=>Fx(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(KI,(i,s)=>r.renderToString(s,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),kL=j(async(t,e)=>KA(await Hge(t,e),e),"renderKatexSanitized"),Gx={getRows:Nge,sanitizeText:KA,sanitizeTextOrArray:Ige,hasBreaks:kge,splitBreaks:Lge,lineBreakRegex:bC,removeScript:kV,getUrl:Mge,evaluate:Ga,getMax:Uge,getMin:Dge},Qge=j(function(t,e){for(let r of e)t.attr(r[0],r[1])},"d3Attrs"),jge=j(function(t,e,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${e}px;`)):(n.set("height",t),n.set("width",e)),n},"calculateSvgSizeAttrs"),RV=j(function(t,e,r,n){const i=jge(e,r,n);Qge(t,i)},"configureSvgSize"),Gge=j(function(t,e,r,n){const i=e.node().getBBox(),s=i.width,a=i.height;_t.info(`SVG bounds: ${s}x${a}`,i);let o=0,l=0;_t.info(`Graph bounds: ${o}x${l}`,t),o=s+r*2,l=a+r*2,_t.info(`Calculated bounds: ${o}x${l}`),RV(e,l,o,n);const c=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;e.attr("viewBox",c)},"setupGraphViewbox"),g_={},Vge=j((t,e,r)=>{let n="";return t in g_&&g_[t]?n=g_[t](r):_t.warn(`No theme found for ${t}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${e}
`},"getStyles"),$ge=j((t,e)=>{e!==void 0&&(g_[t]=e)},"addStylesForDiagram"),qge=Vge,MV={};Rpe(MV,{clear:()=>zge,getAccDescription:()=>Xge,getAccTitle:()=>Wge,getDiagramTitle:()=>Zge,setAccDescription:()=>Yge,setAccTitle:()=>Kge,setDiagramTitle:()=>Jge});var LL="",RL="",ML="",UL=j(t=>KA(t,Al()),"sanitizeText"),zge=j(()=>{LL="",ML="",RL=""},"clear"),Kge=j(t=>{LL=UL(t).replace(/^\s+/g,"")},"setAccTitle"),Wge=j(()=>LL,"getAccTitle"),Yge=j(t=>{ML=UL(t).replace(/\n\s+/g,`
`)},"setAccDescription"),Xge=j(()=>ML,"getAccDescription"),Jge=j(t=>{RL=UL(t)},"setDiagramTitle"),Zge=j(()=>RL,"getDiagramTitle"),FP=_t,eme=FL,fi=Al,xRe=TV,vRe=Nx,DL=j(t=>KA(t,fi()),"sanitizeText"),tme=Gge,rme=j(()=>MV,"getCommonDb"),aE={},oE=j((t,e,r)=>{var n;aE[t]&&FP.warn(`Diagram with id ${t} already registered. Overwriting.`),aE[t]=e,r&&CV(t,r),$ge(t,e.styles),(n=e.injectUtils)==null||n.call(e,FP,eme,fi,DL,tme,rme(),()=>{})},"registerDiagram"),WI=j(t=>{if(t in aE)return aE[t];throw new nme(t)},"getDiagram"),wx,nme=(wx=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},j(wx,"DiagramNotFoundError"),wx),ime={value:()=>{}};function UV(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new m_(r)}function m_(t){this._=t}function sme(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}m_.prototype=UV.prototype={constructor:m_,on:function(t,e){var r=this._,n=sme(t+"",r),i,s=-1,a=n.length;if(arguments.length<2){for(;++s<a;)if((i=(t=n[s]).type)&&(i=ame(r[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=n[s]).type)r[i]=IP(r[i],t.name,e);else if(e==null)for(i in r)r[i]=IP(r[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new m_(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],n=0,i=s.length;n<i;++n)s[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,s=n.length;i<s;++i)n[i].value.apply(e,r)}};function ame(t,e){for(var r=0,n=t.length,i;r<n;++r)if((i=t[r]).name===e)return i.value}function IP(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=ime,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var YI="http://www.w3.org/1999/xhtml";const kP={svg:"http://www.w3.org/2000/svg",xhtml:YI,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rT(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),kP.hasOwnProperty(e)?{space:kP[e],local:t}:t}function ome(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===YI&&e.documentElement.namespaceURI===YI?e.createElement(t):e.createElementNS(r,t)}}function lme(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function DV(t){var e=rT(t);return(e.local?lme:ome)(e)}function cme(){}function OL(t){return t==null?cme:function(){return this.querySelector(t)}}function Ame(t){typeof t!="function"&&(t=OL(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var s=e[i],a=s.length,o=n[i]=new Array(a),l,c,u=0;u<a;++u)(l=s[u])&&(c=t.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),o[u]=c);return new sA(n,this._parents)}function ume(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function hme(){return[]}function OV(t){return t==null?hme:function(){return this.querySelectorAll(t)}}function fme(t){return function(){return ume(t.apply(this,arguments))}}function dme(t){typeof t=="function"?t=fme(t):t=OV(t);for(var e=this._groups,r=e.length,n=[],i=[],s=0;s<r;++s)for(var a=e[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&(n.push(t.call(l,l.__data__,c,a)),i.push(l));return new sA(n,i)}function PV(t){return function(){return this.matches(t)}}function HV(t){return function(e){return e.matches(t)}}var pme=Array.prototype.find;function gme(t){return function(){return pme.call(this.children,t)}}function mme(){return this.firstElementChild}function yme(t){return this.select(t==null?mme:gme(typeof t=="function"?t:HV(t)))}var xme=Array.prototype.filter;function vme(){return Array.from(this.children)}function wme(t){return function(){return xme.call(this.children,t)}}function bme(t){return this.selectAll(t==null?vme:wme(typeof t=="function"?t:HV(t)))}function Cme(t){typeof t!="function"&&(t=PV(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var s=e[i],a=s.length,o=n[i]=[],l,c=0;c<a;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&o.push(l);return new sA(n,this._parents)}function QV(t){return new Array(t.length)}function Sme(){return new sA(this._enter||this._groups.map(QV),this._parents)}function lE(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}lE.prototype={constructor:lE,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _me(t){return function(){return t}}function Eme(t,e,r,n,i,s){for(var a=0,o,l=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],n[a]=o):r[a]=new lE(t,s[a]);for(;a<l;++a)(o=e[a])&&(i[a]=o)}function Bme(t,e,r,n,i,s,a){var o,l,c=new Map,u=e.length,f=s.length,p=new Array(u),g;for(o=0;o<u;++o)(l=e[o])&&(p[o]=g=a.call(l,l.__data__,o,e)+"",c.has(g)?i[o]=l:c.set(g,l));for(o=0;o<f;++o)g=a.call(t,s[o],o,s)+"",(l=c.get(g))?(n[o]=l,l.__data__=s[o],c.delete(g)):r[o]=new lE(t,s[o]);for(o=0;o<u;++o)(l=e[o])&&c.get(p[o])===l&&(i[o]=l)}function Tme(t){return t.__data__}function Nme(t,e){if(!arguments.length)return Array.from(this,Tme);var r=e?Bme:Eme,n=this._parents,i=this._groups;typeof t!="function"&&(t=_me(t));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),c=0;c<s;++c){var u=n[c],f=i[c],p=f.length,g=Fme(t.call(u,u&&u.__data__,c,n)),y=g.length,x=o[c]=new Array(y),w=a[c]=new Array(y),S=l[c]=new Array(p);r(u,f,x,w,S,g,e);for(var B=0,F=0,k,O;B<y;++B)if(k=x[B]){for(B>=F&&(F=B+1);!(O=w[F])&&++F<y;);k._next=O||null}}return a=new sA(a,n),a._enter=o,a._exit=l,a}function Fme(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ime(){return new sA(this._exit||this._groups.map(QV),this._parents)}function kme(t,e,r){var n=this.enter(),i=this,s=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}function Lme(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,s=n.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var c=r[l],u=n[l],f=c.length,p=o[l]=new Array(f),g,y=0;y<f;++y)(g=c[y]||u[y])&&(p[y]=g);for(;l<i;++l)o[l]=r[l];return new sA(o,this._parents)}function Rme(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],i=n.length-1,s=n[i],a;--i>=0;)(a=n[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function Mme(t){t||(t=Ume);function e(f,p){return f&&p?t(f.__data__,p.__data__):!f-!p}for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var a=r[s],o=a.length,l=i[s]=new Array(o),c,u=0;u<o;++u)(c=a[u])&&(l[u]=c);l.sort(e)}return new sA(i,this._parents).order()}function Ume(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Dme(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ome(){return Array.from(this)}function Pme(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,s=n.length;i<s;++i){var a=n[i];if(a)return a}return null}function Hme(){let t=0;for(const e of this)++t;return t}function Qme(){return!this.node()}function jme(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],s=0,a=i.length,o;s<a;++s)(o=i[s])&&t.call(o,o.__data__,s,i);return this}function Gme(t){return function(){this.removeAttribute(t)}}function Vme(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $me(t,e){return function(){this.setAttribute(t,e)}}function qme(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function zme(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function Kme(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function Wme(t,e){var r=rT(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?Vme:Gme:typeof e=="function"?r.local?Kme:zme:r.local?qme:$me)(r,e))}function jV(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Yme(t){return function(){this.style.removeProperty(t)}}function Xme(t,e,r){return function(){this.style.setProperty(t,e,r)}}function Jme(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function Zme(t,e,r){return arguments.length>1?this.each((e==null?Yme:typeof e=="function"?Jme:Xme)(t,e,r??"")):Ix(this.node(),t)}function Ix(t,e){return t.style.getPropertyValue(e)||jV(t).getComputedStyle(t,null).getPropertyValue(e)}function e1e(t){return function(){delete this[t]}}function t1e(t,e){return function(){this[t]=e}}function r1e(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function n1e(t,e){return arguments.length>1?this.each((e==null?e1e:typeof e=="function"?r1e:t1e)(t,e)):this.node()[t]}function GV(t){return t.trim().split(/^|\s+/)}function PL(t){return t.classList||new VV(t)}function VV(t){this._node=t,this._names=GV(t.getAttribute("class")||"")}VV.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function $V(t,e){for(var r=PL(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function qV(t,e){for(var r=PL(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function i1e(t){return function(){$V(this,t)}}function s1e(t){return function(){qV(this,t)}}function a1e(t,e){return function(){(e.apply(this,arguments)?$V:qV)(this,t)}}function o1e(t,e){var r=GV(t+"");if(arguments.length<2){for(var n=PL(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof e=="function"?a1e:e?i1e:s1e)(r,e))}function l1e(){this.textContent=""}function c1e(t){return function(){this.textContent=t}}function A1e(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function u1e(t){return arguments.length?this.each(t==null?l1e:(typeof t=="function"?A1e:c1e)(t)):this.node().textContent}function h1e(){this.innerHTML=""}function f1e(t){return function(){this.innerHTML=t}}function d1e(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function p1e(t){return arguments.length?this.each(t==null?h1e:(typeof t=="function"?d1e:f1e)(t)):this.node().innerHTML}function g1e(){this.nextSibling&&this.parentNode.appendChild(this)}function m1e(){return this.each(g1e)}function y1e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function x1e(){return this.each(y1e)}function v1e(t){var e=typeof t=="function"?t:DV(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function w1e(){return null}function b1e(t,e){var r=typeof t=="function"?t:DV(t),n=e==null?w1e:typeof e=="function"?e:OL(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function C1e(){var t=this.parentNode;t&&t.removeChild(this)}function S1e(){return this.each(C1e)}function _1e(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function E1e(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function B1e(t){return this.select(t?E1e:_1e)}function T1e(t){return arguments.length?this.property("__data__",t):this.node().__data__}function N1e(t){return function(e){t.call(this,e,this.__data__)}}function F1e(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function I1e(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,i=e.length,s;r<i;++r)s=e[r],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++n]=s;++n?e.length=n:delete this.__on}}}function k1e(t,e,r){return function(){var n=this.__on,i,s=N1e(e);if(n){for(var a=0,o=n.length;a<o;++a)if((i=n[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=e;return}}this.addEventListener(t.type,s,r),i={type:t.type,name:t.name,value:e,listener:s,options:r},n?n.push(i):this.__on=[i]}}function L1e(t,e,r){var n=F1e(t+""),i,s=n.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,u;l<c;++l)for(i=0,u=o[l];i<s;++i)if((a=n[i]).type===u.type&&a.name===u.name)return u.value}return}for(o=e?k1e:I1e,i=0;i<s;++i)this.each(o(n[i],e,r));return this}function zV(t,e,r){var n=jV(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function R1e(t,e){return function(){return zV(this,t,e)}}function M1e(t,e){return function(){return zV(this,t,e.apply(this,arguments))}}function U1e(t,e){return this.each((typeof e=="function"?M1e:R1e)(t,e))}function*D1e(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,s=n.length,a;i<s;++i)(a=n[i])&&(yield a)}var KV=[null];function sA(t,e){this._groups=t,this._parents=e}function CC(){return new sA([[document.documentElement]],KV)}function O1e(){return this}sA.prototype=CC.prototype={constructor:sA,select:Ame,selectAll:dme,selectChild:yme,selectChildren:bme,filter:Cme,data:Nme,enter:Sme,exit:Ime,join:kme,merge:Lme,selection:O1e,order:Rme,sort:Mme,call:Dme,nodes:Ome,node:Pme,size:Hme,empty:Qme,each:jme,attr:Wme,style:Zme,property:n1e,classed:o1e,text:u1e,html:p1e,raise:m1e,lower:x1e,append:v1e,insert:b1e,remove:S1e,clone:B1e,datum:T1e,on:L1e,dispatch:U1e,[Symbol.iterator]:D1e};function Vn(t){return typeof t=="string"?new sA([[document.querySelector(t)]],[document.documentElement]):new sA([[t]],KV)}function HL(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function WV(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function SC(){}var dw=.7,cE=1/dw,dy="\\s*([+-]?\\d+)\\s*",pw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",uf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",P1e=/^#([0-9a-f]{3,8})$/,H1e=new RegExp(`^rgb\\(${dy},${dy},${dy}\\)$`),Q1e=new RegExp(`^rgb\\(${uf},${uf},${uf}\\)$`),j1e=new RegExp(`^rgba\\(${dy},${dy},${dy},${pw}\\)$`),G1e=new RegExp(`^rgba\\(${uf},${uf},${uf},${pw}\\)$`),V1e=new RegExp(`^hsl\\(${pw},${uf},${uf}\\)$`),$1e=new RegExp(`^hsla\\(${pw},${uf},${uf},${pw}\\)$`),LP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HL(SC,gw,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:RP,formatHex:RP,formatHex8:q1e,formatHsl:z1e,formatRgb:MP,toString:MP});function RP(){return this.rgb().formatHex()}function q1e(){return this.rgb().formatHex8()}function z1e(){return YV(this).formatHsl()}function MP(){return this.rgb().formatRgb()}function gw(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=P1e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?UP(e):r===3?new Cc(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?A5(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?A5(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=H1e.exec(t))?new Cc(e[1],e[2],e[3],1):(e=Q1e.exec(t))?new Cc(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=j1e.exec(t))?A5(e[1],e[2],e[3],e[4]):(e=G1e.exec(t))?A5(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=V1e.exec(t))?PP(e[1],e[2]/100,e[3]/100,1):(e=$1e.exec(t))?PP(e[1],e[2]/100,e[3]/100,e[4]):LP.hasOwnProperty(t)?UP(LP[t]):t==="transparent"?new Cc(NaN,NaN,NaN,0):null}function UP(t){return new Cc(t>>16&255,t>>8&255,t&255,1)}function A5(t,e,r,n){return n<=0&&(t=e=r=NaN),new Cc(t,e,r,n)}function K1e(t){return t instanceof SC||(t=gw(t)),t?(t=t.rgb(),new Cc(t.r,t.g,t.b,t.opacity)):new Cc}function XI(t,e,r,n){return arguments.length===1?K1e(t):new Cc(t,e,r,n??1)}function Cc(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}HL(Cc,XI,WV(SC,{brighter(t){return t=t==null?cE:Math.pow(cE,t),new Cc(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?dw:Math.pow(dw,t),new Cc(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Cc(gm(this.r),gm(this.g),gm(this.b),AE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DP,formatHex:DP,formatHex8:W1e,formatRgb:OP,toString:OP}));function DP(){return`#${fg(this.r)}${fg(this.g)}${fg(this.b)}`}function W1e(){return`#${fg(this.r)}${fg(this.g)}${fg(this.b)}${fg((isNaN(this.opacity)?1:this.opacity)*255)}`}function OP(){const t=AE(this.opacity);return`${t===1?"rgb(":"rgba("}${gm(this.r)}, ${gm(this.g)}, ${gm(this.b)}${t===1?")":`, ${t})`}`}function AE(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gm(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fg(t){return t=gm(t),(t<16?"0":"")+t.toString(16)}function PP(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Gu(t,e,r,n)}function YV(t){if(t instanceof Gu)return new Gu(t.h,t.s,t.l,t.opacity);if(t instanceof SC||(t=gw(t)),!t)return new Gu;if(t instanceof Gu)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Gu(a,o,l,t.opacity)}function Y1e(t,e,r,n){return arguments.length===1?YV(t):new Gu(t,e,r,n??1)}function Gu(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}HL(Gu,Y1e,WV(SC,{brighter(t){return t=t==null?cE:Math.pow(cE,t),new Gu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?dw:Math.pow(dw,t),new Gu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Cc(nN(t>=240?t-240:t+120,i,n),nN(t,i,n),nN(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Gu(HP(this.h),u5(this.s),u5(this.l),AE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=AE(this.opacity);return`${t===1?"hsl(":"hsla("}${HP(this.h)}, ${u5(this.s)*100}%, ${u5(this.l)*100}%${t===1?")":`, ${t})`}`}}));function HP(t){return t=(t||0)%360,t<0?t+360:t}function u5(t){return Math.max(0,Math.min(1,t||0))}function nN(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const QL=t=>()=>t;function XV(t,e){return function(r){return t+r*e}}function X1e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function wRe(t,e){var r=e-t;return r?XV(t,r>180||r<-180?r-360*Math.round(r/360):r):QL(isNaN(t)?e:t)}function J1e(t){return(t=+t)==1?JV:function(e,r){return r-e?X1e(e,r,t):QL(isNaN(e)?r:e)}}function JV(t,e){var r=e-t;return r?XV(t,r):QL(isNaN(t)?e:t)}const QP=(function t(e){var r=J1e(e);function n(i,s){var a=r((i=XI(i)).r,(s=XI(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),c=JV(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n})(1);function Q0(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var JI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iN=new RegExp(JI.source,"g");function Z1e(t){return function(){return t}}function eye(t){return function(e){return t(e)+""}}function tye(t,e){var r=JI.lastIndex=iN.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(n=JI.exec(t))&&(i=iN.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Q0(n,i)})),r=iN.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?eye(l[0].x):Z1e(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}var jP=180/Math.PI,ZI={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ZV(t,e,r,n,i,s){var a,o,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*r+e*n)&&(r-=t*l,n-=e*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),t*n<e*r&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*jP,skewX:Math.atan(l)*jP,scaleX:a,scaleY:o}}var h5;function rye(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ZI:ZV(e.a,e.b,e.c,e.d,e.e,e.f)}function nye(t){return t==null||(h5||(h5=document.createElementNS("http://www.w3.org/2000/svg","g")),h5.setAttribute("transform",t),!(t=h5.transform.baseVal.consolidate()))?ZI:(t=t.matrix,ZV(t.a,t.b,t.c,t.d,t.e,t.f))}function e$(t,e,r,n){function i(c){return c.length?c.pop()+" ":""}function s(c,u,f,p,g,y){if(c!==f||u!==p){var x=g.push("translate(",null,e,null,r);y.push({i:x-4,x:Q0(c,f)},{i:x-2,x:Q0(u,p)})}else(f||p)&&g.push("translate("+f+e+p+r)}function a(c,u,f,p){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),p.push({i:f.push(i(f)+"rotate(",null,n)-2,x:Q0(c,u)})):u&&f.push(i(f)+"rotate("+u+n)}function o(c,u,f,p){c!==u?p.push({i:f.push(i(f)+"skewX(",null,n)-2,x:Q0(c,u)}):u&&f.push(i(f)+"skewX("+u+n)}function l(c,u,f,p,g,y){if(c!==f||u!==p){var x=g.push(i(g)+"scale(",null,",",null,")");y.push({i:x-4,x:Q0(c,f)},{i:x-2,x:Q0(u,p)})}else(f!==1||p!==1)&&g.push(i(g)+"scale("+f+","+p+")")}return function(c,u){var f=[],p=[];return c=t(c),u=t(u),s(c.translateX,c.translateY,u.translateX,u.translateY,f,p),a(c.rotate,u.rotate,f,p),o(c.skewX,u.skewX,f,p),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,p),c=u=null,function(g){for(var y=-1,x=p.length,w;++y<x;)f[(w=p[y]).i]=w.x(g);return f.join("")}}}var iye=e$(rye,"px, ","px)","deg)"),sye=e$(nye,", ",")",")"),kx=0,T2=0,Kv=0,t$=1e3,uE,N2,hE=0,Em=0,nT=0,mw=typeof performance=="object"&&performance.now?performance:Date,r$=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function jL(){return Em||(r$(aye),Em=mw.now()+nT)}function aye(){Em=0}function fE(){this._call=this._time=this._next=null}fE.prototype=n$.prototype={constructor:fE,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?jL():+r)+(e==null?0:+e),!this._next&&N2!==this&&(N2?N2._next=this:uE=this,N2=this),this._call=t,this._time=r,ek()},stop:function(){this._call&&(this._call=null,this._time=1/0,ek())}};function n$(t,e,r){var n=new fE;return n.restart(t,e,r),n}function oye(){jL(),++kx;for(var t=uE,e;t;)(e=Em-t._time)>=0&&t._call.call(void 0,e),t=t._next;--kx}function GP(){Em=(hE=mw.now())+nT,kx=T2=0;try{oye()}finally{kx=0,cye(),Em=0}}function lye(){var t=mw.now(),e=t-hE;e>t$&&(nT-=e,hE=t)}function cye(){for(var t,e=uE,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:uE=r);N2=t,ek(n)}function ek(t){if(!kx){T2&&(T2=clearTimeout(T2));var e=t-Em;e>24?(t<1/0&&(T2=setTimeout(GP,t-mw.now()-nT)),Kv&&(Kv=clearInterval(Kv))):(Kv||(hE=mw.now(),Kv=setInterval(lye,t$)),kx=1,r$(GP))}}function VP(t,e,r){var n=new fE;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,r),n}var Aye=UV("start","end","cancel","interrupt"),uye=[],i$=0,$P=1,tk=2,y_=3,qP=4,rk=5,x_=6;function iT(t,e,r,n,i,s){var a=t.__transition;if(!a)t.__transition={};else if(r in a)return;hye(t,r,{name:e,index:n,group:i,on:Aye,tween:uye,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:i$})}function GL(t,e){var r=ih(t,e);if(r.state>i$)throw new Error("too late; already scheduled");return r}function wf(t,e){var r=ih(t,e);if(r.state>y_)throw new Error("too late; already running");return r}function ih(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function hye(t,e,r){var n=t.__transition,i;n[e]=r,r.timer=n$(s,0,r.time);function s(c){r.state=$P,r.timer.restart(a,r.delay,r.time),r.delay<=c&&a(c-r.delay)}function a(c){var u,f,p,g;if(r.state!==$P)return l();for(u in n)if(g=n[u],g.name===r.name){if(g.state===y_)return VP(a);g.state===qP?(g.state=x_,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete n[u]):+u<e&&(g.state=x_,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete n[u])}if(VP(function(){r.state===y_&&(r.state=qP,r.timer.restart(o,r.delay,r.time),o(c))}),r.state=tk,r.on.call("start",t,t.__data__,r.index,r.group),r.state===tk){for(r.state=y_,i=new Array(p=r.tween.length),u=0,f=-1;u<p;++u)(g=r.tween[u].value.call(t,t.__data__,r.index,r.group))&&(i[++f]=g);i.length=f+1}}function o(c){for(var u=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=rk,1),f=-1,p=i.length;++f<p;)i[f].call(t,u);r.state===rk&&(r.on.call("end",t,t.__data__,r.index,r.group),l())}function l(){r.state=x_,r.timer.stop(),delete n[e];for(var c in n)return;delete t.__transition}}function fye(t,e){var r=t.__transition,n,i,s=!0,a;if(r){e=e==null?null:e+"";for(a in r){if((n=r[a]).name!==e){s=!1;continue}i=n.state>tk&&n.state<rk,n.state=x_,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[a]}s&&delete t.__transition}}function dye(t){return this.each(function(){fye(this,t)})}function pye(t,e){var r,n;return function(){var i=wf(this,t),s=i.tween;if(s!==r){n=r=s;for(var a=0,o=n.length;a<o;++a)if(n[a].name===e){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function gye(t,e,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=wf(this,t),a=s.tween;if(a!==n){i=(n=a).slice();for(var o={name:e,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=o;break}l===c&&i.push(o)}s.tween=i}}function mye(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=ih(this.node(),r).tween,i=0,s=n.length,a;i<s;++i)if((a=n[i]).name===t)return a.value;return null}return this.each((e==null?pye:gye)(r,t,e))}function VL(t,e,r){var n=t._id;return t.each(function(){var i=wf(this,n);(i.value||(i.value={}))[e]=r.apply(this,arguments)}),function(i){return ih(i,n).value[e]}}function s$(t,e){var r;return(typeof e=="number"?Q0:e instanceof gw?QP:(r=gw(e))?(e=r,QP):tye)(t,e)}function yye(t){return function(){this.removeAttribute(t)}}function xye(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vye(t,e,r){var n,i=r+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===n?s:s=e(n=a,r)}}function wye(t,e,r){var n,i=r+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===n?s:s=e(n=a,r)}}function bye(t,e,r){var n,i,s;return function(){var a,o=r(this),l;return o==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=o+"",a===l?null:a===n&&l===i?s:(i=l,s=e(n=a,o)))}}function Cye(t,e,r){var n,i,s;return function(){var a,o=r(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=o+"",a===l?null:a===n&&l===i?s:(i=l,s=e(n=a,o)))}}function Sye(t,e){var r=rT(t),n=r==="transform"?sye:s$;return this.attrTween(t,typeof e=="function"?(r.local?Cye:bye)(r,n,VL(this,"attr."+t,e)):e==null?(r.local?xye:yye)(r):(r.local?wye:vye)(r,n,e))}function _ye(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function Eye(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function Bye(t,e){var r,n;function i(){var s=e.apply(this,arguments);return s!==n&&(r=(n=s)&&Eye(t,s)),r}return i._value=e,i}function Tye(t,e){var r,n;function i(){var s=e.apply(this,arguments);return s!==n&&(r=(n=s)&&_ye(t,s)),r}return i._value=e,i}function Nye(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=rT(t);return this.tween(r,(n.local?Bye:Tye)(n,e))}function Fye(t,e){return function(){GL(this,t).delay=+e.apply(this,arguments)}}function Iye(t,e){return e=+e,function(){GL(this,t).delay=e}}function kye(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Fye:Iye)(e,t)):ih(this.node(),e).delay}function Lye(t,e){return function(){wf(this,t).duration=+e.apply(this,arguments)}}function Rye(t,e){return e=+e,function(){wf(this,t).duration=e}}function Mye(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Lye:Rye)(e,t)):ih(this.node(),e).duration}function Uye(t,e){if(typeof e!="function")throw new Error;return function(){wf(this,t).ease=e}}function Dye(t){var e=this._id;return arguments.length?this.each(Uye(e,t)):ih(this.node(),e).ease}function Oye(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;wf(this,t).ease=r}}function Pye(t){if(typeof t!="function")throw new Error;return this.each(Oye(this._id,t))}function Hye(t){typeof t!="function"&&(t=PV(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var s=e[i],a=s.length,o=n[i]=[],l,c=0;c<a;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&o.push(l);return new Gd(n,this._parents,this._name,this._id)}function Qye(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,i=r.length,s=Math.min(n,i),a=new Array(n),o=0;o<s;++o)for(var l=e[o],c=r[o],u=l.length,f=a[o]=new Array(u),p,g=0;g<u;++g)(p=l[g]||c[g])&&(f[g]=p);for(;o<n;++o)a[o]=e[o];return new Gd(a,this._parents,this._name,this._id)}function jye(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function Gye(t,e,r){var n,i,s=jye(e)?GL:wf;return function(){var a=s(this,t),o=a.on;o!==n&&(i=(n=o).copy()).on(e,r),a.on=i}}function Vye(t,e){var r=this._id;return arguments.length<2?ih(this.node(),r).on.on(t):this.each(Gye(r,t,e))}function $ye(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function qye(){return this.on("end.remove",$ye(this._id))}function zye(t){var e=this._name,r=this._id;typeof t!="function"&&(t=OL(t));for(var n=this._groups,i=n.length,s=new Array(i),a=0;a<i;++a)for(var o=n[a],l=o.length,c=s[a]=new Array(l),u,f,p=0;p<l;++p)(u=o[p])&&(f=t.call(u,u.__data__,p,o))&&("__data__"in u&&(f.__data__=u.__data__),c[p]=f,iT(c[p],e,r,p,c,ih(u,r)));return new Gd(s,this._parents,e,r)}function Kye(t){var e=this._name,r=this._id;typeof t!="function"&&(t=OV(t));for(var n=this._groups,i=n.length,s=[],a=[],o=0;o<i;++o)for(var l=n[o],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var p=t.call(u,u.__data__,f,l),g,y=ih(u,r),x=0,w=p.length;x<w;++x)(g=p[x])&&iT(g,e,r,x,p,y);s.push(p),a.push(u)}return new Gd(s,a,e,r)}var Wye=CC.prototype.constructor;function Yye(){return new Wye(this._groups,this._parents)}function Xye(t,e){var r,n,i;return function(){var s=Ix(this,t),a=(this.style.removeProperty(t),Ix(this,t));return s===a?null:s===r&&a===n?i:i=e(r=s,n=a)}}function a$(t){return function(){this.style.removeProperty(t)}}function Jye(t,e,r){var n,i=r+"",s;return function(){var a=Ix(this,t);return a===i?null:a===n?s:s=e(n=a,r)}}function Zye(t,e,r){var n,i,s;return function(){var a=Ix(this,t),o=r(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),Ix(this,t))),a===l?null:a===n&&l===i?s:(i=l,s=e(n=a,o))}}function exe(t,e){var r,n,i,s="style."+e,a="end."+s,o;return function(){var l=wf(this,t),c=l.on,u=l.value[s]==null?o||(o=a$(e)):void 0;(c!==r||i!==u)&&(n=(r=c).copy()).on(a,i=u),l.on=n}}function txe(t,e,r){var n=(t+="")=="transform"?iye:s$;return e==null?this.styleTween(t,Xye(t,n)).on("end.style."+t,a$(t)):typeof e=="function"?this.styleTween(t,Zye(t,n,VL(this,"style."+t,e))).each(exe(this._id,t)):this.styleTween(t,Jye(t,n,e),r).on("end.style."+t,null)}function rxe(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function nxe(t,e,r){var n,i;function s(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&rxe(t,a,r)),n}return s._value=e,s}function ixe(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,nxe(t,e,r??""))}function sxe(t){return function(){this.textContent=t}}function axe(t){return function(){var e=t(this);this.textContent=e??""}}function oxe(t){return this.tween("text",typeof t=="function"?axe(VL(this,"text",t)):sxe(t==null?"":t+""))}function lxe(t){return function(e){this.textContent=t.call(this,e)}}function cxe(t){var e,r;function n(){var i=t.apply(this,arguments);return i!==r&&(e=(r=i)&&lxe(i)),e}return n._value=t,n}function Axe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,cxe(t))}function uxe(){for(var t=this._name,e=this._id,r=o$(),n=this._groups,i=n.length,s=0;s<i;++s)for(var a=n[s],o=a.length,l,c=0;c<o;++c)if(l=a[c]){var u=ih(l,e);iT(l,t,r,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Gd(n,this._parents,t,r)}function hxe(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};r.each(function(){var c=wf(this,n),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),i===0&&s()})}var fxe=0;function Gd(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function o$(){return++fxe}var Xf=CC.prototype;Gd.prototype={constructor:Gd,select:zye,selectAll:Kye,selectChild:Xf.selectChild,selectChildren:Xf.selectChildren,filter:Hye,merge:Qye,selection:Yye,transition:uxe,call:Xf.call,nodes:Xf.nodes,node:Xf.node,size:Xf.size,empty:Xf.empty,each:Xf.each,on:Vye,attr:Sye,attrTween:Nye,style:txe,styleTween:ixe,text:oxe,textTween:Axe,remove:qye,tween:mye,delay:kye,duration:Mye,ease:Dye,easeVarying:Pye,end:hxe,[Symbol.iterator]:Xf[Symbol.iterator]};function dxe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var pxe={time:null,delay:0,duration:250,ease:dxe};function gxe(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function mxe(t){var e,r;t instanceof Gd?(e=t._id,t=t._name):(e=o$(),(r=pxe).time=jL(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var a=n[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&iT(l,t,e,c,a,r||gxe(l,e));return new Gd(n,this._parents,t,e)}CC.prototype.interrupt=dye;CC.prototype.transition=mxe;const nk=Math.PI,ik=2*nk,ng=1e-6,yxe=ik-ng;function l$(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function xxe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return l$;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class vxe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?l$:xxe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=n-e,c=i-r,u=a-e,f=o-r,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>ng)if(!(Math.abs(f*l-c*u)>ng)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-a,y=i-o,x=l*l+c*c,w=g*g+y*y,S=Math.sqrt(x),B=Math.sqrt(p),F=s*Math.tan((nk-Math.acos((x+p-w)/(2*S*B)))/2),k=F/B,O=F/S;Math.abs(k-1)>ng&&this._append`L${e+k*u},${r+k*f}`,this._append`A${s},${s},0,0,${+(f*g>u*y)},${this._x1=e+O*l},${this._y1=r+O*c}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,u=r+l,f=1^a,p=a?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>ng||Math.abs(this._y1-u)>ng)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%ik+ik),p>yxe?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:p>ng&&this._append`A${n},${n},0,${+(p>=nk)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function I1(t){return function(){return t}}const bRe=Math.abs,CRe=Math.atan2,SRe=Math.cos,_Re=Math.max,ERe=Math.min,BRe=Math.sin,TRe=Math.sqrt,zP=1e-12,$L=Math.PI,KP=$L/2,NRe=2*$L;function FRe(t){return t>1?0:t<-1?$L:Math.acos(t)}function IRe(t){return t>=1?KP:t<=-1?-KP:Math.asin(t)}function wxe(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new vxe(e)}function bxe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function c$(t){this._context=t}c$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function dE(t){return new c$(t)}function Cxe(t){return t[0]}function Sxe(t){return t[1]}function _xe(t,e){var r=I1(!0),n=null,i=dE,s=null,a=wxe(o);t=typeof t=="function"?t:t===void 0?Cxe:I1(t),e=typeof e=="function"?e:e===void 0?Sxe:I1(e);function o(l){var c,u=(l=bxe(l)).length,f,p=!1,g;for(n==null&&(s=i(g=a())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(f,c,l),+e(f,c,l));if(g)return s=null,g+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:I1(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:I1(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:I1(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}class A${constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function u$(t){return new A$(t,!0)}function h$(t){return new A$(t,!1)}function _p(){}function pE(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function sT(t){this._context=t}sT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function v_(t){return new sT(t)}function f$(t){this._context=t}f$.prototype={areaStart:_p,areaEnd:_p,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:pE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Exe(t){return new f$(t)}function d$(t){this._context=t}d$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:pE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Bxe(t){return new d$(t)}function p$(t,e){this._basis=new sT(t),this._beta=e}p$.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,r=t.length-1;if(r>0)for(var n=t[0],i=e[0],s=t[r]-n,a=e[r]-i,o=-1,l;++o<=r;)l=o/r,this._basis.point(this._beta*t[o]+(1-this._beta)*(n+l*s),this._beta*e[o]+(1-this._beta)*(i+l*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Txe=(function t(e){function r(n){return e===1?new sT(n):new p$(n,e)}return r.beta=function(n){return t(+n)},r})(.85);function gE(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function qL(t,e){this._context=t,this._k=(1-e)/6}qL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:gE(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:gE(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const g$=(function t(e){function r(n){return new qL(n,e)}return r.tension=function(n){return t(+n)},r})(0);function zL(t,e){this._context=t,this._k=(1-e)/6}zL.prototype={areaStart:_p,areaEnd:_p,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:gE(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Nxe=(function t(e){function r(n){return new zL(n,e)}return r.tension=function(n){return t(+n)},r})(0);function KL(t,e){this._context=t,this._k=(1-e)/6}KL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:gE(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Fxe=(function t(e){function r(n){return new KL(n,e)}return r.tension=function(n){return t(+n)},r})(0);function WL(t,e,r){var n=t._x1,i=t._y1,s=t._x2,a=t._y2;if(t._l01_a>zP){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>zP){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*c+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*c+t._y1*t._l23_2a-r*t._l12_2a)/u}t._context.bezierCurveTo(n,i,s,a,t._x2,t._y2)}function m$(t,e){this._context=t,this._alpha=e}m$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:WL(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const y$=(function t(e){function r(n){return e?new m$(n,e):new qL(n,0)}return r.alpha=function(n){return t(+n)},r})(.5);function x$(t,e){this._context=t,this._alpha=e}x$.prototype={areaStart:_p,areaEnd:_p,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:WL(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ixe=(function t(e){function r(n){return e?new x$(n,e):new zL(n,0)}return r.alpha=function(n){return t(+n)},r})(.5);function v$(t,e){this._context=t,this._alpha=e}v$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:WL(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const kxe=(function t(e){function r(n){return e?new v$(n,e):new KL(n,0)}return r.alpha=function(n){return t(+n)},r})(.5);function w$(t){this._context=t}w$.prototype={areaStart:_p,areaEnd:_p,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Lxe(t){return new w$(t)}function WP(t){return t<0?-1:1}function YP(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(WP(s)+WP(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function XP(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function sN(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function mE(t){this._context=t}mE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sN(this,this._t0,XP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,sN(this,XP(this,r=YP(this,t,e)),r);break;default:sN(this,this._t0,r=YP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function b$(t){this._context=new C$(t)}(b$.prototype=Object.create(mE.prototype)).point=function(t,e){mE.prototype.point.call(this,e,t)};function C$(t){this._context=t}C$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function S$(t){return new mE(t)}function _$(t){return new b$(t)}function E$(t){this._context=t}E$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=JP(t),i=JP(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function JP(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function B$(t){return new E$(t)}function aT(t,e){this._context=t,this._t=e}aT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function T$(t){return new aT(t,.5)}function N$(t){return new aT(t,0)}function F$(t){return new aT(t,1)}function F2(t,e,r){this.k=t,this.x=e,this.y=r}F2.prototype={constructor:F2,scale:function(t){return t===1?this:new F2(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new F2(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};F2.prototype;var Rxe=j(t=>{var i;const{securityLevel:e}=fi();let r=Vn("body");if(e==="sandbox"){const a=((i=Vn(`#i${t}`).node())==null?void 0:i.contentDocument)??document;r=Vn(a.body)}return r.select(`#${t}`)},"selectSvgElement");function YL(t){return typeof t>"u"||t===null}j(YL,"isNothing");function I$(t){return typeof t=="object"&&t!==null}j(I$,"isObject");function k$(t){return Array.isArray(t)?t:YL(t)?[]:[t]}j(k$,"toArray");function L$(t,e){var r,n,i,s;if(e)for(s=Object.keys(e),r=0,n=s.length;r<n;r+=1)i=s[r],t[i]=e[i];return t}j(L$,"extend");function R$(t,e){var r="",n;for(n=0;n<e;n+=1)r+=t;return r}j(R$,"repeat");function M$(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}j(M$,"isNegativeZero");var Mxe=YL,Uxe=I$,Dxe=k$,Oxe=R$,Pxe=M$,Hxe=L$,ja={isNothing:Mxe,isObject:Uxe,toArray:Dxe,repeat:Oxe,isNegativeZero:Pxe,extend:Hxe};function XL(t,e){var r="",n=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),n+" "+r):n}j(XL,"formatError");function Lx(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=XL(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}j(Lx,"YAMLException$1");Lx.prototype=Object.create(Error.prototype);Lx.prototype.constructor=Lx;Lx.prototype.toString=j(function(e){return this.name+": "+XL(this,e)},"toString");var wc=Lx;function w_(t,e,r,n,i){var s="",a="",o=Math.floor(i/2)-1;return n-e>o&&(s=" ... ",e=n-o+s.length),r-n>o&&(a=" ...",r=n+o-a.length),{str:s+t.slice(e,r).replace(/\t/g,"")+a,pos:n-e+s.length}}j(w_,"getLine");function b_(t,e){return ja.repeat(" ",e-t.length)+t}j(b_,"padStart");function U$(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,a=-1;s=r.exec(t.buffer);)i.push(s.index),n.push(s.index+s[0].length),t.position<=s.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var o="",l,c,u=Math.min(t.line+e.linesAfter,i.length).toString().length,f=e.maxLength-(e.indent+u+3);for(l=1;l<=e.linesBefore&&!(a-l<0);l++)c=w_(t.buffer,n[a-l],i[a-l],t.position-(n[a]-n[a-l]),f),o=ja.repeat(" ",e.indent)+b_((t.line-l+1).toString(),u)+" | "+c.str+`
`+o;for(c=w_(t.buffer,n[a],i[a],t.position,f),o+=ja.repeat(" ",e.indent)+b_((t.line+1).toString(),u)+" | "+c.str+`
`,o+=ja.repeat("-",e.indent+u+3+c.pos)+`^
`,l=1;l<=e.linesAfter&&!(a+l>=i.length);l++)c=w_(t.buffer,n[a+l],i[a+l],t.position-(n[a]-n[a+l]),f),o+=ja.repeat(" ",e.indent)+b_((t.line+l+1).toString(),u)+" | "+c.str+`
`;return o.replace(/\n$/,"")}j(U$,"makeSnippet");var Qxe=U$,jxe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Gxe=["scalar","sequence","mapping"];function D$(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}j(D$,"compileStyleAliases");function O$(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(jxe.indexOf(r)===-1)throw new wc('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=D$(e.styleAliases||null),Gxe.indexOf(this.kind)===-1)throw new wc('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}j(O$,"Type$1");var ul=O$;function sk(t,e){var r=[];return t[e].forEach(function(n){var i=r.length;r.forEach(function(s,a){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=a)}),r[i]=n}),r}j(sk,"compileList");function P$(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function n(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(j(n,"collectType"),e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(n);return t}j(P$,"compileMap");function yE(t){return this.extend(t)}j(yE,"Schema$1");yE.prototype.extend=j(function(e){var r=[],n=[];if(e instanceof ul)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(r=r.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new wc("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof ul))throw new wc("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new wc("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new wc("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof ul))throw new wc("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(yE.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=sk(i,"implicit"),i.compiledExplicit=sk(i,"explicit"),i.compiledTypeMap=P$(i.compiledImplicit,i.compiledExplicit),i},"extend");var Vxe=yE,$xe=new ul("tag:yaml.org,2002:str",{kind:"scalar",construct:j(function(t){return t!==null?t:""},"construct")}),qxe=new ul("tag:yaml.org,2002:seq",{kind:"sequence",construct:j(function(t){return t!==null?t:[]},"construct")}),zxe=new ul("tag:yaml.org,2002:map",{kind:"mapping",construct:j(function(t){return t!==null?t:{}},"construct")}),Kxe=new Vxe({explicit:[$xe,qxe,zxe]});function H$(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}j(H$,"resolveYamlNull");function Q$(){return null}j(Q$,"constructYamlNull");function j$(t){return t===null}j(j$,"isNull");var Wxe=new ul("tag:yaml.org,2002:null",{kind:"scalar",resolve:H$,construct:Q$,predicate:j$,represent:{canonical:j(function(){return"~"},"canonical"),lowercase:j(function(){return"null"},"lowercase"),uppercase:j(function(){return"NULL"},"uppercase"),camelcase:j(function(){return"Null"},"camelcase"),empty:j(function(){return""},"empty")},defaultStyle:"lowercase"});function G$(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}j(G$,"resolveYamlBoolean");function V$(t){return t==="true"||t==="True"||t==="TRUE"}j(V$,"constructYamlBoolean");function $$(t){return Object.prototype.toString.call(t)==="[object Boolean]"}j($$,"isBoolean");var Yxe=new ul("tag:yaml.org,2002:bool",{kind:"scalar",resolve:G$,construct:V$,predicate:$$,represent:{lowercase:j(function(t){return t?"true":"false"},"lowercase"),uppercase:j(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:j(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function q$(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}j(q$,"isHexCode");function z$(t){return 48<=t&&t<=55}j(z$,"isOctCode");function K$(t){return 48<=t&&t<=57}j(K$,"isDecCode");function W$(t){if(t===null)return!1;var e=t.length,r=0,n=!1,i;if(!e)return!1;if(i=t[r],(i==="-"||i==="+")&&(i=t[++r]),i==="0"){if(r+1===e)return!0;if(i=t[++r],i==="b"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!q$(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!z$(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<e;r++)if(i=t[r],i!=="_"){if(!K$(t.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}j(W$,"resolveYamlInteger");function Y$(t){var e=t,r=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}j(Y$,"constructYamlInteger");function X$(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!ja.isNegativeZero(t)}j(X$,"isInteger");var Xxe=new ul("tag:yaml.org,2002:int",{kind:"scalar",resolve:W$,construct:Y$,predicate:X$,represent:{binary:j(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:j(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:j(function(t){return t.toString(10)},"decimal"),hexadecimal:j(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Jxe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function J$(t){return!(t===null||!Jxe.test(t)||t[t.length-1]==="_")}j(J$,"resolveYamlFloat");function Z$(t){var e,r;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}j(Z$,"constructYamlFloat");var Zxe=/^[-+]?[0-9]+e/;function eq(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ja.isNegativeZero(t))return"-0.0";return r=t.toString(10),Zxe.test(r)?r.replace("e",".e"):r}j(eq,"representYamlFloat");function tq(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||ja.isNegativeZero(t))}j(tq,"isFloat");var eve=new ul("tag:yaml.org,2002:float",{kind:"scalar",resolve:J$,construct:Z$,predicate:tq,represent:eq,defaultStyle:"lowercase"}),rq=Kxe.extend({implicit:[Wxe,Yxe,Xxe,eve]}),tve=rq,nq=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),iq=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function sq(t){return t===null?!1:nq.exec(t)!==null||iq.exec(t)!==null}j(sq,"resolveYamlTimestamp");function aq(t){var e,r,n,i,s,a,o,l=0,c=null,u,f,p;if(e=nq.exec(t),e===null&&(e=iq.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(r,n,i));if(s=+e[4],a=+e[5],o=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(u=+e[10],f=+(e[11]||0),c=(u*60+f)*6e4,e[9]==="-"&&(c=-c)),p=new Date(Date.UTC(r,n,i,s,a,o,l)),c&&p.setTime(p.getTime()-c),p}j(aq,"constructYamlTimestamp");function oq(t){return t.toISOString()}j(oq,"representYamlTimestamp");var rve=new ul("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:sq,construct:aq,instanceOf:Date,represent:oq});function lq(t){return t==="<<"||t===null}j(lq,"resolveYamlMerge");var nve=new ul("tag:yaml.org,2002:merge",{kind:"scalar",resolve:lq}),JL=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function cq(t){if(t===null)return!1;var e,r,n=0,i=t.length,s=JL;for(r=0;r<i;r++)if(e=s.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;n+=6}return n%8===0}j(cq,"resolveYamlBinary");function Aq(t){var e,r,n=t.replace(/[\r\n=]/g,""),i=n.length,s=JL,a=0,o=[];for(e=0;e<i;e++)e%4===0&&e&&(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)),a=a<<6|s.indexOf(n.charAt(e));return r=i%4*6,r===0?(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)):r===18?(o.push(a>>10&255),o.push(a>>2&255)):r===12&&o.push(a>>4&255),new Uint8Array(o)}j(Aq,"constructYamlBinary");function uq(t){var e="",r=0,n,i,s=t.length,a=JL;for(n=0;n<s;n++)n%3===0&&n&&(e+=a[r>>18&63],e+=a[r>>12&63],e+=a[r>>6&63],e+=a[r&63]),r=(r<<8)+t[n];return i=s%3,i===0?(e+=a[r>>18&63],e+=a[r>>12&63],e+=a[r>>6&63],e+=a[r&63]):i===2?(e+=a[r>>10&63],e+=a[r>>4&63],e+=a[r<<2&63],e+=a[64]):i===1&&(e+=a[r>>2&63],e+=a[r<<4&63],e+=a[64],e+=a[64]),e}j(uq,"representYamlBinary");function hq(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}j(hq,"isBinary");var ive=new ul("tag:yaml.org,2002:binary",{kind:"scalar",resolve:cq,construct:Aq,predicate:hq,represent:uq}),sve=Object.prototype.hasOwnProperty,ave=Object.prototype.toString;function fq(t){if(t===null)return!0;var e=[],r,n,i,s,a,o=t;for(r=0,n=o.length;r<n;r+=1){if(i=o[r],a=!1,ave.call(i)!=="[object Object]")return!1;for(s in i)if(sve.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}j(fq,"resolveYamlOmap");function dq(t){return t!==null?t:[]}j(dq,"constructYamlOmap");var ove=new ul("tag:yaml.org,2002:omap",{kind:"sequence",resolve:fq,construct:dq}),lve=Object.prototype.toString;function pq(t){if(t===null)return!0;var e,r,n,i,s,a=t;for(s=new Array(a.length),e=0,r=a.length;e<r;e+=1){if(n=a[e],lve.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[e]=[i[0],n[i[0]]]}return!0}j(pq,"resolveYamlPairs");function gq(t){if(t===null)return[];var e,r,n,i,s,a=t;for(s=new Array(a.length),e=0,r=a.length;e<r;e+=1)n=a[e],i=Object.keys(n),s[e]=[i[0],n[i[0]]];return s}j(gq,"constructYamlPairs");var cve=new ul("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:pq,construct:gq}),Ave=Object.prototype.hasOwnProperty;function mq(t){if(t===null)return!0;var e,r=t;for(e in r)if(Ave.call(r,e)&&r[e]!==null)return!1;return!0}j(mq,"resolveYamlSet");function yq(t){return t!==null?t:{}}j(yq,"constructYamlSet");var uve=new ul("tag:yaml.org,2002:set",{kind:"mapping",resolve:mq,construct:yq}),xq=tve.extend({implicit:[rve,nve],explicit:[ive,ove,cve,uve]}),Ep=Object.prototype.hasOwnProperty,xE=1,vq=2,wq=3,vE=4,aN=1,hve=2,ZP=3,fve=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,dve=/[\x85\u2028\u2029]/,pve=/[,\[\]\{\}]/,bq=/^(?:!|!!|![a-z\-]+!)$/i,Cq=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ak(t){return Object.prototype.toString.call(t)}j(ak,"_class");function Yu(t){return t===10||t===13}j(Yu,"is_EOL");function xp(t){return t===9||t===32}j(xp,"is_WHITE_SPACE");function jl(t){return t===9||t===32||t===10||t===13}j(jl,"is_WS_OR_EOL");function dg(t){return t===44||t===91||t===93||t===123||t===125}j(dg,"is_FLOW_INDICATOR");function Sq(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}j(Sq,"fromHexCode");function _q(t){return t===120?2:t===117?4:t===85?8:0}j(_q,"escapedHexLen");function Eq(t){return 48<=t&&t<=57?t-48:-1}j(Eq,"fromDecimalCode");function ok(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}j(ok,"simpleEscapeSequence");function Bq(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}j(Bq,"charFromCodepoint");var Tq=new Array(256),Nq=new Array(256);for(Xp=0;Xp<256;Xp++)Tq[Xp]=ok(Xp)?1:0,Nq[Xp]=ok(Xp);var Xp;function Fq(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||xq,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}j(Fq,"State$1");function ZL(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=Qxe(r),new wc(e,r)}j(ZL,"generateError");function Sr(t,e){throw ZL(t,e)}j(Sr,"throwError");function yw(t,e){t.onWarning&&t.onWarning.call(null,ZL(t,e))}j(yw,"throwWarning");var e7={YAML:j(function(e,r,n){var i,s,a;e.version!==null&&Sr(e,"duplication of %YAML directive"),n.length!==1&&Sr(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Sr(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&Sr(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&yw(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:j(function(e,r,n){var i,s;n.length!==2&&Sr(e,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],bq.test(i)||Sr(e,"ill-formed tag handle (first argument) of the TAG directive"),Ep.call(e.tagMap,i)&&Sr(e,'there is a previously declared suffix for "'+i+'" tag handle'),Cq.test(s)||Sr(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Sr(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s},"handleTagDirective")};function Rd(t,e,r,n){var i,s,a,o;if(e<r){if(o=t.input.slice(e,r),n)for(i=0,s=o.length;i<s;i+=1)a=o.charCodeAt(i),a===9||32<=a&&a<=1114111||Sr(t,"expected valid JSON character");else fve.test(o)&&Sr(t,"the stream contains non-printable characters");t.result+=o}}j(Rd,"captureSegment");function lk(t,e,r,n){var i,s,a,o;for(ja.isObject(r)||Sr(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,o=i.length;a<o;a+=1)s=i[a],Ep.call(e,s)||(e[s]=r[s],n[s]=!0)}j(lk,"mergeMappings");function pg(t,e,r,n,i,s,a,o,l){var c,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,u=i.length;c<u;c+=1)Array.isArray(i[c])&&Sr(t,"nested arrays are not supported inside keys"),typeof i=="object"&&ak(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&ak(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,u=s.length;c<u;c+=1)lk(t,e,s[c],r);else lk(t,e,s,r);else!t.json&&!Ep.call(r,i)&&Ep.call(e,i)&&(t.line=a||t.line,t.lineStart=o||t.lineStart,t.position=l||t.position,Sr(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete r[i];return e}j(pg,"storeMappingPair");function oT(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Sr(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}j(oT,"readLineBreak");function ra(t,e,r){for(var n=0,i=t.input.charCodeAt(t.position);i!==0;){for(;xp(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(Yu(i))for(oT(t),i=t.input.charCodeAt(t.position),n++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return r!==-1&&n!==0&&t.lineIndent<r&&yw(t,"deficient indentation"),n}j(ra,"skipSeparationSpace");function _C(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||jl(r)))}j(_C,"testDocumentSeparator");function lT(t,e){e===1?t.result+=" ":e>1&&(t.result+=ja.repeat(`
`,e-1))}j(lT,"writeFoldedLines");function Iq(t,e,r){var n,i,s,a,o,l,c,u,f=t.kind,p=t.result,g;if(g=t.input.charCodeAt(t.position),jl(g)||dg(g)||g===35||g===38||g===42||g===33||g===124||g===62||g===39||g===34||g===37||g===64||g===96||(g===63||g===45)&&(i=t.input.charCodeAt(t.position+1),jl(i)||r&&dg(i)))return!1;for(t.kind="scalar",t.result="",s=a=t.position,o=!1;g!==0;){if(g===58){if(i=t.input.charCodeAt(t.position+1),jl(i)||r&&dg(i))break}else if(g===35){if(n=t.input.charCodeAt(t.position-1),jl(n))break}else{if(t.position===t.lineStart&&_C(t)||r&&dg(g))break;if(Yu(g))if(l=t.line,c=t.lineStart,u=t.lineIndent,ra(t,!1,-1),t.lineIndent>=e){o=!0,g=t.input.charCodeAt(t.position);continue}else{t.position=a,t.line=l,t.lineStart=c,t.lineIndent=u;break}}o&&(Rd(t,s,a,!1),lT(t,t.line-l),s=a=t.position,o=!1),xp(g)||(a=t.position+1),g=t.input.charCodeAt(++t.position)}return Rd(t,s,a,!1),t.result?!0:(t.kind=f,t.result=p,!1)}j(Iq,"readPlainScalar");function kq(t,e){var r,n,i;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(Rd(t,n,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)n=t.position,t.position++,i=t.position;else return!0;else Yu(r)?(Rd(t,n,i,!0),lT(t,ra(t,!1,e)),n=i=t.position):t.position===t.lineStart&&_C(t)?Sr(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);Sr(t,"unexpected end of the stream within a single quoted scalar")}j(kq,"readSingleQuotedScalar");function Lq(t,e){var r,n,i,s,a,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return Rd(t,r,t.position,!0),t.position++,!0;if(o===92){if(Rd(t,r,t.position,!0),o=t.input.charCodeAt(++t.position),Yu(o))ra(t,!1,e);else if(o<256&&Tq[o])t.result+=Nq[o],t.position++;else if((a=_q(o))>0){for(i=a,s=0;i>0;i--)o=t.input.charCodeAt(++t.position),(a=Sq(o))>=0?s=(s<<4)+a:Sr(t,"expected hexadecimal character");t.result+=Bq(s),t.position++}else Sr(t,"unknown escape sequence");r=n=t.position}else Yu(o)?(Rd(t,r,n,!0),lT(t,ra(t,!1,e)),r=n=t.position):t.position===t.lineStart&&_C(t)?Sr(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}Sr(t,"unexpected end of the stream within a double quoted scalar")}j(Lq,"readDoubleQuotedScalar");function Rq(t,e){var r=!0,n,i,s,a=t.tag,o,l=t.anchor,c,u,f,p,g,y=Object.create(null),x,w,S,B;if(B=t.input.charCodeAt(t.position),B===91)u=93,g=!1,o=[];else if(B===123)u=125,g=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),B=t.input.charCodeAt(++t.position);B!==0;){if(ra(t,!0,e),B=t.input.charCodeAt(t.position),B===u)return t.position++,t.tag=a,t.anchor=l,t.kind=g?"mapping":"sequence",t.result=o,!0;r?B===44&&Sr(t,"expected the node content, but found ','"):Sr(t,"missed comma between flow collection entries"),w=x=S=null,f=p=!1,B===63&&(c=t.input.charCodeAt(t.position+1),jl(c)&&(f=p=!0,t.position++,ra(t,!0,e))),n=t.line,i=t.lineStart,s=t.position,Bm(t,e,xE,!1,!0),w=t.tag,x=t.result,ra(t,!0,e),B=t.input.charCodeAt(t.position),(p||t.line===n)&&B===58&&(f=!0,B=t.input.charCodeAt(++t.position),ra(t,!0,e),Bm(t,e,xE,!1,!0),S=t.result),g?pg(t,o,y,w,x,S,n,i,s):f?o.push(pg(t,null,y,w,x,S,n,i,s)):o.push(x),ra(t,!0,e),B=t.input.charCodeAt(t.position),B===44?(r=!0,B=t.input.charCodeAt(++t.position)):r=!1}Sr(t,"unexpected end of the stream within a flow collection")}j(Rq,"readFlowCollection");function Mq(t,e){var r,n,i=aN,s=!1,a=!1,o=e,l=0,c=!1,u,f;if(f=t.input.charCodeAt(t.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)aN===i?i=f===43?ZP:hve:Sr(t,"repeat of a chomping mode identifier");else if((u=Eq(f))>=0)u===0?Sr(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?Sr(t,"repeat of an indentation width identifier"):(o=e+u-1,a=!0);else break;if(xp(f)){do f=t.input.charCodeAt(++t.position);while(xp(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!Yu(f)&&f!==0)}for(;f!==0;){for(oT(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!a||t.lineIndent<o)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!a&&t.lineIndent>o&&(o=t.lineIndent),Yu(f)){l++;continue}if(t.lineIndent<o){i===ZP?t.result+=ja.repeat(`
`,s?1+l:l):i===aN&&s&&(t.result+=`
`);break}for(n?xp(f)?(c=!0,t.result+=ja.repeat(`
`,s?1+l:l)):c?(c=!1,t.result+=ja.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=ja.repeat(`
`,l):t.result+=ja.repeat(`
`,s?1+l:l),s=!0,a=!0,l=0,r=t.position;!Yu(f)&&f!==0;)f=t.input.charCodeAt(++t.position);Rd(t,r,t.position,!1)}return!0}j(Mq,"readBlockScalar");function ck(t,e){var r,n=t.tag,i=t.anchor,s=[],a,o=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Sr(t,"tab characters must not be used in indentation")),!(l!==45||(a=t.input.charCodeAt(t.position+1),!jl(a))));){if(o=!0,t.position++,ra(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(r=t.line,Bm(t,e,wq,!1,!0),s.push(t.result),ra(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&l!==0)Sr(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=n,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}j(ck,"readBlockSequence");function Uq(t,e,r){var n,i,s,a,o,l,c=t.tag,u=t.anchor,f={},p=Object.create(null),g=null,y=null,x=null,w=!1,S=!1,B;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),B=t.input.charCodeAt(t.position);B!==0;){if(!w&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Sr(t,"tab characters must not be used in indentation")),n=t.input.charCodeAt(t.position+1),s=t.line,(B===63||B===58)&&jl(n))B===63?(w&&(pg(t,f,p,g,y,null,a,o,l),g=y=x=null),S=!0,w=!0,i=!0):w?(w=!1,i=!0):Sr(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,B=n;else{if(a=t.line,o=t.lineStart,l=t.position,!Bm(t,r,vq,!1,!0))break;if(t.line===s){for(B=t.input.charCodeAt(t.position);xp(B);)B=t.input.charCodeAt(++t.position);if(B===58)B=t.input.charCodeAt(++t.position),jl(B)||Sr(t,"a whitespace character is expected after the key-value separator within a block mapping"),w&&(pg(t,f,p,g,y,null,a,o,l),g=y=x=null),S=!0,w=!1,i=!1,g=t.tag,y=t.result;else if(S)Sr(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=c,t.anchor=u,!0}else if(S)Sr(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=c,t.anchor=u,!0}if((t.line===s||t.lineIndent>e)&&(w&&(a=t.line,o=t.lineStart,l=t.position),Bm(t,e,vE,!0,i)&&(w?y=t.result:x=t.result),w||(pg(t,f,p,g,y,x,a,o,l),g=y=x=null),ra(t,!0,-1),B=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&B!==0)Sr(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return w&&pg(t,f,p,g,y,null,a,o,l),S&&(t.tag=c,t.anchor=u,t.kind="mapping",t.result=f),S}j(Uq,"readBlockMapping");function Dq(t){var e,r=!1,n=!1,i,s,a;if(a=t.input.charCodeAt(t.position),a!==33)return!1;if(t.tag!==null&&Sr(t,"duplication of a tag property"),a=t.input.charCodeAt(++t.position),a===60?(r=!0,a=t.input.charCodeAt(++t.position)):a===33?(n=!0,i="!!",a=t.input.charCodeAt(++t.position)):i="!",e=t.position,r){do a=t.input.charCodeAt(++t.position);while(a!==0&&a!==62);t.position<t.length?(s=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):Sr(t,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!jl(a);)a===33&&(n?Sr(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),bq.test(i)||Sr(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),pve.test(s)&&Sr(t,"tag suffix cannot contain flow indicator characters")}s&&!Cq.test(s)&&Sr(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Sr(t,"tag name is malformed: "+s)}return r?t.tag=s:Ep.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:Sr(t,'undeclared tag handle "'+i+'"'),!0}j(Dq,"readTagProperty");function Oq(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&Sr(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!jl(r)&&!dg(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Sr(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}j(Oq,"readAnchorProperty");function Pq(t){var e,r,n;if(n=t.input.charCodeAt(t.position),n!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!jl(n)&&!dg(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Sr(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),Ep.call(t.anchorMap,r)||Sr(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],ra(t,!0,-1),!0}j(Pq,"readAlias");function Bm(t,e,r,n,i){var s,a,o,l=1,c=!1,u=!1,f,p,g,y,x,w;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=a=o=vE===r||wq===r,n&&ra(t,!0,-1)&&(c=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;Dq(t)||Oq(t);)ra(t,!0,-1)?(c=!0,o=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):o=!1;if(o&&(o=c||i),(l===1||vE===r)&&(xE===r||vq===r?x=e:x=e+1,w=t.position-t.lineStart,l===1?o&&(ck(t,w)||Uq(t,w,x))||Rq(t,x)?u=!0:(a&&Mq(t,x)||kq(t,x)||Lq(t,x)?u=!0:Pq(t)?(u=!0,(t.tag!==null||t.anchor!==null)&&Sr(t,"alias node should not have any properties")):Iq(t,x,xE===r)&&(u=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(u=o&&ck(t,w))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Sr(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,p=t.implicitTypes.length;f<p;f+=1)if(y=t.implicitTypes[f],y.resolve(t.result)){t.result=y.construct(t.result),t.tag=y.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Ep.call(t.typeMap[t.kind||"fallback"],t.tag))y=t.typeMap[t.kind||"fallback"][t.tag];else for(y=null,g=t.typeMap.multi[t.kind||"fallback"],f=0,p=g.length;f<p;f+=1)if(t.tag.slice(0,g[f].tag.length)===g[f].tag){y=g[f];break}y||Sr(t,"unknown tag !<"+t.tag+">"),t.result!==null&&y.kind!==t.kind&&Sr(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+y.kind+'", not "'+t.kind+'"'),y.resolve(t.result,t.tag)?(t.result=y.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Sr(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||u}j(Bm,"composeNode");function Hq(t){var e=t.position,r,n,i,s=!1,a;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(a=t.input.charCodeAt(t.position))!==0&&(ra(t,!0,-1),a=t.input.charCodeAt(t.position),!(t.lineIndent>0||a!==37));){for(s=!0,a=t.input.charCodeAt(++t.position),r=t.position;a!==0&&!jl(a);)a=t.input.charCodeAt(++t.position);for(n=t.input.slice(r,t.position),i=[],n.length<1&&Sr(t,"directive name must not be less than one character in length");a!==0;){for(;xp(a);)a=t.input.charCodeAt(++t.position);if(a===35){do a=t.input.charCodeAt(++t.position);while(a!==0&&!Yu(a));break}if(Yu(a))break;for(r=t.position;a!==0&&!jl(a);)a=t.input.charCodeAt(++t.position);i.push(t.input.slice(r,t.position))}a!==0&&oT(t),Ep.call(e7,n)?e7[n](t,n,i):yw(t,'unknown document directive "'+n+'"')}if(ra(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,ra(t,!0,-1)):s&&Sr(t,"directives end mark is expected"),Bm(t,t.lineIndent-1,vE,!1,!0),ra(t,!0,-1),t.checkLineBreaks&&dve.test(t.input.slice(e,t.position))&&yw(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&_C(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,ra(t,!0,-1));return}if(t.position<t.length-1)Sr(t,"end of the stream or a document separator is expected");else return}j(Hq,"readDocument");function eR(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new Fq(t,e),n=t.indexOf("\0");for(n!==-1&&(r.position=n,Sr(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Hq(r);return r.documents}j(eR,"loadDocuments");function gve(t,e,r){e!==null&&typeof e=="object"&&typeof r>"u"&&(r=e,e=null);var n=eR(t,r);if(typeof e!="function")return n;for(var i=0,s=n.length;i<s;i+=1)e(n[i])}j(gve,"loadAll$1");function Qq(t,e){var r=eR(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new wc("expected a single document in the stream, but found more")}}j(Qq,"load$1");var mve=Qq,yve={load:mve},jq=Object.prototype.toString,Gq=Object.prototype.hasOwnProperty,tR=65279,xve=9,xw=10,vve=13,wve=32,bve=33,Cve=34,Ak=35,Sve=37,_ve=38,Eve=39,Bve=42,Vq=44,Tve=45,wE=58,Nve=61,Fve=62,Ive=63,kve=64,$q=91,qq=93,Lve=96,zq=123,Rve=124,Kq=125,pl={};pl[0]="\\0";pl[7]="\\a";pl[8]="\\b";pl[9]="\\t";pl[10]="\\n";pl[11]="\\v";pl[12]="\\f";pl[13]="\\r";pl[27]="\\e";pl[34]='\\"';pl[92]="\\\\";pl[133]="\\N";pl[160]="\\_";pl[8232]="\\L";pl[8233]="\\P";var Mve=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Uve=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Wq(t,e){var r,n,i,s,a,o,l;if(e===null)return{};for(r={},n=Object.keys(e),i=0,s=n.length;i<s;i+=1)a=n[i],o=String(e[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=t.compiledTypeMap.fallback[a],l&&Gq.call(l.styleAliases,o)&&(o=l.styleAliases[o]),r[a]=o;return r}j(Wq,"compileStyleMap");function Yq(t){var e,r,n;if(e=t.toString(16).toUpperCase(),t<=255)r="x",n=2;else if(t<=65535)r="u",n=4;else if(t<=4294967295)r="U",n=8;else throw new wc("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+ja.repeat("0",n-e.length)+e}j(Yq,"encodeHex");var Dve=1,vw=2;function Xq(t){this.schema=t.schema||xq,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=ja.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=Wq(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?vw:Dve,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}j(Xq,"State");function uk(t,e){for(var r=ja.repeat(" ",e),n=0,i=-1,s="",a,o=t.length;n<o;)i=t.indexOf(`
`,n),i===-1?(a=t.slice(n),n=o):(a=t.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(s+=r),s+=a;return s}j(uk,"indentString");function bE(t,e){return`
`+ja.repeat(" ",t.indent*e)}j(bE,"generateNextLine");function Jq(t,e){var r,n,i;for(r=0,n=t.implicitTypes.length;r<n;r+=1)if(i=t.implicitTypes[r],i.resolve(e))return!0;return!1}j(Jq,"testImplicitResolving");function ww(t){return t===wve||t===xve}j(ww,"isWhitespace");function Rx(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==tR||65536<=t&&t<=1114111}j(Rx,"isPrintable");function hk(t){return Rx(t)&&t!==tR&&t!==vve&&t!==xw}j(hk,"isNsCharOrWhitespace");function fk(t,e,r){var n=hk(t),i=n&&!ww(t);return(r?n:n&&t!==Vq&&t!==$q&&t!==qq&&t!==zq&&t!==Kq)&&t!==Ak&&!(e===wE&&!i)||hk(e)&&!ww(e)&&t===Ak||e===wE&&i}j(fk,"isPlainSafe");function Zq(t){return Rx(t)&&t!==tR&&!ww(t)&&t!==Tve&&t!==Ive&&t!==wE&&t!==Vq&&t!==$q&&t!==qq&&t!==zq&&t!==Kq&&t!==Ak&&t!==_ve&&t!==Bve&&t!==bve&&t!==Rve&&t!==Nve&&t!==Fve&&t!==Eve&&t!==Cve&&t!==Sve&&t!==kve&&t!==Lve}j(Zq,"isPlainSafeFirst");function ez(t){return!ww(t)&&t!==wE}j(ez,"isPlainSafeLast");function ty(t,e){var r=t.charCodeAt(e),n;return r>=55296&&r<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}j(ty,"codePointAt");function rR(t){var e=/^\n* /;return e.test(t)}j(rR,"needIndentIndicator");var tz=1,dk=2,rz=3,nz=4,K1=5;function iz(t,e,r,n,i,s,a,o){var l,c=0,u=null,f=!1,p=!1,g=n!==-1,y=-1,x=Zq(ty(t,0))&&ez(ty(t,t.length-1));if(e||a)for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=ty(t,l),!Rx(c))return K1;x=x&&fk(c,u,o),u=c}else{for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=ty(t,l),c===xw)f=!0,g&&(p=p||l-y-1>n&&t[y+1]!==" ",y=l);else if(!Rx(c))return K1;x=x&&fk(c,u,o),u=c}p=p||g&&l-y-1>n&&t[y+1]!==" "}return!f&&!p?x&&!a&&!i(t)?tz:s===vw?K1:dk:r>9&&rR(t)?K1:a?s===vw?K1:dk:p?nz:rz}j(iz,"chooseScalarStyle");function sz(t,e,r,n,i){t.dump=(function(){if(e.length===0)return t.quotingType===vw?'""':"''";if(!t.noCompatMode&&(Mve.indexOf(e)!==-1||Uve.test(e)))return t.quotingType===vw?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,r),a=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),o=n||t.flowLevel>-1&&r>=t.flowLevel;function l(c){return Jq(t,c)}switch(j(l,"testAmbiguity"),iz(e,o,t.indent,a,l,t.quotingType,t.forceQuotes&&!n,i)){case tz:return e;case dk:return"'"+e.replace(/'/g,"''")+"'";case rz:return"|"+pk(e,t.indent)+gk(uk(e,s));case nz:return">"+pk(e,t.indent)+gk(uk(az(e,a),s));case K1:return'"'+oz(e)+'"';default:throw new wc("impossible error: invalid scalar style")}})()}j(sz,"writeScalar");function pk(t,e){var r=rR(t)?String(e):"",n=t[t.length-1]===`
`,i=n&&(t[t.length-2]===`
`||t===`
`),s=i?"+":n?"":"-";return r+s+`
`}j(pk,"blockHeader");function gk(t){return t[t.length-1]===`
`?t.slice(0,-1):t}j(gk,"dropEndingNewline");function az(t,e){for(var r=/(\n+)([^\n]*)/g,n=(function(){var c=t.indexOf(`
`);return c=c!==-1?c:t.length,r.lastIndex=c,mk(t.slice(0,c),e)})(),i=t[0]===`
`||t[0]===" ",s,a;a=r.exec(t);){var o=a[1],l=a[2];s=l[0]===" ",n+=o+(!i&&!s&&l!==""?`
`:"")+mk(l,e),i=s}return n}j(az,"foldString");function mk(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,n,i=0,s,a=0,o=0,l="";n=r.exec(t);)o=n.index,o-i>e&&(s=a>i?a:o,l+=`
`+t.slice(i,s),i=s+1),a=o;return l+=`
`,t.length-i>e&&a>i?l+=t.slice(i,a)+`
`+t.slice(a+1):l+=t.slice(i),l.slice(1)}j(mk,"foldLine");function oz(t){for(var e="",r=0,n,i=0;i<t.length;r>=65536?i+=2:i++)r=ty(t,i),n=pl[r],!n&&Rx(r)?(e+=t[i],r>=65536&&(e+=t[i+1])):e+=n||Yq(r);return e}j(oz,"escapeString");function lz(t,e,r){var n="",i=t.tag,s,a,o;for(s=0,a=r.length;s<a;s+=1)o=r[s],t.replacer&&(o=t.replacer.call(r,String(s),o)),(gf(t,e,o,!1,!1)||typeof o>"u"&&gf(t,e,null,!1,!1))&&(n!==""&&(n+=","+(t.condenseFlow?"":" ")),n+=t.dump);t.tag=i,t.dump="["+n+"]"}j(lz,"writeFlowSequence");function yk(t,e,r,n){var i="",s=t.tag,a,o,l;for(a=0,o=r.length;a<o;a+=1)l=r[a],t.replacer&&(l=t.replacer.call(r,String(a),l)),(gf(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&gf(t,e+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=bE(t,e)),t.dump&&xw===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}j(yk,"writeBlockSequence");function cz(t,e,r){var n="",i=t.tag,s=Object.keys(r),a,o,l,c,u;for(a=0,o=s.length;a<o;a+=1)u="",n!==""&&(u+=", "),t.condenseFlow&&(u+='"'),l=s[a],c=r[l],t.replacer&&(c=t.replacer.call(r,l,c)),gf(t,e,l,!1,!1)&&(t.dump.length>1024&&(u+="? "),u+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),gf(t,e,c,!1,!1)&&(u+=t.dump,n+=u));t.tag=i,t.dump="{"+n+"}"}j(cz,"writeFlowMapping");function Az(t,e,r,n){var i="",s=t.tag,a=Object.keys(r),o,l,c,u,f,p;if(t.sortKeys===!0)a.sort();else if(typeof t.sortKeys=="function")a.sort(t.sortKeys);else if(t.sortKeys)throw new wc("sortKeys must be a boolean or a function");for(o=0,l=a.length;o<l;o+=1)p="",(!n||i!=="")&&(p+=bE(t,e)),c=a[o],u=r[c],t.replacer&&(u=t.replacer.call(r,c,u)),gf(t,e+1,c,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&xw===t.dump.charCodeAt(0)?p+="?":p+="? "),p+=t.dump,f&&(p+=bE(t,e)),gf(t,e+1,u,!0,f)&&(t.dump&&xw===t.dump.charCodeAt(0)?p+=":":p+=": ",p+=t.dump,i+=p));t.tag=s,t.dump=i||"{}"}j(Az,"writeBlockMapping");function xk(t,e,r){var n,i,s,a,o,l;for(i=r?t.explicitTypes:t.implicitTypes,s=0,a=i.length;s<a;s+=1)if(o=i[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(r?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(l=t.styleMap[o.tag]||o.defaultStyle,jq.call(o.represent)==="[object Function]")n=o.represent(e,l);else if(Gq.call(o.represent,l))n=o.represent[l](e,l);else throw new wc("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');t.dump=n}return!0}return!1}j(xk,"detectType");function gf(t,e,r,n,i,s,a){t.tag=null,t.dump=r,xk(t,r,!1)||xk(t,r,!0);var o=jq.call(t.dump),l=n,c;n&&(n=t.flowLevel<0||t.flowLevel>e);var u=o==="[object Object]"||o==="[object Array]",f,p;if(u&&(f=t.duplicates.indexOf(r),p=f!==-1),(t.tag!==null&&t.tag!=="?"||p||t.indent!==2&&e>0)&&(i=!1),p&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(u&&p&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),o==="[object Object]")n&&Object.keys(t.dump).length!==0?(Az(t,e,t.dump,i),p&&(t.dump="&ref_"+f+t.dump)):(cz(t,e,t.dump),p&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object Array]")n&&t.dump.length!==0?(t.noArrayIndent&&!a&&e>0?yk(t,e-1,t.dump,i):yk(t,e,t.dump,i),p&&(t.dump="&ref_"+f+t.dump)):(lz(t,e,t.dump),p&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&sz(t,t.dump,e,s,l);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new wc("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(c=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",t.dump=c+" "+t.dump)}return!0}j(gf,"writeNode");function uz(t,e){var r=[],n=[],i,s;for(CE(t,r,n),i=0,s=n.length;i<s;i+=1)e.duplicates.push(r[n[i]]);e.usedDuplicates=new Array(s)}j(uz,"getDuplicateReferences");function CE(t,e,r){var n,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)CE(t[i],e,r);else for(n=Object.keys(t),i=0,s=n.length;i<s;i+=1)CE(t[n[i]],e,r)}j(CE,"inspectNode");function Ove(t,e){e=e||{};var r=new Xq(e);r.noRefs||uz(t,r);var n=t;return r.replacer&&(n=r.replacer.call({"":n},"",n)),gf(r,0,n,!0,!0)?r.dump+`
`:""}j(Ove,"dump$1");function Pve(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}j(Pve,"renamed");var Hve=rq,Qve=yve.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var sl={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},t7={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function I2(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=ys(t),e=ys(e);const[r,n]=[t.x,t.y],[i,s]=[e.x,e.y],a=i-r,o=s-n;return{angle:Math.atan(o/a),deltaX:a,deltaY:o}}j(I2,"calculateDeltaAndAngle");var ys=j(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),jve=j(t=>({x:j(function(e,r,n){let i=0;const s=ys(n[0]).x<ys(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(sl,t.arrowTypeStart)){const{angle:g,deltaX:y}=I2(n[0],n[1]);i=sl[t.arrowTypeStart]*Math.cos(g)*(y>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(sl,t.arrowTypeEnd)){const{angle:g,deltaX:y}=I2(n[n.length-1],n[n.length-2]);i=sl[t.arrowTypeEnd]*Math.cos(g)*(y>=0?1:-1)}const a=Math.abs(ys(e).x-ys(n[n.length-1]).x),o=Math.abs(ys(e).y-ys(n[n.length-1]).y),l=Math.abs(ys(e).x-ys(n[0]).x),c=Math.abs(ys(e).y-ys(n[0]).y),u=sl[t.arrowTypeStart],f=sl[t.arrowTypeEnd],p=1;if(a<f&&a>0&&o<f){let g=f+p-a;g*=s==="right"?-1:1,i-=g}if(l<u&&l>0&&c<u){let g=u+p-l;g*=s==="right"?-1:1,i+=g}return ys(e).x+i},"x"),y:j(function(e,r,n){let i=0;const s=ys(n[0]).y<ys(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(sl,t.arrowTypeStart)){const{angle:g,deltaY:y}=I2(n[0],n[1]);i=sl[t.arrowTypeStart]*Math.abs(Math.sin(g))*(y>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(sl,t.arrowTypeEnd)){const{angle:g,deltaY:y}=I2(n[n.length-1],n[n.length-2]);i=sl[t.arrowTypeEnd]*Math.abs(Math.sin(g))*(y>=0?1:-1)}const a=Math.abs(ys(e).y-ys(n[n.length-1]).y),o=Math.abs(ys(e).x-ys(n[n.length-1]).x),l=Math.abs(ys(e).y-ys(n[0]).y),c=Math.abs(ys(e).x-ys(n[0]).x),u=sl[t.arrowTypeStart],f=sl[t.arrowTypeEnd],p=1;if(a<f&&a>0&&o<f){let g=f+p-a;g*=s==="up"?-1:1,i-=g}if(l<u&&l>0&&c<u){let g=u+p-l;g*=s==="up"?-1:1,i+=g}return ys(e).y+i},"y")}),"getLineFunctionsWithOffset"),nR=j(({flowchart:t})=>{var i,s;const e=((i=t==null?void 0:t.subGraphTitleMargin)==null?void 0:i.top)??0,r=((s=t==null?void 0:t.subGraphTitleMargin)==null?void 0:s.bottom)??0,n=e+r;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins"),Gve=j(t=>{const{handDrawnSeed:e}=fi();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),Vx=j(t=>{const e=Vve([...t.cssCompiledStyles||[],...t.cssStyles||[],...t.labelStyle||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),Vve=j(t=>{const e=new Map;return t.forEach(r=>{const[n,i]=r.split(":");e.set(n.trim(),i==null?void 0:i.trim())}),e},"styles2Map"),hz=j(t=>t==="color"||t==="font-size"||t==="font-family"||t==="font-weight"||t==="font-style"||t==="text-decoration"||t==="text-align"||t==="text-transform"||t==="line-height"||t==="letter-spacing"||t==="word-spacing"||t==="text-shadow"||t==="text-overflow"||t==="white-space"||t==="word-wrap"||t==="word-break"||t==="overflow-wrap"||t==="hyphens","isLabelStyle"),fr=j(t=>{const{stylesArray:e}=Vx(t),r=[],n=[],i=[],s=[];return e.forEach(a=>{const o=a[0];hz(o)?r.push(a.join(":")+" !important"):(n.push(a.join(":")+" !important"),o.includes("stroke")&&i.push(a.join(":")+" !important"),o==="fill"&&s.push(a.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:e,borderStyles:i,backgroundStyles:s}},"styles2String"),hr=j((t,e)=>{var l;const{themeVariables:r,handDrawnSeed:n}=fi(),{nodeBorder:i,mainBkg:s}=r,{stylesMap:a}=Vx(t);return Object.assign({roughness:.7,fill:a.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:a.get("stroke")||i,seed:n,strokeWidth:((l=a.get("stroke-width"))==null?void 0:l.replace("px",""))||1.3,fillLineDash:[0,0],strokeLineDash:$ve(a.get("stroke-dasharray"))},e)},"userNodeOverrides"),$ve=j(t=>{if(!t)return[0,0];const e=t.trim().split(/\s+/).map(Number);if(e.length===1){const i=isNaN(e[0])?0:e[0];return[i,i]}const r=isNaN(e[0])?0:e[0],n=isNaN(e[1])?0:e[1];return[r,n]},"getStrokeDashArray"),Wv={},ka={},r7;function qve(){return r7||(r7=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.BLANK_URL=ka.relativeFirstCharacters=ka.whitespaceEscapeCharsRegex=ka.urlSchemeRegex=ka.ctrlCharactersRegex=ka.htmlCtrlEntityRegex=ka.htmlEntitiesRegex=ka.invalidProtocolRegex=void 0,ka.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,ka.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,ka.htmlCtrlEntityRegex=/&(newline|tab);/gi,ka.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ka.urlSchemeRegex=/^.+(:|&colon;)/gim,ka.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,ka.relativeFirstCharacters=[".","/"],ka.BLANK_URL="about:blank"),ka}var n7;function zve(){if(n7)return Wv;n7=1,Object.defineProperty(Wv,"__esModule",{value:!0}),Wv.sanitizeUrl=void 0;var t=qve();function e(a){return t.relativeFirstCharacters.indexOf(a[0])>-1}function r(a){var o=a.replace(t.ctrlCharactersRegex,"");return o.replace(t.htmlEntitiesRegex,function(l,c){return String.fromCharCode(c)})}function n(a){return URL.canParse(a)}function i(a){try{return decodeURIComponent(a)}catch{return a}}function s(a){if(!a)return t.BLANK_URL;var o,l=i(a.trim());do l=r(l).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),l=i(l),o=l.match(t.ctrlCharactersRegex)||l.match(t.htmlEntitiesRegex)||l.match(t.htmlCtrlEntityRegex)||l.match(t.whitespaceEscapeCharsRegex);while(o&&o.length>0);var c=l;if(!c)return t.BLANK_URL;if(e(c))return c;var u=c.trimStart(),f=u.match(t.urlSchemeRegex);if(!f)return c;var p=f[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(p))return t.BLANK_URL;var g=u.replace(/\\/g,"/");if(p==="mailto:"||p.includes("://"))return g;if(p==="http:"||p==="https:"){if(!n(g))return t.BLANK_URL;var y=new URL(g);return y.protocol=y.protocol.toLowerCase(),y.hostname=y.hostname.toLowerCase(),y.toString()}return g}return Wv.sanitizeUrl=s,Wv}var Kve=zve(),fz=typeof global=="object"&&global&&global.Object===Object&&global,Wve=typeof self=="object"&&self&&self.Object===Object&&self,bf=fz||Wve||Function("return this")(),SE=bf.Symbol,dz=Object.prototype,Yve=dz.hasOwnProperty,Xve=dz.toString,Yv=SE?SE.toStringTag:void 0;function Jve(t){var e=Yve.call(t,Yv),r=t[Yv];try{t[Yv]=void 0;var n=!0}catch{}var i=Xve.call(t);return n&&(e?t[Yv]=r:delete t[Yv]),i}var Zve=Object.prototype,e2e=Zve.toString;function t2e(t){return e2e.call(t)}var r2e="[object Null]",n2e="[object Undefined]",i7=SE?SE.toStringTag:void 0;function $x(t){return t==null?t===void 0?n2e:r2e:i7&&i7 in Object(t)?Jve(t):t2e(t)}function jm(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var i2e="[object AsyncFunction]",s2e="[object Function]",a2e="[object GeneratorFunction]",o2e="[object Proxy]";function iR(t){if(!jm(t))return!1;var e=$x(t);return e==s2e||e==a2e||e==i2e||e==o2e}var oN=bf["__core-js_shared__"],s7=(function(){var t=/[^.]+$/.exec(oN&&oN.keys&&oN.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function l2e(t){return!!s7&&s7 in t}var c2e=Function.prototype,A2e=c2e.toString;function Gm(t){if(t!=null){try{return A2e.call(t)}catch{}try{return t+""}catch{}}return""}var u2e=/[\\^$.*+?()[\]{}|]/g,h2e=/^\[object .+?Constructor\]$/,f2e=Function.prototype,d2e=Object.prototype,p2e=f2e.toString,g2e=d2e.hasOwnProperty,m2e=RegExp("^"+p2e.call(g2e).replace(u2e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y2e(t){if(!jm(t)||l2e(t))return!1;var e=iR(t)?m2e:h2e;return e.test(Gm(t))}function x2e(t,e){return t==null?void 0:t[e]}function Vm(t,e){var r=x2e(t,e);return y2e(r)?r:void 0}var bw=Vm(Object,"create");function v2e(){this.__data__=bw?bw(null):{},this.size=0}function w2e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var b2e="__lodash_hash_undefined__",C2e=Object.prototype,S2e=C2e.hasOwnProperty;function _2e(t){var e=this.__data__;if(bw){var r=e[t];return r===b2e?void 0:r}return S2e.call(e,t)?e[t]:void 0}var E2e=Object.prototype,B2e=E2e.hasOwnProperty;function T2e(t){var e=this.__data__;return bw?e[t]!==void 0:B2e.call(e,t)}var N2e="__lodash_hash_undefined__";function F2e(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=bw&&e===void 0?N2e:e,this}function Tm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Tm.prototype.clear=v2e;Tm.prototype.delete=w2e;Tm.prototype.get=_2e;Tm.prototype.has=T2e;Tm.prototype.set=F2e;function I2e(){this.__data__=[],this.size=0}function cT(t,e){return t===e||t!==t&&e!==e}function AT(t,e){for(var r=t.length;r--;)if(cT(t[r][0],e))return r;return-1}var k2e=Array.prototype,L2e=k2e.splice;function R2e(t){var e=this.__data__,r=AT(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():L2e.call(e,r,1),--this.size,!0}function M2e(t){var e=this.__data__,r=AT(e,t);return r<0?void 0:e[r][1]}function U2e(t){return AT(this.__data__,t)>-1}function D2e(t,e){var r=this.__data__,n=AT(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Jd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Jd.prototype.clear=I2e;Jd.prototype.delete=R2e;Jd.prototype.get=M2e;Jd.prototype.has=U2e;Jd.prototype.set=D2e;var Cw=Vm(bf,"Map");function O2e(){this.size=0,this.__data__={hash:new Tm,map:new(Cw||Jd),string:new Tm}}function P2e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function uT(t,e){var r=t.__data__;return P2e(e)?r[typeof e=="string"?"string":"hash"]:r.map}function H2e(t){var e=uT(this,t).delete(t);return this.size-=e?1:0,e}function Q2e(t){return uT(this,t).get(t)}function j2e(t){return uT(this,t).has(t)}function G2e(t,e){var r=uT(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Dp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Dp.prototype.clear=O2e;Dp.prototype.delete=H2e;Dp.prototype.get=Q2e;Dp.prototype.has=j2e;Dp.prototype.set=G2e;var V2e="Expected a function";function EC(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(V2e);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=t.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(EC.Cache||Dp),r}EC.Cache=Dp;function $2e(){this.__data__=new Jd,this.size=0}function q2e(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function z2e(t){return this.__data__.get(t)}function K2e(t){return this.__data__.has(t)}var W2e=200;function Y2e(t,e){var r=this.__data__;if(r instanceof Jd){var n=r.__data__;if(!Cw||n.length<W2e-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Dp(n)}return r.set(t,e),this.size=r.size,this}function qx(t){var e=this.__data__=new Jd(t);this.size=e.size}qx.prototype.clear=$2e;qx.prototype.delete=q2e;qx.prototype.get=z2e;qx.prototype.has=K2e;qx.prototype.set=Y2e;var _E=(function(){try{var t=Vm(Object,"defineProperty");return t({},"",{}),t}catch{}})();function sR(t,e,r){e=="__proto__"&&_E?_E(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function vk(t,e,r){(r!==void 0&&!cT(t[e],r)||r===void 0&&!(e in t))&&sR(t,e,r)}function X2e(t){return function(e,r,n){for(var i=-1,s=Object(e),a=n(e),o=a.length;o--;){var l=a[++i];if(r(s[l],l,s)===!1)break}return e}}var J2e=X2e(),pz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,a7=pz&&typeof module=="object"&&module&&!module.nodeType&&module,Z2e=a7&&a7.exports===pz,o7=Z2e?bf.Buffer:void 0,l7=o7?o7.allocUnsafe:void 0;function ewe(t,e){if(e)return t.slice();var r=t.length,n=l7?l7(r):new t.constructor(r);return t.copy(n),n}var c7=bf.Uint8Array;function twe(t){var e=new t.constructor(t.byteLength);return new c7(e).set(new c7(t)),e}function rwe(t,e){var r=e?twe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function nwe(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var A7=Object.create,iwe=(function(){function t(){}return function(e){if(!jm(e))return{};if(A7)return A7(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}})();function gz(t,e){return function(r){return t(e(r))}}var mz=gz(Object.getPrototypeOf,Object),swe=Object.prototype;function hT(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||swe;return t===r}function awe(t){return typeof t.constructor=="function"&&!hT(t)?iwe(mz(t)):{}}function BC(t){return t!=null&&typeof t=="object"}var owe="[object Arguments]";function u7(t){return BC(t)&&$x(t)==owe}var yz=Object.prototype,lwe=yz.hasOwnProperty,cwe=yz.propertyIsEnumerable,EE=u7((function(){return arguments})())?u7:function(t){return BC(t)&&lwe.call(t,"callee")&&!cwe.call(t,"callee")},BE=Array.isArray,Awe=9007199254740991;function xz(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Awe}function fT(t){return t!=null&&xz(t.length)&&!iR(t)}function uwe(t){return BC(t)&&fT(t)}function hwe(){return!1}var vz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,h7=vz&&typeof module=="object"&&module&&!module.nodeType&&module,fwe=h7&&h7.exports===vz,f7=fwe?bf.Buffer:void 0,dwe=f7?f7.isBuffer:void 0,aR=dwe||hwe,pwe="[object Object]",gwe=Function.prototype,mwe=Object.prototype,wz=gwe.toString,ywe=mwe.hasOwnProperty,xwe=wz.call(Object);function vwe(t){if(!BC(t)||$x(t)!=pwe)return!1;var e=mz(t);if(e===null)return!0;var r=ywe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&wz.call(r)==xwe}var wwe="[object Arguments]",bwe="[object Array]",Cwe="[object Boolean]",Swe="[object Date]",_we="[object Error]",Ewe="[object Function]",Bwe="[object Map]",Twe="[object Number]",Nwe="[object Object]",Fwe="[object RegExp]",Iwe="[object Set]",kwe="[object String]",Lwe="[object WeakMap]",Rwe="[object ArrayBuffer]",Mwe="[object DataView]",Uwe="[object Float32Array]",Dwe="[object Float64Array]",Owe="[object Int8Array]",Pwe="[object Int16Array]",Hwe="[object Int32Array]",Qwe="[object Uint8Array]",jwe="[object Uint8ClampedArray]",Gwe="[object Uint16Array]",Vwe="[object Uint32Array]",ss={};ss[Uwe]=ss[Dwe]=ss[Owe]=ss[Pwe]=ss[Hwe]=ss[Qwe]=ss[jwe]=ss[Gwe]=ss[Vwe]=!0;ss[wwe]=ss[bwe]=ss[Rwe]=ss[Cwe]=ss[Mwe]=ss[Swe]=ss[_we]=ss[Ewe]=ss[Bwe]=ss[Twe]=ss[Nwe]=ss[Fwe]=ss[Iwe]=ss[kwe]=ss[Lwe]=!1;function $we(t){return BC(t)&&xz(t.length)&&!!ss[$x(t)]}function qwe(t){return function(e){return t(e)}}var bz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,X2=bz&&typeof module=="object"&&module&&!module.nodeType&&module,zwe=X2&&X2.exports===bz,lN=zwe&&fz.process,d7=(function(){try{var t=X2&&X2.require&&X2.require("util").types;return t||lN&&lN.binding&&lN.binding("util")}catch{}})(),p7=d7&&d7.isTypedArray,oR=p7?qwe(p7):$we;function wk(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Kwe=Object.prototype,Wwe=Kwe.hasOwnProperty;function Ywe(t,e,r){var n=t[e];(!(Wwe.call(t,e)&&cT(n,r))||r===void 0&&!(e in t))&&sR(t,e,r)}function Xwe(t,e,r,n){var i=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=void 0;l===void 0&&(l=t[o]),i?sR(r,o,l):Ywe(r,o,l)}return r}function Jwe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Zwe=9007199254740991,ebe=/^(?:0|[1-9]\d*)$/;function Cz(t,e){var r=typeof t;return e=e??Zwe,!!e&&(r=="number"||r!="symbol"&&ebe.test(t))&&t>-1&&t%1==0&&t<e}var tbe=Object.prototype,rbe=tbe.hasOwnProperty;function nbe(t,e){var r=BE(t),n=!r&&EE(t),i=!r&&!n&&aR(t),s=!r&&!n&&!i&&oR(t),a=r||n||i||s,o=a?Jwe(t.length,String):[],l=o.length;for(var c in t)(e||rbe.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Cz(c,l)))&&o.push(c);return o}function ibe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var sbe=Object.prototype,abe=sbe.hasOwnProperty;function obe(t){if(!jm(t))return ibe(t);var e=hT(t),r=[];for(var n in t)n=="constructor"&&(e||!abe.call(t,n))||r.push(n);return r}function Sz(t){return fT(t)?nbe(t,!0):obe(t)}function lbe(t){return Xwe(t,Sz(t))}function cbe(t,e,r,n,i,s,a){var o=wk(t,r),l=wk(e,r),c=a.get(l);if(c){vk(t,r,c);return}var u=s?s(o,l,r+"",t,e,a):void 0,f=u===void 0;if(f){var p=BE(l),g=!p&&aR(l),y=!p&&!g&&oR(l);u=l,p||g||y?BE(o)?u=o:uwe(o)?u=nwe(o):g?(f=!1,u=ewe(l,!0)):y?(f=!1,u=rwe(l,!0)):u=[]:vwe(l)||EE(l)?(u=o,EE(o)?u=lbe(o):(!jm(o)||iR(o))&&(u=awe(l))):f=!1}f&&(a.set(l,u),i(u,l,n,s,a),a.delete(l)),vk(t,r,u)}function _z(t,e,r,n,i){t!==e&&J2e(e,function(s,a){if(i||(i=new qx),jm(s))cbe(t,e,a,r,_z,n,i);else{var o=n?n(wk(t,a),s,a+"",t,e,i):void 0;o===void 0&&(o=s),vk(t,a,o)}},Sz)}function Ez(t){return t}function Abe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var g7=Math.max;function ube(t,e,r){return e=g7(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=g7(n.length-e,0),a=Array(s);++i<s;)a[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(a),Abe(t,this,o)}}function hbe(t){return function(){return t}}var fbe=_E?function(t,e){return _E(t,"toString",{configurable:!0,enumerable:!1,value:hbe(e),writable:!0})}:Ez,dbe=800,pbe=16,gbe=Date.now;function mbe(t){var e=0,r=0;return function(){var n=gbe(),i=pbe-(n-r);if(r=n,i>0){if(++e>=dbe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var ybe=mbe(fbe);function xbe(t,e){return ybe(ube(t,e,Ez),t+"")}function vbe(t,e,r){if(!jm(r))return!1;var n=typeof e;return(n=="number"?fT(r)&&Cz(e,r.length):n=="string"&&e in r)?cT(r[e],t):!1}function wbe(t){return xbe(function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,a&&vbe(r[0],r[1],a)&&(s=i<3?void 0:s,i=1),e=Object(e);++n<i;){var o=r[n];o&&t(e,o,n,s)}return e})}var bbe=wbe(function(t,e,r){_z(t,e,r)}),Cbe="",Sbe={curveBasis:v_,curveBasisClosed:Exe,curveBasisOpen:Bxe,curveBumpX:u$,curveBumpY:h$,curveBundle:Txe,curveCardinalClosed:Nxe,curveCardinalOpen:Fxe,curveCardinal:g$,curveCatmullRomClosed:Ixe,curveCatmullRomOpen:kxe,curveCatmullRom:y$,curveLinear:dE,curveLinearClosed:Lxe,curveMonotoneX:S$,curveMonotoneY:_$,curveNatural:B$,curveStep:T$,curveStepAfter:F$,curveStepBefore:N$},_be=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Ebe=j(function(t,e){const r=Bz(t,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const a=r.map(o=>o.args);nE(a),n=Qa(n,[...a])}else n=r.args;if(!n)return;let i=IL(t,e);const s="config";return n[s]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[s],delete n[s]),n},"detectInit"),Bz=j(function(t,e=null){var r,n;try{const i=new RegExp(`[%]{2}(?![{]${_be.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(i,"").replace(/'/gm,'"'),_t.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let s;const a=[];for(;(s=W2.exec(t))!==null;)if(s.index===W2.lastIndex&&W2.lastIndex++,s&&!e||e&&((r=s[1])!=null&&r.match(e))||e&&((n=s[2])!=null&&n.match(e))){const o=s[1]?s[1]:s[2],l=s[3]?s[3].trim():s[4]?JSON.parse(s[4].trim()):null;a.push({type:o,args:l})}return a.length===0?{type:t,args:null}:a.length===1?a[0]:a}catch(i){return _t.error(`ERROR: ${i.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),Bbe=j(function(t){return t.replace(W2,"")},"removeDirectives"),Tbe=j(function(t,e){for(const[r,n]of e.entries())if(n.match(t))return r;return-1},"isSubstringInArray");function lR(t,e){if(!t)return e;const r=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return Sbe[r]??e}j(lR,"interpolateToCurve");function Tz(t,e){const r=t.trim();if(r)return e.securityLevel!=="loose"?Kve.sanitizeUrl(r):r}j(Tz,"formatUrl");var Nbe=j((t,...e)=>{const r=t.split("."),n=r.length-1,i=r[n];let s=window;for(let a=0;a<n;a++)if(s=s[r[a]],!s){_t.error(`Function name: ${t} not found in window`);return}s[i](...e)},"runFunc");function cR(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}j(cR,"distance");function Nz(t){let e,r=0;t.forEach(i=>{r+=cR(i,e),e=i});const n=r/2;return AR(t,n)}j(Nz,"traverseEdge");function Fz(t){return t.length===1?t[0]:Nz(t)}j(Fz,"calcLabelPosition");var m7=j((t,e=2)=>{const r=Math.pow(10,e);return Math.round(t*r)/r},"roundNumber"),AR=j((t,e)=>{let r,n=e;for(const i of t){if(r){const s=cR(i,r);if(s===0)return r;if(s<n)n-=s;else{const a=n/s;if(a<=0)return r;if(a>=1)return{x:i.x,y:i.y};if(a>0&&a<1)return{x:m7((1-a)*r.x+a*i.x,5),y:m7((1-a)*r.y+a*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),Fbe=j((t,e,r)=>{_t.info(`our points ${JSON.stringify(e)}`),e[0]!==r&&(e=e.reverse());const i=AR(e,25),s=t?10:5,a=Math.atan2(e[0].y-i.y,e[0].x-i.x),o={x:0,y:0};return o.x=Math.sin(a)*s+(e[0].x+i.x)/2,o.y=-Math.cos(a)*s+(e[0].y+i.y)/2,o},"calcCardinalityPosition");function Iz(t,e,r){const n=structuredClone(r);_t.info("our points",n),e!=="start_left"&&e!=="start_right"&&n.reverse();const i=25+t,s=AR(n,i),a=10+t*.5,o=Math.atan2(n[0].y-s.y,n[0].x-s.x),l={x:0,y:0};return e==="start_left"?(l.x=Math.sin(o+Math.PI)*a+(n[0].x+s.x)/2,l.y=-Math.cos(o+Math.PI)*a+(n[0].y+s.y)/2):e==="end_right"?(l.x=Math.sin(o-Math.PI)*a+(n[0].x+s.x)/2-5,l.y=-Math.cos(o-Math.PI)*a+(n[0].y+s.y)/2-5):e==="end_left"?(l.x=Math.sin(o)*a+(n[0].x+s.x)/2-5,l.y=-Math.cos(o)*a+(n[0].y+s.y)/2-5):(l.x=Math.sin(o)*a+(n[0].x+s.x)/2,l.y=-Math.cos(o)*a+(n[0].y+s.y)/2),l}j(Iz,"calcTerminalLabelPosition");function kz(t){let e="",r="";for(const n of t)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":e=e+n+";");return{style:e,labelStyle:r}}j(kz,"getStylesFromArray");var y7=0,Ibe=j(()=>(y7++,"id-"+Math.random().toString(36).substr(2,12)+"-"+y7),"generateId");function Lz(t){let e="";const r="0123456789abcdef",n=r.length;for(let i=0;i<t;i++)e+=r.charAt(Math.floor(Math.random()*n));return e}j(Lz,"makeRandomHex");var kbe=j(t=>Lz(t.length),"random"),Lbe=j(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),Rbe=j(function(t,e){const r=e.text.replace(Gx.lineBreakRegex," "),[,n]=dT(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",n),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const s=i.append("tspan");return s.attr("x",e.x+e.textMargin*2),s.attr("fill",e.fill),s.text(r),i},"drawSimpleText"),Mbe=EC((t,e,r)=>{if(!t||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Gx.lineBreakRegex.test(t)))return t;const n=t.split(" ").filter(Boolean),i=[];let s="";return n.forEach((a,o)=>{const l=Vd(`${a} `,r),c=Vd(s,r);if(l>e){const{hyphenatedStrings:p,remainingWord:g}=Ube(a,e,"-",r);i.push(s,...p),s=g}else c+l>=e?(i.push(s),s=a):s=[s,a].filter(Boolean).join(" ");o+1===n.length&&i.push(s)}),i.filter(a=>a!=="").join(r.joinWith)},(t,e,r)=>`${t}${e}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),Ube=EC((t,e,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...t],s=[];let a="";return i.forEach((o,l)=>{const c=`${a}${o}`;if(Vd(c,n)>=e){const f=l+1,p=i.length===f,g=`${c}${r}`;s.push(p?c:g),a=""}else a=c}),{hyphenatedStrings:s,remainingWord:a}},(t,e,r="-",n)=>`${t}${e}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function Rz(t,e){return uR(t,e).height}j(Rz,"calculateTextHeight");function Vd(t,e){return uR(t,e).width}j(Vd,"calculateTextWidth");var uR=EC((t,e)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=e;if(!t)return{width:0,height:0};const[,s]=dT(r),a=["sans-serif",n],o=t.split(Gx.lineBreakRegex),l=[],c=Vn("body");if(!c.remove)return{width:0,height:0,lineHeight:0};const u=c.append("svg");for(const p of a){let g=0;const y={width:0,height:0,lineHeight:0};for(const x of o){const w=Lbe();w.text=x||Cbe;const S=Rbe(u,w).style("font-size",s).style("font-weight",i).style("font-family",p),B=(S._groups||S)[0][0].getBBox();if(B.width===0&&B.height===0)throw new Error("svg element not in render tree");y.width=Math.round(Math.max(y.width,B.width)),g=Math.round(B.height),y.height+=g,y.lineHeight=Math.round(Math.max(y.lineHeight,g))}l.push(y)}u.remove();const f=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[f]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),bx,Dbe=(bx=class{constructor(e=!1,r){this.count=0,this.count=r?r.length:0,this.next=e?()=>this.count++:()=>Date.now()}},j(bx,"InitIDGenerator"),bx),f5,Obe=j(function(t){return f5=f5||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),f5.innerHTML=t,unescape(f5.textContent)},"entityDecode");function hR(t){return"str"in t}j(hR,"isDetailedError");var Pbe=j((t,e,r,n)=>{var s;if(!n)return;const i=(s=t.node())==null?void 0:s.getBBox();i&&t.append("text").text(n).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",e)},"insertTitle"),dT=j(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function fR(t,e){return bbe({},t,e)}j(fR,"cleanAndMerge");var Vu={assignWithDepth:Qa,wrapLabel:Mbe,calculateTextHeight:Rz,calculateTextWidth:Vd,calculateTextDimensions:uR,cleanAndMerge:fR,detectInit:Ebe,detectDirective:Bz,isSubstringInArray:Tbe,interpolateToCurve:lR,calcLabelPosition:Fz,calcCardinalityPosition:Fbe,calcTerminalLabelPosition:Iz,formatUrl:Tz,getStylesFromArray:kz,generateId:Ibe,random:kbe,runFunc:Nbe,entityDecode:Obe,insertTitle:Pbe,isLabelCoordinateInPath:Mz,parseFontSize:dT,InitIDGenerator:Dbe},Hbe=j(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?""+n+"":""+n+""}),e},"encodeEntities"),$m=j(function(t){return t.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),kRe=j((t,e,{counter:r=0,prefix:n,suffix:i},s)=>s||`${n?`${n}_`:""}${t}_${e}_${r}${i?`_${i}`:""}`,"getEdgeId");function hl(t){return t??null}j(hl,"handleUndefinedAttr");function Mz(t,e){const r=Math.round(t.x),n=Math.round(t.y),i=e.replace(/(\d+\.\d+)/g,s=>Math.round(parseFloat(s)).toString());return i.includes(r.toString())||i.includes(n.toString())}j(Mz,"isLabelCoordinateInPath");const Qbe=Object.freeze({left:0,top:0,width:16,height:16}),TE=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Uz=Object.freeze({...Qbe,...TE}),jbe=Object.freeze({...Uz,body:"",hidden:!1}),Gbe=Object.freeze({width:null,height:null}),Vbe=Object.freeze({...Gbe,...TE}),$be=(t,e,r,n="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:n,prefix:l,name:o};return cN(c)?c:null}const s=i[0],a=s.split("-");if(a.length>1){const o={provider:n,prefix:a.shift(),name:a.join("-")};return cN(o)?o:null}if(r&&n===""){const o={provider:n,prefix:"",name:s};return cN(o,r)?o:null}return null},cN=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function qbe(t,e){const r={};!t.hFlip!=!e.hFlip&&(r.hFlip=!0),!t.vFlip!=!e.vFlip&&(r.vFlip=!0);const n=((t.rotate||0)+(e.rotate||0))%4;return n&&(r.rotate=n),r}function x7(t,e){const r=qbe(t,e);for(const n in jbe)n in TE?n in t&&!(n in r)&&(r[n]=TE[n]):n in e?r[n]=e[n]:n in t&&(r[n]=t[n]);return r}function zbe(t,e){const r=t.icons,n=t.aliases||Object.create(null),i=Object.create(null);function s(a){if(r[a])return i[a]=[];if(!(a in i)){i[a]=null;const o=n[a]&&n[a].parent,l=o&&s(o);l&&(i[a]=[o].concat(l))}return i[a]}return(e||Object.keys(r).concat(Object.keys(n))).forEach(s),i}function v7(t,e,r){const n=t.icons,i=t.aliases||Object.create(null);let s={};function a(o){s=x7(n[o]||i[o],s)}return a(e),r.forEach(a),x7(t,s)}function Kbe(t,e){if(t.icons[e])return v7(t,e,[]);const r=zbe(t,[e])[e];return r?v7(t,e,r):null}const Wbe=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Ybe=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function w7(t,e,r){if(e===1)return t;if(r=r||100,typeof t=="number")return Math.ceil(t*e*r)/r;if(typeof t!="string")return t;const n=t.split(Wbe);if(n===null||!n.length)return t;const i=[];let s=n.shift(),a=Ybe.test(s);for(;;){if(a){const o=parseFloat(s);isNaN(o)?i.push(s):i.push(Math.ceil(o*e*r)/r)}else i.push(s);if(s=n.shift(),s===void 0)return i.join("");a=!a}}function Xbe(t,e="defs"){let r="";const n=t.indexOf("<"+e);for(;n>=0;){const i=t.indexOf(">",n),s=t.indexOf("</"+e);if(i===-1||s===-1)break;const a=t.indexOf(">",s);if(a===-1)break;r+=t.slice(i+1,s).trim(),t=t.slice(0,n).trim()+t.slice(a+1)}return{defs:r,content:t}}function Jbe(t,e){return t?"<defs>"+t+"</defs>"+e:e}function Zbe(t,e,r){const n=Xbe(t);return Jbe(n.defs,e+n.content+r)}const eCe=t=>t==="unset"||t==="undefined"||t==="none";function tCe(t,e){const r={...Uz,...t},n={...Vbe,...e},i={left:r.left,top:r.top,width:r.width,height:r.height};let s=r.body;[r,n].forEach(x=>{const w=[],S=x.hFlip,B=x.vFlip;let F=x.rotate;S?B?F+=2:(w.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),w.push("scale(-1 1)"),i.top=i.left=0):B&&(w.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),w.push("scale(1 -1)"),i.top=i.left=0);let k;switch(F<0&&(F-=Math.floor(F/4)*4),F=F%4,F){case 1:k=i.height/2+i.top,w.unshift("rotate(90 "+k.toString()+" "+k.toString()+")");break;case 2:w.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:k=i.width/2+i.left,w.unshift("rotate(-90 "+k.toString()+" "+k.toString()+")");break}F%2===1&&(i.left!==i.top&&(k=i.left,i.left=i.top,i.top=k),i.width!==i.height&&(k=i.width,i.width=i.height,i.height=k)),w.length&&(s=Zbe(s,'<g transform="'+w.join(" ")+'">',"</g>"))});const a=n.width,o=n.height,l=i.width,c=i.height;let u,f;a===null?(f=o===null?"1em":o==="auto"?c:o,u=w7(f,l/c)):(u=a==="auto"?l:a,f=o===null?w7(u,c/l):o==="auto"?c:o);const p={},g=(x,w)=>{eCe(w)||(p[x]=w.toString())};g("width",u),g("height",f);const y=[i.left,i.top,l,c];return p.viewBox=y.join(" "),{attributes:p,viewBox:y,body:s}}const rCe=/\sid="(\S+)"/g,b7=new Map;function nCe(t){t=t.replace(/[0-9]+$/,"")||"a";const e=b7.get(t)||0;return b7.set(t,e+1),e?`${t}${e}`:t}function iCe(t){const e=[];let r;for(;r=rCe.exec(t);)e.push(r[1]);if(!e.length)return t;const n="suffix"+(Math.random()*16777216|Date.now()).toString(16);return e.forEach(i=>{const s=nCe(i),a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+s+n+"$3")}),t=t.replace(new RegExp(n,"g"),""),t}function sCe(t,e){let r=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)r+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+t+"</svg>"}function dR(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var qm=dR();function Dz(t){qm=t}var J2={exec:()=>null};function ri(t,e=""){let r=typeof t=="string"?t:t.source,n={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(Gl.caret,"$1"),r=r.replace(i,a),n},getRegex:()=>new RegExp(r,e)};return n}var aCe=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Gl={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},oCe=/^(?:[ \t]*(?:\n|$))+/,lCe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,cCe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,TC=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ACe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,pR=/(?:[*+-]|\d{1,9}[.)])/,Oz=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Pz=ri(Oz).replace(/bull/g,pR).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),uCe=ri(Oz).replace(/bull/g,pR).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),gR=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,hCe=/^[^\n]+/,mR=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,fCe=ri(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",mR).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),dCe=ri(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,pR).getRegex(),pT="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",yR=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,pCe=ri("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",yR).replace("tag",pT).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Hz=ri(gR).replace("hr",TC).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pT).getRegex(),gCe=ri(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Hz).getRegex(),xR={blockquote:gCe,code:lCe,def:fCe,fences:cCe,heading:ACe,hr:TC,html:pCe,lheading:Pz,list:dCe,newline:oCe,paragraph:Hz,table:J2,text:hCe},C7=ri("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",TC).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pT).getRegex(),mCe={...xR,lheading:uCe,table:C7,paragraph:ri(gR).replace("hr",TC).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",C7).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pT).getRegex()},yCe={...xR,html:ri(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",yR).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:J2,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ri(gR).replace("hr",TC).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Pz).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},xCe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,vCe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Qz=/^( {2,}|\\)\n(?!\s*$)/,wCe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,gT=/[\p{P}\p{S}]/u,vR=/[\s\p{P}\p{S}]/u,jz=/[^\s\p{P}\p{S}]/u,bCe=ri(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,vR).getRegex(),Gz=/(?!~)[\p{P}\p{S}]/u,CCe=/(?!~)[\s\p{P}\p{S}]/u,SCe=/(?:[^\s\p{P}\p{S}]|~)/u,_Ce=ri(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",aCe?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Vz=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,ECe=ri(Vz,"u").replace(/punct/g,gT).getRegex(),BCe=ri(Vz,"u").replace(/punct/g,Gz).getRegex(),$z="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",TCe=ri($z,"gu").replace(/notPunctSpace/g,jz).replace(/punctSpace/g,vR).replace(/punct/g,gT).getRegex(),NCe=ri($z,"gu").replace(/notPunctSpace/g,SCe).replace(/punctSpace/g,CCe).replace(/punct/g,Gz).getRegex(),FCe=ri("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,jz).replace(/punctSpace/g,vR).replace(/punct/g,gT).getRegex(),ICe=ri(/\\(punct)/,"gu").replace(/punct/g,gT).getRegex(),kCe=ri(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),LCe=ri(yR).replace("(?:-->|$)","-->").getRegex(),RCe=ri("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",LCe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),NE=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,MCe=ri(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",NE).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),qz=ri(/^!?\[(label)\]\[(ref)\]/).replace("label",NE).replace("ref",mR).getRegex(),zz=ri(/^!?\[(ref)\](?:\[\])?/).replace("ref",mR).getRegex(),UCe=ri("reflink|nolink(?!\\()","g").replace("reflink",qz).replace("nolink",zz).getRegex(),S7=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,wR={_backpedal:J2,anyPunctuation:ICe,autolink:kCe,blockSkip:_Ce,br:Qz,code:vCe,del:J2,emStrongLDelim:ECe,emStrongRDelimAst:TCe,emStrongRDelimUnd:FCe,escape:xCe,link:MCe,nolink:zz,punctuation:bCe,reflink:qz,reflinkSearch:UCe,tag:RCe,text:wCe,url:J2},DCe={...wR,link:ri(/^!?\[(label)\]\((.*?)\)/).replace("label",NE).getRegex(),reflink:ri(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",NE).getRegex()},bk={...wR,emStrongRDelimAst:NCe,emStrongLDelim:BCe,url:ri(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",S7).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:ri(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",S7).getRegex()},OCe={...bk,br:ri(Qz).replace("{2,}","*").getRegex(),text:ri(bk.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},d5={normal:xR,gfm:mCe,pedantic:yCe},Xv={normal:wR,gfm:bk,breaks:OCe,pedantic:DCe},PCe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_7=t=>PCe[t];function Qh(t,e){if(e){if(Gl.escapeTest.test(t))return t.replace(Gl.escapeReplace,_7)}else if(Gl.escapeTestNoEncode.test(t))return t.replace(Gl.escapeReplaceNoEncode,_7);return t}function E7(t){try{t=encodeURI(t).replace(Gl.percentDecode,"%")}catch{return null}return t}function B7(t,e){var s;let r=t.replace(Gl.findPipe,(a,o,l)=>{let c=!1,u=o;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),n=r.split(Gl.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!((s=n.at(-1))!=null&&s.trim())&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(Gl.slashPipe,"|");return n}function Jv(t,e,r){let n=t.length;if(n===0)return"";let i=0;for(;i<n&&t.charAt(n-i-1)===e;)i++;return t.slice(0,n-i)}function HCe(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return r>0?-2:-1}function T7(t,e,r,n,i){let s=e.href,a=e.title||null,o=t[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let l={type:t[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:a,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}function QCe(t,e,r){let n=t.match(r.other.indentCodeCompensation);if(n===null)return e;let i=n[1];return e.split(`
`).map(s=>{let a=s.match(r.other.beginningSpace);if(a===null)return s;let[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var FE=class{constructor(e){er(this,"options");er(this,"rules");er(this,"lexer");this.options=e||qm}space(e){let r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){let r=this.rules.block.code.exec(e);if(r){let n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Jv(n,`
`)}}}fences(e){let r=this.rules.block.fences.exec(e);if(r){let n=r[0],i=QCe(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(e){let r=this.rules.block.heading.exec(e);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){let i=Jv(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:Jv(r[0],`
`)}}blockquote(e){let r=this.rules.block.blockquote.exec(e);if(r){let n=Jv(r[0],`
`).split(`
`),i="",s="",a=[];for(;n.length>0;){let o=!1,l=[],c;for(c=0;c<n.length;c++)if(this.rules.other.blockquoteStart.test(n[c]))l.push(n[c]),o=!0;else if(!o)l.push(n[c]);else break;n=n.slice(c);let u=l.join(`
`),f=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${u}`:u,s=s?`${s}
${f}`:f;let p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,a,!0),this.lexer.state.top=p,n.length===0)break;let g=a.at(-1);if((g==null?void 0:g.type)==="code")break;if((g==null?void 0:g.type)==="blockquote"){let y=g,x=y.raw+`
`+n.join(`
`),w=this.blockquote(x);a[a.length-1]=w,i=i.substring(0,i.length-y.raw.length)+w.raw,s=s.substring(0,s.length-y.text.length)+w.text;break}else if((g==null?void 0:g.type)==="list"){let y=g,x=y.raw+`
`+n.join(`
`),w=this.list(x);a[a.length-1]=w,i=i.substring(0,i.length-g.raw.length)+w.raw,s=s.substring(0,s.length-y.raw.length)+w.raw,n=x.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:a,text:s}}}list(e){let r=this.rules.block.list.exec(e);if(r){let n=r[1].trim(),i=n.length>1,s={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");let a=this.rules.other.listItemRegex(n),o=!1;for(;e;){let c=!1,u="",f="";if(!(r=a.exec(e))||this.rules.block.hr.test(e))break;u=r[0],e=e.substring(u.length);let p=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,B=>" ".repeat(3*B.length)),g=e.split(`
`,1)[0],y=!p.trim(),x=0;if(this.options.pedantic?(x=2,f=p.trimStart()):y?x=r[1].length+1:(x=r[2].search(this.rules.other.nonSpaceChar),x=x>4?1:x,f=p.slice(x),x+=r[1].length),y&&this.rules.other.blankLine.test(g)&&(u+=g+`
`,e=e.substring(g.length+1),c=!0),!c){let B=this.rules.other.nextBulletRegex(x),F=this.rules.other.hrRegex(x),k=this.rules.other.fencesBeginRegex(x),O=this.rules.other.headingBeginRegex(x),R=this.rules.other.htmlBeginRegex(x);for(;e;){let D=e.split(`
`,1)[0],Q;if(g=D,this.options.pedantic?(g=g.replace(this.rules.other.listReplaceNesting,"  "),Q=g):Q=g.replace(this.rules.other.tabCharGlobal,"    "),k.test(g)||O.test(g)||R.test(g)||B.test(g)||F.test(g))break;if(Q.search(this.rules.other.nonSpaceChar)>=x||!g.trim())f+=`
`+Q.slice(x);else{if(y||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||k.test(p)||O.test(p)||F.test(p))break;f+=`
`+g}!y&&!g.trim()&&(y=!0),u+=D+`
`,e=e.substring(D.length+1),p=Q.slice(x)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(o=!0));let w=null,S;this.options.gfm&&(w=this.rules.other.listIsTask.exec(f),w&&(S=w[0]!=="[ ] ",f=f.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:u,task:!!w,checked:S,loose:!1,text:f,tokens:[]}),s.raw+=u}let l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){let u=s.items[c].tokens.filter(p=>p.type==="space"),f=u.length>0&&u.some(p=>this.rules.other.anyLine.test(p.raw));s.loose=f}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(e){let r=this.rules.block.html.exec(e);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(e){let r=this.rules.block.def.exec(e);if(r){let n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:s}}}table(e){var o;let r=this.rules.block.table.exec(e);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let n=B7(r[1]),i=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(o=r[3])!=null&&o.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(let l of i)this.rules.other.tableAlignRight.test(l)?a.align.push("right"):this.rules.other.tableAlignCenter.test(l)?a.align.push("center"):this.rules.other.tableAlignLeft.test(l)?a.align.push("left"):a.align.push(null);for(let l=0;l<n.length;l++)a.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:a.align[l]});for(let l of s)a.rows.push(B7(l,a.header.length).map((c,u)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:a.align[u]})));return a}}lheading(e){let r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){let r=this.rules.block.paragraph.exec(e);if(r){let n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){let r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(e){let r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(e){let r=this.rules.inline.link.exec(e);if(r){let n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let a=Jv(n.slice(0,-1),"\\");if((n.length-a.length)%2===0)return}else{let a=HCe(r[2],"()");if(a===-2)return;if(a>-1){let o=(r[0].indexOf("!")===0?5:4)+r[1].length+a;r[2]=r[2].substring(0,a),r[0]=r[0].substring(0,o).trim(),r[3]=""}}let i=r[2],s="";if(this.options.pedantic){let a=this.rules.other.pedanticHrefTitle.exec(i);a&&(i=a[1],s=a[3])}else s=r[3]?r[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),T7(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(e,r){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=r[i.toLowerCase()];if(!s){let a=n[0].charAt(0);return{type:"text",raw:a,text:a}}return T7(n,s,n[0],this.lexer,this.rules)}}emStrong(e,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...i[0]].length-1,a,o,l=s,c=0,u=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,r=r.slice(-1*e.length+s);(i=u.exec(r))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(o=[...a].length,i[3]||i[4]){l+=o;continue}else if((i[5]||i[6])&&s%3&&!((s+o)%3)){c+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+c);let f=[...i[0]][0].length,p=e.slice(0,s+i.index+f+o);if(Math.min(s,o)%2){let y=p.slice(1,-1);return{type:"em",raw:p,text:y,tokens:this.lexer.inlineTokens(y)}}let g=p.slice(2,-2);return{type:"strong",raw:p,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(e){let r=this.rules.inline.code.exec(e);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(e){let r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){let r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e){let r=this.rules.inline.autolink.exec(e);if(r){let n,i;return r[2]==="@"?(n=r[1],i="mailto:"+n):(n=r[1],i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let r;if(r=this.rules.inline.url.exec(e)){let i,s;if(r[2]==="@")i=r[0],s="mailto:"+i;else{let a;do a=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(a!==r[0]);i=r[0],r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){let r=this.rules.inline.text.exec(e);if(r){let n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}},Qu=class Ck{constructor(e){er(this,"tokens");er(this,"options");er(this,"state");er(this,"tokenizer");er(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||qm,this.options.tokenizer=this.options.tokenizer||new FE,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:Gl,block:d5.normal,inline:Xv.normal};this.options.pedantic?(r.block=d5.pedantic,r.inline=Xv.pedantic):this.options.gfm&&(r.block=d5.gfm,this.options.breaks?r.inline=Xv.breaks:r.inline=Xv.gfm),this.tokenizer.rules=r}static get rules(){return{block:d5,inline:Xv}}static lex(e,r){return new Ck(r).lex(e)}static lexInline(e,r){return new Ck(r).inlineTokens(e)}lex(e){e=e.replace(Gl.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],n=!1){var i,s,a;for(this.options.pedantic&&(e=e.replace(Gl.tabCharGlobal,"    ").replace(Gl.spaceLine,""));e;){let o;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(c=>(o=c.call({lexer:this},e,r))?(e=e.substring(o.raw.length),r.push(o),!0):!1))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);let c=r.at(-1);o.raw.length===1&&c!==void 0?c.raw+=`
`:r.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);let c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.text,this.inlineQueue.at(-1).src=c.text):r.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);let c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},r.push(o));continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),r.push(o);continue}let l=e;if((a=this.options.extensions)!=null&&a.startBlock){let c=1/0,u=e.slice(1),f;this.options.extensions.startBlock.forEach(p=>{f=p.call({lexer:this},u),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(l=e.substring(0,c+1))}if(this.state.top&&(o=this.tokenizer.paragraph(l))){let c=r.at(-1);n&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(o),n=l.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);let c=r.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(o);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){var l,c,u,f,p;let n=e,i=null;if(this.tokens.links){let g=Object.keys(this.tokens.links);if(g.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)g.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)s=i[2]?i[2].length:0,n=n.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=((c=(l=this.options.hooks)==null?void 0:l.emStrongMask)==null?void 0:c.call({lexer:this},n))??n;let a=!1,o="";for(;e;){a||(o=""),a=!1;let g;if((f=(u=this.options.extensions)==null?void 0:u.inline)!=null&&f.some(x=>(g=x.call({lexer:this},e,r))?(e=e.substring(g.raw.length),r.push(g),!0):!1))continue;if(g=this.tokenizer.escape(e)){e=e.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.tag(e)){e=e.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.link(e)){e=e.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(g.raw.length);let x=r.at(-1);g.type==="text"&&(x==null?void 0:x.type)==="text"?(x.raw+=g.raw,x.text+=g.text):r.push(g);continue}if(g=this.tokenizer.emStrong(e,n,o)){e=e.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.codespan(e)){e=e.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.br(e)){e=e.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.del(e)){e=e.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.autolink(e)){e=e.substring(g.raw.length),r.push(g);continue}if(!this.state.inLink&&(g=this.tokenizer.url(e))){e=e.substring(g.raw.length),r.push(g);continue}let y=e;if((p=this.options.extensions)!=null&&p.startInline){let x=1/0,w=e.slice(1),S;this.options.extensions.startInline.forEach(B=>{S=B.call({lexer:this},w),typeof S=="number"&&S>=0&&(x=Math.min(x,S))}),x<1/0&&x>=0&&(y=e.substring(0,x+1))}if(g=this.tokenizer.inlineText(y)){e=e.substring(g.raw.length),g.raw.slice(-1)!=="_"&&(o=g.raw.slice(-1)),a=!0;let x=r.at(-1);(x==null?void 0:x.type)==="text"?(x.raw+=g.raw,x.text+=g.text):r.push(g);continue}if(e){let x="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(x);break}else throw new Error(x)}}return r}},IE=class{constructor(e){er(this,"options");er(this,"parser");this.options=e||qm}space(e){return""}code({text:e,lang:r,escaped:n}){var a;let i=(a=(r||"").match(Gl.notSpaceStart))==null?void 0:a[0],s=e.replace(Gl.endingNewline,"")+`
`;return i?'<pre><code class="language-'+Qh(i)+'">'+(n?s:Qh(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:Qh(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:r}){return`<h${r}>${this.parser.parseInline(e)}</h${r}>
`}hr(e){return`<hr>
`}list(e){let r=e.ordered,n=e.start,i="";for(let o=0;o<e.items.length;o++){let l=e.items[o];i+=this.listitem(l)}let s=r?"ol":"ul",a=r&&n!==1?' start="'+n+'"':"";return"<"+s+a+`>
`+i+"</"+s+`>
`}listitem(e){var n;let r="";if(e.task){let i=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+Qh(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):r+=i+" "}return r+=this.parser.parse(e.tokens,!!e.loose),`<li>${r}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let r="",n="";for(let s=0;s<e.header.length;s++)n+=this.tablecell(e.header[s]);r+=this.tablerow({text:n});let i="";for(let s=0;s<e.rows.length;s++){let a=e.rows[s];n="";for(let o=0;o<a.length;o++)n+=this.tablecell(a[o]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let r=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Qh(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:r,tokens:n}){let i=this.parser.parseInline(n),s=E7(e);if(s===null)return i;e=s;let a='<a href="'+e+'"';return r&&(a+=' title="'+Qh(r)+'"'),a+=">"+i+"</a>",a}image({href:e,title:r,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));let s=E7(e);if(s===null)return Qh(n);e=s;let a=`<img src="${e}" alt="${n}"`;return r&&(a+=` title="${Qh(r)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Qh(e.text)}},bR=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},ju=class Sk{constructor(e){er(this,"options");er(this,"renderer");er(this,"textRenderer");this.options=e||qm,this.options.renderer=this.options.renderer||new IE,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new bR}static parse(e,r){return new Sk(r).parse(e)}static parseInline(e,r){return new Sk(r).parseInline(e)}parse(e,r=!0){var i,s;let n="";for(let a=0;a<e.length;a++){let o=e[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){let c=o,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){n+=u||"";continue}}let l=o;switch(l.type){case"space":{n+=this.renderer.space(l);continue}case"hr":{n+=this.renderer.hr(l);continue}case"heading":{n+=this.renderer.heading(l);continue}case"code":{n+=this.renderer.code(l);continue}case"table":{n+=this.renderer.table(l);continue}case"blockquote":{n+=this.renderer.blockquote(l);continue}case"list":{n+=this.renderer.list(l);continue}case"html":{n+=this.renderer.html(l);continue}case"def":{n+=this.renderer.def(l);continue}case"paragraph":{n+=this.renderer.paragraph(l);continue}case"text":{let c=l,u=this.renderer.text(c);for(;a+1<e.length&&e[a+1].type==="text";)c=e[++a],u+=`
`+this.renderer.text(c);r?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):n+=u;continue}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}parseInline(e,r=this.renderer){var i,s;let n="";for(let a=0;a<e.length;a++){let o=e[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){let c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=c||"";continue}}let l=o;switch(l.type){case"escape":{n+=r.text(l);break}case"html":{n+=r.html(l);break}case"link":{n+=r.link(l);break}case"image":{n+=r.image(l);break}case"strong":{n+=r.strong(l);break}case"em":{n+=r.em(l);break}case"codespan":{n+=r.codespan(l);break}case"br":{n+=r.br(l);break}case"del":{n+=r.del(l);break}case"text":{n+=r.text(l);break}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}},F5,k2=(F5=class{constructor(e){er(this,"options");er(this,"block");this.options=e||qm}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Qu.lex:Qu.lexInline}provideParser(){return this.block?ju.parse:ju.parseInline}},er(F5,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),er(F5,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),F5),jCe=class{constructor(...e){er(this,"defaults",dR());er(this,"options",this.setOptions);er(this,"parse",this.parseMarkdown(!0));er(this,"parseInline",this.parseMarkdown(!1));er(this,"Parser",ju);er(this,"Renderer",IE);er(this,"TextRenderer",bR);er(this,"Lexer",Qu);er(this,"Tokenizer",FE);er(this,"Hooks",k2);this.use(...e)}walkTokens(e,r){var i,s;let n=[];for(let a of e)switch(n=n.concat(r.call(this,a)),a.type){case"table":{let o=a;for(let l of o.header)n=n.concat(this.walkTokens(l.tokens,r));for(let l of o.rows)for(let c of l)n=n.concat(this.walkTokens(c.tokens,r));break}case"list":{let o=a;n=n.concat(this.walkTokens(o.items,r));break}default:{let o=a;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{let c=o[l].flat(1/0);n=n.concat(this.walkTokens(c,r))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,r)))}}return n}use(...e){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let a=r.renderers[s.name];a?r.renderers[s.name]=function(...o){let l=s.renderer.apply(this,o);return l===!1&&(l=a.apply(this,o)),l}:r.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=r[s.level];a?a.unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(r.childTokens[s.name]=s.childTokens)}),i.extensions=r),n.renderer){let s=this.defaults.renderer||new IE(this.defaults);for(let a in n.renderer){if(!(a in s))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let o=a,l=n.renderer[o],c=s[o];s[o]=(...u)=>{let f=l.apply(s,u);return f===!1&&(f=c.apply(s,u)),f||""}}i.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new FE(this.defaults);for(let a in n.tokenizer){if(!(a in s))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let o=a,l=n.tokenizer[o],c=s[o];s[o]=(...u)=>{let f=l.apply(s,u);return f===!1&&(f=c.apply(s,u)),f}}i.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new k2;for(let a in n.hooks){if(!(a in s))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;let o=a,l=n.hooks[o],c=s[o];k2.passThroughHooks.has(a)?s[o]=u=>{if(this.defaults.async&&k2.passThroughHooksRespectAsync.has(a))return(async()=>{let p=await l.call(s,u);return c.call(s,p)})();let f=l.call(s,u);return c.call(s,f)}:s[o]=(...u)=>{if(this.defaults.async)return(async()=>{let p=await l.apply(s,u);return p===!1&&(p=await c.apply(s,u)),p})();let f=l.apply(s,u);return f===!1&&(f=c.apply(s,u)),f}}i.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,a=n.walkTokens;i.walkTokens=function(o){let l=[];return l.push(a.call(this,o)),s&&(l=l.concat(s.call(this,o))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,r){return Qu.lex(e,r??this.defaults)}parser(e,r){return ju.parse(e,r??this.defaults)}parseMarkdown(e){return(r,n)=>{let i={...n},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(r):r,l=await(s.hooks?await s.hooks.provideLexer():e?Qu.lex:Qu.lexInline)(o,s),c=s.hooks?await s.hooks.processAllTokens(l):l;s.walkTokens&&await Promise.all(this.walkTokens(c,s.walkTokens));let u=await(s.hooks?await s.hooks.provideParser():e?ju.parse:ju.parseInline)(c,s);return s.hooks?await s.hooks.postprocess(u):u})().catch(a);try{s.hooks&&(r=s.hooks.preprocess(r));let o=(s.hooks?s.hooks.provideLexer():e?Qu.lex:Qu.lexInline)(r,s);s.hooks&&(o=s.hooks.processAllTokens(o)),s.walkTokens&&this.walkTokens(o,s.walkTokens);let l=(s.hooks?s.hooks.provideParser():e?ju.parse:ju.parseInline)(o,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(o){return a(o)}}}onError(e,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+Qh(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}}},Nm=new jCe;function di(t,e){return Nm.parse(t,e)}di.options=di.setOptions=function(t){return Nm.setOptions(t),di.defaults=Nm.defaults,Dz(di.defaults),di};di.getDefaults=dR;di.defaults=qm;di.use=function(...t){return Nm.use(...t),di.defaults=Nm.defaults,Dz(di.defaults),di};di.walkTokens=function(t,e){return Nm.walkTokens(t,e)};di.parseInline=Nm.parseInline;di.Parser=ju;di.parser=ju.parse;di.Renderer=IE;di.TextRenderer=bR;di.Lexer=Qu;di.lexer=Qu.lex;di.Tokenizer=FE;di.Hooks=k2;di.parse=di;di.options;di.setOptions;di.use;di.walkTokens;di.parseInline;ju.parse;Qu.lex;function Kz(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Array.from(typeof t=="string"?[t]:t);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(o,l){var c=l.match(/\n([\t ]+|(?!\s).)/g);return c?o.concat(c.map(function(u){var f,p;return(p=(f=u.match(/[\t ]/g))===null||f===void 0?void 0:f.length)!==null&&p!==void 0?p:0})):o},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(o){return o.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return e.forEach(function(o,l){var c=a.match(/(?:^|\n)( *)$/),u=c?c[1]:"",f=o;typeof o=="string"&&o.includes(`
`)&&(f=String(o).split(`
`).map(function(p,g){return g===0?p:""+u+p}).join(`
`)),a+=f+n[l+1]}),a}var GCe={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},_k=new Map,Wz=new Map,VCe=j(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(_t.debug("Registering icon pack:",e.name),"loader"in e)Wz.set(e.name,e.loader);else if("icons"in e)_k.set(e.name,e.icons);else throw _t.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),Yz=j(async(t,e)=>{const r=$be(t,!0,e!==void 0);if(!r)throw new Error(`Invalid icon name: ${t}`);const n=r.prefix||e;if(!n)throw new Error(`Icon name must contain a prefix: ${t}`);let i=_k.get(n);if(!i){const a=Wz.get(n);if(!a)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await a(),prefix:n},_k.set(n,i)}catch(o){throw _t.error(o),new Error(`Failed to load icon set: ${r.prefix}`)}}const s=Kbe(i,r.name);if(!s)throw new Error(`Icon not found: ${t}`);return s},"getRegisteredIconData"),$Ce=j(async t=>{try{return await Yz(t),!0}catch{return!1}},"isIconAvailable"),NC=j(async(t,e,r)=>{let n;try{n=await Yz(t,e==null?void 0:e.fallbackPrefix)}catch(a){_t.error(a),n=GCe}const i=tCe(n,e),s=sCe(iCe(i.body),{...i.attributes,...r});return KA(s,Al())},"getIconSVG");function Xz(t,{markdownAutoWrap:e}){const n=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=Kz(n);return e===!1?i.replace(/ /g,"&nbsp;"):i}j(Xz,"preprocessMarkdown");function Jz(t,e={}){const r=Xz(t,e),n=di.lexer(r),i=[[]];let s=0;function a(o,l="normal"){o.type==="text"?o.text.split(`
`).forEach((u,f)=>{f!==0&&(s++,i.push([])),u.split(" ").forEach(p=>{p=p.replace(/&#39;/g,"'"),p&&i[s].push({content:p,type:l})})}):o.type==="strong"||o.type==="em"?o.tokens.forEach(c=>{a(c,o.type)}):o.type==="html"&&i[s].push({content:o.text,type:"normal"})}return j(a,"processNode"),n.forEach(o=>{var l;o.type==="paragraph"?(l=o.tokens)==null||l.forEach(c=>{a(c)}):o.type==="html"?i[s].push({content:o.text,type:"normal"}):i[s].push({content:o.raw,type:"normal"})}),i}j(Jz,"markdownToLines");function Zz(t,{markdownAutoWrap:e}={}){const r=di.lexer(t);function n(i){var s,a,o;return i.type==="text"?e===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${(s=i.tokens)==null?void 0:s.map(n).join("")}</strong>`:i.type==="em"?`<em>${(a=i.tokens)==null?void 0:a.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${(o=i.tokens)==null?void 0:o.map(n).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:(_t.warn(`Unsupported markdown: ${i.type}`),i.raw)}return j(n,"output"),r.map(n).join("")}j(Zz,"markdownToHTML");function eK(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}j(eK,"splitTextToChars");function tK(t,e){const r=eK(e.content);return CR(t,[],r,e.type)}j(tK,"splitWordToFitWidth");function CR(t,e,r,n){if(r.length===0)return[{content:e.join(""),type:n},{content:"",type:n}];const[i,...s]=r,a=[...e,i];return t([{content:a.join(""),type:n}])?CR(t,a,s,n):(e.length===0&&i&&(e.push(i),r.shift()),[{content:e.join(""),type:n},{content:r.join(""),type:n}])}j(CR,"splitWordToFitWidthRecursion");function rK(t,e){if(t.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return kE(t,e)}j(rK,"splitLineToFitWidth");function kE(t,e,r=[],n=[]){if(t.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";t[0].content===" "&&(i=" ",t.shift());const s=t.shift()??{content:" ",type:"normal"},a=[...n];if(i!==""&&a.push({content:i,type:"normal"}),a.push(s),e(a))return kE(t,e,r,a);if(n.length>0)r.push(n),t.unshift(s);else if(s.content){const[o,l]=tK(e,s);r.push([o]),l.content&&t.unshift(l)}return kE(t,e,r)}j(kE,"splitLineToFitWidthRecursion");function Ek(t,e){e&&t.attr("style",e)}j(Ek,"applyStyle");async function nK(t,e,r,n,i=!1,s=Al()){const a=t.append("foreignObject");a.attr("width",`${10*r}px`),a.attr("height",`${10*r}px`);const o=a.append("xhtml:div"),l=Fx(e.label)?await kL(e.label.replace(Gx.lineBreakRegex,`
`),s):KA(e.label,s),c=e.isNode?"nodeLabel":"edgeLabel",u=o.append("span");u.html(l),Ek(u,e.labelStyle),u.attr("class",`${c} ${n}`),Ek(o,e.labelStyle),o.style("display","table-cell"),o.style("white-space","nowrap"),o.style("line-height","1.5"),o.style("max-width",r+"px"),o.style("text-align","center"),o.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&o.attr("class","labelBkg");let f=o.node().getBoundingClientRect();return f.width===r&&(o.style("display","table"),o.style("white-space","break-spaces"),o.style("width",r+"px"),f=o.node().getBoundingClientRect()),a.node()}j(nK,"addHtmlSpan");function mT(t,e,r){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*r-.1+"em").attr("dy",r+"em")}j(mT,"createTspan");function iK(t,e,r){const n=t.append("text"),i=mT(n,1,e);yT(i,r);const s=i.node().getComputedTextLength();return n.remove(),s}j(iK,"computeWidthOfText");function qCe(t,e,r){var a;const n=t.append("text"),i=mT(n,1,e);yT(i,[{content:r,type:"normal"}]);const s=(a=i.node())==null?void 0:a.getBoundingClientRect();return s&&n.remove(),s}j(qCe,"computeDimensionOfText");function sK(t,e,r,n=!1){const s=e.append("g"),a=s.insert("rect").attr("class","background").attr("style","stroke: none"),o=s.append("text").attr("y","-10.1");let l=0;for(const c of r){const u=j(p=>iK(s,1.1,p)<=t,"checkWidth"),f=u(c)?[c]:rK(c,u);for(const p of f){const g=mT(o,l,1.1);yT(g,p),l++}}if(n){const c=o.node().getBBox(),u=2;return a.attr("x",c.x-u).attr("y",c.y-u).attr("width",c.width+2*u).attr("height",c.height+2*u),s.node()}else return o.node()}j(sK,"createFormattedText");function yT(t,e){t.text(""),e.forEach((r,n)=>{const i=t.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}j(yT,"updateTextContentAndStyles");async function aK(t,e={}){const r=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(i,s,a)=>(r.push((async()=>{const o=`${s}:${a}`;return await $Ce(o)?await NC(o,void 0,{class:"label-icon"}):`<i class='${KA(i,e).replace(":"," ")}'></i>`})()),i));const n=await Promise.all(r);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>n.shift()??"")}j(aK,"replaceIconSubstring");var Op=j(async(t,e="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:s=!0,isNode:a=!0,width:o=200,addSvgBackground:l=!1}={},c)=>{if(_t.debug("XYZ createText",e,r,n,i,s,a,"addSvgBackground: ",l),s){const u=Zz(e,c),f=await aK($m(u),c),p=e.replace(/\\\\/g,"\\"),g={isNode:a,label:Fx(e)?p:f,labelStyle:r.replace("fill:","color:")};return await nK(t,g,o,i,l,c)}else{const u=e.replace(/<br\s*\/?>/g,"<br/>"),f=Jz(u.replace("<br>","<br/>"),c),p=sK(o,t,f,e?l:!1);if(a){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const g=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Vn(p).attr("style",g)}else{const g=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Vn(p).select("rect").attr("style",g.replace(/background:/g,"fill:"));const y=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Vn(p).select("text").attr("style",y)}return p}},"createText");function AN(t,e,r){if(t&&t.length){const[n,i]=e,s=Math.PI/180*r,a=Math.cos(s),o=Math.sin(s);for(const l of t){const[c,u]=l;l[0]=(c-n)*a-(u-i)*o+n,l[1]=(c-n)*o+(u-i)*a+i}}}function zCe(t,e){return t[0]===e[0]&&t[1]===e[1]}function KCe(t,e,r,n=1){const i=r,s=Math.max(e,.1),a=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,o=[0,0];if(i)for(const c of a)AN(c,o,i);const l=(function(c,u,f){const p=[];for(const B of c){const F=[...B];zCe(F[0],F[F.length-1])||F.push([F[0][0],F[0][1]]),F.length>2&&p.push(F)}const g=[];u=Math.max(u,.1);const y=[];for(const B of p)for(let F=0;F<B.length-1;F++){const k=B[F],O=B[F+1];if(k[1]!==O[1]){const R=Math.min(k[1],O[1]);y.push({ymin:R,ymax:Math.max(k[1],O[1]),x:R===k[1]?k[0]:O[0],islope:(O[0]-k[0])/(O[1]-k[1])})}}if(y.sort(((B,F)=>B.ymin<F.ymin?-1:B.ymin>F.ymin?1:B.x<F.x?-1:B.x>F.x?1:B.ymax===F.ymax?0:(B.ymax-F.ymax)/Math.abs(B.ymax-F.ymax))),!y.length)return g;let x=[],w=y[0].ymin,S=0;for(;x.length||y.length;){if(y.length){let B=-1;for(let F=0;F<y.length&&!(y[F].ymin>w);F++)B=F;y.splice(0,B+1).forEach((F=>{x.push({s:w,edge:F})}))}if(x=x.filter((B=>!(B.edge.ymax<=w))),x.sort(((B,F)=>B.edge.x===F.edge.x?0:(B.edge.x-F.edge.x)/Math.abs(B.edge.x-F.edge.x))),(f!==1||S%u==0)&&x.length>1)for(let B=0;B<x.length;B+=2){const F=B+1;if(F>=x.length)break;const k=x[B].edge,O=x[F].edge;g.push([[Math.round(k.x),w],[Math.round(O.x),w]])}w+=f,x.forEach((B=>{B.edge.x=B.edge.x+f*B.edge.islope})),S++}return g})(a,s,n);if(i){for(const c of a)AN(c,o,-i);(function(c,u,f){const p=[];c.forEach((g=>p.push(...g))),AN(p,u,f)})(l,o,-i)}return l}function FC(t,e){var r;const n=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return e.roughness>=1&&(((r=e.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(s=i),KCe(t,i,n,s||1)}class SR{constructor(e){this.helper=e}fillPolygons(e,r){return this._fillPolygons(e,r)}_fillPolygons(e,r){const n=FC(e,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(e,r){const n=[];for(const i of e)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}}function xT(t){const e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}class WCe extends SR{fillPolygons(e,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=FC(e,Object.assign({},r,{hachureGap:n})),s=Math.PI/180*r.hachureAngle,a=[],o=.5*n*Math.cos(s),l=.5*n*Math.sin(s);for(const[c,u]of i)xT([c,u])&&a.push([[c[0]-o,c[1]+l],[...u]],[[c[0]+o,c[1]-l],[...u]]);return{type:"fillSketch",ops:this.renderLines(a,r)}}}class YCe extends SR{fillPolygons(e,r){const n=this._fillPolygons(e,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),s=this._fillPolygons(e,i);return n.ops=n.ops.concat(s.ops),n}}class XCe{constructor(e){this.helper=e}fillPolygons(e,r){const n=FC(e,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(e,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let s=r.fillWeight;s<0&&(s=r.strokeWidth/2);const a=i/4;for(const o of e){const l=xT(o),c=l/i,u=Math.ceil(c)-1,f=l-u*i,p=(o[0][0]+o[1][0])/2-i/4,g=Math.min(o[0][1],o[1][1]);for(let y=0;y<u;y++){const x=g+f+y*i,w=p-a+2*Math.random()*a,S=x-a+2*Math.random()*a,B=this.helper.ellipse(w,S,s,s,r);n.push(...B.ops)}}return{type:"fillSketch",ops:n}}}class JCe{constructor(e){this.helper=e}fillPolygons(e,r){const n=FC(e,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(e,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,s=[];return e.forEach((a=>{const o=xT(a),l=Math.floor(o/(n+i)),c=(o+i-l*(n+i))/2;let u=a[0],f=a[1];u[0]>f[0]&&(u=a[1],f=a[0]);const p=Math.atan((f[1]-u[1])/(f[0]-u[0]));for(let g=0;g<l;g++){const y=g*(n+i),x=y+n,w=[u[0]+y*Math.cos(p)+c*Math.cos(p),u[1]+y*Math.sin(p)+c*Math.sin(p)],S=[u[0]+x*Math.cos(p)+c*Math.cos(p),u[1]+x*Math.sin(p)+c*Math.sin(p)];s.push(...this.helper.doubleLineOps(w[0],w[1],S[0],S[1],r))}})),s}}class ZCe{constructor(e){this.helper=e}fillPolygons(e,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,s=FC(e,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,r)}}zigzagLines(e,r,n){const i=[];return e.forEach((s=>{const a=xT(s),o=Math.round(a/(2*r));let l=s[0],c=s[1];l[0]>c[0]&&(l=s[1],c=s[0]);const u=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let f=0;f<o;f++){const p=2*f*r,g=2*(f+1)*r,y=Math.sqrt(2*Math.pow(r,2)),x=[l[0]+p*Math.cos(u),l[1]+p*Math.sin(u)],w=[l[0]+g*Math.cos(u),l[1]+g*Math.sin(u)],S=[x[0]+y*Math.cos(u+Math.PI/4),x[1]+y*Math.sin(u+Math.PI/4)];i.push(...this.helper.doubleLineOps(x[0],x[1],S[0],S[1],n),...this.helper.doubleLineOps(S[0],S[1],w[0],w[1],n))}})),i}}const hc={};class eSe{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const tSe=0,uN=1,N7=2,p5={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function hN(t,e){return t.type===e}function _R(t){const e=[],r=(function(a){const o=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:tSe,text:RegExp.$1},a=a.substr(RegExp.$1.length);else{if(!a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:uN,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length)}return o[o.length]={type:N7,text:""},o})(t);let n="BOD",i=0,s=r[i];for(;!hN(s,N7);){let a=0;const o=[];if(n==="BOD"){if(s.text!=="M"&&s.text!=="m")return _R("M0,0"+t);i++,a=p5[s.text],n=s.text}else hN(s,uN)?a=p5[n]:(i++,a=p5[s.text],n=s.text);if(!(i+a<r.length))throw new Error("Path data ended short");for(let l=i;l<i+a;l++){const c=r[l];if(!hN(c,uN))throw new Error("Param not a number: "+n+","+c.text);o[o.length]=+c.text}if(typeof p5[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:o};e.push(l),i+=a,s=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return e}function oK(t){let e=0,r=0,n=0,i=0;const s=[];for(const{key:a,data:o}of t)switch(a){case"M":s.push({key:"M",data:[...o]}),[e,r]=o,[n,i]=o;break;case"m":e+=o[0],r+=o[1],s.push({key:"M",data:[e,r]}),n=e,i=r;break;case"L":s.push({key:"L",data:[...o]}),[e,r]=o;break;case"l":e+=o[0],r+=o[1],s.push({key:"L",data:[e,r]});break;case"C":s.push({key:"C",data:[...o]}),e=o[4],r=o[5];break;case"c":{const l=o.map(((c,u)=>u%2?c+r:c+e));s.push({key:"C",data:l}),e=l[4],r=l[5];break}case"Q":s.push({key:"Q",data:[...o]}),e=o[2],r=o[3];break;case"q":{const l=o.map(((c,u)=>u%2?c+r:c+e));s.push({key:"Q",data:l}),e=l[2],r=l[3];break}case"A":s.push({key:"A",data:[...o]}),e=o[5],r=o[6];break;case"a":e+=o[5],r+=o[6],s.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],e,r]});break;case"H":s.push({key:"H",data:[...o]}),e=o[0];break;case"h":e+=o[0],s.push({key:"H",data:[e]});break;case"V":s.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],s.push({key:"V",data:[r]});break;case"S":s.push({key:"S",data:[...o]}),e=o[2],r=o[3];break;case"s":{const l=o.map(((c,u)=>u%2?c+r:c+e));s.push({key:"S",data:l}),e=l[2],r=l[3];break}case"T":s.push({key:"T",data:[...o]}),e=o[0],r=o[1];break;case"t":e+=o[0],r+=o[1],s.push({key:"T",data:[e,r]});break;case"Z":case"z":s.push({key:"Z",data:[]}),e=n,r=i}return s}function lK(t){const e=[];let r="",n=0,i=0,s=0,a=0,o=0,l=0;for(const{key:c,data:u}of t){switch(c){case"M":e.push({key:"M",data:[...u]}),[n,i]=u,[s,a]=u;break;case"C":e.push({key:"C",data:[...u]}),n=u[4],i=u[5],o=u[2],l=u[3];break;case"L":e.push({key:"L",data:[...u]}),[n,i]=u;break;case"H":n=u[0],e.push({key:"L",data:[n,i]});break;case"V":i=u[0],e.push({key:"L",data:[n,i]});break;case"S":{let f=0,p=0;r==="C"||r==="S"?(f=n+(n-o),p=i+(i-l)):(f=n,p=i),e.push({key:"C",data:[f,p,...u]}),o=u[0],l=u[1],n=u[2],i=u[3];break}case"T":{const[f,p]=u;let g=0,y=0;r==="Q"||r==="T"?(g=n+(n-o),y=i+(i-l)):(g=n,y=i);const x=n+2*(g-n)/3,w=i+2*(y-i)/3,S=f+2*(g-f)/3,B=p+2*(y-p)/3;e.push({key:"C",data:[x,w,S,B,f,p]}),o=g,l=y,n=f,i=p;break}case"Q":{const[f,p,g,y]=u,x=n+2*(f-n)/3,w=i+2*(p-i)/3,S=g+2*(f-g)/3,B=y+2*(p-y)/3;e.push({key:"C",data:[x,w,S,B,g,y]}),o=f,l=p,n=g,i=y;break}case"A":{const f=Math.abs(u[0]),p=Math.abs(u[1]),g=u[2],y=u[3],x=u[4],w=u[5],S=u[6];f===0||p===0?(e.push({key:"C",data:[n,i,w,S,w,S]}),n=w,i=S):(n!==w||i!==S)&&(cK(n,i,w,S,f,p,g,y,x).forEach((function(B){e.push({key:"C",data:B})})),n=w,i=S);break}case"Z":e.push({key:"Z",data:[]}),n=s,i=a}r=c}return e}function Zv(t,e,r){return[t*Math.cos(r)-e*Math.sin(r),t*Math.sin(r)+e*Math.cos(r)]}function cK(t,e,r,n,i,s,a,o,l,c){const u=(f=a,Math.PI*f/180);var f;let p=[],g=0,y=0,x=0,w=0;if(c)[g,y,x,w]=c;else{[t,e]=Zv(t,e,-u),[r,n]=Zv(r,n,-u);const q=(t-r)/2,Z=(e-n)/2;let se=q*q/(i*i)+Z*Z/(s*s);se>1&&(se=Math.sqrt(se),i*=se,s*=se);const X=i*i,ee=s*s,te=X*ee-X*Z*Z-ee*q*q,Ce=X*Z*Z+ee*q*q,ke=(o===l?-1:1)*Math.sqrt(Math.abs(te/Ce));x=ke*i*Z/s+(t+r)/2,w=ke*-s*q/i+(e+n)/2,g=Math.asin(parseFloat(((e-w)/s).toFixed(9))),y=Math.asin(parseFloat(((n-w)/s).toFixed(9))),t<x&&(g=Math.PI-g),r<x&&(y=Math.PI-y),g<0&&(g=2*Math.PI+g),y<0&&(y=2*Math.PI+y),l&&g>y&&(g-=2*Math.PI),!l&&y>g&&(y-=2*Math.PI)}let S=y-g;if(Math.abs(S)>120*Math.PI/180){const q=y,Z=r,se=n;y=l&&y>g?g+120*Math.PI/180*1:g+120*Math.PI/180*-1,p=cK(r=x+i*Math.cos(y),n=w+s*Math.sin(y),Z,se,i,s,a,0,l,[y,q,x,w])}S=y-g;const B=Math.cos(g),F=Math.sin(g),k=Math.cos(y),O=Math.sin(y),R=Math.tan(S/4),D=4/3*i*R,Q=4/3*s*R,V=[t,e],re=[t+D*F,e-Q*B],P=[r+D*O,n-Q*k],H=[r,n];if(re[0]=2*V[0]-re[0],re[1]=2*V[1]-re[1],c)return[re,P,H].concat(p);{p=[re,P,H].concat(p);const q=[];for(let Z=0;Z<p.length;Z+=3){const se=Zv(p[Z][0],p[Z][1],u),X=Zv(p[Z+1][0],p[Z+1][1],u),ee=Zv(p[Z+2][0],p[Z+2][1],u);q.push([se[0],se[1],X[0],X[1],ee[0],ee[1]])}return q}}const rSe={randOffset:function(t,e){return qr(t,e)},randOffsetWithRange:function(t,e,r){return LE(t,e,r)},ellipse:function(t,e,r,n,i){const s=uK(r,n,i);return Bk(t,e,i,s).opset},doubleLineOps:function(t,e,r,n,i){return Bp(t,e,r,n,i,!0)}};function AK(t,e,r,n,i){return{type:"path",ops:Bp(t,e,r,n,i)}}function C_(t,e,r){const n=(t||[]).length;if(n>2){const i=[];for(let s=0;s<n-1;s++)i.push(...Bp(t[s][0],t[s][1],t[s+1][0],t[s+1][1],r));return e&&i.push(...Bp(t[n-1][0],t[n-1][1],t[0][0],t[0][1],r)),{type:"path",ops:i}}return n===2?AK(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}function nSe(t,e,r,n,i){return(function(s,a){return C_(s,!0,a)})([[t,e],[t+r,e],[t+r,e+n],[t,e+n]],i)}function F7(t,e){if(t.length){const r=typeof t[0][0]=="number"?[t]:t,n=g5(r[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:g5(r[0],1.5*(1+.22*e.roughness),L7(e));for(let s=1;s<r.length;s++){const a=r[s];if(a.length){const o=g5(a,1*(1+.2*e.roughness),e),l=e.disableMultiStroke?[]:g5(a,1.5*(1+.22*e.roughness),L7(e));for(const c of o)c.op!=="move"&&n.push(c);for(const c of l)c.op!=="move"&&i.push(c)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function uK(t,e,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),s=2*Math.PI/i;let a=Math.abs(t/2),o=Math.abs(e/2);const l=1-r.curveFitting;return a+=qr(a*l,r),o+=qr(o*l,r),{increment:s,rx:a,ry:o}}function Bk(t,e,r,n){const[i,s]=R7(n.increment,t,e,n.rx,n.ry,1,n.increment*LE(.1,LE(.4,1,r),r),r);let a=RE(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[o]=R7(n.increment,t,e,n.rx,n.ry,1.5,0,r),l=RE(o,null,r);a=a.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:a}}}function I7(t,e,r,n,i,s,a,o,l){const c=t,u=e;let f=Math.abs(r/2),p=Math.abs(n/2);f+=qr(.01*f,l),p+=qr(.01*p,l);let g=i,y=s;for(;g<0;)g+=2*Math.PI,y+=2*Math.PI;y-g>2*Math.PI&&(g=0,y=2*Math.PI);const x=2*Math.PI/l.curveStepCount,w=Math.min(x/2,(y-g)/2),S=M7(w,c,u,f,p,g,y,1,l);if(!l.disableMultiStroke){const B=M7(w,c,u,f,p,g,y,1.5,l);S.push(...B)}return a&&(o?S.push(...Bp(c,u,c+f*Math.cos(g),u+p*Math.sin(g),l),...Bp(c,u,c+f*Math.cos(y),u+p*Math.sin(y),l)):S.push({op:"lineTo",data:[c,u]},{op:"lineTo",data:[c+f*Math.cos(g),u+p*Math.sin(g)]})),{type:"path",ops:S}}function k7(t,e){const r=lK(oK(_R(t))),n=[];let i=[0,0],s=[0,0];for(const{key:a,data:o}of r)switch(a){case"M":s=[o[0],o[1]],i=[o[0],o[1]];break;case"L":n.push(...Bp(s[0],s[1],o[0],o[1],e)),s=[o[0],o[1]];break;case"C":{const[l,c,u,f,p,g]=o;n.push(...iSe(l,c,u,f,p,g,s,e)),s=[p,g];break}case"Z":n.push(...Bp(s[0],s[1],i[0],i[1],e)),s=[i[0],i[1]]}return{type:"path",ops:n}}function fN(t,e){const r=[];for(const n of t)if(n.length){const i=e.maxRandomnessOffset||0,s=n.length;if(s>2){r.push({op:"move",data:[n[0][0]+qr(i,e),n[0][1]+qr(i,e)]});for(let a=1;a<s;a++)r.push({op:"lineTo",data:[n[a][0]+qr(i,e),n[a][1]+qr(i,e)]})}}return{type:"fillPath",ops:r}}function k1(t,e){return(function(r,n){let i=r.fillStyle||"hachure";if(!hc[i])switch(i){case"zigzag":hc[i]||(hc[i]=new WCe(n));break;case"cross-hatch":hc[i]||(hc[i]=new YCe(n));break;case"dots":hc[i]||(hc[i]=new XCe(n));break;case"dashed":hc[i]||(hc[i]=new JCe(n));break;case"zigzag-line":hc[i]||(hc[i]=new ZCe(n));break;default:i="hachure",hc[i]||(hc[i]=new SR(n))}return hc[i]})(e,rSe).fillPolygons(t,e)}function L7(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function hK(t){return t.randomizer||(t.randomizer=new eSe(t.seed||0)),t.randomizer.next()}function LE(t,e,r,n=1){return r.roughness*n*(hK(r)*(e-t)+t)}function qr(t,e,r=1){return LE(-t,t,e,r)}function Bp(t,e,r,n,i,s=!1){const a=s?i.disableMultiStrokeFill:i.disableMultiStroke,o=Tk(t,e,r,n,i,!0,!1);if(a)return o;const l=Tk(t,e,r,n,i,!0,!0);return o.concat(l)}function Tk(t,e,r,n,i,s,a){const o=Math.pow(t-r,2)+Math.pow(e-n,2),l=Math.sqrt(o);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let u=i.maxRandomnessOffset||0;u*u*100>o&&(u=l/10);const f=u/2,p=.2+.2*hK(i);let g=i.bowing*i.maxRandomnessOffset*(n-e)/200,y=i.bowing*i.maxRandomnessOffset*(t-r)/200;g=qr(g,i,c),y=qr(y,i,c);const x=[],w=()=>qr(f,i,c),S=()=>qr(u,i,c),B=i.preserveVertices;return a?x.push({op:"move",data:[t+(B?0:w()),e+(B?0:w())]}):x.push({op:"move",data:[t+(B?0:qr(u,i,c)),e+(B?0:qr(u,i,c))]}),a?x.push({op:"bcurveTo",data:[g+t+(r-t)*p+w(),y+e+(n-e)*p+w(),g+t+2*(r-t)*p+w(),y+e+2*(n-e)*p+w(),r+(B?0:w()),n+(B?0:w())]}):x.push({op:"bcurveTo",data:[g+t+(r-t)*p+S(),y+e+(n-e)*p+S(),g+t+2*(r-t)*p+S(),y+e+2*(n-e)*p+S(),r+(B?0:S()),n+(B?0:S())]}),x}function g5(t,e,r){if(!t.length)return[];const n=[];n.push([t[0][0]+qr(e,r),t[0][1]+qr(e,r)]),n.push([t[0][0]+qr(e,r),t[0][1]+qr(e,r)]);for(let i=1;i<t.length;i++)n.push([t[i][0]+qr(e,r),t[i][1]+qr(e,r)]),i===t.length-1&&n.push([t[i][0]+qr(e,r),t[i][1]+qr(e,r)]);return RE(n,null,r)}function RE(t,e,r){const n=t.length,i=[];if(n>3){const s=[],a=1-r.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let o=1;o+2<n;o++){const l=t[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*t[o+1][0]-a*t[o-1][0])/6,l[1]+(a*t[o+1][1]-a*t[o-1][1])/6],s[2]=[t[o+1][0]+(a*t[o][0]-a*t[o+2][0])/6,t[o+1][1]+(a*t[o][1]-a*t[o+2][1])/6],s[3]=[t[o+1][0],t[o+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else n===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):n===2&&i.push(...Tk(t[0][0],t[0][1],t[1][0],t[1][1],r,!0,!0));return i}function R7(t,e,r,n,i,s,a,o){const l=[],c=[];if(o.roughness===0){t/=4,c.push([e+n*Math.cos(-t),r+i*Math.sin(-t)]);for(let u=0;u<=2*Math.PI;u+=t){const f=[e+n*Math.cos(u),r+i*Math.sin(u)];l.push(f),c.push(f)}c.push([e+n*Math.cos(0),r+i*Math.sin(0)]),c.push([e+n*Math.cos(t),r+i*Math.sin(t)])}else{const u=qr(.5,o)-Math.PI/2;c.push([qr(s,o)+e+.9*n*Math.cos(u-t),qr(s,o)+r+.9*i*Math.sin(u-t)]);const f=2*Math.PI+u-.01;for(let p=u;p<f;p+=t){const g=[qr(s,o)+e+n*Math.cos(p),qr(s,o)+r+i*Math.sin(p)];l.push(g),c.push(g)}c.push([qr(s,o)+e+n*Math.cos(u+2*Math.PI+.5*a),qr(s,o)+r+i*Math.sin(u+2*Math.PI+.5*a)]),c.push([qr(s,o)+e+.98*n*Math.cos(u+a),qr(s,o)+r+.98*i*Math.sin(u+a)]),c.push([qr(s,o)+e+.9*n*Math.cos(u+.5*a),qr(s,o)+r+.9*i*Math.sin(u+.5*a)])}return[c,l]}function M7(t,e,r,n,i,s,a,o,l){const c=s+qr(.1,l),u=[];u.push([qr(o,l)+e+.9*n*Math.cos(c-t),qr(o,l)+r+.9*i*Math.sin(c-t)]);for(let f=c;f<=a;f+=t)u.push([qr(o,l)+e+n*Math.cos(f),qr(o,l)+r+i*Math.sin(f)]);return u.push([e+n*Math.cos(a),r+i*Math.sin(a)]),u.push([e+n*Math.cos(a),r+i*Math.sin(a)]),RE(u,null,l)}function iSe(t,e,r,n,i,s,a,o){const l=[],c=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let u=[0,0];const f=o.disableMultiStroke?1:2,p=o.preserveVertices;for(let g=0;g<f;g++)g===0?l.push({op:"move",data:[a[0],a[1]]}):l.push({op:"move",data:[a[0]+(p?0:qr(c[0],o)),a[1]+(p?0:qr(c[0],o))]}),u=p?[i,s]:[i+qr(c[g],o),s+qr(c[g],o)],l.push({op:"bcurveTo",data:[t+qr(c[g],o),e+qr(c[g],o),r+qr(c[g],o),n+qr(c[g],o),u[0],u[1]]});return l}function e2(t){return[...t]}function U7(t,e=0){const r=t.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(e2(t[0]),e2(t[1]),e2(t[2]),e2(t[2]));else{const i=[];i.push(t[0],t[0]);for(let o=1;o<t.length;o++)i.push(t[o]),o===t.length-1&&i.push(t[o]);const s=[],a=1-e;n.push(e2(i[0]));for(let o=1;o+2<i.length;o++){const l=i[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*i[o+1][0]-a*i[o-1][0])/6,l[1]+(a*i[o+1][1]-a*i[o-1][1])/6],s[2]=[i[o+1][0]+(a*i[o][0]-a*i[o+2][0])/6,i[o+1][1]+(a*i[o][1]-a*i[o+2][1])/6],s[3]=[i[o+1][0],i[o+1][1]],n.push(s[1],s[2],s[3])}}return n}function S_(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function sSe(t,e,r){const n=S_(e,r);if(n===0)return S_(t,e);let i=((t[0]-e[0])*(r[0]-e[0])+(t[1]-e[1])*(r[1]-e[1]))/n;return i=Math.max(0,Math.min(1,i)),S_(t,ig(e,r,i))}function ig(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function Nk(t,e,r,n){const i=n||[];if((function(o,l){const c=o[l+0],u=o[l+1],f=o[l+2],p=o[l+3];let g=3*u[0]-2*c[0]-p[0];g*=g;let y=3*u[1]-2*c[1]-p[1];y*=y;let x=3*f[0]-2*p[0]-c[0];x*=x;let w=3*f[1]-2*p[1]-c[1];return w*=w,g<x&&(g=x),y<w&&(y=w),g+y})(t,e)<r){const o=t[e+0];i.length?(s=i[i.length-1],a=o,Math.sqrt(S_(s,a))>1&&i.push(o)):i.push(o),i.push(t[e+3])}else{const l=t[e+0],c=t[e+1],u=t[e+2],f=t[e+3],p=ig(l,c,.5),g=ig(c,u,.5),y=ig(u,f,.5),x=ig(p,g,.5),w=ig(g,y,.5),S=ig(x,w,.5);Nk([l,p,x,S],0,r,i),Nk([S,w,y,f],0,r,i)}var s,a;return i}function aSe(t,e){return ME(t,0,t.length,e)}function ME(t,e,r,n,i){const s=i||[],a=t[e],o=t[r-1];let l=0,c=1;for(let u=e+1;u<r-1;++u){const f=sSe(t[u],a,o);f>l&&(l=f,c=u)}return Math.sqrt(l)>n?(ME(t,e,c+1,n,s),ME(t,c,r,n,s)):(s.length||s.push(a),s.push(o)),s}function dN(t,e=.15,r){const n=[],i=(t.length-1)/3;for(let s=0;s<i;s++)Nk(t,3*s,e,n);return r&&r>0?ME(n,0,n.length,r):n}const Qc="none";class UE{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,r,n){return{shape:e,sets:r||[],options:n||this.defaultOptions}}line(e,r,n,i,s){const a=this._o(s);return this._d("line",[AK(e,r,n,i,a)],a)}rectangle(e,r,n,i,s){const a=this._o(s),o=[],l=nSe(e,r,n,i,a);if(a.fill){const c=[[e,r],[e+n,r],[e+n,r+i],[e,r+i]];a.fillStyle==="solid"?o.push(fN([c],a)):o.push(k1([c],a))}return a.stroke!==Qc&&o.push(l),this._d("rectangle",o,a)}ellipse(e,r,n,i,s){const a=this._o(s),o=[],l=uK(n,i,a),c=Bk(e,r,a,l);if(a.fill)if(a.fillStyle==="solid"){const u=Bk(e,r,a,l).opset;u.type="fillPath",o.push(u)}else o.push(k1([c.estimatedPoints],a));return a.stroke!==Qc&&o.push(c.opset),this._d("ellipse",o,a)}circle(e,r,n,i){const s=this.ellipse(e,r,n,n,i);return s.shape="circle",s}linearPath(e,r){const n=this._o(r);return this._d("linearPath",[C_(e,!1,n)],n)}arc(e,r,n,i,s,a,o=!1,l){const c=this._o(l),u=[],f=I7(e,r,n,i,s,a,o,!0,c);if(o&&c.fill)if(c.fillStyle==="solid"){const p=Object.assign({},c);p.disableMultiStroke=!0;const g=I7(e,r,n,i,s,a,!0,!1,p);g.type="fillPath",u.push(g)}else u.push((function(p,g,y,x,w,S,B){const F=p,k=g;let O=Math.abs(y/2),R=Math.abs(x/2);O+=qr(.01*O,B),R+=qr(.01*R,B);let D=w,Q=S;for(;D<0;)D+=2*Math.PI,Q+=2*Math.PI;Q-D>2*Math.PI&&(D=0,Q=2*Math.PI);const V=(Q-D)/B.curveStepCount,re=[];for(let P=D;P<=Q;P+=V)re.push([F+O*Math.cos(P),k+R*Math.sin(P)]);return re.push([F+O*Math.cos(Q),k+R*Math.sin(Q)]),re.push([F,k]),k1([re],B)})(e,r,n,i,s,a,c));return c.stroke!==Qc&&u.push(f),this._d("arc",u,c)}curve(e,r){const n=this._o(r),i=[],s=F7(e,n);if(n.fill&&n.fill!==Qc)if(n.fillStyle==="solid"){const a=F7(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],o=e;if(o.length){const l=typeof o[0][0]=="number"?[o]:o;for(const c of l)c.length<3?a.push(...c):c.length===3?a.push(...dN(U7([c[0],c[0],c[1],c[2]]),10,(1+n.roughness)/2)):a.push(...dN(U7(c),10,(1+n.roughness)/2))}a.length&&i.push(k1([a],n))}return n.stroke!==Qc&&i.push(s),this._d("curve",i,n)}polygon(e,r){const n=this._o(r),i=[],s=C_(e,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(fN([e],n)):i.push(k1([e],n))),n.stroke!==Qc&&i.push(s),this._d("polygon",i,n)}path(e,r){const n=this._o(r),i=[];if(!e)return this._d("path",i,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=n.fill&&n.fill!=="transparent"&&n.fill!==Qc,a=n.stroke!==Qc,o=!!(n.simplification&&n.simplification<1),l=(function(u,f,p){const g=lK(oK(_R(u))),y=[];let x=[],w=[0,0],S=[];const B=()=>{S.length>=4&&x.push(...dN(S,f)),S=[]},F=()=>{B(),x.length&&(y.push(x),x=[])};for(const{key:O,data:R}of g)switch(O){case"M":F(),w=[R[0],R[1]],x.push(w);break;case"L":B(),x.push([R[0],R[1]]);break;case"C":if(!S.length){const D=x.length?x[x.length-1]:w;S.push([D[0],D[1]])}S.push([R[0],R[1]]),S.push([R[2],R[3]]),S.push([R[4],R[5]]);break;case"Z":B(),x.push([w[0],w[1]])}if(F(),!p)return y;const k=[];for(const O of y){const R=aSe(O,p);R.length&&k.push(R)}return k})(e,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),c=k7(e,n);if(s)if(n.fillStyle==="solid")if(l.length===1){const u=k7(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(u.ops)})}else i.push(fN(l,n));else i.push(k1(l,n));return a&&(o?l.forEach((u=>{i.push(C_(u,!1,n))})):i.push(c)),this._d("path",i,n)}opsToPath(e,r){let n="";for(const i of e.ops){const s=typeof r=="number"&&r>=0?i.data.map((a=>+a.toFixed(r))):i.data;switch(i.op){case"move":n+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":n+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":n+=`L${s[0]} ${s[1]} `}}return n.trim()}toPaths(e){const r=e.sets||[],n=e.options||this.defaultOptions,i=[];for(const s of r){let a=null;switch(s.type){case"path":a={d:this.opsToPath(s),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:Qc};break;case"fillPath":a={d:this.opsToPath(s),stroke:Qc,strokeWidth:0,fill:n.fill||Qc};break;case"fillSketch":a=this.fillSketch(s,n)}a&&i.push(a)}return i}fillSketch(e,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(e),stroke:r.fill||Qc,strokeWidth:n,fill:Qc}}_mergedShape(e){return e.filter(((r,n)=>n===0||r.op!=="move"))}}class oSe{constructor(e,r){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new UE(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(const a of r)switch(a.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,a,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const o=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,a,s,o),i.restore();break}case"fillSketch":this.fillSketch(i,a,n)}}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=i,this._drawToContext(e,r,n.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,r,n,i="nonzero"){e.beginPath();for(const s of r.ops){const a=typeof n=="number"&&n>=0?s.data.map((o=>+o.toFixed(n))):s.data;switch(s.op){case"move":e.moveTo(a[0],a[1]);break;case"bcurveTo":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":e.lineTo(a[0],a[1])}}r.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,r,n,i,s){const a=this.gen.line(e,r,n,i,s);return this.draw(a),a}rectangle(e,r,n,i,s){const a=this.gen.rectangle(e,r,n,i,s);return this.draw(a),a}ellipse(e,r,n,i,s){const a=this.gen.ellipse(e,r,n,i,s);return this.draw(a),a}circle(e,r,n,i){const s=this.gen.circle(e,r,n,i);return this.draw(s),s}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n),n}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n),n}arc(e,r,n,i,s,a,o=!1,l){const c=this.gen.arc(e,r,n,i,s,a,o,l);return this.draw(c),c}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n),n}path(e,r){const n=this.gen.path(e,r);return this.draw(n),n}}const m5="http://www.w3.org/2000/svg";class lSe{constructor(e,r){this.svg=e,this.gen=new UE(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(m5,"g"),a=e.options.fixedDecimalPlaceDigits;for(const o of r){let l=null;switch(o.type){case"path":l=i.createElementNS(m5,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(m5,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,o,n)}l&&s.appendChild(l)}return s}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const s=e.createElementNS(m5,"path");return s.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),s.setAttribute("stroke",n.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),n.fillLineDash&&s.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,r){return this.gen.opsToPath(e,r)}line(e,r,n,i,s){const a=this.gen.line(e,r,n,i,s);return this.draw(a)}rectangle(e,r,n,i,s){const a=this.gen.rectangle(e,r,n,i,s);return this.draw(a)}ellipse(e,r,n,i,s){const a=this.gen.ellipse(e,r,n,i,s);return this.draw(a)}circle(e,r,n,i){const s=this.gen.circle(e,r,n,i);return this.draw(s)}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n)}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n)}arc(e,r,n,i,s,a,o=!1,l){const c=this.gen.arc(e,r,n,i,s,a,o,l);return this.draw(c)}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n)}path(e,r){const n=this.gen.path(e,r);return this.draw(n)}}var lr={canvas:(t,e)=>new oSe(t,e),svg:(t,e)=>new lSe(t,e),generator:t=>new UE(t),newSeed:()=>UE.newSeed()},jr=j(async(t,e,r)=>{var f,p;let n;const i=e.useHtmlLabels||Ga((f=fi())==null?void 0:f.htmlLabels);r?n=r:n="node default";const s=t.insert("g").attr("class",n).attr("id",e.domId||e.id),a=s.insert("g").attr("class","label").attr("style",hl(e.labelStyle));let o;e.label===void 0?o="":o=typeof e.label=="string"?e.label:e.label[0];const l=await Op(a,KA($m(o),fi()),{useHtmlLabels:i,width:e.width||((p=fi().flowchart)==null?void 0:p.wrappingWidth),cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let c=l.getBBox();const u=((e==null?void 0:e.padding)??0)/2;if(i){const g=l.children[0],y=Vn(l),x=g.getElementsByTagName("img");if(x){const w=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...x].map(S=>new Promise(B=>{function F(){if(S.style.display="flex",S.style.flexDirection="column",w){const k=fi().fontSize?fi().fontSize:window.getComputedStyle(document.body).fontSize,O=5,[R=EV.fontSize]=dT(k),D=R*O+"px";S.style.minWidth=D,S.style.maxWidth=D}else S.style.width="100%";B(S)}j(F,"setupImage"),setTimeout(()=>{S.complete&&F()}),S.addEventListener("error",F),S.addEventListener("load",F)})))}c=g.getBoundingClientRect(),y.attr("width",c.width),y.attr("height",c.height)}return i?a.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"):a.attr("transform","translate(0, "+-c.height/2+")"),e.centerLabel&&a.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:s,bbox:c,halfPadding:u,label:a}},"labelHelper"),pN=j(async(t,e,r)=>{var l,c,u,f,p,g;const n=r.useHtmlLabels||Ga((c=(l=fi())==null?void 0:l.flowchart)==null?void 0:c.htmlLabels),i=t.insert("g").attr("class","label").attr("style",r.labelStyle||""),s=await Op(i,KA($m(e),fi()),{useHtmlLabels:n,width:r.width||((f=(u=fi())==null?void 0:u.flowchart)==null?void 0:f.wrappingWidth),style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let a=s.getBBox();const o=r.padding/2;if(Ga((g=(p=fi())==null?void 0:p.flowchart)==null?void 0:g.htmlLabels)){const y=s.children[0],x=Vn(s);a=y.getBoundingClientRect(),x.attr("width",a.width),x.attr("height",a.height)}return n?i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"):i.attr("transform","translate(0, "+-a.height/2+")"),r.centerLabel&&i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:t,bbox:a,halfPadding:o,label:i}},"insertLabel"),pr=j((t,e)=>{const r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds"),Mr=j((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function Bn(t){const e=t.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return e.push("Z"),e.join(" ")}j(Bn,"createPathFromPoints");function Tp(t,e,r,n,i,s){const a=[],l=r-t,c=n-e,u=l/s,f=2*Math.PI/u,p=e+c/2;for(let g=0;g<=50;g++){const y=g/50,x=t+y*l,w=p+i*Math.sin(f*(x-t));a.push({x,y:w})}return a}j(Tp,"generateFullSineWavePoints");function Sw(t,e,r,n,i,s){const a=[],o=i*Math.PI/180,u=(s*Math.PI/180-o)/(n-1);for(let f=0;f<n;f++){const p=o+f*u,g=t+r*Math.cos(p),y=e+r*Math.sin(p);a.push({x:-g,y:-y})}return a}j(Sw,"generateCirclePoints");var cSe=j((t,e)=>{var r=t.x,n=t.y,i=e.x-r,s=e.y-n,a=t.width/2,o=t.height/2,l,c;return Math.abs(s)*a>Math.abs(i)*o?(s<0&&(o=-o),l=s===0?0:o*i/s,c=o):(i<0&&(a=-a),l=a,c=i===0?0:a*s/i),{x:r+l,y:n+c}},"intersectRect"),zx=cSe;function fK(t,e){e&&t.attr("style",e)}j(fK,"applyStyle");async function dK(t){const e=Vn(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=e.append("xhtml:div"),n=fi();let i=t.label;t.label&&Fx(t.label)&&(i=await kL(t.label.replace(Gx.lineBreakRegex,`
`),n));const a='<span class="'+(t.isNode?"nodeLabel":"edgeLabel")+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+i+"</span>";return r.html(KA(a,n)),fK(r,t.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}j(dK,"addHtmlLabel");var ASe=j(async(t,e,r,n)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),Ga(fi().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),_t.info("vertexText"+i);const s={isNode:n,label:$m(i).replace(/fa[blrs]?:fa-[\w-]+/g,o=>`<i class='${o.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await dK(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",e.replace("color:","fill:"));let a=[];typeof i=="string"?a=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?a=i:a=[];for(const o of a){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=o.trim(),s.appendChild(l)}return s}},"createLabel"),gg=ASe,Pp=j((t,e,r,n,i)=>["M",t+i,e,"H",t+r-i,"A",i,i,0,0,1,t+r,e+i,"V",e+n-i,"A",i,i,0,0,1,t+r-i,e+n,"H",t+i,"A",i,i,0,0,1,t,e+n-i,"V",e+i,"A",i,i,0,0,1,t+i,e,"Z"].join(" "),"createRoundedRectPathD"),pK=j(async(t,e)=>{_t.info("Creating subgraph rect for ",e.id,e);const r=fi(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:s,clusterBorder:a}=n,{labelStyles:o,nodeStyles:l,borderStyles:c,backgroundStyles:u}=fr(e),f=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),p=Ga(r.flowchart.htmlLabels),g=f.insert("g").attr("class","cluster-label "),y=await Op(g,e.label,{style:e.labelStyle,useHtmlLabels:p,isNode:!0});let x=y.getBBox();if(Ga(r.flowchart.htmlLabels)){const D=y.children[0],Q=Vn(y);x=D.getBoundingClientRect(),Q.attr("width",x.width),Q.attr("height",x.height)}const w=e.width<=x.width+e.padding?x.width+e.padding:e.width;e.width<=x.width+e.padding?e.diff=(w-e.width)/2-e.padding:e.diff=-e.padding;const S=e.height,B=e.x-w/2,F=e.y-S/2;_t.trace("Data ",e,JSON.stringify(e));let k;if(e.look==="handDrawn"){const D=lr.svg(f),Q=hr(e,{roughness:.7,fill:s,stroke:a,fillWeight:3,seed:i}),V=D.path(Pp(B,F,w,S,0),Q);k=f.insert(()=>(_t.debug("Rough node insert CXC",V),V),":first-child"),k.select("path:nth-child(2)").attr("style",c.join(";")),k.select("path").attr("style",u.join(";").replace("fill","stroke"))}else k=f.insert("rect",":first-child"),k.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",B).attr("y",F).attr("width",w).attr("height",S);const{subGraphTitleTopMargin:O}=nR(r);if(g.attr("transform",`translate(${e.x-x.width/2}, ${e.y-e.height/2+O})`),o){const D=g.select("span");D&&D.attr("style",o)}const R=k.node().getBBox();return e.offsetX=0,e.width=R.width,e.height=R.height,e.offsetY=x.height-e.padding/2,e.intersect=function(D){return zx(e,D)},{cluster:f,labelBBox:x}},"rect"),uSe=j((t,e)=>{const r=t.insert("g").attr("class","note-cluster").attr("id",e.id),n=r.insert("rect",":first-child"),i=0*e.padding,s=i/2;n.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-s).attr("y",e.y-e.height/2-s).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const a=n.node().getBBox();return e.width=a.width,e.height=a.height,e.intersect=function(o){return zx(e,o)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),hSe=j(async(t,e)=>{const r=fi(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:s,compositeBackground:a,compositeTitleBackground:o,nodeBorder:l}=n,c=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),u=c.insert("g",":first-child"),f=c.insert("g").attr("class","cluster-label");let p=c.append("rect");const g=f.node().appendChild(await gg(e.label,e.labelStyle,void 0,!0));let y=g.getBBox();if(Ga(r.flowchart.htmlLabels)){const V=g.children[0],re=Vn(g);y=V.getBoundingClientRect(),re.attr("width",y.width),re.attr("height",y.height)}const x=0*e.padding,w=x/2,S=(e.width<=y.width+e.padding?y.width+e.padding:e.width)+x;e.width<=y.width+e.padding?e.diff=(S-e.width)/2-e.padding:e.diff=-e.padding;const B=e.height+x,F=e.height+x-y.height-6,k=e.x-S/2,O=e.y-B/2;e.width=S;const R=e.y-e.height/2-w+y.height+2;let D;if(e.look==="handDrawn"){const V=e.cssClasses.includes("statediagram-cluster-alt"),re=lr.svg(c),P=e.rx||e.ry?re.path(Pp(k,O,S,B,10),{roughness:.7,fill:o,fillStyle:"solid",stroke:l,seed:i}):re.rectangle(k,O,S,B,{seed:i});D=c.insert(()=>P,":first-child");const H=re.rectangle(k,R,S,F,{fill:V?s:a,fillStyle:V?"hachure":"solid",stroke:l,seed:i});D=c.insert(()=>P,":first-child"),p=c.insert(()=>H)}else D=u.insert("rect",":first-child"),D.attr("class","outer").attr("x",k).attr("y",O).attr("width",S).attr("height",B).attr("data-look",e.look),p.attr("class","inner").attr("x",k).attr("y",R).attr("width",S).attr("height",F);f.attr("transform",`translate(${e.x-y.width/2}, ${O+1-(Ga(r.flowchart.htmlLabels)?0:3)})`);const Q=D.node().getBBox();return e.height=Q.height,e.offsetX=0,e.offsetY=y.height-e.padding/2,e.labelBBox=y,e.intersect=function(V){return zx(e,V)},{cluster:c,labelBBox:y}},"roundedWithTitle"),fSe=j(async(t,e)=>{_t.info("Creating subgraph rect for ",e.id,e);const r=fi(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:s,clusterBorder:a}=n,{labelStyles:o,nodeStyles:l,borderStyles:c,backgroundStyles:u}=fr(e),f=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),p=Ga(r.flowchart.htmlLabels),g=f.insert("g").attr("class","cluster-label "),y=await Op(g,e.label,{style:e.labelStyle,useHtmlLabels:p,isNode:!0,width:e.width});let x=y.getBBox();if(Ga(r.flowchart.htmlLabels)){const D=y.children[0],Q=Vn(y);x=D.getBoundingClientRect(),Q.attr("width",x.width),Q.attr("height",x.height)}const w=e.width<=x.width+e.padding?x.width+e.padding:e.width;e.width<=x.width+e.padding?e.diff=(w-e.width)/2-e.padding:e.diff=-e.padding;const S=e.height,B=e.x-w/2,F=e.y-S/2;_t.trace("Data ",e,JSON.stringify(e));let k;if(e.look==="handDrawn"){const D=lr.svg(f),Q=hr(e,{roughness:.7,fill:s,stroke:a,fillWeight:4,seed:i}),V=D.path(Pp(B,F,w,S,e.rx),Q);k=f.insert(()=>(_t.debug("Rough node insert CXC",V),V),":first-child"),k.select("path:nth-child(2)").attr("style",c.join(";")),k.select("path").attr("style",u.join(";").replace("fill","stroke"))}else k=f.insert("rect",":first-child"),k.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",B).attr("y",F).attr("width",w).attr("height",S);const{subGraphTitleTopMargin:O}=nR(r);if(g.attr("transform",`translate(${e.x-x.width/2}, ${e.y-e.height/2+O})`),o){const D=g.select("span");D&&D.attr("style",o)}const R=k.node().getBBox();return e.offsetX=0,e.width=R.width,e.height=R.height,e.offsetY=x.height-e.padding/2,e.intersect=function(D){return zx(e,D)},{cluster:f,labelBBox:x}},"kanbanSection"),dSe=j((t,e)=>{const r=fi(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:s}=n,a=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),o=a.insert("g",":first-child"),l=0*e.padding,c=e.width+l;e.diff=-e.padding;const u=e.height+l,f=e.x-c/2,p=e.y-u/2;e.width=c;let g;if(e.look==="handDrawn"){const w=lr.svg(a).rectangle(f,p,c,u,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:i});g=a.insert(()=>w,":first-child")}else g=o.insert("rect",":first-child"),g.attr("class","divider").attr("x",f).attr("y",p).attr("width",c).attr("height",u).attr("data-look",e.look);const y=g.node().getBBox();return e.height=y.height,e.offsetX=0,e.offsetY=0,e.intersect=function(x){return zx(e,x)},{cluster:a,labelBBox:{}}},"divider"),pSe=pK,gSe={rect:pK,squareRect:pSe,roundedWithTitle:hSe,noteGroup:uSe,divider:dSe,kanbanSection:fSe},gK=new Map,mSe=j(async(t,e)=>{const r=e.shape||"rect",n=await gSe[r](t,e);return gK.set(e.id,n),n},"insertCluster"),ORe=j(()=>{gK=new Map},"clear");function mK(t,e){return t.intersect(e)}j(mK,"intersectNode");var ySe=mK;function yK(t,e,r,n){var i=t.x,s=t.y,a=i-n.x,o=s-n.y,l=Math.sqrt(e*e*o*o+r*r*a*a),c=Math.abs(e*r*a/l);n.x<i&&(c=-c);var u=Math.abs(e*r*o/l);return n.y<s&&(u=-u),{x:i+c,y:s+u}}j(yK,"intersectEllipse");var xK=yK;function vK(t,e,r){return xK(t,e,e,r)}j(vK,"intersectCircle");var xSe=vK;function wK(t,e,r,n){{const i=e.y-t.y,s=t.x-e.x,a=e.x*t.y-t.x*e.y,o=i*r.x+s*r.y+a,l=i*n.x+s*n.y+a,c=1e-6;if(o!==0&&l!==0&&Fk(o,l))return;const u=n.y-r.y,f=r.x-n.x,p=n.x*r.y-r.x*n.y,g=u*t.x+f*t.y+p,y=u*e.x+f*e.y+p;if(Math.abs(g)<c&&Math.abs(y)<c&&Fk(g,y))return;const x=i*f-u*s;if(x===0)return;const w=Math.abs(x/2);let S=s*p-f*a;const B=S<0?(S-w)/x:(S+w)/x;S=u*a-i*p;const F=S<0?(S-w)/x:(S+w)/x;return{x:B,y:F}}}j(wK,"intersectLine");function Fk(t,e){return t*e>0}j(Fk,"sameSign");var vSe=wK;function bK(t,e,r){let n=t.x,i=t.y,s=[],a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(u){a=Math.min(a,u.x),o=Math.min(o,u.y)}):(a=Math.min(a,e.x),o=Math.min(o,e.y));let l=n-t.width/2-a,c=i-t.height/2-o;for(let u=0;u<e.length;u++){let f=e[u],p=e[u<e.length-1?u+1:0],g=vSe(t,r,{x:l+f.x,y:c+f.y},{x:l+p.x,y:c+p.y});g&&s.push(g)}return s.length?(s.length>1&&s.sort(function(u,f){let p=u.x-r.x,g=u.y-r.y,y=Math.sqrt(p*p+g*g),x=f.x-r.x,w=f.y-r.y,S=Math.sqrt(x*x+w*w);return y<S?-1:y===S?0:1}),s[0]):t}j(bK,"intersectPolygon");var wSe=bK,Zt={node:ySe,circle:xSe,ellipse:xK,polygon:wSe,rect:zx};function CK(t,e){const{labelStyles:r}=fr(e);e.labelStyle=r;const n=Mr(e);let i=n;n||(i="anchor");const s=t.insert("g").attr("class",i).attr("id",e.domId||e.id),a=1,{cssStyles:o}=e,l=lr.svg(s),c=hr(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(c.roughness=0);const u=l.circle(0,0,a*2,c),f=s.insert(()=>u,":first-child");return f.attr("class","anchor").attr("style",hl(o)),pr(e,f),e.intersect=function(p){return _t.info("Circle intersect",e,a,p),Zt.circle(e,a,p)},s}j(CK,"anchor");function Ik(t,e,r,n,i,s,a){const l=(t+r)/2,c=(e+n)/2,u=Math.atan2(n-e,r-t),f=(r-t)/2,p=(n-e)/2,g=f/i,y=p/s,x=Math.sqrt(g**2+y**2);if(x>1)throw new Error("The given radii are too small to create an arc between the points.");const w=Math.sqrt(1-x**2),S=l+w*s*Math.sin(u)*(a?-1:1),B=c-w*i*Math.cos(u)*(a?-1:1),F=Math.atan2((e-B)/s,(t-S)/i);let O=Math.atan2((n-B)/s,(r-S)/i)-F;a&&O<0&&(O+=2*Math.PI),!a&&O>0&&(O-=2*Math.PI);const R=[];for(let D=0;D<20;D++){const Q=D/19,V=F+Q*O,re=S+i*Math.cos(V),P=B+s*Math.sin(V);R.push({x:re,y:P})}return R}j(Ik,"generateArcPoints");async function SK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await jr(t,e,Mr(e)),a=s.width+e.padding+20,o=s.height+e.padding,l=o/2,c=l/(2.5+o/50),{cssStyles:u}=e,f=[{x:a/2,y:-o/2},{x:-a/2,y:-o/2},...Ik(-a/2,-o/2,-a/2,o/2,c,l,!1),{x:a/2,y:o/2},...Ik(a/2,o/2,a/2,-o/2,c,l,!0)],p=lr.svg(i),g=hr(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=Bn(f),x=p.path(y,g),w=i.insert(()=>x,":first-child");return w.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",u),n&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",n),w.attr("transform",`translate(${c/2}, 0)`),pr(e,w),e.intersect=function(S){return Zt.polygon(e,f,S)},i}j(SK,"bowTieRect");function Hp(t,e,r,n){return t.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}j(Hp,"insertPolygonShape");async function _K(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await jr(t,e,Mr(e)),a=s.height+e.padding,o=12,l=s.width+e.padding+o,c=0,u=l,f=-a,p=0,g=[{x:c+o,y:f},{x:u,y:f},{x:u,y:p},{x:c,y:p},{x:c,y:f+o},{x:c+o,y:f}];let y;const{cssStyles:x}=e;if(e.look==="handDrawn"){const w=lr.svg(i),S=hr(e,{}),B=Bn(g),F=w.path(B,S);y=i.insert(()=>F,":first-child").attr("transform",`translate(${-l/2}, ${a/2})`),x&&y.attr("style",x)}else y=Hp(i,l,a,g);return n&&y.attr("style",n),pr(e,y),e.intersect=function(w){return Zt.polygon(e,g,w)},i}j(_K,"card");function EK(t,e){const{nodeStyles:r}=fr(e);e.label="";const n=t.insert("g").attr("class",Mr(e)).attr("id",e.domId??e.id),{cssStyles:i}=e,s=Math.max(28,e.width??0),a=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],o=lr.svg(n),l=hr(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=Bn(a),u=o.path(c,l),f=n.insert(()=>u,":first-child");return i&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",i),r&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",r),e.width=28,e.height=28,e.intersect=function(p){return Zt.polygon(e,a,p)},n}j(EK,"choice");async function ER(t,e,r){const{labelStyles:n,nodeStyles:i}=fr(e);e.labelStyle=n;const{shapeSvg:s,bbox:a,halfPadding:o}=await jr(t,e,Mr(e)),l=(r==null?void 0:r.padding)??o,c=a.width/2+l;let u;const{cssStyles:f}=e;if(e.look==="handDrawn"){const p=lr.svg(s),g=hr(e,{}),y=p.circle(0,0,c*2,g);u=s.insert(()=>y,":first-child"),u.attr("class","basic label-container").attr("style",hl(f))}else u=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",i).attr("r",c).attr("cx",0).attr("cy",0);return pr(e,u),e.calcIntersect=function(p,g){const y=p.width/2;return Zt.circle(p,y,g)},e.intersect=function(p){return _t.info("Circle intersect",e,c,p),Zt.circle(e,c,p)},s}j(ER,"circle");function BK(t){const e=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=t*2,i={x:n/2*e,y:n/2*r},s={x:-(n/2)*e,y:n/2*r},a={x:-(n/2)*e,y:-(n/2)*r},o={x:n/2*e,y:-(n/2)*r};return`M ${s.x},${s.y} L ${o.x},${o.y}
                   M ${i.x},${i.y} L ${a.x},${a.y}`}j(BK,"createLine");function TK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r,e.label="";const i=t.insert("g").attr("class",Mr(e)).attr("id",e.domId??e.id),s=Math.max(30,(e==null?void 0:e.width)??0),{cssStyles:a}=e,o=lr.svg(i),l=hr(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=o.circle(0,0,s*2,l),u=BK(s),f=o.path(u,l),p=i.insert(()=>c,":first-child");return p.insert(()=>f),a&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",a),n&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",n),pr(e,p),e.intersect=function(g){return _t.info("crossedCircle intersect",e,{radius:s,point:g}),Zt.circle(e,s,g)},i}j(TK,"crossedCircle");function ed(t,e,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,u=(s*Math.PI/180-o)/(n-1);for(let f=0;f<n;f++){const p=o+f*u,g=t+r*Math.cos(p),y=e+r*Math.sin(p);a.push({x:-g,y:-y})}return a}j(ed,"generateCirclePoints");async function NK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await jr(t,e,Mr(e)),o=s.width+(e.padding??0),l=s.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:u}=e,f=[...ed(o/2,-l/2,c,30,-90,0),{x:-o/2-c,y:c},...ed(o/2+c*2,-c,c,20,-180,-270),...ed(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:-l/2},...ed(o/2,l/2,c,20,0,90)],p=[{x:o/2,y:-l/2-c},{x:-o/2,y:-l/2-c},...ed(o/2,-l/2,c,20,-90,0),{x:-o/2-c,y:-c},...ed(o/2+o*.1,-c,c,20,-180,-270),...ed(o/2+o*.1,c,c,20,-90,-180),{x:-o/2-c,y:l/2},...ed(o/2,l/2,c,20,0,90),{x:-o/2,y:l/2+c},{x:o/2,y:l/2+c}],g=lr.svg(i),y=hr(e,{fill:"none"});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const w=Bn(f).replace("Z",""),S=g.path(w,y),B=Bn(p),F=g.path(B,{...y}),k=i.insert("g",":first-child");return k.insert(()=>F,":first-child").attr("stroke-opacity",0),k.insert(()=>S,":first-child"),k.attr("class","text"),u&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",u),n&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(${c}, 0)`),a.attr("transform",`translate(${-o/2+c-(s.x-(s.left??0))},${-l/2+(e.padding??0)/2-(s.y-(s.top??0))})`),pr(e,k),e.intersect=function(O){return Zt.polygon(e,p,O)},i}j(NK,"curlyBraceLeft");function td(t,e,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,u=(s*Math.PI/180-o)/(n-1);for(let f=0;f<n;f++){const p=o+f*u,g=t+r*Math.cos(p),y=e+r*Math.sin(p);a.push({x:g,y})}return a}j(td,"generateCirclePoints");async function FK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await jr(t,e,Mr(e)),o=s.width+(e.padding??0),l=s.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:u}=e,f=[...td(o/2,-l/2,c,20,-90,0),{x:o/2+c,y:-c},...td(o/2+c*2,-c,c,20,-180,-270),...td(o/2+c*2,c,c,20,-90,-180),{x:o/2+c,y:l/2},...td(o/2,l/2,c,20,0,90)],p=[{x:-o/2,y:-l/2-c},{x:o/2,y:-l/2-c},...td(o/2,-l/2,c,20,-90,0),{x:o/2+c,y:-c},...td(o/2+c*2,-c,c,20,-180,-270),...td(o/2+c*2,c,c,20,-90,-180),{x:o/2+c,y:l/2},...td(o/2,l/2,c,20,0,90),{x:o/2,y:l/2+c},{x:-o/2,y:l/2+c}],g=lr.svg(i),y=hr(e,{fill:"none"});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const w=Bn(f).replace("Z",""),S=g.path(w,y),B=Bn(p),F=g.path(B,{...y}),k=i.insert("g",":first-child");return k.insert(()=>F,":first-child").attr("stroke-opacity",0),k.insert(()=>S,":first-child"),k.attr("class","text"),u&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",u),n&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(${-c}, 0)`),a.attr("transform",`translate(${-o/2+(e.padding??0)/2-(s.x-(s.left??0))},${-l/2+(e.padding??0)/2-(s.y-(s.top??0))})`),pr(e,k),e.intersect=function(O){return Zt.polygon(e,p,O)},i}j(FK,"curlyBraceRight");function wo(t,e,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,u=(s*Math.PI/180-o)/(n-1);for(let f=0;f<n;f++){const p=o+f*u,g=t+r*Math.cos(p),y=e+r*Math.sin(p);a.push({x:-g,y:-y})}return a}j(wo,"generateCirclePoints");async function IK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await jr(t,e,Mr(e)),o=s.width+(e.padding??0),l=s.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:u}=e,f=[...wo(o/2,-l/2,c,30,-90,0),{x:-o/2-c,y:c},...wo(o/2+c*2,-c,c,20,-180,-270),...wo(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:-l/2},...wo(o/2,l/2,c,20,0,90)],p=[...wo(-o/2+c+c/2,-l/2,c,20,-90,-180),{x:o/2-c/2,y:c},...wo(-o/2-c/2,-c,c,20,0,90),...wo(-o/2-c/2,c,c,20,-90,0),{x:o/2-c/2,y:-c},...wo(-o/2+c+c/2,l/2,c,30,-180,-270)],g=[{x:o/2,y:-l/2-c},{x:-o/2,y:-l/2-c},...wo(o/2,-l/2,c,20,-90,0),{x:-o/2-c,y:-c},...wo(o/2+c*2,-c,c,20,-180,-270),...wo(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:l/2},...wo(o/2,l/2,c,20,0,90),{x:-o/2,y:l/2+c},{x:o/2-c-c/2,y:l/2+c},...wo(-o/2+c+c/2,-l/2,c,20,-90,-180),{x:o/2-c/2,y:c},...wo(-o/2-c/2,-c,c,20,0,90),...wo(-o/2-c/2,c,c,20,-90,0),{x:o/2-c/2,y:-c},...wo(-o/2+c+c/2,l/2,c,30,-180,-270)],y=lr.svg(i),x=hr(e,{fill:"none"});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=Bn(f).replace("Z",""),B=y.path(S,x),k=Bn(p).replace("Z",""),O=y.path(k,x),R=Bn(g),D=y.path(R,{...x}),Q=i.insert("g",":first-child");return Q.insert(()=>D,":first-child").attr("stroke-opacity",0),Q.insert(()=>B,":first-child"),Q.insert(()=>O,":first-child"),Q.attr("class","text"),u&&e.look!=="handDrawn"&&Q.selectAll("path").attr("style",u),n&&e.look!=="handDrawn"&&Q.selectAll("path").attr("style",n),Q.attr("transform",`translate(${c-c/4}, 0)`),a.attr("transform",`translate(${-o/2+(e.padding??0)/2-(s.x-(s.left??0))},${-l/2+(e.padding??0)/2-(s.y-(s.top??0))})`),pr(e,Q),e.intersect=function(V){return Zt.polygon(e,g,V)},i}j(IK,"curlyBraces");async function kK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await jr(t,e,Mr(e)),a=80,o=20,l=Math.max(a,(s.width+(e.padding??0)*2)*1.25,(e==null?void 0:e.width)??0),c=Math.max(o,s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=c/2,{cssStyles:f}=e,p=lr.svg(i),g=hr(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=l,x=c,w=y-u,S=x/4,B=[{x:w,y:0},{x:S,y:0},{x:0,y:x/2},{x:S,y:x},{x:w,y:x},...Sw(-w,-x/2,u,50,270,90)],F=Bn(B),k=p.path(F,g),O=i.insert(()=>k,":first-child");return O.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&O.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&O.selectChildren("path").attr("style",n),O.attr("transform",`translate(${-l/2}, ${-c/2})`),pr(e,O),e.intersect=function(R){return Zt.polygon(e,B,R)},i}j(kK,"curvedTrapezoid");var bSe=j((t,e,r,n,i,s)=>[`M${t},${e+s}`,`a${i},${s} 0,0,0 ${r},0`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),CSe=j((t,e,r,n,i,s)=>[`M${t},${e+s}`,`M${t+r},${e+s}`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),SSe=j((t,e,r,n,i,s)=>[`M${t-r/2},${-n/2}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function LK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await jr(t,e,Mr(e)),o=Math.max(s.width+e.padding,e.width??0),l=o/2,c=l/(2.5+o/50),u=Math.max(s.height+c+e.padding,e.height??0);let f;const{cssStyles:p}=e;if(e.look==="handDrawn"){const g=lr.svg(i),y=CSe(0,0,o,u,l,c),x=SSe(0,c,o,u,l,c),w=g.path(y,hr(e,{})),S=g.path(x,hr(e,{fill:"none"}));f=i.insert(()=>S,":first-child"),f=i.insert(()=>w,":first-child"),f.attr("class","basic label-container"),p&&f.attr("style",p)}else{const g=bSe(0,0,o,u,l,c);f=i.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",hl(p)).attr("style",n)}return f.attr("label-offset-y",c),f.attr("transform",`translate(${-o/2}, ${-(u/2+c)})`),pr(e,f),a.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(e.padding??0)/1.5-(s.y-(s.top??0))})`),e.intersect=function(g){const y=Zt.rect(e,g),x=y.x-(e.x??0);if(l!=0&&(Math.abs(x)<(e.width??0)/2||Math.abs(x)==(e.width??0)/2&&Math.abs(y.y-(e.y??0))>(e.height??0)/2-c)){let w=c*c*(1-x*x/(l*l));w>0&&(w=Math.sqrt(w)),w=c-w,g.y-(e.y??0)>0&&(w=-w),y.y+=w}return y},i}j(LK,"cylinder");async function RK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await jr(t,e,Mr(e)),o=s.width+e.padding,l=s.height+e.padding,c=l*.2,u=-o/2,f=-l/2-c/2,{cssStyles:p}=e,g=lr.svg(i),y=hr(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=[{x:u,y:f+c},{x:-u,y:f+c},{x:-u,y:-f},{x:u,y:-f},{x:u,y:f},{x:-u,y:f},{x:-u,y:f+c}],w=g.polygon(x.map(B=>[B.x,B.y]),y),S=i.insert(()=>w,":first-child");return S.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",n),a.attr("transform",`translate(${u+(e.padding??0)/2-(s.x-(s.left??0))}, ${f+c+(e.padding??0)/2-(s.y-(s.top??0))})`),pr(e,S),e.intersect=function(B){return Zt.rect(e,B)},i}j(RK,"dividedRectangle");async function MK(t,e){var p,g;const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a}=await jr(t,e,Mr(e)),l=s.width/2+a+5,c=s.width/2+a;let u;const{cssStyles:f}=e;if(e.look==="handDrawn"){const y=lr.svg(i),x=hr(e,{roughness:.2,strokeWidth:2.5}),w=hr(e,{roughness:.2,strokeWidth:1.5}),S=y.circle(0,0,l*2,x),B=y.circle(0,0,c*2,w);u=i.insert("g",":first-child"),u.attr("class",hl(e.cssClasses)).attr("style",hl(f)),(p=u.node())==null||p.appendChild(S),(g=u.node())==null||g.appendChild(B)}else{u=i.insert("g",":first-child");const y=u.insert("circle",":first-child"),x=u.insert("circle");u.attr("class","basic label-container").attr("style",n),y.attr("class","outer-circle").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0),x.attr("class","inner-circle").attr("style",n).attr("r",c).attr("cx",0).attr("cy",0)}return pr(e,u),e.intersect=function(y){return _t.info("DoubleCircle intersect",e,l,y),Zt.circle(e,l,y)},i}j(MK,"doublecircle");function UK(t,e,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=fr(e);e.label="",e.labelStyle=n;const s=t.insert("g").attr("class",Mr(e)).attr("id",e.domId??e.id),a=7,{cssStyles:o}=e,l=lr.svg(s),{nodeBorder:c}=r,u=hr(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(u.roughness=0);const f=l.circle(0,0,a*2,u),p=s.insert(()=>f,":first-child");return p.selectAll("path").attr("style",`fill: ${c} !important;`),o&&o.length>0&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",o),i&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",i),pr(e,p),e.intersect=function(g){return _t.info("filledCircle intersect",e,{radius:a,point:g}),Zt.circle(e,a,g)},s}j(UK,"filledCircle");async function DK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await jr(t,e,Mr(e)),o=s.width+(e.padding??0),l=o+s.height,c=o+s.height,u=[{x:0,y:-l},{x:c,y:-l},{x:c/2,y:0}],{cssStyles:f}=e,p=lr.svg(i),g=hr(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=Bn(u),x=p.path(y,g),w=i.insert(()=>x,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return f&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",n),e.width=o,e.height=l,pr(e,w),a.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-l/2+(e.padding??0)/2+(s.y-(s.top??0))})`),e.intersect=function(S){return _t.info("Triangle intersect",e,u,S),Zt.polygon(e,u,S)},i}j(DK,"flippedTriangle");function OK(t,e,{dir:r,config:{state:n,themeVariables:i}}){const{nodeStyles:s}=fr(e);e.label="";const a=t.insert("g").attr("class",Mr(e)).attr("id",e.domId??e.id),{cssStyles:o}=e;let l=Math.max(70,(e==null?void 0:e.width)??0),c=Math.max(10,(e==null?void 0:e.height)??0);r==="LR"&&(l=Math.max(10,(e==null?void 0:e.width)??0),c=Math.max(70,(e==null?void 0:e.height)??0));const u=-1*l/2,f=-1*c/2,p=lr.svg(a),g=hr(e,{stroke:i.lineColor,fill:i.lineColor});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=p.rectangle(u,f,l,c,g),x=a.insert(()=>y,":first-child");o&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",o),s&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",s),pr(e,x);const w=(n==null?void 0:n.padding)??0;return e.width&&e.height&&(e.width+=w/2||0,e.height+=w/2||0),e.intersect=function(S){return Zt.rect(e,S)},a}j(OK,"forkJoin");async function PK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const i=80,s=50,{shapeSvg:a,bbox:o}=await jr(t,e,Mr(e)),l=Math.max(i,o.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(s,o.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=c/2,{cssStyles:f}=e,p=lr.svg(a),g=hr(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=[{x:-l/2,y:-c/2},{x:l/2-u,y:-c/2},...Sw(-l/2+u,0,u,50,90,270),{x:l/2-u,y:c/2},{x:-l/2,y:c/2}],x=Bn(y),w=p.path(x,g),S=a.insert(()=>w,":first-child");return S.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",n),pr(e,S),e.intersect=function(B){return _t.info("Pill intersect",e,{radius:u,point:B}),Zt.polygon(e,y,B)},a}j(PK,"halfRoundedRectangle");async function HK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await jr(t,e,Mr(e)),a=s.height+(e.padding??0),o=s.width+(e.padding??0)*2.5,{cssStyles:l}=e,c=lr.svg(i),u=hr(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");let f=o/2;const p=f/6;f=f+p;const g=a/2,y=g/2,x=f-y,w=[{x:-x,y:-g},{x:0,y:-g},{x,y:-g},{x:f,y:0},{x,y:g},{x:0,y:g},{x:-x,y:g},{x:-f,y:0}],S=Bn(w),B=c.path(S,u),F=i.insert(()=>B,":first-child");return F.attr("class","basic label-container"),l&&e.look!=="handDrawn"&&F.selectChildren("path").attr("style",l),n&&e.look!=="handDrawn"&&F.selectChildren("path").attr("style",n),e.width=o,e.height=a,pr(e,F),e.intersect=function(k){return Zt.polygon(e,w,k)},i}j(HK,"hexagon");async function QK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.label="",e.labelStyle=r;const{shapeSvg:i}=await jr(t,e,Mr(e)),s=Math.max(30,(e==null?void 0:e.width)??0),a=Math.max(30,(e==null?void 0:e.height)??0),{cssStyles:o}=e,l=lr.svg(i),c=hr(e,{});e.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const u=[{x:0,y:0},{x:s,y:0},{x:0,y:a},{x:s,y:a}],f=Bn(u),p=l.path(f,c),g=i.insert(()=>p,":first-child");return g.attr("class","basic label-container"),o&&e.look!=="handDrawn"&&g.selectChildren("path").attr("style",o),n&&e.look!=="handDrawn"&&g.selectChildren("path").attr("style",n),g.attr("transform",`translate(${-s/2}, ${-a/2})`),pr(e,g),e.intersect=function(y){return _t.info("Pill intersect",e,{points:u}),Zt.polygon(e,u,y)},i}j(QK,"hourglass");async function jK(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=fr(e);e.labelStyle=i;const s=e.assetHeight??48,a=e.assetWidth??48,o=Math.max(s,a),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:c,bbox:u,label:f}=await jr(t,e,"icon-shape default"),p=e.pos==="t",g=o,y=o,{nodeBorder:x}=r,{stylesMap:w}=Vx(e),S=-y/2,B=-g/2,F=e.label?8:0,k=lr.svg(c),O=hr(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const R=k.rectangle(S,B,y,g,O),D=Math.max(y,u.width),Q=g+u.height+F,V=k.rectangle(-D/2,-Q/2,D,Q,{...O,fill:"transparent",stroke:"none"}),re=c.insert(()=>R,":first-child"),P=c.insert(()=>V);if(e.icon){const H=c.append("g");H.html(`<g>${await NC(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const q=H.node().getBBox(),Z=q.width,se=q.height,X=q.x,ee=q.y;H.attr("transform",`translate(${-Z/2-X},${p?u.height/2+F/2-se/2-ee:-u.height/2-F/2-se/2-ee})`),H.attr("style",`color: ${w.get("stroke")??x};`)}return f.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${p?-Q/2:Q/2-u.height})`),re.attr("transform",`translate(0,${p?u.height/2+F/2:-u.height/2-F/2})`),pr(e,P),e.intersect=function(H){if(_t.info("iconSquare intersect",e,H),!e.label)return Zt.rect(e,H);const q=e.x??0,Z=e.y??0,se=e.height??0;let X=[];return p?X=[{x:q-u.width/2,y:Z-se/2},{x:q+u.width/2,y:Z-se/2},{x:q+u.width/2,y:Z-se/2+u.height+F},{x:q+y/2,y:Z-se/2+u.height+F},{x:q+y/2,y:Z+se/2},{x:q-y/2,y:Z+se/2},{x:q-y/2,y:Z-se/2+u.height+F},{x:q-u.width/2,y:Z-se/2+u.height+F}]:X=[{x:q-y/2,y:Z-se/2},{x:q+y/2,y:Z-se/2},{x:q+y/2,y:Z-se/2+g},{x:q+u.width/2,y:Z-se/2+g},{x:q+u.width/2/2,y:Z+se/2},{x:q-u.width/2,y:Z+se/2},{x:q-u.width/2,y:Z-se/2+g},{x:q-y/2,y:Z-se/2+g}],Zt.polygon(e,X,H)},c}j(jK,"icon");async function GK(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=fr(e);e.labelStyle=i;const s=e.assetHeight??48,a=e.assetWidth??48,o=Math.max(s,a),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:c,bbox:u,label:f}=await jr(t,e,"icon-shape default"),p=20,g=e.label?8:0,y=e.pos==="t",{nodeBorder:x,mainBkg:w}=r,{stylesMap:S}=Vx(e),B=lr.svg(c),F=hr(e,{});e.look!=="handDrawn"&&(F.roughness=0,F.fillStyle="solid");const k=S.get("fill");F.stroke=k??w;const O=c.append("g");e.icon&&O.html(`<g>${await NC(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const R=O.node().getBBox(),D=R.width,Q=R.height,V=R.x,re=R.y,P=Math.max(D,Q)*Math.SQRT2+p*2,H=B.circle(0,0,P,F),q=Math.max(P,u.width),Z=P+u.height+g,se=B.rectangle(-q/2,-Z/2,q,Z,{...F,fill:"transparent",stroke:"none"}),X=c.insert(()=>H,":first-child"),ee=c.insert(()=>se);return O.attr("transform",`translate(${-D/2-V},${y?u.height/2+g/2-Q/2-re:-u.height/2-g/2-Q/2-re})`),O.attr("style",`color: ${S.get("stroke")??x};`),f.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${y?-Z/2:Z/2-u.height})`),X.attr("transform",`translate(0,${y?u.height/2+g/2:-u.height/2-g/2})`),pr(e,ee),e.intersect=function(te){return _t.info("iconSquare intersect",e,te),Zt.rect(e,te)},c}j(GK,"iconCircle");async function VK(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=fr(e);e.labelStyle=i;const s=e.assetHeight??48,a=e.assetWidth??48,o=Math.max(s,a),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:c,bbox:u,halfPadding:f,label:p}=await jr(t,e,"icon-shape default"),g=e.pos==="t",y=o+f*2,x=o+f*2,{nodeBorder:w,mainBkg:S}=r,{stylesMap:B}=Vx(e),F=-x/2,k=-y/2,O=e.label?8:0,R=lr.svg(c),D=hr(e,{});e.look!=="handDrawn"&&(D.roughness=0,D.fillStyle="solid");const Q=B.get("fill");D.stroke=Q??S;const V=R.path(Pp(F,k,x,y,5),D),re=Math.max(x,u.width),P=y+u.height+O,H=R.rectangle(-re/2,-P/2,re,P,{...D,fill:"transparent",stroke:"none"}),q=c.insert(()=>V,":first-child").attr("class","icon-shape2"),Z=c.insert(()=>H);if(e.icon){const se=c.append("g");se.html(`<g>${await NC(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const X=se.node().getBBox(),ee=X.width,te=X.height,Ce=X.x,ke=X.y;se.attr("transform",`translate(${-ee/2-Ce},${g?u.height/2+O/2-te/2-ke:-u.height/2-O/2-te/2-ke})`),se.attr("style",`color: ${B.get("stroke")??w};`)}return p.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${g?-P/2:P/2-u.height})`),q.attr("transform",`translate(0,${g?u.height/2+O/2:-u.height/2-O/2})`),pr(e,Z),e.intersect=function(se){if(_t.info("iconSquare intersect",e,se),!e.label)return Zt.rect(e,se);const X=e.x??0,ee=e.y??0,te=e.height??0;let Ce=[];return g?Ce=[{x:X-u.width/2,y:ee-te/2},{x:X+u.width/2,y:ee-te/2},{x:X+u.width/2,y:ee-te/2+u.height+O},{x:X+x/2,y:ee-te/2+u.height+O},{x:X+x/2,y:ee+te/2},{x:X-x/2,y:ee+te/2},{x:X-x/2,y:ee-te/2+u.height+O},{x:X-u.width/2,y:ee-te/2+u.height+O}]:Ce=[{x:X-x/2,y:ee-te/2},{x:X+x/2,y:ee-te/2},{x:X+x/2,y:ee-te/2+y},{x:X+u.width/2,y:ee-te/2+y},{x:X+u.width/2/2,y:ee+te/2},{x:X-u.width/2,y:ee+te/2},{x:X-u.width/2,y:ee-te/2+y},{x:X-x/2,y:ee-te/2+y}],Zt.polygon(e,Ce,se)},c}j(VK,"iconRounded");async function $K(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=fr(e);e.labelStyle=i;const s=e.assetHeight??48,a=e.assetWidth??48,o=Math.max(s,a),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:c,bbox:u,halfPadding:f,label:p}=await jr(t,e,"icon-shape default"),g=e.pos==="t",y=o+f*2,x=o+f*2,{nodeBorder:w,mainBkg:S}=r,{stylesMap:B}=Vx(e),F=-x/2,k=-y/2,O=e.label?8:0,R=lr.svg(c),D=hr(e,{});e.look!=="handDrawn"&&(D.roughness=0,D.fillStyle="solid");const Q=B.get("fill");D.stroke=Q??S;const V=R.path(Pp(F,k,x,y,.1),D),re=Math.max(x,u.width),P=y+u.height+O,H=R.rectangle(-re/2,-P/2,re,P,{...D,fill:"transparent",stroke:"none"}),q=c.insert(()=>V,":first-child"),Z=c.insert(()=>H);if(e.icon){const se=c.append("g");se.html(`<g>${await NC(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const X=se.node().getBBox(),ee=X.width,te=X.height,Ce=X.x,ke=X.y;se.attr("transform",`translate(${-ee/2-Ce},${g?u.height/2+O/2-te/2-ke:-u.height/2-O/2-te/2-ke})`),se.attr("style",`color: ${B.get("stroke")??w};`)}return p.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${g?-P/2:P/2-u.height})`),q.attr("transform",`translate(0,${g?u.height/2+O/2:-u.height/2-O/2})`),pr(e,Z),e.intersect=function(se){if(_t.info("iconSquare intersect",e,se),!e.label)return Zt.rect(e,se);const X=e.x??0,ee=e.y??0,te=e.height??0;let Ce=[];return g?Ce=[{x:X-u.width/2,y:ee-te/2},{x:X+u.width/2,y:ee-te/2},{x:X+u.width/2,y:ee-te/2+u.height+O},{x:X+x/2,y:ee-te/2+u.height+O},{x:X+x/2,y:ee+te/2},{x:X-x/2,y:ee+te/2},{x:X-x/2,y:ee-te/2+u.height+O},{x:X-u.width/2,y:ee-te/2+u.height+O}]:Ce=[{x:X-x/2,y:ee-te/2},{x:X+x/2,y:ee-te/2},{x:X+x/2,y:ee-te/2+y},{x:X+u.width/2,y:ee-te/2+y},{x:X+u.width/2/2,y:ee+te/2},{x:X-u.width/2,y:ee+te/2},{x:X-u.width/2,y:ee-te/2+y},{x:X-x/2,y:ee-te/2+y}],Zt.polygon(e,Ce,se)},c}j($K,"iconSquare");async function qK(t,e,{config:{flowchart:r}}){const n=new Image;n.src=(e==null?void 0:e.img)??"",await n.decode();const i=Number(n.naturalWidth.toString().replace("px","")),s=Number(n.naturalHeight.toString().replace("px",""));e.imageAspectRatio=i/s;const{labelStyles:a}=fr(e);e.labelStyle=a;const o=r==null?void 0:r.wrappingWidth;e.defaultWidth=r==null?void 0:r.wrappingWidth;const l=Math.max(e.label?o??0:0,(e==null?void 0:e.assetWidth)??i),c=e.constraint==="on"&&e!=null&&e.assetHeight?e.assetHeight*e.imageAspectRatio:l,u=e.constraint==="on"?c/e.imageAspectRatio:(e==null?void 0:e.assetHeight)??s;e.width=Math.max(c,o??0);const{shapeSvg:f,bbox:p,label:g}=await jr(t,e,"image-shape default"),y=e.pos==="t",x=-c/2,w=-u/2,S=e.label?8:0,B=lr.svg(f),F=hr(e,{});e.look!=="handDrawn"&&(F.roughness=0,F.fillStyle="solid");const k=B.rectangle(x,w,c,u,F),O=Math.max(c,p.width),R=u+p.height+S,D=B.rectangle(-O/2,-R/2,O,R,{...F,fill:"none",stroke:"none"}),Q=f.insert(()=>k,":first-child"),V=f.insert(()=>D);if(e.img){const re=f.append("image");re.attr("href",e.img),re.attr("width",c),re.attr("height",u),re.attr("preserveAspectRatio","none"),re.attr("transform",`translate(${-c/2},${y?R/2-u:-R/2})`)}return g.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${y?-u/2-p.height/2-S/2:u/2-p.height/2+S/2})`),Q.attr("transform",`translate(0,${y?p.height/2+S/2:-p.height/2-S/2})`),pr(e,V),e.intersect=function(re){if(_t.info("iconSquare intersect",e,re),!e.label)return Zt.rect(e,re);const P=e.x??0,H=e.y??0,q=e.height??0;let Z=[];return y?Z=[{x:P-p.width/2,y:H-q/2},{x:P+p.width/2,y:H-q/2},{x:P+p.width/2,y:H-q/2+p.height+S},{x:P+c/2,y:H-q/2+p.height+S},{x:P+c/2,y:H+q/2},{x:P-c/2,y:H+q/2},{x:P-c/2,y:H-q/2+p.height+S},{x:P-p.width/2,y:H-q/2+p.height+S}]:Z=[{x:P-c/2,y:H-q/2},{x:P+c/2,y:H-q/2},{x:P+c/2,y:H-q/2+u},{x:P+p.width/2,y:H-q/2+u},{x:P+p.width/2/2,y:H+q/2},{x:P-p.width/2,y:H+q/2},{x:P-p.width/2,y:H-q/2+u},{x:P-c/2,y:H-q/2+u}],Zt.polygon(e,Z,re)},f}j(qK,"imageSquare");async function zK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await jr(t,e,Mr(e)),a=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),o=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:a,y:0},{x:a+3*o/6,y:-o},{x:-3*o/6,y:-o}];let c;const{cssStyles:u}=e;if(e.look==="handDrawn"){const f=lr.svg(i),p=hr(e,{}),g=Bn(l),y=f.path(g,p);c=i.insert(()=>y,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),u&&c.attr("style",u)}else c=Hp(i,a,o,l);return n&&c.attr("style",n),e.width=a,e.height=o,pr(e,c),e.intersect=function(f){return Zt.polygon(e,l,f)},i}j(zK,"inv_trapezoid");async function vT(t,e,r){const{labelStyles:n,nodeStyles:i}=fr(e);e.labelStyle=n;const{shapeSvg:s,bbox:a}=await jr(t,e,Mr(e)),o=Math.max(a.width+r.labelPaddingX*2,(e==null?void 0:e.width)||0),l=Math.max(a.height+r.labelPaddingY*2,(e==null?void 0:e.height)||0),c=-o/2,u=-l/2;let f,{rx:p,ry:g}=e;const{cssStyles:y}=e;if(r!=null&&r.rx&&r.ry&&(p=r.rx,g=r.ry),e.look==="handDrawn"){const x=lr.svg(s),w=hr(e,{}),S=p||g?x.path(Pp(c,u,o,l,p||0),w):x.rectangle(c,u,o,l,w);f=s.insert(()=>S,":first-child"),f.attr("class","basic label-container").attr("style",hl(y))}else f=s.insert("rect",":first-child"),f.attr("class","basic label-container").attr("style",i).attr("rx",hl(p)).attr("ry",hl(g)).attr("x",c).attr("y",u).attr("width",o).attr("height",l);return pr(e,f),e.calcIntersect=function(x,w){return Zt.rect(x,w)},e.intersect=function(x){return Zt.rect(e,x)},s}j(vT,"drawRect");async function KK(t,e){const{shapeSvg:r,bbox:n,label:i}=await jr(t,e,"label"),s=r.insert("rect",":first-child");return s.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),pr(e,s),e.intersect=function(l){return Zt.rect(e,l)},r}j(KK,"labelRect");async function WK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await jr(t,e,Mr(e)),a=Math.max(s.width+(e.padding??0),(e==null?void 0:e.width)??0),o=Math.max(s.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:a+3*o/6,y:0},{x:a,y:-o},{x:-(3*o)/6,y:-o}];let c;const{cssStyles:u}=e;if(e.look==="handDrawn"){const f=lr.svg(i),p=hr(e,{}),g=Bn(l),y=f.path(g,p);c=i.insert(()=>y,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),u&&c.attr("style",u)}else c=Hp(i,a,o,l);return n&&c.attr("style",n),e.width=a,e.height=o,pr(e,c),e.intersect=function(f){return Zt.polygon(e,l,f)},i}j(WK,"lean_left");async function YK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await jr(t,e,Mr(e)),a=Math.max(s.width+(e.padding??0),(e==null?void 0:e.width)??0),o=Math.max(s.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:-3*o/6,y:0},{x:a,y:0},{x:a+3*o/6,y:-o},{x:0,y:-o}];let c;const{cssStyles:u}=e;if(e.look==="handDrawn"){const f=lr.svg(i),p=hr(e,{}),g=Bn(l),y=f.path(g,p);c=i.insert(()=>y,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),u&&c.attr("style",u)}else c=Hp(i,a,o,l);return n&&c.attr("style",n),e.width=a,e.height=o,pr(e,c),e.intersect=function(f){return Zt.polygon(e,l,f)},i}j(YK,"lean_right");function XK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.label="",e.labelStyle=r;const i=t.insert("g").attr("class",Mr(e)).attr("id",e.domId??e.id),{cssStyles:s}=e,a=Math.max(35,(e==null?void 0:e.width)??0),o=Math.max(35,(e==null?void 0:e.height)??0),l=7,c=[{x:a,y:0},{x:0,y:o+l/2},{x:a-2*l,y:o+l/2},{x:0,y:2*o},{x:a,y:o-l/2},{x:2*l,y:o-l/2}],u=lr.svg(i),f=hr(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=Bn(c),g=u.path(p,f),y=i.insert(()=>g,":first-child");return s&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",s),n&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",n),y.attr("transform",`translate(-${a/2},${-o})`),pr(e,y),e.intersect=function(x){return _t.info("lightningBolt intersect",e,x),Zt.polygon(e,c,x)},i}j(XK,"lightningBolt");var _Se=j((t,e,r,n,i,s,a)=>[`M${t},${e+s}`,`a${i},${s} 0,0,0 ${r},0`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`,`M${t},${e+s+a}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),ESe=j((t,e,r,n,i,s,a)=>[`M${t},${e+s}`,`M${t+r},${e+s}`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`,`M${t},${e+s+a}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),BSe=j((t,e,r,n,i,s)=>[`M${t-r/2},${-n/2}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function JK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await jr(t,e,Mr(e)),o=Math.max(s.width+(e.padding??0),e.width??0),l=o/2,c=l/(2.5+o/50),u=Math.max(s.height+c+(e.padding??0),e.height??0),f=u*.1;let p;const{cssStyles:g}=e;if(e.look==="handDrawn"){const y=lr.svg(i),x=ESe(0,0,o,u,l,c,f),w=BSe(0,c,o,u,l,c),S=hr(e,{}),B=y.path(x,S),F=y.path(w,S);i.insert(()=>F,":first-child").attr("class","line"),p=i.insert(()=>B,":first-child"),p.attr("class","basic label-container"),g&&p.attr("style",g)}else{const y=_Se(0,0,o,u,l,c,f);p=i.insert("path",":first-child").attr("d",y).attr("class","basic label-container").attr("style",hl(g)).attr("style",n)}return p.attr("label-offset-y",c),p.attr("transform",`translate(${-o/2}, ${-(u/2+c)})`),pr(e,p),a.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),e.intersect=function(y){const x=Zt.rect(e,y),w=x.x-(e.x??0);if(l!=0&&(Math.abs(w)<(e.width??0)/2||Math.abs(w)==(e.width??0)/2&&Math.abs(x.y-(e.y??0))>(e.height??0)/2-c)){let S=c*c*(1-w*w/(l*l));S>0&&(S=Math.sqrt(S)),S=c-S,y.y-(e.y??0)>0&&(S=-S),x.y+=S}return x},i}j(JK,"linedCylinder");async function ZK(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await jr(t,e,Mr(e)),o=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=l/4,u=l+c,{cssStyles:f}=e,p=lr.svg(i),g=hr(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=[{x:-o/2-o/2*.1,y:-u/2},{x:-o/2-o/2*.1,y:u/2},...Tp(-o/2-o/2*.1,u/2,o/2+o/2*.1,u/2,c,.8),{x:o/2+o/2*.1,y:-u/2},{x:-o/2-o/2*.1,y:-u/2},{x:-o/2,y:-u/2},{x:-o/2,y:u/2*1.1},{x:-o/2,y:-u/2}],x=p.polygon(y.map(S=>[S.x,S.y]),g),w=i.insert(()=>x,":first-child");return w.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",n),w.attr("transform",`translate(0,${-c/2})`),a.attr("transform",`translate(${-o/2+(e.padding??0)+o/2*.1/2-(s.x-(s.left??0))},${-l/2+(e.padding??0)-c/2-(s.y-(s.top??0))})`),pr(e,w),e.intersect=function(S){return Zt.polygon(e,y,S)},i}j(ZK,"linedWaveEdgedRect");async function eW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await jr(t,e,Mr(e)),o=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=5,u=-o/2,f=-l/2,{cssStyles:p}=e,g=lr.svg(i),y=hr(e,{}),x=[{x:u-c,y:f+c},{x:u-c,y:f+l+c},{x:u+o-c,y:f+l+c},{x:u+o-c,y:f+l},{x:u+o,y:f+l},{x:u+o,y:f+l-c},{x:u+o+c,y:f+l-c},{x:u+o+c,y:f-c},{x:u+c,y:f-c},{x:u+c,y:f},{x:u,y:f},{x:u,y:f+c}],w=[{x:u,y:f+c},{x:u+o-c,y:f+c},{x:u+o-c,y:f+l},{x:u+o,y:f+l},{x:u+o,y:f},{x:u,y:f}];e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const S=Bn(x),B=g.path(S,y),F=Bn(w),k=g.path(F,{...y,fill:"none"}),O=i.insert(()=>k,":first-child");return O.insert(()=>B,":first-child"),O.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",n),a.attr("transform",`translate(${-(s.width/2)-c-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),pr(e,O),e.intersect=function(R){return Zt.polygon(e,x,R)},i}j(eW,"multiRect");async function tW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await jr(t,e,Mr(e)),o=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=l/4,u=l+c,f=-o/2,p=-u/2,g=5,{cssStyles:y}=e,x=Tp(f-g,p+u+g,f+o-g,p+u+g,c,.8),w=x==null?void 0:x[x.length-1],S=[{x:f-g,y:p+g},{x:f-g,y:p+u+g},...x,{x:f+o-g,y:w.y-g},{x:f+o,y:w.y-g},{x:f+o,y:w.y-2*g},{x:f+o+g,y:w.y-2*g},{x:f+o+g,y:p-g},{x:f+g,y:p-g},{x:f+g,y:p},{x:f,y:p},{x:f,y:p+g}],B=[{x:f,y:p+g},{x:f+o-g,y:p+g},{x:f+o-g,y:w.y-g},{x:f+o,y:w.y-g},{x:f+o,y:p},{x:f,y:p}],F=lr.svg(i),k=hr(e,{});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const O=Bn(S),R=F.path(O,k),D=Bn(B),Q=F.path(D,k),V=i.insert(()=>R,":first-child");return V.insert(()=>Q),V.attr("class","basic label-container"),y&&e.look!=="handDrawn"&&V.selectAll("path").attr("style",y),n&&e.look!=="handDrawn"&&V.selectAll("path").attr("style",n),V.attr("transform",`translate(0,${-c/2})`),a.attr("transform",`translate(${-(s.width/2)-g-(s.x-(s.left??0))}, ${-(s.height/2)+g-c/2-(s.y-(s.top??0))})`),pr(e,V),e.intersect=function(re){return Zt.polygon(e,S,re)},i}j(tW,"multiWaveEdgedRectangle");async function rW(t,e,{config:{themeVariables:r}}){var B;const{labelStyles:n,nodeStyles:i}=fr(e);e.labelStyle=n,e.useHtmlLabels||((B=Al().flowchart)==null?void 0:B.htmlLabels)!==!1||(e.centerLabel=!0);const{shapeSvg:a,bbox:o,label:l}=await jr(t,e,Mr(e)),c=Math.max(o.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(o.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=-c/2,p=-u/2,{cssStyles:g}=e,y=lr.svg(a),x=hr(e,{fill:r.noteBkgColor,stroke:r.noteBorderColor});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const w=y.rectangle(f,p,c,u,x),S=a.insert(()=>w,":first-child");return S.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",g),i&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",i),l.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`),pr(e,S),e.intersect=function(F){return Zt.rect(e,F)},a}j(rW,"note");var TSe=j((t,e,r)=>[`M${t+r/2},${e}`,`L${t+r},${e-r/2}`,`L${t+r/2},${e-r}`,`L${t},${e-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function nW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await jr(t,e,Mr(e)),a=s.width+e.padding,o=s.height+e.padding,l=a+o,c=.5,u=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let f;const{cssStyles:p}=e;if(e.look==="handDrawn"){const g=lr.svg(i),y=hr(e,{}),x=TSe(0,0,l),w=g.path(x,y);f=i.insert(()=>w,":first-child").attr("transform",`translate(${-l/2+c}, ${l/2})`),p&&f.attr("style",p)}else f=Hp(i,l,l,u),f.attr("transform",`translate(${-l/2+c}, ${l/2})`);return n&&f.attr("style",n),pr(e,f),e.calcIntersect=function(g,y){const x=g.width,w=[{x:x/2,y:0},{x,y:-x/2},{x:x/2,y:-x},{x:0,y:-x/2}],S=Zt.polygon(g,w,y);return{x:S.x-.5,y:S.y-.5}},e.intersect=function(g){return this.calcIntersect(e,g)},i}j(nW,"question");async function iW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await jr(t,e,Mr(e)),o=Math.max(s.width+(e.padding??0),(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0),(e==null?void 0:e.height)??0),c=-o/2,u=-l/2,f=u/2,p=[{x:c+f,y:u},{x:c,y:0},{x:c+f,y:-u},{x:-c,y:-u},{x:-c,y:u}],{cssStyles:g}=e,y=lr.svg(i),x=hr(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const w=Bn(p),S=y.path(w,x),B=i.insert(()=>S,":first-child");return B.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&B.selectAll("path").attr("style",g),n&&e.look!=="handDrawn"&&B.selectAll("path").attr("style",n),B.attr("transform",`translate(${-f/2},0)`),a.attr("transform",`translate(${-f/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),pr(e,B),e.intersect=function(F){return Zt.polygon(e,p,F)},i}j(iW,"rect_left_inv_arrow");async function sW(t,e){var Q,V;const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;let i;e.cssClasses?i="node "+e.cssClasses:i="node default";const s=t.insert("g").attr("class",i).attr("id",e.domId||e.id),a=s.insert("g"),o=s.insert("g").attr("class","label").attr("style",n),l=e.description,c=e.label,u=o.node().appendChild(await gg(c,e.labelStyle,!0,!0));let f={width:0,height:0};if(Ga((V=(Q=fi())==null?void 0:Q.flowchart)==null?void 0:V.htmlLabels)){const re=u.children[0],P=Vn(u);f=re.getBoundingClientRect(),P.attr("width",f.width),P.attr("height",f.height)}_t.info("Text 2",l);const p=l||[],g=u.getBBox(),y=o.node().appendChild(await gg(p.join?p.join("<br/>"):p,e.labelStyle,!0,!0)),x=y.children[0],w=Vn(y);f=x.getBoundingClientRect(),w.attr("width",f.width),w.attr("height",f.height);const S=(e.padding||0)/2;Vn(y).attr("transform","translate( "+(f.width>g.width?0:(g.width-f.width)/2)+", "+(g.height+S+5)+")"),Vn(u).attr("transform","translate( "+(f.width<g.width?0:-(g.width-f.width)/2)+", 0)"),f=o.node().getBBox(),o.attr("transform","translate("+-f.width/2+", "+(-f.height/2-S+3)+")");const B=f.width+(e.padding||0),F=f.height+(e.padding||0),k=-f.width/2-S,O=-f.height/2-S;let R,D;if(e.look==="handDrawn"){const re=lr.svg(s),P=hr(e,{}),H=re.path(Pp(k,O,B,F,e.rx||0),P),q=re.line(-f.width/2-S,-f.height/2-S+g.height+S,f.width/2+S,-f.height/2-S+g.height+S,P);D=s.insert(()=>(_t.debug("Rough node insert CXC",H),q),":first-child"),R=s.insert(()=>(_t.debug("Rough node insert CXC",H),H),":first-child")}else R=a.insert("rect",":first-child"),D=a.insert("line"),R.attr("class","outer title-state").attr("style",n).attr("x",-f.width/2-S).attr("y",-f.height/2-S).attr("width",f.width+(e.padding||0)).attr("height",f.height+(e.padding||0)),D.attr("class","divider").attr("x1",-f.width/2-S).attr("x2",f.width/2+S).attr("y1",-f.height/2-S+g.height+S).attr("y2",-f.height/2-S+g.height+S);return pr(e,R),e.intersect=function(re){return Zt.rect(e,re)},s}j(sW,"rectWithTitle");function L2(t,e,r,n,i,s,a){const l=(t+r)/2,c=(e+n)/2,u=Math.atan2(n-e,r-t),f=(r-t)/2,p=(n-e)/2,g=f/i,y=p/s,x=Math.sqrt(g**2+y**2);if(x>1)throw new Error("The given radii are too small to create an arc between the points.");const w=Math.sqrt(1-x**2),S=l+w*s*Math.sin(u)*(a?-1:1),B=c-w*i*Math.cos(u)*(a?-1:1),F=Math.atan2((e-B)/s,(t-S)/i);let O=Math.atan2((n-B)/s,(r-S)/i)-F;a&&O<0&&(O+=2*Math.PI),!a&&O>0&&(O-=2*Math.PI);const R=[];for(let D=0;D<20;D++){const Q=D/19,V=F+Q*O,re=S+i*Math.cos(V),P=B+s*Math.sin(V);R.push({x:re,y:P})}return R}j(L2,"generateArcPoints");async function aW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await jr(t,e,Mr(e)),a=(e==null?void 0:e.padding)??0,o=(e==null?void 0:e.padding)??0,l=(e!=null&&e.width?e==null?void 0:e.width:s.width)+a*2,c=(e!=null&&e.height?e==null?void 0:e.height:s.height)+o*2,u=e.radius||5,f=e.taper||5,{cssStyles:p}=e,g=lr.svg(i),y=hr(e,{});e.stroke&&(y.stroke=e.stroke),e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=[{x:-l/2+f,y:-c/2},{x:l/2-f,y:-c/2},...L2(l/2-f,-c/2,l/2,-c/2+f,u,u,!0),{x:l/2,y:-c/2+f},{x:l/2,y:c/2-f},...L2(l/2,c/2-f,l/2-f,c/2,u,u,!0),{x:l/2-f,y:c/2},{x:-l/2+f,y:c/2},...L2(-l/2+f,c/2,-l/2,c/2-f,u,u,!0),{x:-l/2,y:c/2-f},{x:-l/2,y:-c/2+f},...L2(-l/2,-c/2+f,-l/2+f,-c/2,u,u,!0)],w=Bn(x),S=g.path(w,y),B=i.insert(()=>S,":first-child");return B.attr("class","basic label-container outer-path"),p&&e.look!=="handDrawn"&&B.selectChildren("path").attr("style",p),n&&e.look!=="handDrawn"&&B.selectChildren("path").attr("style",n),pr(e,B),e.intersect=function(F){return Zt.polygon(e,x,F)},i}j(aW,"roundedRect");async function oW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await jr(t,e,Mr(e)),o=(e==null?void 0:e.padding)??0,l=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=-s.width/2-o,f=-s.height/2-o,{cssStyles:p}=e,g=lr.svg(i),y=hr(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=[{x:u,y:f},{x:u+l+8,y:f},{x:u+l+8,y:f+c},{x:u-8,y:f+c},{x:u-8,y:f},{x:u,y:f},{x:u,y:f+c}],w=g.polygon(x.map(B=>[B.x,B.y]),y),S=i.insert(()=>w,":first-child");return S.attr("class","basic label-container").attr("style",hl(p)),n&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",n),p&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",n),a.attr("transform",`translate(${-l/2+4+(e.padding??0)-(s.x-(s.left??0))},${-c/2+(e.padding??0)-(s.y-(s.top??0))})`),pr(e,S),e.intersect=function(B){return Zt.rect(e,B)},i}j(oW,"shadedProcess");async function lW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await jr(t,e,Mr(e)),o=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=-o/2,u=-l/2,{cssStyles:f}=e,p=lr.svg(i),g=hr(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=[{x:c,y:u},{x:c,y:u+l},{x:c+o,y:u+l},{x:c+o,y:u-l/2}],x=Bn(y),w=p.path(x,g),S=i.insert(()=>w,":first-child");return S.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",n),S.attr("transform",`translate(0, ${l/4})`),a.attr("transform",`translate(${-o/2+(e.padding??0)-(s.x-(s.left??0))}, ${-l/4+(e.padding??0)-(s.y-(s.top??0))})`),pr(e,S),e.intersect=function(B){return Zt.polygon(e,y,B)},i}j(lW,"slopedRect");async function cW(t,e){const r={rx:0,ry:0,labelPaddingX:e.labelPaddingX??((e==null?void 0:e.padding)||0)*2,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return vT(t,e,r)}j(cW,"squareRect");async function AW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await jr(t,e,Mr(e)),a=s.height+e.padding,o=s.width+a/4+e.padding,l=a/2,{cssStyles:c}=e,u=lr.svg(i),f=hr(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=[{x:-o/2+l,y:-a/2},{x:o/2-l,y:-a/2},...Sw(-o/2+l,0,l,50,90,270),{x:o/2-l,y:a/2},...Sw(o/2-l,0,l,50,270,450)],g=Bn(p),y=u.path(g,f),x=i.insert(()=>y,":first-child");return x.attr("class","basic label-container outer-path"),c&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",c),n&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),pr(e,x),e.intersect=function(w){return Zt.polygon(e,p,w)},i}j(AW,"stadium");async function uW(t,e){return vT(t,e,{rx:5,ry:5})}j(uW,"state");function hW(t,e,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=fr(e);e.labelStyle=n;const{cssStyles:s}=e,{lineColor:a,stateBorder:o,nodeBorder:l}=r,c=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),u=lr.svg(c),f=hr(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=u.circle(0,0,14,{...f,stroke:a,strokeWidth:2}),g=o??l,y=u.circle(0,0,5,{...f,fill:g,stroke:g,strokeWidth:2,fillStyle:"solid"}),x=c.insert(()=>p,":first-child");return x.insert(()=>y),s&&x.selectAll("path").attr("style",s),i&&x.selectAll("path").attr("style",i),pr(e,x),e.intersect=function(w){return Zt.circle(e,7,w)},c}j(hW,"stateEnd");function fW(t,e,{config:{themeVariables:r}}){const{lineColor:n}=r,i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let s;if(e.look==="handDrawn"){const o=lr.svg(i).circle(0,0,14,Gve(n));s=i.insert(()=>o),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=i.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return pr(e,s),e.intersect=function(a){return Zt.circle(e,7,a)},i}j(fW,"stateStart");async function dW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await jr(t,e,Mr(e)),a=((e==null?void 0:e.padding)||0)/2,o=s.width+e.padding,l=s.height+e.padding,c=-s.width/2-a,u=-s.height/2-a,f=[{x:0,y:0},{x:o,y:0},{x:o,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(e.look==="handDrawn"){const p=lr.svg(i),g=hr(e,{}),y=p.rectangle(c-8,u,o+16,l,g),x=p.line(c,u,c,u+l,g),w=p.line(c+o,u,c+o,u+l,g);i.insert(()=>x,":first-child"),i.insert(()=>w,":first-child");const S=i.insert(()=>y,":first-child"),{cssStyles:B}=e;S.attr("class","basic label-container").attr("style",hl(B)),pr(e,S)}else{const p=Hp(i,o,l,f);n&&p.attr("style",n),pr(e,p)}return e.intersect=function(p){return Zt.polygon(e,f,p)},i}j(dW,"subroutine");async function pW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await jr(t,e,Mr(e)),a=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),o=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),l=-a/2,c=-o/2,u=.2*o,f=.2*o,{cssStyles:p}=e,g=lr.svg(i),y=hr(e,{}),x=[{x:l-u/2,y:c},{x:l+a+u/2,y:c},{x:l+a+u/2,y:c+o},{x:l-u/2,y:c+o}],w=[{x:l+a-u/2,y:c+o},{x:l+a+u/2,y:c+o},{x:l+a+u/2,y:c+o-f}];e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const S=Bn(x),B=g.path(S,y),F=Bn(w),k=g.path(F,{...y,fillStyle:"solid"}),O=i.insert(()=>k,":first-child");return O.insert(()=>B,":first-child"),O.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",n),pr(e,O),e.intersect=function(R){return Zt.polygon(e,x,R)},i}j(pW,"taggedRect");async function gW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await jr(t,e,Mr(e)),o=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=l/4,u=.2*o,f=.2*l,p=l+c,{cssStyles:g}=e,y=lr.svg(i),x=hr(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const w=[{x:-o/2-o/2*.1,y:p/2},...Tp(-o/2-o/2*.1,p/2,o/2+o/2*.1,p/2,c,.8),{x:o/2+o/2*.1,y:-p/2},{x:-o/2-o/2*.1,y:-p/2}],S=-o/2+o/2*.1,B=-p/2-f*.4,F=[{x:S+o-u,y:(B+l)*1.4},{x:S+o,y:B+l-f},{x:S+o,y:(B+l)*.9},...Tp(S+o,(B+l)*1.3,S+o-u,(B+l)*1.5,-l*.03,.5)],k=Bn(w),O=y.path(k,x),R=Bn(F),D=y.path(R,{...x,fillStyle:"solid"}),Q=i.insert(()=>D,":first-child");return Q.insert(()=>O,":first-child"),Q.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&Q.selectAll("path").attr("style",g),n&&e.look!=="handDrawn"&&Q.selectAll("path").attr("style",n),Q.attr("transform",`translate(0,${-c/2})`),a.attr("transform",`translate(${-o/2+(e.padding??0)-(s.x-(s.left??0))},${-l/2+(e.padding??0)-c/2-(s.y-(s.top??0))})`),pr(e,Q),e.intersect=function(V){return Zt.polygon(e,w,V)},i}j(gW,"taggedWaveEdgedRectangle");async function mW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await jr(t,e,Mr(e)),a=Math.max(s.width+e.padding,(e==null?void 0:e.width)||0),o=Math.max(s.height+e.padding,(e==null?void 0:e.height)||0),l=-a/2,c=-o/2,u=i.insert("rect",":first-child");return u.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",l).attr("y",c).attr("width",a).attr("height",o),pr(e,u),e.intersect=function(f){return Zt.rect(e,f)},i}j(mW,"text");var NSe=j((t,e,r,n,i,s)=>`M${t},${e}
    a${i},${s} 0,0,1 0,${-n}
    l${r},0
    a${i},${s} 0,0,1 0,${n}
    M${r},${-n}
    a${i},${s} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),FSe=j((t,e,r,n,i,s)=>[`M${t},${e}`,`M${t+r},${e}`,`a${i},${s} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${s} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),ISe=j((t,e,r,n,i,s)=>[`M${t+r/2},${-n/2}`,`a${i},${s} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function yW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a,halfPadding:o}=await jr(t,e,Mr(e)),l=e.look==="neo"?o*2:o,c=s.height+l,u=c/2,f=u/(2.5+c/50),p=s.width+f+l,{cssStyles:g}=e;let y;if(e.look==="handDrawn"){const x=lr.svg(i),w=FSe(0,0,p,c,f,u),S=ISe(0,0,p,c,f,u),B=x.path(w,hr(e,{})),F=x.path(S,hr(e,{fill:"none"}));y=i.insert(()=>F,":first-child"),y=i.insert(()=>B,":first-child"),y.attr("class","basic label-container"),g&&y.attr("style",g)}else{const x=NSe(0,0,p,c,f,u);y=i.insert("path",":first-child").attr("d",x).attr("class","basic label-container").attr("style",hl(g)).attr("style",n),y.attr("class","basic label-container"),g&&y.selectAll("path").attr("style",g),n&&y.selectAll("path").attr("style",n)}return y.attr("label-offset-x",f),y.attr("transform",`translate(${-p/2}, ${c/2} )`),a.attr("transform",`translate(${-(s.width/2)-f-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),pr(e,y),e.intersect=function(x){const w=Zt.rect(e,x),S=w.y-(e.y??0);if(u!=0&&(Math.abs(S)<(e.height??0)/2||Math.abs(S)==(e.height??0)/2&&Math.abs(w.x-(e.x??0))>(e.width??0)/2-f)){let B=f*f*(1-S*S/(u*u));B!=0&&(B=Math.sqrt(Math.abs(B))),B=f-B,x.x-(e.x??0)>0&&(B=-B),w.x+=B}return w},i}j(yW,"tiltedCylinder");async function xW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await jr(t,e,Mr(e)),a=s.width+e.padding,o=s.height+e.padding,l=[{x:-3*o/6,y:0},{x:a+3*o/6,y:0},{x:a,y:-o},{x:0,y:-o}];let c;const{cssStyles:u}=e;if(e.look==="handDrawn"){const f=lr.svg(i),p=hr(e,{}),g=Bn(l),y=f.path(g,p);c=i.insert(()=>y,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),u&&c.attr("style",u)}else c=Hp(i,a,o,l);return n&&c.attr("style",n),e.width=a,e.height=o,pr(e,c),e.intersect=function(f){return Zt.polygon(e,l,f)},i}j(xW,"trapezoid");async function vW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await jr(t,e,Mr(e)),a=60,o=20,l=Math.max(a,s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(o,s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),{cssStyles:u}=e,f=lr.svg(i),p=hr(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:-l/2*.8,y:-c/2},{x:l/2*.8,y:-c/2},{x:l/2,y:-c/2*.6},{x:l/2,y:c/2},{x:-l/2,y:c/2},{x:-l/2,y:-c/2*.6}],y=Bn(g),x=f.path(y,p),w=i.insert(()=>x,":first-child");return w.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",u),n&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",n),pr(e,w),e.intersect=function(S){return Zt.polygon(e,g,S)},i}j(vW,"trapezoidalPentagon");async function wW(t,e){var B;const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await jr(t,e,Mr(e)),o=Ga((B=fi().flowchart)==null?void 0:B.htmlLabels),l=s.width+(e.padding??0),c=l+s.height,u=l+s.height,f=[{x:0,y:0},{x:u,y:0},{x:u/2,y:-c}],{cssStyles:p}=e,g=lr.svg(i),y=hr(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=Bn(f),w=g.path(x,y),S=i.insert(()=>w,":first-child").attr("transform",`translate(${-c/2}, ${c/2})`);return p&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",p),n&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",n),e.width=l,e.height=c,pr(e,S),a.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${c/2-(s.height+(e.padding??0)/(o?2:1)-(s.y-(s.top??0)))})`),e.intersect=function(F){return _t.info("Triangle intersect",e,f,F),Zt.polygon(e,f,F)},i}j(wW,"triangle");async function bW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await jr(t,e,Mr(e)),o=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=l/8,u=l+c,{cssStyles:f}=e,g=70-o,y=g>0?g/2:0,x=lr.svg(i),w=hr(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const S=[{x:-o/2-y,y:u/2},...Tp(-o/2-y,u/2,o/2+y,u/2,c,.8),{x:o/2+y,y:-u/2},{x:-o/2-y,y:-u/2}],B=Bn(S),F=x.path(B,w),k=i.insert(()=>F,":first-child");return k.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(0,${-c/2})`),a.attr("transform",`translate(${-o/2+(e.padding??0)-(s.x-(s.left??0))},${-l/2+(e.padding??0)-c-(s.y-(s.top??0))})`),pr(e,k),e.intersect=function(O){return Zt.polygon(e,S,O)},i}j(bW,"waveEdgedRectangle");async function CW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await jr(t,e,Mr(e)),a=100,o=50,l=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/c;let f=l,p=c;f>p*u?p=f/u:f=p*u,f=Math.max(f,a),p=Math.max(p,o);const g=Math.min(p*.2,p/4),y=p+g*2,{cssStyles:x}=e,w=lr.svg(i),S=hr(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const B=[{x:-f/2,y:y/2},...Tp(-f/2,y/2,f/2,y/2,g,1),{x:f/2,y:-y/2},...Tp(f/2,-y/2,-f/2,-y/2,g,-1)],F=Bn(B),k=w.path(F,S),O=i.insert(()=>k,":first-child");return O.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",x),n&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",n),pr(e,O),e.intersect=function(R){return Zt.polygon(e,B,R)},i}j(CW,"waveRectangle");async function SW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await jr(t,e,Mr(e)),o=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=5,u=-o/2,f=-l/2,{cssStyles:p}=e,g=lr.svg(i),y=hr(e,{}),x=[{x:u-c,y:f-c},{x:u-c,y:f+l},{x:u+o,y:f+l},{x:u+o,y:f-c}],w=`M${u-c},${f-c} L${u+o},${f-c} L${u+o},${f+l} L${u-c},${f+l} L${u-c},${f-c}
                M${u-c},${f} L${u+o},${f}
                M${u},${f-c} L${u},${f+l}`;e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const S=g.path(w,y),B=i.insert(()=>S,":first-child");return B.attr("transform",`translate(${c/2}, ${c/2})`),B.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&B.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&B.selectAll("path").attr("style",n),a.attr("transform",`translate(${-(s.width/2)+c/2-(s.x-(s.left??0))}, ${-(s.height/2)+c/2-(s.y-(s.top??0))})`),pr(e,B),e.intersect=function(F){return Zt.polygon(e,x,F)},i}j(SW,"windowPane");async function BR(t,e){var M,G,W,J;const r=e;if(r.alias&&(e.label=r.alias),e.look==="handDrawn"){const{themeVariables:ae}=Al(),{background:ve}=ae,Fe={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${ve}`]};await BR(t,Fe)}const n=Al();e.useHtmlLabels=n.htmlLabels;let i=((M=n.er)==null?void 0:M.diagramPadding)??10,s=((G=n.er)==null?void 0:G.entityPadding)??6;const{cssStyles:a}=e,{labelStyles:o,nodeStyles:l}=fr(e);if(r.attributes.length===0&&e.label){const ae={rx:0,ry:0,labelPaddingX:i,labelPaddingY:i*1.5};Vd(e.label,n)+ae.labelPaddingX*2<n.er.minEntityWidth&&(e.width=n.er.minEntityWidth);const ve=await vT(t,e,ae);if(!Ga(n.htmlLabels)){const Fe=ve.select("text"),Ie=(W=Fe.node())==null?void 0:W.getBBox();Fe.attr("transform",`translate(${-Ie.width/2}, 0)`)}return ve}n.htmlLabels||(i*=1.25,s*=1.25);let c=Mr(e);c||(c="node default");const u=t.insert("g").attr("class",c).attr("id",e.domId||e.id),f=await W1(u,e.label??"",n,0,0,["name"],o);f.height+=s;let p=0;const g=[],y=[];let x=0,w=0,S=0,B=0,F=!0,k=!0;for(const ae of r.attributes){const ve=await W1(u,ae.type,n,0,p,["attribute-type"],o);x=Math.max(x,ve.width+i);const Fe=await W1(u,ae.name,n,0,p,["attribute-name"],o);w=Math.max(w,Fe.width+i);const Ie=await W1(u,ae.keys.join(),n,0,p,["attribute-keys"],o);S=Math.max(S,Ie.width+i);const He=await W1(u,ae.comment,n,0,p,["attribute-comment"],o);B=Math.max(B,He.width+i);const at=Math.max(ve.height,Fe.height,Ie.height,He.height)+s;y.push({yOffset:p,rowHeight:at}),p+=at}let O=4;S<=i&&(F=!1,S=0,O--),B<=i&&(k=!1,B=0,O--);const R=u.node().getBBox();if(f.width+i*2-(x+w+S+B)>0){const ae=f.width+i*2-(x+w+S+B);x+=ae/O,w+=ae/O,S>0&&(S+=ae/O),B>0&&(B+=ae/O)}const D=x+w+S+B,Q=lr.svg(u),V=hr(e,{});e.look!=="handDrawn"&&(V.roughness=0,V.fillStyle="solid");let re=0;y.length>0&&(re=y.reduce((ae,ve)=>ae+((ve==null?void 0:ve.rowHeight)??0),0));const P=Math.max(R.width+i*2,(e==null?void 0:e.width)||0,D),H=Math.max((re??0)+f.height,(e==null?void 0:e.height)||0),q=-P/2,Z=-H/2;u.selectAll("g:not(:first-child)").each((ae,ve,Fe)=>{const Ie=Vn(Fe[ve]),He=Ie.attr("transform");let at=0,lt=0;if(He){const Nt=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(He);Nt&&(at=parseFloat(Nt[1]),lt=parseFloat(Nt[2]),Ie.attr("class").includes("attribute-name")?at+=x:Ie.attr("class").includes("attribute-keys")?at+=x+w:Ie.attr("class").includes("attribute-comment")&&(at+=x+w+S))}Ie.attr("transform",`translate(${q+i/2+at}, ${lt+Z+f.height+s/2})`)}),u.select(".name").attr("transform","translate("+-f.width/2+", "+(Z+s/2)+")");const se=Q.rectangle(q,Z,P,H,V),X=u.insert(()=>se,":first-child").attr("style",a.join("")),{themeVariables:ee}=Al(),{rowEven:te,rowOdd:Ce,nodeBorder:ke}=ee;g.push(0);for(const[ae,ve]of y.entries()){const Ie=(ae+1)%2===0&&ve.yOffset!==0,He=Q.rectangle(q,f.height+Z+(ve==null?void 0:ve.yOffset),P,ve==null?void 0:ve.rowHeight,{...V,fill:Ie?te:Ce,stroke:ke});u.insert(()=>He,"g.label").attr("style",a.join("")).attr("class",`row-rect-${Ie?"even":"odd"}`)}let le=Q.line(q,f.height+Z,P+q,f.height+Z,V);u.insert(()=>le).attr("class","divider"),le=Q.line(x+q,f.height+Z,x+q,H+Z,V),u.insert(()=>le).attr("class","divider"),F&&(le=Q.line(x+w+q,f.height+Z,x+w+q,H+Z,V),u.insert(()=>le).attr("class","divider")),k&&(le=Q.line(x+w+S+q,f.height+Z,x+w+S+q,H+Z,V),u.insert(()=>le).attr("class","divider"));for(const ae of g)le=Q.line(q,f.height+Z+ae,P+q,f.height+Z+ae,V),u.insert(()=>le).attr("class","divider");if(pr(e,X),l&&e.look!=="handDrawn"){const ae=l.split(";"),ve=(J=ae==null?void 0:ae.filter(Fe=>Fe.includes("stroke")))==null?void 0:J.map(Fe=>`${Fe}`).join("; ");u.selectAll("path").attr("style",ve??""),u.selectAll(".row-rect-even path").attr("style",l)}return e.intersect=function(ae){return Zt.rect(e,ae)},u}j(BR,"erBox");async function W1(t,e,r,n=0,i=0,s=[],a=""){const o=t.insert("g").attr("class",`label ${s.join(" ")}`).attr("transform",`translate(${n}, ${i})`).attr("style",a);e!==TP(e)&&(e=TP(e),e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"));const l=o.node().appendChild(await Op(o,e,{width:Vd(e,r)+100,style:a,useHtmlLabels:r.htmlLabels},r));if(e.includes("&lt;")||e.includes("&gt;")){let u=l.children[0];for(u.textContent=u.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");u.childNodes[0];)u=u.childNodes[0],u.textContent=u.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let c=l.getBBox();if(Ga(r.htmlLabels)){const u=l.children[0];u.style.textAlign="start";const f=Vn(l);c=u.getBoundingClientRect(),f.attr("width",c.width),f.attr("height",c.height)}return c}j(W1,"addText");async function _W(t,e,r,n,i=r.class.padding??12){const s=n?0:3,a=t.insert("g").attr("class",Mr(e)).attr("id",e.domId||e.id);let o=null,l=null,c=null,u=null,f=0,p=0,g=0;if(o=a.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const B=e.annotations[0];await R2(o,{text:`${B}`},0),f=o.node().getBBox().height}l=a.insert("g").attr("class","label-group text"),await R2(l,e,0,["font-weight: bolder"]);const y=l.node().getBBox();p=y.height,c=a.insert("g").attr("class","members-group text");let x=0;for(const B of e.members){const F=await R2(c,B,x,[B.parseClassifier()]);x+=F+s}g=c.node().getBBox().height,g<=0&&(g=i/2),u=a.insert("g").attr("class","methods-group text");let w=0;for(const B of e.methods){const F=await R2(u,B,w,[B.parseClassifier()]);w+=F+s}let S=a.node().getBBox();if(o!==null){const B=o.node().getBBox();o.attr("transform",`translate(${-B.width/2})`)}return l.attr("transform",`translate(${-y.width/2}, ${f})`),S=a.node().getBBox(),c.attr("transform",`translate(0, ${f+p+i*2})`),S=a.node().getBBox(),u.attr("transform",`translate(0, ${f+p+(g?g+i*4:i*2)})`),S=a.node().getBBox(),{shapeSvg:a,bbox:S}}j(_W,"textHelper");async function R2(t,e,r,n=[]){const i=t.insert("g").attr("class","label").attr("style",n.join("; ")),s=Al();let a="useHtmlLabels"in e?e.useHtmlLabels:Ga(s.htmlLabels)??!0,o="";"text"in e?o=e.text:o=e.label,!a&&o.startsWith("\\")&&(o=o.substring(1)),Fx(o)&&(a=!0);const l=await Op(i,DL($m(o)),{width:Vd(o,s)+50,classes:"markdown-node-label",useHtmlLabels:a},s);let c,u=1;if(a){const f=l.children[0],p=Vn(l);u=f.innerHTML.split("<br>").length,f.innerHTML.includes("</math>")&&(u+=f.innerHTML.split("<mrow>").length-1);const g=f.getElementsByTagName("img");if(g){const y=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...g].map(x=>new Promise(w=>{function S(){var B;if(x.style.display="flex",x.style.flexDirection="column",y){const F=((B=s.fontSize)==null?void 0:B.toString())??window.getComputedStyle(document.body).fontSize,O=parseInt(F,10)*5+"px";x.style.minWidth=O,x.style.maxWidth=O}else x.style.width="100%";w(x)}j(S,"setupImage"),setTimeout(()=>{x.complete&&S()}),x.addEventListener("error",S),x.addEventListener("load",S)})))}c=f.getBoundingClientRect(),p.attr("width",c.width),p.attr("height",c.height)}else{n.includes("font-weight: bolder")&&Vn(l).selectAll("tspan").attr("font-weight",""),u=l.children.length;const f=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(f.textContent=o[0]+o.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),o[1]===" "&&(f.textContent=f.textContent[0]+" "+f.textContent.substring(1))),f.textContent==="undefined"&&(f.textContent=""),c=l.getBBox()}return i.attr("transform","translate(0,"+(-c.height/(2*u)+r)+")"),c.height}j(R2,"addText");async function EW(t,e){var V,re;const r=fi(),n=r.class.padding??12,i=n,s=e.useHtmlLabels??Ga(r.htmlLabels)??!0,a=e;a.annotations=a.annotations??[],a.members=a.members??[],a.methods=a.methods??[];const{shapeSvg:o,bbox:l}=await _W(t,e,r,s,i),{labelStyles:c,nodeStyles:u}=fr(e);e.labelStyle=c,e.cssStyles=a.styles||"";const f=((V=a.styles)==null?void 0:V.join(";"))||u||"";e.cssStyles||(e.cssStyles=f.replaceAll("!important","").split(";"));const p=a.members.length===0&&a.methods.length===0&&!((re=r.class)!=null&&re.hideEmptyMembersBox),g=lr.svg(o),y=hr(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=l.width;let w=l.height;a.members.length===0&&a.methods.length===0?w+=i:a.members.length>0&&a.methods.length===0&&(w+=i*2);const S=-x/2,B=-w/2,F=g.rectangle(S-n,B-n-(p?n:a.members.length===0&&a.methods.length===0?-n/2:0),x+2*n,w+2*n+(p?n*2:a.members.length===0&&a.methods.length===0?-n:0),y),k=o.insert(()=>F,":first-child");k.attr("class","basic label-container");const O=k.node().getBBox();o.selectAll(".text").each((P,H,q)=>{var Ce;const Z=Vn(q[H]),se=Z.attr("transform");let X=0;if(se){const le=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(se);le&&(X=parseFloat(le[2]))}let ee=X+B+n-(p?n:a.members.length===0&&a.methods.length===0?-n/2:0);s||(ee-=4);let te=S;(Z.attr("class").includes("label-group")||Z.attr("class").includes("annotation-group"))&&(te=-((Ce=Z.node())==null?void 0:Ce.getBBox().width)/2||0,o.selectAll("text").each(function(ke,le,M){window.getComputedStyle(M[le]).textAnchor==="middle"&&(te=0)})),Z.attr("transform",`translate(${te}, ${ee})`)});const R=o.select(".annotation-group").node().getBBox().height-(p?n/2:0)||0,D=o.select(".label-group").node().getBBox().height-(p?n/2:0)||0,Q=o.select(".members-group").node().getBBox().height-(p?n/2:0)||0;if(a.members.length>0||a.methods.length>0||p){const P=g.line(O.x,R+D+B+n,O.x+O.width,R+D+B+n,y);o.insert(()=>P).attr("class","divider").attr("style",f)}if(p||a.members.length>0||a.methods.length>0){const P=g.line(O.x,R+D+Q+B+i*2+n,O.x+O.width,R+D+Q+B+n+i*2,y);o.insert(()=>P).attr("class","divider").attr("style",f)}if(a.look!=="handDrawn"&&o.selectAll("path").attr("style",f),k.select(":nth-child(2)").attr("style",f),o.selectAll(".divider").select("path").attr("style",f),e.labelStyle?o.selectAll("span").attr("style",e.labelStyle):o.selectAll("span").attr("style",f),!s){const P=RegExp(/color\s*:\s*([^;]*)/),H=P.exec(f);if(H){const q=H[0].replace("color","fill");o.selectAll("tspan").attr("style",q)}else if(c){const q=P.exec(c);if(q){const Z=q[0].replace("color","fill");o.selectAll("tspan").attr("style",Z)}}}return pr(e,k),e.intersect=function(P){return Zt.rect(e,P)},o}j(EW,"classBox");async function BW(t,e){var R,D;const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const i=e,s=e,a=20,o=20,l="verifyMethod"in e,c=Mr(e),u=t.insert("g").attr("class",c).attr("id",e.domId??e.id);let f;l?f=await jh(u,`&lt;&lt;${i.type}&gt;&gt;`,0,e.labelStyle):f=await jh(u,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle);let p=f;const g=await jh(u,i.name,p,e.labelStyle+"; font-weight: bold;");if(p+=g+o,l){const Q=await jh(u,`${i.requirementId?`ID: ${i.requirementId}`:""}`,p,e.labelStyle);p+=Q;const V=await jh(u,`${i.text?`Text: ${i.text}`:""}`,p,e.labelStyle);p+=V;const re=await jh(u,`${i.risk?`Risk: ${i.risk}`:""}`,p,e.labelStyle);p+=re,await jh(u,`${i.verifyMethod?`Verification: ${i.verifyMethod}`:""}`,p,e.labelStyle)}else{const Q=await jh(u,`${s.type?`Type: ${s.type}`:""}`,p,e.labelStyle);p+=Q,await jh(u,`${s.docRef?`Doc Ref: ${s.docRef}`:""}`,p,e.labelStyle)}const y=(((R=u.node())==null?void 0:R.getBBox().width)??200)+a,x=(((D=u.node())==null?void 0:D.getBBox().height)??200)+a,w=-y/2,S=-x/2,B=lr.svg(u),F=hr(e,{});e.look!=="handDrawn"&&(F.roughness=0,F.fillStyle="solid");const k=B.rectangle(w,S,y,x,F),O=u.insert(()=>k,":first-child");if(O.attr("class","basic label-container").attr("style",n),u.selectAll(".label").each((Q,V,re)=>{const P=Vn(re[V]),H=P.attr("transform");let q=0,Z=0;if(H){const te=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(H);te&&(q=parseFloat(te[1]),Z=parseFloat(te[2]))}const se=Z-x/2;let X=w+a/2;(V===0||V===1)&&(X=q),P.attr("transform",`translate(${X}, ${se+a})`)}),p>f+g+o){const Q=B.line(w,S+f+g+o,w+y,S+f+g+o,F);u.insert(()=>Q).attr("style",n)}return pr(e,O),e.intersect=function(Q){return Zt.rect(e,Q)},u}j(BW,"requirementBox");async function jh(t,e,r,n=""){if(e==="")return 0;const i=t.insert("g").attr("class","label").attr("style",n),s=fi(),a=s.htmlLabels??!0,o=await Op(i,DL($m(e)),{width:Vd(e,s)+50,classes:"markdown-node-label",useHtmlLabels:a,style:n},s);let l;if(a){const c=o.children[0],u=Vn(o);l=c.getBoundingClientRect(),u.attr("width",l.width),u.attr("height",l.height)}else{const c=o.children[0];for(const u of c.children)u.textContent=u.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),n&&u.setAttribute("style",n);l=o.getBBox(),l.height+=6}return i.attr("transform",`translate(${-l.width/2},${-l.height/2+r})`),l.height}j(jh,"addText");var kSe=j(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function TW(t,e,{config:r}){var H,q;const{labelStyles:n,nodeStyles:i}=fr(e);e.labelStyle=n||"";const s=10,a=e.width;e.width=(e.width??200)-10;const{shapeSvg:o,bbox:l,label:c}=await jr(t,e,Mr(e)),u=e.padding||10;let f="",p;"ticket"in e&&e.ticket&&((H=r==null?void 0:r.kanban)!=null&&H.ticketBaseUrl)&&(f=(q=r==null?void 0:r.kanban)==null?void 0:q.ticketBaseUrl.replace("#TICKET#",e.ticket),p=o.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",f).attr("target","_blank"));const g={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let y,x;p?{label:y,bbox:x}=await pN(p,"ticket"in e&&e.ticket||"",g):{label:y,bbox:x}=await pN(o,"ticket"in e&&e.ticket||"",g);const{label:w,bbox:S}=await pN(o,"assigned"in e&&e.assigned||"",g);e.width=a;const B=10,F=(e==null?void 0:e.width)||0,k=Math.max(x.height,S.height)/2,O=Math.max(l.height+B*2,(e==null?void 0:e.height)||0)+k,R=-F/2,D=-O/2;c.attr("transform","translate("+(u-F/2)+", "+(-k-l.height/2)+")"),y.attr("transform","translate("+(u-F/2)+", "+(-k+l.height/2)+")"),w.attr("transform","translate("+(u+F/2-S.width-2*s)+", "+(-k+l.height/2)+")");let Q;const{rx:V,ry:re}=e,{cssStyles:P}=e;if(e.look==="handDrawn"){const Z=lr.svg(o),se=hr(e,{}),X=V||re?Z.path(Pp(R,D,F,O,V||0),se):Z.rectangle(R,D,F,O,se);Q=o.insert(()=>X,":first-child"),Q.attr("class","basic label-container").attr("style",P||null)}else{Q=o.insert("rect",":first-child"),Q.attr("class","basic label-container __APA__").attr("style",i).attr("rx",V??5).attr("ry",re??5).attr("x",R).attr("y",D).attr("width",F).attr("height",O);const Z="priority"in e&&e.priority;if(Z){const se=o.append("line"),X=R+2,ee=D+Math.floor((V??0)/2),te=D+O-Math.floor((V??0)/2);se.attr("x1",X).attr("y1",ee).attr("x2",X).attr("y2",te).attr("stroke-width","4").attr("stroke",kSe(Z))}}return pr(e,Q),e.height=O,e.intersect=function(Z){return Zt.rect(e,Z)},o}j(TW,"kanbanItem");async function NW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await jr(t,e,Mr(e)),l=s.width+10*a,c=s.height+8*a,u=.15*l,{cssStyles:f}=e,p=s.width+20,g=s.height+20,y=Math.max(l,p),x=Math.max(c,g);o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let w;const S=`M0 0 
    a${u},${u} 1 0,0 ${y*.25},${-1*x*.1}
    a${u},${u} 1 0,0 ${y*.25},0
    a${u},${u} 1 0,0 ${y*.25},0
    a${u},${u} 1 0,0 ${y*.25},${x*.1}

    a${u},${u} 1 0,0 ${y*.15},${x*.33}
    a${u*.8},${u*.8} 1 0,0 0,${x*.34}
    a${u},${u} 1 0,0 ${-1*y*.15},${x*.33}

    a${u},${u} 1 0,0 ${-1*y*.25},${x*.15}
    a${u},${u} 1 0,0 ${-1*y*.25},0
    a${u},${u} 1 0,0 ${-1*y*.25},0
    a${u},${u} 1 0,0 ${-1*y*.25},${-1*x*.15}

    a${u},${u} 1 0,0 ${-1*y*.1},${-1*x*.33}
    a${u*.8},${u*.8} 1 0,0 0,${-1*x*.34}
    a${u},${u} 1 0,0 ${y*.1},${-1*x*.33}
  H0 V0 Z`;if(e.look==="handDrawn"){const B=lr.svg(i),F=hr(e,{}),k=B.path(S,F);w=i.insert(()=>k,":first-child"),w.attr("class","basic label-container").attr("style",hl(f))}else w=i.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",S);return w.attr("transform",`translate(${-y/2}, ${-x/2})`),pr(e,w),e.calcIntersect=function(B,F){return Zt.rect(B,F)},e.intersect=function(B){return _t.info("Bang intersect",e,B),Zt.rect(e,B)},i}j(NW,"bang");async function FW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await jr(t,e,Mr(e)),l=s.width+2*a,c=s.height+2*a,u=.15*l,f=.25*l,p=.35*l,g=.2*l,{cssStyles:y}=e;let x;const w=`M0 0 
    a${u},${u} 0 0,1 ${l*.25},${-1*l*.1}
    a${p},${p} 1 0,1 ${l*.4},${-1*l*.1}
    a${f},${f} 1 0,1 ${l*.35},${l*.2}

    a${u},${u} 1 0,1 ${l*.15},${c*.35}
    a${g},${g} 1 0,1 ${-1*l*.15},${c*.65}

    a${f},${u} 1 0,1 ${-1*l*.25},${l*.15}
    a${p},${p} 1 0,1 ${-1*l*.5},0
    a${u},${u} 1 0,1 ${-1*l*.25},${-1*l*.15}

    a${u},${u} 1 0,1 ${-1*l*.1},${-1*c*.35}
    a${g},${g} 1 0,1 ${l*.1},${-1*c*.65}
  H0 V0 Z`;if(e.look==="handDrawn"){const S=lr.svg(i),B=hr(e,{}),F=S.path(w,B);x=i.insert(()=>F,":first-child"),x.attr("class","basic label-container").attr("style",hl(y))}else x=i.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",w);return o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),x.attr("transform",`translate(${-l/2}, ${-c/2})`),pr(e,x),e.calcIntersect=function(S,B){return Zt.rect(S,B)},e.intersect=function(S){return _t.info("Cloud intersect",e,S),Zt.rect(e,S)},i}j(FW,"cloud");async function IW(t,e){const{labelStyles:r,nodeStyles:n}=fr(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await jr(t,e,Mr(e)),l=s.width+8*a,c=s.height+2*a,u=5,f=`
    M${-l/2} ${c/2-u}
    v${-c+2*u}
    q0,-${u} ${u},-${u}
    h${l-2*u}
    q${u},0 ${u},${u}
    v${c-2*u}
    q0,${u} -${u},${u}
    h${-l+2*u}
    q-${u},0 -${u},-${u}
    Z
  `,p=i.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("style",n).attr("d",f);return i.append("line").attr("class","node-line-").attr("x1",-l/2).attr("y1",c/2).attr("x2",l/2).attr("y2",c/2),o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),i.append(()=>o.node()),pr(e,p),e.calcIntersect=function(g,y){return Zt.rect(g,y)},e.intersect=function(g){return Zt.rect(e,g)},i}j(IW,"defaultMindmapNode");async function kW(t,e){const r={padding:e.padding??0};return ER(t,e,r)}j(kW,"mindmapCircle");var LSe=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:cW},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:aW},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:AW},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:dW},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:LK},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:ER},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:NW},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:FW},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:nW},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:HK},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:YK},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:WK},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:xW},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:zK},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:MK},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:mW},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:_K},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:oW},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:fW},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:hW},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:OK},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:QK},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:NK},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:FK},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:IK},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:XK},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:bW},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:PK},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:yW},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:JK},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:kK},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:RK},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:wW},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:SW},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:UK},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:vW},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:DK},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:lW},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:tW},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:eW},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:SK},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:TK},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:gW},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:pW},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:CW},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:iW},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:ZK}],RSe=j(()=>{const e=[...Object.entries({state:uW,choice:EK,note:rW,rectWithTitle:sW,labelRect:KK,iconSquare:$K,iconCircle:GK,icon:jK,iconRounded:VK,imageSquare:qK,anchor:CK,kanbanItem:TW,mindmapCircle:kW,defaultMindmapNode:IW,classBox:EW,erBox:BR,requirementBox:BW}),...LSe.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(i=>[i,r.handler]))];return Object.fromEntries(e)},"generateShapeMap"),LW=RSe();function MSe(t){return t in LW}j(MSe,"isValidShape");var wT=new Map;async function RW(t,e,r){let n,i;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const s=e.shape?LW[e.shape]:void 0;if(!s)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let a;r.config.securityLevel==="sandbox"?a="_top":e.linkTarget&&(a=e.linkTarget||"_blank"),n=t.insert("svg:a").attr("xlink:href",e.link).attr("target",a??null),i=await s(n,e,r)}else i=await s(t,e,r),n=i;return e.tooltip&&i.attr("title",e.tooltip),wT.set(e.id,n),e.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}j(RW,"insertNode");var PRe=j((t,e)=>{wT.set(e.id,t)},"setNodeElem"),HRe=j(()=>{wT.clear()},"clear"),QRe=j(t=>{const e=wT.get(t.id);_t.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const r=8,n=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+n-t.width/2)+", "+(t.y-t.height/2-r)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),n},"positionNode"),USe=j((t,e,r,n,i,s)=>{e.arrowTypeStart&&D7(t,"start",e.arrowTypeStart,r,n,i,s),e.arrowTypeEnd&&D7(t,"end",e.arrowTypeEnd,r,n,i,s)},"addEdgeMarkers"),DSe={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},D7=j((t,e,r,n,i,s,a)=>{var f;const o=DSe[r];if(!o){_t.warn(`Unknown arrow type: ${r}`);return}const l=o.type,u=`${i}_${s}-${l}${e==="start"?"Start":"End"}`;if(a&&a.trim()!==""){const p=a.replace(/[^\dA-Za-z]/g,"_"),g=`${u}_${p}`;if(!document.getElementById(g)){const y=document.getElementById(u);if(y){const x=y.cloneNode(!0);x.id=g,x.querySelectorAll("path, circle, line").forEach(S=>{S.setAttribute("stroke",a),o.fill&&S.setAttribute("fill",a)}),(f=y.parentNode)==null||f.appendChild(x)}}t.attr(`marker-${e}`,`url(${n}#${g})`)}else t.attr(`marker-${e}`,`url(${n}#${u})`)},"addEdgeMarker"),DE=new Map,Fo=new Map,jRe=j(()=>{DE.clear(),Fo.clear()},"clear"),y5=j(t=>t?t.reduce((r,n)=>r+";"+n,""):"","getLabelStyles"),OSe=j(async(t,e)=>{let r=Ga(fi().flowchart.htmlLabels);const{labelStyles:n}=fr(e);e.labelStyle=n;const i=await Op(t,e.label,{style:e.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});_t.info("abc82",e,e.labelType);const s=t.insert("g").attr("class","edgeLabel"),a=s.insert("g").attr("class","label").attr("data-id",e.id);a.node().appendChild(i);let o=i.getBBox();if(r){const c=i.children[0],u=Vn(i);o=c.getBoundingClientRect(),u.attr("width",o.width),u.attr("height",o.height)}a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),DE.set(e.id,s),e.width=o.width,e.height=o.height;let l;if(e.startLabelLeft){const c=await gg(e.startLabelLeft,y5(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),f=u.insert("g").attr("class","inner");l=f.node().appendChild(c);const p=c.getBBox();f.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),Fo.get(e.id)||Fo.set(e.id,{}),Fo.get(e.id).startLeft=u,M2(l,e.startLabelLeft)}if(e.startLabelRight){const c=await gg(e.startLabelRight,y5(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),f=u.insert("g").attr("class","inner");l=u.node().appendChild(c),f.node().appendChild(c);const p=c.getBBox();f.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),Fo.get(e.id)||Fo.set(e.id,{}),Fo.get(e.id).startRight=u,M2(l,e.startLabelRight)}if(e.endLabelLeft){const c=await gg(e.endLabelLeft,y5(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),f=u.insert("g").attr("class","inner");l=f.node().appendChild(c);const p=c.getBBox();f.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),u.node().appendChild(c),Fo.get(e.id)||Fo.set(e.id,{}),Fo.get(e.id).endLeft=u,M2(l,e.endLabelLeft)}if(e.endLabelRight){const c=await gg(e.endLabelRight,y5(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),f=u.insert("g").attr("class","inner");l=f.node().appendChild(c);const p=c.getBBox();f.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),u.node().appendChild(c),Fo.get(e.id)||Fo.set(e.id,{}),Fo.get(e.id).endRight=u,M2(l,e.endLabelRight)}return i},"insertEdgeLabel");function M2(t,e){fi().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}j(M2,"setTerminalWidth");var PSe=j((t,e)=>{_t.debug("Moving label abc88 ",t.id,t.label,DE.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath;const n=fi(),{subGraphTitleTotalMargin:i}=nR(n);if(t.label){const s=DE.get(t.id);let a=t.x,o=t.y;if(r){const l=Vu.calcLabelPosition(r);_t.debug("Moving label "+t.label+" from (",a,",",o,") to (",l.x,",",l.y,") abc88"),e.updatedPath&&(a=l.x,o=l.y)}s.attr("transform",`translate(${a}, ${o+i/2})`)}if(t.startLabelLeft){const s=Fo.get(t.id).startLeft;let a=t.x,o=t.y;if(r){const l=Vu.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(t.startLabelRight){const s=Fo.get(t.id).startRight;let a=t.x,o=t.y;if(r){const l=Vu.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(t.endLabelLeft){const s=Fo.get(t.id).endLeft;let a=t.x,o=t.y;if(r){const l=Vu.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(t.endLabelRight){const s=Fo.get(t.id).endRight;let a=t.x,o=t.y;if(r){const l=Vu.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}},"positionEdgeLabel"),HSe=j((t,e)=>{const r=t.x,n=t.y,i=Math.abs(e.x-r),s=Math.abs(e.y-n),a=t.width/2,o=t.height/2;return i>=a||s>=o},"outsideNode"),QSe=j((t,e,r)=>{_t.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const n=t.x,i=t.y,s=Math.abs(n-r.x),a=t.width/2;let o=r.x<e.x?a-s:a+s;const l=t.height/2,c=Math.abs(e.y-r.y),u=Math.abs(e.x-r.x);if(Math.abs(i-e.y)*a>Math.abs(n-e.x)*l){let f=r.y<e.y?e.y-l-i:i-l-e.y;o=u*f/c;const p={x:r.x<e.x?r.x+o:r.x-u+o,y:r.y<e.y?r.y+c-f:r.y-c+f};return o===0&&(p.x=e.x,p.y=e.y),u===0&&(p.x=e.x),c===0&&(p.y=e.y),_t.debug(`abc89 top/bottom calc, Q ${c}, q ${f}, R ${u}, r ${o}`,p),p}else{r.x<e.x?o=e.x-a-n:o=n-a-e.x;let f=c*o/u,p=r.x<e.x?r.x+u-o:r.x-u+o,g=r.y<e.y?r.y+f:r.y-f;return _t.debug(`sides calc abc89, Q ${c}, q ${f}, R ${u}, r ${o}`,{_x:p,_y:g}),o===0&&(p=e.x,g=e.y),u===0&&(p=e.x),c===0&&(g=e.y),{x:p,y:g}}},"intersection"),O7=j((t,e)=>{_t.warn("abc88 cutPathAtIntersect",t,e);let r=[],n=t[0],i=!1;return t.forEach(s=>{if(_t.info("abc88 checking point",s,e),!HSe(e,s)&&!i){const a=QSe(e,n,s);_t.debug("abc88 inside",s,n,a),_t.debug("abc88 intersection",a,e);let o=!1;r.forEach(l=>{o=o||l.x===a.x&&l.y===a.y}),r.some(l=>l.x===a.x&&l.y===a.y)?_t.warn("abc88 no intersect",a,r):r.push(a),i=!0}else _t.warn("abc88 outside",s,n),n=s,i||r.push(s)}),_t.debug("returning points",r),r},"cutPathAtIntersect");function MW(t){const e=[],r=[];for(let n=1;n<t.length-1;n++){const i=t[n-1],s=t[n],a=t[n+1];(i.x===s.x&&s.y===a.y&&Math.abs(s.x-a.x)>5&&Math.abs(s.y-i.y)>5||i.y===s.y&&s.x===a.x&&Math.abs(s.x-i.x)>5&&Math.abs(s.y-a.y)>5)&&(e.push(s),r.push(n))}return{cornerPoints:e,cornerPointPositions:r}}j(MW,"extractCornerPoints");var P7=j(function(t,e,r){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i),a=r/s;return{x:e.x-a*n,y:e.y-a*i}},"findAdjacentPoint"),jSe=j(function(t){const{cornerPointPositions:e}=MW(t),r=[];for(let n=0;n<t.length;n++)if(e.includes(n)){const i=t[n-1],s=t[n+1],a=t[n],o=P7(i,a,5),l=P7(s,a,5),c=l.x-o.x,u=l.y-o.y;r.push(o);const f=Math.sqrt(2)*2;let p={x:a.x,y:a.y};if(Math.abs(s.x-i.x)>10&&Math.abs(s.y-i.y)>=10){_t.debug("Corner point fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));const g=5;a.x===o.x?p={x:c<0?o.x-g+f:o.x+g-f,y:u<0?o.y-f:o.y+f}:p={x:c<0?o.x-f:o.x+f,y:u<0?o.y-g+f:o.y+g-f}}else _t.debug("Corner point skipping fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));r.push(p,l)}else r.push(t[n]);return r},"fixCorners"),GSe=j((t,e,r)=>{const n=t-e-r,i=2,s=2,a=i+s,o=Math.floor(n/a),l=Array(o).fill(`${i} ${s}`).join(" ");return`0 ${e} ${l} ${r}`},"generateDashArray"),VSe=j(function(t,e,r,n,i,s,a,o=!1){var Z;const{handDrawnSeed:l}=fi();let c=e.points,u=!1;const f=i;var p=s;const g=[];for(const se in e.cssCompiledStyles)hz(se)||g.push(e.cssCompiledStyles[se]);_t.debug("UIO intersect check",e.points,p.x,f.x),p.intersect&&f.intersect&&!o&&(c=c.slice(1,e.points.length-1),c.unshift(f.intersect(c[0])),_t.debug("Last point UIO",e.start,"-->",e.end,c[c.length-1],p,p.intersect(c[c.length-1])),c.push(p.intersect(c[c.length-1])));const y=btoa(JSON.stringify(c));e.toCluster&&(_t.info("to cluster abc88",r.get(e.toCluster)),c=O7(e.points,r.get(e.toCluster).node),u=!0),e.fromCluster&&(_t.debug("from cluster abc88",r.get(e.fromCluster),JSON.stringify(c,null,2)),c=O7(c.reverse(),r.get(e.fromCluster).node).reverse(),u=!0);let x=c.filter(se=>!Number.isNaN(se.y));x=jSe(x);let w=v_;switch(w=dE,e.curve){case"linear":w=dE;break;case"basis":w=v_;break;case"cardinal":w=g$;break;case"bumpX":w=u$;break;case"bumpY":w=h$;break;case"catmullRom":w=y$;break;case"monotoneX":w=S$;break;case"monotoneY":w=_$;break;case"natural":w=B$;break;case"step":w=T$;break;case"stepAfter":w=F$;break;case"stepBefore":w=N$;break;default:w=v_}const{x:S,y:B}=jve(e),F=_xe().x(S).y(B).curve(w);let k;switch(e.thickness){case"normal":k="edge-thickness-normal";break;case"thick":k="edge-thickness-thick";break;case"invisible":k="edge-thickness-invisible";break;default:k="edge-thickness-normal"}switch(e.pattern){case"solid":k+=" edge-pattern-solid";break;case"dotted":k+=" edge-pattern-dotted";break;case"dashed":k+=" edge-pattern-dashed";break;default:k+=" edge-pattern-solid"}let O,R=e.curve==="rounded"?UW(DW(x,e),5):F(x);const D=Array.isArray(e.style)?e.style:[e.style];let Q=D.find(se=>se==null?void 0:se.startsWith("stroke:")),V=!1;if(e.look==="handDrawn"){const se=lr.svg(t);Object.assign([],x);const X=se.path(R,{roughness:.3,seed:l});k+=" transition",O=Vn(X).select("path").attr("id",e.id).attr("class"," "+k+(e.classes?" "+e.classes:"")).attr("style",D?D.reduce((te,Ce)=>te+";"+Ce,""):"");let ee=O.attr("d");O.attr("d",ee),t.node().appendChild(O.node())}else{const se=g.join(";"),X=D?D.reduce((G,W)=>G+W+";",""):"";let ee="";e.animate&&(ee=" edge-animation-fast"),e.animation&&(ee=" edge-animation-"+e.animation);const te=(se?se+";"+X+";":X)+";"+(D?D.reduce((G,W)=>G+";"+W,""):"");O=t.append("path").attr("d",R).attr("id",e.id).attr("class"," "+k+(e.classes?" "+e.classes:"")+(ee??"")).attr("style",te),Q=(Z=te.match(/stroke:([^;]+)/))==null?void 0:Z[1],V=e.animate===!0||!!e.animation||se.includes("animation");const Ce=O.node(),ke=typeof Ce.getTotalLength=="function"?Ce.getTotalLength():0,le=t7[e.arrowTypeStart]||0,M=t7[e.arrowTypeEnd]||0;if(e.look==="neo"&&!V){const W=`stroke-dasharray: ${e.pattern==="dotted"||e.pattern==="dashed"?GSe(ke,le,M):`0 ${le} ${ke-le-M} ${M}`}; stroke-dashoffset: 0;`;O.attr("style",W+O.attr("style"))}}O.attr("data-edge",!0),O.attr("data-et","edge"),O.attr("data-id",e.id),O.attr("data-points",y),e.showPoints&&x.forEach(se=>{t.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",se.x).attr("cy",se.y)});let re="";(fi().flowchart.arrowMarkerAbsolute||fi().state.arrowMarkerAbsolute)&&(re=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,re=re.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),_t.info("arrowTypeStart",e.arrowTypeStart),_t.info("arrowTypeEnd",e.arrowTypeEnd),USe(O,e,re,a,n,Q);const P=Math.floor(c.length/2),H=c[P];Vu.isLabelCoordinateInPath(H,O.attr("d"))||(u=!0);let q={};return u&&(q.updatedPath=c),q.originalPath=e.points,q},"insertEdge");function UW(t,e){if(t.length<2)return"";let r="";const n=t.length,i=1e-5;for(let s=0;s<n;s++){const a=t[s],o=t[s-1],l=t[s+1];if(s===0)r+=`M${a.x},${a.y}`;else if(s===n-1)r+=`L${a.x},${a.y}`;else{const c=a.x-o.x,u=a.y-o.y,f=l.x-a.x,p=l.y-a.y,g=Math.hypot(c,u),y=Math.hypot(f,p);if(g<i||y<i){r+=`L${a.x},${a.y}`;continue}const x=c/g,w=u/g,S=f/y,B=p/y,F=x*S+w*B,k=Math.max(-1,Math.min(1,F)),O=Math.acos(k);if(O<i||Math.abs(Math.PI-O)<i){r+=`L${a.x},${a.y}`;continue}const R=Math.min(e/Math.sin(O/2),g/2,y/2),D=a.x-x*R,Q=a.y-w*R,V=a.x+S*R,re=a.y+B*R;r+=`L${D},${Q}`,r+=`Q${a.x},${a.y} ${V},${re}`}}return r}j(UW,"generateRoundedPath");function kk(t,e){if(!t||!e)return{angle:0,deltaX:0,deltaY:0};const r=e.x-t.x,n=e.y-t.y;return{angle:Math.atan2(n,r),deltaX:r,deltaY:n}}j(kk,"calculateDeltaAndAngle");function DW(t,e){const r=t.map(i=>({...i}));if(t.length>=2&&sl[e.arrowTypeStart]){const i=sl[e.arrowTypeStart],s=t[0],a=t[1],{angle:o}=kk(s,a),l=i*Math.cos(o),c=i*Math.sin(o);r[0].x=s.x+l,r[0].y=s.y+c}const n=t.length;if(n>=2&&sl[e.arrowTypeEnd]){const i=sl[e.arrowTypeEnd],s=t[n-1],a=t[n-2],{angle:o}=kk(a,s),l=i*Math.cos(o),c=i*Math.sin(o);r[n-1].x=s.x-l,r[n-1].y=s.y-c}return r}j(DW,"applyMarkerOffsetsToPoints");var $Se=j((t,e,r,n)=>{e.forEach(i=>{o5e[i](t,r,n)})},"insertMarkers"),qSe=j((t,e,r)=>{_t.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),zSe=j((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),KSe=j((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),WSe=j((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),YSe=j((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),XSe=j((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),JSe=j((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),ZSe=j((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),e5e=j((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),t5e=j((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),r5e=j((t,e,r)=>{const n=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("d","M9,0 L9,18");const i=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),n5e=j((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),i5e=j((t,e,r)=>{const n=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const i=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),s5e=j((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),a5e=j((t,e,r)=>{const n=t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");n.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),n.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),n.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),o5e={extension:qSe,composition:zSe,aggregation:KSe,dependency:WSe,lollipop:YSe,point:XSe,circle:JSe,cross:ZSe,barb:e5e,only_one:t5e,zero_or_one:r5e,one_or_more:n5e,zero_or_more:i5e,requirement_arrow:s5e,requirement_contains:a5e},l5e=$Se,c5e={common:Gx,getConfig:Al,insertCluster:mSe,insertEdge:VSe,insertEdgeLabel:OSe,insertMarkers:l5e,insertNode:RW,interpolateToCurve:lR,labelHelper:jr,log:_t,positionEdgeLabel:PSe},_w={},OW=j(t=>{for(const e of t)_w[e.name]=e},"registerLayoutLoaders"),A5e=j(()=>{OW([{name:"dagre",loader:j(async()=>await Sn(()=>import("./dagre-6UL2VRFP-B4Ds-FoW.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")},{name:"cose-bilkent",loader:j(async()=>await Sn(()=>import("./cose-bilkent-S5V4N54A-BxGw8V0o.js"),__vite__mapDeps([6,7])),"loader")}])},"registerDefaultLayoutLoaders");A5e();var GRe=j(async(t,e)=>{if(!(t.layoutAlgorithm in _w))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const r=_w[t.layoutAlgorithm];return(await r.loader()).render(t,e,c5e,{algorithm:r.algorithm})},"render"),VRe=j((t="",{fallback:e="dagre"}={})=>{if(t in _w)return t;if(e in _w)return _t.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),PW="comm",HW="rule",QW="decl",u5e="@import",h5e="@namespace",f5e="@keyframes",d5e="@layer",jW=Math.abs,TR=String.fromCharCode;function GW(t){return t.trim()}function __(t,e,r){return t.replace(e,r)}function p5e(t,e,r){return t.indexOf(e,r)}function py(t,e){return t.charCodeAt(e)|0}function Mx(t,e,r){return t.slice(e,r)}function $h(t){return t.length}function g5e(t){return t.length}function x5(t,e){return e.push(t),t}var bT=1,Ux=1,VW=0,WA=0,xa=0,Kx="";function NR(t,e,r,n,i,s,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:bT,column:Ux,length:a,return:"",siblings:o}}function m5e(){return xa}function y5e(){return xa=WA>0?py(Kx,--WA):0,Ux--,xa===10&&(Ux=1,bT--),xa}function Xu(){return xa=WA<VW?py(Kx,WA++):0,Ux++,xa===10&&(Ux=1,bT++),xa}function dp(){return py(Kx,WA)}function E_(){return WA}function CT(t,e){return Mx(Kx,t,e)}function Ew(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function x5e(t){return bT=Ux=1,VW=$h(Kx=t),WA=0,[]}function v5e(t){return Kx="",t}function gN(t){return GW(CT(WA-1,Lk(t===91?t+2:t===40?t+1:t)))}function w5e(t){for(;(xa=dp())&&xa<33;)Xu();return Ew(t)>2||Ew(xa)>3?"":" "}function b5e(t,e){for(;--e&&Xu()&&!(xa<48||xa>102||xa>57&&xa<65||xa>70&&xa<97););return CT(t,E_()+(e<6&&dp()==32&&Xu()==32))}function Lk(t){for(;Xu();)switch(xa){case t:return WA;case 34:case 39:t!==34&&t!==39&&Lk(xa);break;case 40:t===41&&Lk(t);break;case 92:Xu();break}return WA}function C5e(t,e){for(;Xu()&&t+xa!==57;)if(t+xa===84&&dp()===47)break;return"/*"+CT(e,WA-1)+"*"+TR(t===47?t:Xu())}function S5e(t){for(;!Ew(dp());)Xu();return CT(t,WA)}function _5e(t){return v5e(B_("",null,null,null,[""],t=x5e(t),0,[0],t))}function B_(t,e,r,n,i,s,a,o,l){for(var c=0,u=0,f=a,p=0,g=0,y=0,x=1,w=1,S=1,B=0,F="",k=i,O=s,R=n,D=F;w;)switch(y=B,B=Xu()){case 40:if(y!=108&&py(D,f-1)==58){p5e(D+=__(gN(B),"&","&\f"),"&\f",jW(c?o[c-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:D+=gN(B);break;case 9:case 10:case 13:case 32:D+=w5e(y);break;case 92:D+=b5e(E_()-1,7);continue;case 47:switch(dp()){case 42:case 47:x5(E5e(C5e(Xu(),E_()),e,r,l),l),(Ew(y||1)==5||Ew(dp()||1)==5)&&$h(D)&&Mx(D,-1,void 0)!==" "&&(D+=" ");break;default:D+="/"}break;case 123*x:o[c++]=$h(D)*S;case 125*x:case 59:case 0:switch(B){case 0:case 125:w=0;case 59+u:S==-1&&(D=__(D,/\f/g,"")),g>0&&($h(D)-f||x===0&&y===47)&&x5(g>32?Q7(D+";",n,r,f-1,l):Q7(__(D," ","")+";",n,r,f-2,l),l);break;case 59:D+=";";default:if(x5(R=H7(D,e,r,c,u,i,o,F,k=[],O=[],f,s),s),B===123)if(u===0)B_(D,e,R,R,k,s,f,o,O);else{switch(p){case 99:if(py(D,3)===110)break;case 108:if(py(D,2)===97)break;default:u=0;case 100:case 109:case 115:}u?B_(t,R,R,n&&x5(H7(t,R,R,0,0,i,o,F,i,k=[],f,O),O),i,O,f,o,n?k:O):B_(D,R,R,R,[""],O,0,o,O)}}c=u=g=0,x=S=1,F=D="",f=a;break;case 58:f=1+$h(D),g=y;default:if(x<1){if(B==123)--x;else if(B==125&&x++==0&&y5e()==125)continue}switch(D+=TR(B),B*x){case 38:S=u>0?1:(D+="\f",-1);break;case 44:o[c++]=($h(D)-1)*S,S=1;break;case 64:dp()===45&&(D+=gN(Xu())),p=dp(),u=f=$h(F=D+=S5e(E_())),B++;break;case 45:y===45&&$h(D)==2&&(x=0)}}return s}function H7(t,e,r,n,i,s,a,o,l,c,u,f){for(var p=i-1,g=i===0?s:[""],y=g5e(g),x=0,w=0,S=0;x<n;++x)for(var B=0,F=Mx(t,p+1,p=jW(w=a[x])),k=t;B<y;++B)(k=GW(w>0?g[B]+" "+F:__(F,/&\f/g,g[B])))&&(l[S++]=k);return NR(t,e,r,i===0?HW:o,l,c,u,f)}function E5e(t,e,r,n){return NR(t,e,r,PW,TR(m5e()),Mx(t,2,-2),0,n)}function Q7(t,e,r,n,i){return NR(t,e,r,QW,Mx(t,0,n),Mx(t,n+1,-1),n,i)}function Rk(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function B5e(t,e,r,n){switch(t.type){case d5e:if(t.children.length)break;case u5e:case h5e:case QW:return t.return=t.return||t.value;case PW:return"";case f5e:return t.return=t.value+"{"+Rk(t.children,n)+"}";case HW:if(!$h(t.value=t.props.join(",")))return""}return $h(r=Rk(t.children,n))?t.return=t.value+"{"+r+"}":""}var T5e=gz(Object.keys,Object),N5e=Object.prototype,F5e=N5e.hasOwnProperty;function I5e(t){if(!hT(t))return T5e(t);var e=[];for(var r in Object(t))F5e.call(t,r)&&r!="constructor"&&e.push(r);return e}var Mk=Vm(bf,"DataView"),Uk=Vm(bf,"Promise"),Dk=Vm(bf,"Set"),Ok=Vm(bf,"WeakMap"),j7="[object Map]",k5e="[object Object]",G7="[object Promise]",V7="[object Set]",$7="[object WeakMap]",q7="[object DataView]",L5e=Gm(Mk),R5e=Gm(Cw),M5e=Gm(Uk),U5e=Gm(Dk),D5e=Gm(Ok),sg=$x;(Mk&&sg(new Mk(new ArrayBuffer(1)))!=q7||Cw&&sg(new Cw)!=j7||Uk&&sg(Uk.resolve())!=G7||Dk&&sg(new Dk)!=V7||Ok&&sg(new Ok)!=$7)&&(sg=function(t){var e=$x(t),r=e==k5e?t.constructor:void 0,n=r?Gm(r):"";if(n)switch(n){case L5e:return q7;case R5e:return j7;case M5e:return G7;case U5e:return V7;case D5e:return $7}return e});var O5e="[object Map]",P5e="[object Set]",H5e=Object.prototype,Q5e=H5e.hasOwnProperty;function z7(t){if(t==null)return!0;if(fT(t)&&(BE(t)||typeof t=="string"||typeof t.splice=="function"||aR(t)||oR(t)||EE(t)))return!t.length;var e=sg(t);if(e==O5e||e==P5e)return!t.size;if(hT(t))return!I5e(t).length;for(var r in t)if(Q5e.call(t,r))return!1;return!0}var $W="c4",j5e=j(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),G5e=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./c4Diagram-YG6GDRKO-BlZ9-DRx.js");return{diagram:e}},__vite__mapDeps([8,9]));return{id:$W,diagram:t}},"loader"),V5e={id:$W,detector:j5e,loader:G5e},$5e=V5e,qW="flowchart",q5e=j((t,e)=>{var r,n;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(t)},"detector"),z5e=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-d49QxutV.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:qW,diagram:t}},"loader"),K5e={id:qW,detector:q5e,loader:z5e},W5e=K5e,zW="flowchart-v2",Y5e=j((t,e)=>{var r,n,i;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"?!1:(((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(t))},"detector"),X5e=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-d49QxutV.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:zW,diagram:t}},"loader"),J5e={id:zW,detector:Y5e,loader:X5e},Z5e=J5e,KW="er",e_e=j(t=>/^\s*erDiagram/.test(t),"detector"),t_e=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./erDiagram-Q2GNP2WA-BhAWRnp7.js");return{diagram:e}},__vite__mapDeps([15,12,13,14]));return{id:KW,diagram:t}},"loader"),r_e={id:KW,detector:e_e,loader:t_e},n_e=r_e,WW="gitGraph",i_e=j(t=>/^\s*gitGraph/.test(t),"detector"),s_e=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./gitGraphDiagram-NY62KEGX-CH8L3eW9.js");return{diagram:e}},__vite__mapDeps([16,17,18,19,4,2]));return{id:WW,diagram:t}},"loader"),a_e={id:WW,detector:i_e,loader:s_e},o_e=a_e,YW="gantt",l_e=j(t=>/^\s*gantt/.test(t),"detector"),c_e=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./ganttDiagram-JELNMOA3-BXYyVDU0.js");return{diagram:e}},__vite__mapDeps([20,21,22,23]));return{id:YW,diagram:t}},"loader"),A_e={id:YW,detector:l_e,loader:c_e},u_e=A_e,XW="info",h_e=j(t=>/^\s*info/.test(t),"detector"),f_e=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./infoDiagram-WHAUD3N6-Da-LRQ-b.js");return{diagram:e}},__vite__mapDeps([24,19,4,2]));return{id:XW,diagram:t}},"loader"),d_e={id:XW,detector:h_e,loader:f_e},JW="pie",p_e=j(t=>/^\s*pie/.test(t),"detector"),g_e=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./pieDiagram-ADFJNKIX-QYCxAG69.js");return{diagram:e}},__vite__mapDeps([25,17,19,4,2,26,27,22]));return{id:JW,diagram:t}},"loader"),m_e={id:JW,detector:p_e,loader:g_e},ZW="quadrantChart",y_e=j(t=>/^\s*quadrantChart/.test(t),"detector"),x_e=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./quadrantDiagram-AYHSOK5B-BIxbdnWm.js");return{diagram:e}},__vite__mapDeps([28,21,22,23]));return{id:ZW,diagram:t}},"loader"),v_e={id:ZW,detector:y_e,loader:x_e},w_e=v_e,eY="xychart",b_e=j(t=>/^\s*xychart(-beta)?/.test(t),"detector"),C_e=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./xychartDiagram-PRI3JC2R-ukhxKrXu.js");return{diagram:e}},__vite__mapDeps([29,22,27,21,23]));return{id:eY,diagram:t}},"loader"),S_e={id:eY,detector:b_e,loader:C_e},__e=S_e,tY="requirement",E_e=j(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),B_e=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./requirementDiagram-UZGBJVZJ-215nwxt_.js");return{diagram:e}},__vite__mapDeps([30,12,13]));return{id:tY,diagram:t}},"loader"),T_e={id:tY,detector:E_e,loader:B_e},N_e=T_e,rY="sequence",F_e=j(t=>/^\s*sequenceDiagram/.test(t),"detector"),I_e=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./sequenceDiagram-WL72ISMW-v0P6PYYT.js");return{diagram:e}},__vite__mapDeps([31,9,18]));return{id:rY,diagram:t}},"loader"),k_e={id:rY,detector:F_e,loader:I_e},L_e=k_e,nY="class",R_e=j((t,e)=>{var r;return((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t)},"detector"),M_e=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./classDiagram-2ON5EDUG-CerL7RkB.js");return{diagram:e}},__vite__mapDeps([32,33,11,12,13]));return{id:nY,diagram:t}},"loader"),U_e={id:nY,detector:R_e,loader:M_e},D_e=U_e,iY="classDiagram",O_e=j((t,e)=>{var r;return/^\s*classDiagram/.test(t)&&((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t)},"detector"),P_e=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./classDiagram-v2-WZHVMYZB-CerL7RkB.js");return{diagram:e}},__vite__mapDeps([34,33,11,12,13]));return{id:iY,diagram:t}},"loader"),H_e={id:iY,detector:O_e,loader:P_e},Q_e=H_e,sY="state",j_e=j((t,e)=>{var r;return((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t)},"detector"),G_e=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./stateDiagram-FKZM4ZOC-C9Nb6jX5.js");return{diagram:e}},__vite__mapDeps([35,36,12,13,1,2,3,4]));return{id:sY,diagram:t}},"loader"),V_e={id:sY,detector:j_e,loader:G_e},$_e=V_e,aY="stateDiagram",q_e=j((t,e)=>{var r;return!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},"detector"),z_e=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./stateDiagram-v2-4FDKWEC3-Bhqau-fA.js");return{diagram:e}},__vite__mapDeps([37,36,12,13]));return{id:aY,diagram:t}},"loader"),K_e={id:aY,detector:q_e,loader:z_e},W_e=K_e,oY="journey",Y_e=j(t=>/^\s*journey/.test(t),"detector"),X_e=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./journeyDiagram-XKPGCS4Q-BT_z4LFc.js");return{diagram:e}},__vite__mapDeps([38,9,11,26]));return{id:oY,diagram:t}},"loader"),J_e={id:oY,detector:Y_e,loader:X_e},Z_e=J_e,eEe=j((t,e,r)=>{_t.debug(`rendering svg for syntax error
`);const n=Rxe(e),i=n.append("g");n.attr("viewBox","0 0 2412 512"),RV(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),lY={draw:eEe},tEe=lY,rEe={db:{},renderer:lY,parser:{parse:j(()=>{},"parse")}},nEe=rEe,cY="flowchart-elk",iEe=j((t,e={})=>{var r;return/^\s*flowchart-elk/.test(t)||/^\s*(flowchart|graph)/.test(t)&&((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="elk"?(e.layout="elk",!0):!1},"detector"),sEe=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-d49QxutV.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:cY,diagram:t}},"loader"),aEe={id:cY,detector:iEe,loader:sEe},oEe=aEe,AY="timeline",lEe=j(t=>/^\s*timeline/.test(t),"detector"),cEe=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./timeline-definition-IT6M3QCI-DlrQo0-L.js");return{diagram:e}},__vite__mapDeps([39,26]));return{id:AY,diagram:t}},"loader"),AEe={id:AY,detector:lEe,loader:cEe},uEe=AEe,uY="mindmap",hEe=j(t=>/^\s*mindmap/.test(t),"detector"),fEe=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./mindmap-definition-VGOIOE7T-CFwiSPq6.js");return{diagram:e}},__vite__mapDeps([40,12,13]));return{id:uY,diagram:t}},"loader"),dEe={id:uY,detector:hEe,loader:fEe},pEe=dEe,hY="kanban",gEe=j(t=>/^\s*kanban/.test(t),"detector"),mEe=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./kanban-definition-3W4ZIXB7-BR3vOd_P.js");return{diagram:e}},__vite__mapDeps([41,11]));return{id:hY,diagram:t}},"loader"),yEe={id:hY,detector:gEe,loader:mEe},xEe=yEe,fY="sankey",vEe=j(t=>/^\s*sankey(-beta)?/.test(t),"detector"),wEe=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./sankeyDiagram-TZEHDZUN-C74VZ6GU.js");return{diagram:e}},__vite__mapDeps([42,27,22]));return{id:fY,diagram:t}},"loader"),bEe={id:fY,detector:vEe,loader:wEe},CEe=bEe,dY="packet",SEe=j(t=>/^\s*packet(-beta)?/.test(t),"detector"),_Ee=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./diagram-S2PKOQOG-CLh6H9IG.js");return{diagram:e}},__vite__mapDeps([43,17,19,4,2]));return{id:dY,diagram:t}},"loader"),EEe={id:dY,detector:SEe,loader:_Ee},pY="radar",BEe=j(t=>/^\s*radar-beta/.test(t),"detector"),TEe=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./diagram-QEK2KX5R-tNQZZEZH.js");return{diagram:e}},__vite__mapDeps([44,17,19,4,2]));return{id:pY,diagram:t}},"loader"),NEe={id:pY,detector:BEe,loader:TEe},gY="block",FEe=j(t=>/^\s*block(-beta)?/.test(t),"detector"),IEe=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./blockDiagram-VD42YOAC-DkfHFJoT.js");return{diagram:e}},__vite__mapDeps([45,11,5,1,2,14]));return{id:gY,diagram:t}},"loader"),kEe={id:gY,detector:FEe,loader:IEe},LEe=kEe,mY="architecture",REe=j(t=>/^\s*architecture/.test(t),"detector"),MEe=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./architectureDiagram-VXUJARFQ-BYQAOcwa.js");return{diagram:e}},__vite__mapDeps([46,17,19,4,2,7]));return{id:mY,diagram:t}},"loader"),UEe={id:mY,detector:REe,loader:MEe},DEe=UEe,yY="treemap",OEe=j(t=>/^\s*treemap/.test(t),"detector"),PEe=j(async()=>{const{diagram:t}=await Sn(async()=>{const{diagram:e}=await import("./diagram-PSM6KHXK-C2qiNeeT.js");return{diagram:e}},__vite__mapDeps([47,13,17,19,4,2,23,27,22]));return{id:yY,diagram:t}},"loader"),HEe={id:yY,detector:OEe,loader:PEe},K7=!1,ST=j(()=>{K7||(K7=!0,oE("error",nEe,t=>t.toLowerCase().trim()==="error"),oE("---",{db:{clear:j(()=>{},"clear")},styles:{},renderer:{draw:j(()=>{},"draw")},parser:{parse:j(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:j(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),$I(oEe,pEe,DEe),$I($5e,xEe,Q_e,D_e,n_e,u_e,d_e,m_e,N_e,L_e,Z5e,W5e,uEe,o_e,W_e,$_e,Z_e,w_e,CEe,EEe,__e,LEe,NEe,HEe))},"addDiagrams"),QEe=j(async()=>{_t.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(Sm).map(async([r,{detector:n,loader:i}])=>{if(i)try{WI(r)}catch{try{const{diagram:s,id:a}=await i();oE(a,s,n)}catch(s){throw _t.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete Sm[r],s}}}))).filter(r=>r.status==="rejected");if(e.length>0){_t.error(`Failed to load ${e.length} external diagrams`);for(const r of e)_t.error(r);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),jEe="graphics-document document";function xY(t,e){t.attr("role",jEe),e!==""&&t.attr("aria-roledescription",e)}j(xY,"setA11yDiagramInfo");function vY(t,e,r,n){if(t.insert!==void 0){if(r){const i=`chart-desc-${n}`;t.attr("aria-describedby",i),t.insert("desc",":first-child").attr("id",i).text(r)}if(e){const i=`chart-title-${n}`;t.attr("aria-labelledby",i),t.insert("title",":first-child").attr("id",i).text(e)}}}j(vY,"addSVGa11yTitleDescription");var ym,Pk=(ym=class{constructor(e,r,n,i,s){this.type=e,this.text=r,this.db=n,this.parser=i,this.renderer=s}static async fromText(e,r={}){var c,u;const n=Al(),i=IL(e,n);e=Hbe(e)+`
`;try{WI(i)}catch{const f=Age(i);if(!f)throw new bV(`Diagram ${i} not found.`);const{id:p,diagram:g}=await f();oE(p,g)}const{db:s,parser:a,renderer:o,init:l}=WI(i);return a.parser&&(a.parser.yy=s),(c=s.clear)==null||c.call(s),l==null||l(n),r.title&&((u=s.setDiagramTitle)==null||u.call(s,r.title)),await a.parse(e),new ym(i,e,s,a,o)}async render(e,r){await this.renderer.draw(this.text,e,r,this)}getParser(){return this.parser}getType(){return this.type}},j(ym,"Diagram"),ym),W7=[],GEe=j(()=>{W7.forEach(t=>{t()}),W7=[]},"attachFunctions"),VEe=j(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function wY(t){const e=t.match(wV);if(!e)return{text:t,metadata:{}};let r=Qve(e[1],{schema:Hve})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:t.slice(e[0].length),metadata:n}}j(wY,"extractFrontMatter");var $Ee=j(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),qEe=j(t=>{const{text:e,metadata:r}=wY(t),{displayMode:n,title:i,config:s={}}=r;return n&&(s.gantt||(s.gantt={}),s.gantt.displayMode=n),{title:i,config:s,text:e}},"processFrontmatter"),zEe=j(t=>{const e=Vu.detectInit(t)??{},r=Vu.detectDirective(t,"wrap");return Array.isArray(r)?e.wrap=r.some(({type:n})=>n==="wrap"):(r==null?void 0:r.type)==="wrap"&&(e.wrap=!0),{text:Bbe(t),directive:e}},"processDirectives");function FR(t){const e=$Ee(t),r=qEe(e),n=zEe(r.text),i=fR(r.config,n.directive);return t=VEe(n.text),{code:t,title:r.title,config:i}}j(FR,"preprocessDiagram");function bY(t){const e=new TextEncoder().encode(t),r=Array.from(e,n=>String.fromCodePoint(n)).join("");return btoa(r)}j(bY,"toBase64");var KEe=5e4,WEe="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",YEe="sandbox",XEe="loose",JEe="http://www.w3.org/2000/svg",ZEe="http://www.w3.org/1999/xlink",eBe="http://www.w3.org/1999/xhtml",tBe="100%",rBe="100%",nBe="border:0;margin:0;",iBe="margin:0",sBe="allow-top-navigation-by-user-activation allow-popups",aBe='The "iframe" tag is not supported by your browser.',oBe=["foreignobject"],lBe=["dominant-baseline"];function IR(t){const e=FR(t);return sE(),Ege(e.config??{}),e}j(IR,"processAndSetConfigs");async function CY(t,e){ST();try{const{code:r,config:n}=IR(t);return{diagramType:(await _Y(r)).type,config:n}}catch(r){if(e!=null&&e.suppressErrors)return!1;throw r}}j(CY,"parse");var Y7=j((t,e,r=[])=>`
.${t} ${e} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),cBe=j((t,e=new Map)=>{var n;let r="";if(t.themeCSS!==void 0&&(r+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const o=t.htmlLabels??((n=t.flowchart)==null?void 0:n.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(l=>{z7(l.styles)||o.forEach(c=>{r+=Y7(l.id,c,l.styles)}),z7(l.textStyles)||(r+=Y7(l.id,"tspan",((l==null?void 0:l.textStyles)||[]).map(c=>c.replace("color","fill"))))})}return r},"createCssStyles"),ABe=j((t,e,r,n)=>{const i=cBe(t,r),s=qge(e,i,t.themeVariables);return Rk(_5e(`${n}{${s}}`),B5e)},"createUserStyles"),uBe=j((t="",e,r)=>{let n=t;return!r&&!e&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=$m(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),hBe=j((t="",e)=>{var i,s;const r=(s=(i=e==null?void 0:e.viewBox)==null?void 0:i.baseVal)!=null&&s.height?e.viewBox.baseVal.height+"px":rBe,n=bY(`<body style="${iBe}">${t}</body>`);return`<iframe style="width:${tBe};height:${r};${nBe}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${sBe}">
  ${aBe}
</iframe>`},"putIntoIFrame"),X7=j((t,e,r,n,i)=>{const s=t.append("div");s.attr("id",r),n&&s.attr("style",n);const a=s.append("svg").attr("id",e).attr("width","100%").attr("xmlns",JEe);return i&&a.attr("xmlns:xlink",i),a.append("g"),t},"appendDivSvgG");function Hk(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}j(Hk,"sandboxedIframe");var fBe=j((t,e,r,n)=>{var i,s,a;(i=t.getElementById(e))==null||i.remove(),(s=t.getElementById(r))==null||s.remove(),(a=t.getElementById(n))==null||a.remove()},"removeExistingElements"),dBe=j(async function(t,e,r){var H,q,Z,se,X,ee;ST();const n=IR(e);e=n.code;const i=Al();_t.debug(i),e.length>((i==null?void 0:i.maxTextSize)??KEe)&&(e=WEe);const s="#"+t,a="i"+t,o="#"+a,l="d"+t,c="#"+l,u=j(()=>{const Ce=Vn(p?o:c).node();Ce&&"remove"in Ce&&Ce.remove()},"removeTempElements");let f=Vn("body");const p=i.securityLevel===YEe,g=i.securityLevel===XEe,y=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),p){const te=Hk(Vn(r),a);f=Vn(te.nodes()[0].contentDocument.body),f.node().style.margin=0}else f=Vn(r);X7(f,t,l,`font-family: ${y}`,ZEe)}else{if(fBe(document,t,l,a),p){const te=Hk(Vn("body"),a);f=Vn(te.nodes()[0].contentDocument.body),f.node().style.margin=0}else f=Vn("body");X7(f,t,l)}let x,w;try{x=await Pk.fromText(e,{title:n.title})}catch(te){if(i.suppressErrorRendering)throw u(),te;x=await Pk.fromText("error"),w=te}const S=f.select(c).node(),B=x.type,F=S.firstChild,k=F.firstChild,O=(q=(H=x.renderer).getClasses)==null?void 0:q.call(H,e,x),R=ABe(i,B,O,s),D=document.createElement("style");D.innerHTML=R,F.insertBefore(D,k);try{await x.renderer.draw(e,t,gP.version,x)}catch(te){throw i.suppressErrorRendering?u():tEe.draw(e,t,gP.version),te}const Q=f.select(`${c} svg`),V=(se=(Z=x.db).getAccTitle)==null?void 0:se.call(Z),re=(ee=(X=x.db).getAccDescription)==null?void 0:ee.call(X);EY(B,Q,V,re),f.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",eBe);let P=f.select(c).node().innerHTML;if(_t.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),P=uBe(P,p,Ga(i.arrowMarkerAbsolute)),p){const te=f.select(c+" svg").node();P=hBe(P,te)}else g||(P=Tx.sanitize(P,{ADD_TAGS:oBe,ADD_ATTR:lBe,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(GEe(),w)throw w;return u(),{diagramType:B,svg:P,bindFunctions:x.db.bindFunctions}},"render");function SY(t={}){var n;const e=Qa({},t);e!=null&&e.fontFamily&&!((n=e.themeVariables)!=null&&n.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),Sge(e),e!=null&&e.theme&&e.theme in Ld?e.themeVariables=Ld[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Ld.default.getThemeVariables(e.themeVariables));const r=typeof e=="object"?Cge(e):BV();FL(r.logLevel),ST()}j(SY,"initialize");var _Y=j((t,e={})=>{const{code:r}=FR(t);return Pk.fromText(r,e)},"getDiagramFromText");function EY(t,e,r,n){xY(e,t),vY(e,r,n,e.attr("id"))}j(EY,"addA11yInfo");var Fm=Object.freeze({render:dBe,parse:CY,getDiagramFromText:_Y,initialize:SY,getConfig:Al,setConfig:TV,getSiteConfig:BV,updateSiteConfig:_ge,reset:j(()=>{sE()},"reset"),globalReset:j(()=>{sE(Nx)},"globalReset"),defaultConfig:Nx});FL(Al().logLevel);sE(Al());var pBe=j((t,e,r)=>{_t.warn(t),hR(t)?(r&&r(t.str,t.hash),e.push({...t,message:t.str,error:t})):(r&&r(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),BY=j(async function(t={querySelector:".mermaid"}){try{await gBe(t)}catch(e){if(hR(e)&&_t.error(e.str),iA.parseError&&iA.parseError(e),!t.suppressErrors)throw _t.error("Use the suppressErrors option to suppress these errors"),e}},"run"),gBe=j(async function({postRenderCallback:t,querySelector:e,nodes:r}={querySelector:".mermaid"}){const n=Fm.getConfig();_t.debug(`${t?"":"No "}Callback function found`);let i;if(r)i=r;else if(e)i=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");_t.debug(`Found ${i.length} diagrams`),(n==null?void 0:n.startOnLoad)!==void 0&&(_t.debug("Start On Load: "+(n==null?void 0:n.startOnLoad)),Fm.updateSiteConfig({startOnLoad:n==null?void 0:n.startOnLoad}));const s=new Vu.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let a;const o=[];for(const l of Array.from(i)){if(_t.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const c=`mermaid-${s.next()}`;a=l.innerHTML,a=Kz(Vu.entityDecode(a)).trim().replace(/<br\s*\/?>/gi,"<br/>");const u=Vu.detectInit(a);u&&_t.debug("Detected early reinit: ",u);try{const{svg:f,bindFunctions:p}=await IY(c,a,l);l.innerHTML=f,t&&await t(c),p&&p(l)}catch(f){pBe(f,o,iA.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),TY=j(function(t){Fm.initialize(t)},"initialize"),mBe=j(async function(t,e,r){_t.warn("mermaid.init is deprecated. Please use run instead."),t&&TY(t);const n={postRenderCallback:r,querySelector:".mermaid"};typeof e=="string"?n.querySelector=e:e&&(e instanceof HTMLElement?n.nodes=[e]:n.nodes=e),await BY(n)},"init"),yBe=j(async(t,{lazyLoad:e=!0}={})=>{ST(),$I(...t),e===!1&&await QEe()},"registerExternalDiagrams"),NY=j(function(){if(iA.startOnLoad){const{startOnLoad:t}=Fm.getConfig();t&&iA.run().catch(e=>_t.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",NY,!1);var xBe=j(function(t){iA.parseError=t},"setParseErrorHandler"),OE=[],mN=!1,FY=j(async()=>{if(!mN){for(mN=!0;OE.length>0;){const t=OE.shift();if(t)try{await t()}catch(e){_t.error("Error executing queue",e)}}mN=!1}},"executeQueue"),vBe=j(async(t,e)=>new Promise((r,n)=>{const i=j(()=>new Promise((s,a)=>{Fm.parse(t,e).then(o=>{s(o),r(o)},o=>{var l;_t.error("Error parsing",o),(l=iA.parseError)==null||l.call(iA,o),a(o),n(o)})}),"performCall");OE.push(i),FY().catch(n)}),"parse"),IY=j((t,e,r)=>new Promise((n,i)=>{const s=j(()=>new Promise((a,o)=>{Fm.render(t,e,r).then(l=>{a(l),n(l)},l=>{var c;_t.error("Error parsing",l),(c=iA.parseError)==null||c.call(iA,l),o(l),i(l)})}),"performCall");OE.push(s),FY().catch(i)}),"render"),wBe=j(()=>Object.keys(Sm).map(t=>({id:t})),"getRegisteredDiagramsMetadata"),iA={startOnLoad:!0,mermaidAPI:Fm,parse:vBe,render:IY,init:mBe,run:BY,registerExternalDiagrams:yBe,registerLayoutLoaders:OW,initialize:TY,parseError:void 0,contentLoaded:NY,setParseErrorHandler:xBe,detectType:IL,registerIconPacks:VCe,getRegisteredDiagramsMetadata:wBe},PE=iA;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const bBe=t=>Math.abs(t)>=1e6?`$${(t/1e6).toFixed(1)}M`:Math.abs(t)>=1e3?`$${(t/1e3).toFixed(0)}K`:`$${Math.round(t)}`,CBe=({data:t,scenarios:e=[],isPrintable:r=!1})=>{var re,P;const[n,i]=Xe.useState({base:!0,best:!0,worst:!0});if(!t||t.length===0)return d.jsx("p",{className:"text-gray-400",children:"Not enough data to display chart."});const s=H=>{let q=0;return H.map(Z=>(q+=Z.fcff,{year:Z.year,cumulativeFcff:q}))},a=s(t),o=s(((re=e.find(H=>H.scenarioType==="Best Case"))==null?void 0:re.cashFlowModel.cashFlows)||[]),l=s(((P=e.find(H=>H.scenarioType==="Worst Case"))==null?void 0:P.cashFlowModel.cashFlows)||[]),c=500,u=300,f=50,p=[...a.map(H=>H.cumulativeFcff),...o.map(H=>H.cumulativeFcff),...l.map(H=>H.cumulativeFcff)],g=Math.max(...p),y=Math.min(0,...p),x=g-y,w=H=>a.length<=1?f+(c-f*2)/2:f+H/(a.length-1)*(c-f*2),S=H=>x===0?u-f:u-f-(H-y)/x*(u-f*2),B=(H,q)=>H.map((Z,se)=>`${w(se)},${S(Z[q])}`).join(" "),F=5,k=Array.from({length:F+1},(H,q)=>{const Z=y+x*(q/F);return{value:Z,y:S(Z)}}),O={base:"#60a5fa",best:"#4ade80",worst:"#f87171"},R=r?"text-gray-400":"text-gray-500",D=r?"text-gray-600":"text-gray-400",Q=r?"text-gray-700":"text-gray-300",V=H=>{r||i(q=>({...q,[H]:!q[H]}))};return d.jsxs("div",{className:`w-full overflow-x-auto p-4 rounded-lg ${r?"bg-white":"bg-gray-950/50"}`,children:[d.jsxs("svg",{viewBox:`0 0 ${c} ${u}`,className:"font-sans w-full",children:[k.map(({value:H,y:q},Z)=>d.jsxs("g",{className:R,children:[d.jsx("line",{x1:f,y1:q,x2:c-f,y2:q,stroke:"currentColor",strokeWidth:"0.5",strokeDasharray:"2,2"}),d.jsx("text",{x:f-10,y:q+3,textAnchor:"end",fontSize:"10",fill:"currentColor",children:bBe(H)})]},Z)),a.map((H,q)=>d.jsx("g",{className:D,children:d.jsxs("text",{x:w(q),y:u-f+20,textAnchor:"middle",fontSize:"10",fill:"currentColor",children:["Year ",H.year]})},H.year)),n.worst&&l.length>0&&d.jsx("polyline",{fill:"none",stroke:O.worst,strokeWidth:"2",points:B(l,"cumulativeFcff")}),n.best&&o.length>0&&d.jsx("polyline",{fill:"none",stroke:O.best,strokeWidth:"2",points:B(o,"cumulativeFcff")}),n.base&&d.jsx("polyline",{fill:"none",stroke:O.base,strokeWidth:"3",points:B(a,"cumulativeFcff")}),n.base&&a.map((H,q)=>d.jsx("circle",{cx:w(q),cy:S(H.cumulativeFcff),r:"3",fill:O.base},`base-${H.year}`)),n.best&&o.map((H,q)=>d.jsx("circle",{cx:w(q),cy:S(H.cumulativeFcff),r:"3",fill:O.best},`best-${H.year}`)),n.worst&&l.map((H,q)=>d.jsx("circle",{cx:w(q),cy:S(H.cumulativeFcff),r:"3",fill:O.worst},`worst-${H.year}`))]}),d.jsxs("div",{className:`flex flex-wrap justify-center items-center gap-x-4 gap-y-2 mt-4 text-xs ${Q}`,children:[d.jsxs("div",{onClick:()=>V("base"),className:`flex items-center gap-2 cursor-pointer transition-opacity ${!n.base&&"opacity-50"}`,children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:O.base}}),d.jsx("span",{children:"Base Case"})]}),o.length>0&&d.jsxs("div",{onClick:()=>V("best"),className:`flex items-center gap-2 cursor-pointer transition-opacity ${!n.best&&"opacity-50"}`,children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:O.best}}),d.jsx("span",{children:"Best Case"})]}),l.length>0&&d.jsxs("div",{onClick:()=>V("worst"),className:`flex items-center gap-2 cursor-pointer transition-opacity ${!n.worst&&"opacity-50"}`,children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:O.worst}}),d.jsx("span",{children:"Worst Case"})]}),d.jsx("div",{className:"w-full text-center text-gray-500 mt-1",children:"Cumulative FCFF Shown"})]})]})},Rn=({title:t,children:e,icon:r,isPrintable:n=!1,className:i=""})=>d.jsxs("div",{className:`printable-section ${i}`,children:[d.jsxs("h3",{className:`font-bold mb-4 flex items-center gap-3 ${n?"text-2xl text-gray-800":"text-xl text-white"}`,children:[r,t]}),d.jsx("div",{className:"space-y-4",children:e})]}),Im=({children:t,className:e,isPrintable:r=!1})=>d.jsx("span",{className:`inline-block rounded-full px-3 py-1 font-semibold ${r?"text-xs":"text-sm"} ${e}`,children:t}),Jt=({children:t,isPrintable:e=!1,className:r=""})=>d.jsx("div",{className:`${e?"bg-gray-50 border border-gray-200":"bg-gray-900/50 themed-border-light"} p-4 rounded-lg ${r}`,children:t}),SBe=t=>{if(!t||typeof t!="string")return 0;const e=parseFloat(t.replace(/[^0-9.-]+/g,""));if(isNaN(e))return 0;const r=t.toUpperCase();return r.includes("TRILLION")?e*1e12:r.includes("BILLION")||r.includes("B")?e*1e9:r.includes("MILLION")||r.includes("M")?e*1e6:r.includes("THOUSAND")||r.includes("K")?e*1e3:e},U2=(t,e=0)=>isNaN(t)?"$0":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:e,maximumFractionDigits:e}).format(t),_Be=({data:t})=>d.jsx(Jt,{children:d.jsx(Rn,{title:"Research Summary",icon:d.jsx(GB,{className:"w-6 h-6"}),children:d.jsx("p",{className:"text-sm text-gray-400",children:t.problemSummary})})}),EBe=({data:t})=>d.jsx(Jt,{children:d.jsx(Rn,{title:"Brainstormed Solutions",icon:d.jsx(xC,{className:"w-6 h-6"}),children:d.jsx("div",{className:"space-y-4",children:t.solutions.map(e=>d.jsxs("div",{className:"p-3 bg-gray-900/50 rounded-lg",children:[d.jsx("h4",{className:"font-semibold text-gray-200",children:e.title}),d.jsx("p",{className:"text-sm text-gray-400",children:e.description})]},e.id))})})}),BBe=({data:t})=>d.jsx(Jt,{children:d.jsx(Rn,{title:"Solution Critiques",icon:d.jsx(Ex,{className:"w-6 h-6"}),children:d.jsx("div",{className:"space-y-4",children:t.map(e=>d.jsxs("div",{className:"p-3 bg-gray-900/50 rounded-lg",children:[d.jsxs("h4",{className:"font-semibold text-gray-200",children:["Critique for Solution #",e.solutionId]}),d.jsxs("div",{className:"mt-2",children:[d.jsx("h5",{className:"font-semibold text-red-400 text-sm",children:"Devil's Advocate"}),d.jsx("ul",{className:"list-disc list-inside text-xs text-gray-400",children:e.devilsAdvocate.weaknesses.map((r,n)=>d.jsx("li",{children:r},n))})]}),d.jsxs("div",{className:"mt-2",children:[d.jsx("h5",{className:"font-semibold text-blue-400 text-sm",children:"Steve Jobs"}),d.jsx("ul",{className:"list-disc list-inside text-xs text-gray-400",children:e.steveJobs.questions.map((r,n)=>d.jsx("li",{children:r},n))})]})]},e.solutionId))})})}),kR=({data:t,isPrintable:e=!1})=>{var l,c,u,f;const r=t.pillarScores,n=((l=r.find(p=>p.pillar==="Desirability"))==null?void 0:l.score)||0,i=((c=r.find(p=>p.pillar==="Feasibility"))==null?void 0:c.score)||0,s=((u=r.find(p=>p.pillar==="Viability"))==null?void 0:u.score)||0,a=((f=r.find(p=>p.pillar==="Impact Integrity"))==null?void 0:f.score)||0,o=({cx:p,cy:g,score:y,color:x,name:w})=>d.jsxs("g",{children:[d.jsx("circle",{cx:p,cy:g,r:"60",fill:x,opacity:.1}),d.jsx("circle",{cx:p,cy:g,r:60*(y/100),fill:x,opacity:.6,stroke:x,strokeWidth:"2"}),d.jsx("text",{x:p,y:g-5,textAnchor:"middle",fill:e?"#1f2937":"white",fontSize:"14",fontWeight:"bold",children:w}),d.jsx("text",{x:p,y:g+15,textAnchor:"middle",fill:e?"#1f2937":"white",fontSize:"16",fontWeight:"bold",children:y})]});return d.jsx(Rn,{title:"Innovation Viability Framework",icon:d.jsx(zu,{className:"w-6 h-6"}),isPrintable:e,children:d.jsx("div",{className:"flex justify-center items-center",children:d.jsxs("svg",{viewBox:"0 0 400 250",className:"w-full max-w-lg font-sans",children:[d.jsx(o,{cx:120,cy:80,score:n,color:"#f472b6",name:"Desirability"}),d.jsx(o,{cx:280,cy:80,score:i,color:"#60a5fa",name:"Feasibility"}),d.jsx(o,{cx:120,cy:170,score:s,color:"#4ade80",name:"Viability"}),d.jsx(o,{cx:280,cy:170,score:a,color:"#facc15",name:"Integrity"}),d.jsx("text",{x:"200",y:"125",textAnchor:"middle",fill:e?"#1f2937":"white",fontSize:"24",fontWeight:"bold",children:t.scoreLevel})]})})})},TBe=({data:t,isPrintable:e=!1})=>d.jsxs(Jt,{isPrintable:e,className:"mb-6",children:[d.jsxs("h4",{className:`font-bold mb-4 flex items-center gap-2 ${e?"text-lg text-gray-800":"text-lg text-white"}`,children:[d.jsx(K_,{className:"w-5 h-5 text-purple-400"}),"Solution at a Glance"]}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-4 overflow-x-auto pb-2 items-stretch",children:t.panels.map((r,n)=>d.jsxs(hC.Fragment,{children:[d.jsxs("div",{className:"flex-1 min-w-[140px] flex flex-col items-center text-center",children:[d.jsx("div",{className:`w-full aspect-video rounded-md overflow-hidden mb-2 ${e?"bg-gray-200":"bg-gray-800"} shadow-sm`,children:r.imageB64?d.jsx("img",{src:`data:image/jpeg;base64,${r.imageB64}`,alt:r.scene,className:"w-full h-full object-cover"}):d.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:d.jsx(K_,{className:"w-8 h-8 opacity-50"})})}),d.jsx("p",{className:`text-xs font-semibold leading-tight ${e?"text-gray-700":"text-gray-300"}`,children:r.scene})]}),n<t.panels.length-1&&d.jsx("div",{className:"hidden sm:flex items-center justify-center text-gray-500",children:d.jsx(bm,{className:"w-5 h-5 opacity-50"})})]},r.panel))})]}),NBe=({financialPlan:t,leanCanvas:e,problemStatement:r,selectedSolution:n,customerPersona:i,strategy:s,successScore:a,storyboard:o})=>{var l;return d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[t&&d.jsx(kY,{data:t}),o&&d.jsx(TBe,{data:o}),a&&d.jsx(Jt,{children:d.jsx(kR,{data:a})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[r&&i&&d.jsxs(Jt,{children:[d.jsxs("h4",{className:"font-bold text-lg text-gray-200 mb-3 flex items-center gap-2",children:[d.jsx(vC,{className:"w-5 h-5 text-red-400"})," The Problem & Persona"]}),d.jsx("p",{className:"text-sm font-semibold text-blue-300 mb-2",children:r.problemStatement}),d.jsxs("p",{className:"text-sm text-gray-400",children:["Focused on ",d.jsx("strong",{className:"text-white",children:i.name}),", a ",i.age,"-year-old ",i.occupation,"."]})]}),n&&d.jsxs(Jt,{children:[d.jsxs("h4",{className:"font-bold text-lg text-gray-200 mb-3 flex items-center gap-2",children:[d.jsx(xC,{className:"w-5 h-5 text-yellow-400"})," The Solution"]}),d.jsx("p",{className:"text-sm font-semibold text-yellow-300 mb-2",children:n.solutionTitle}),d.jsx("p",{className:"text-sm text-gray-400",children:n.solutionDescription})]}),e&&d.jsxs(Jt,{children:[d.jsxs("h4",{className:"font-bold text-lg text-gray-200 mb-3 flex items-center gap-2",children:[d.jsx(gG,{className:"w-5 h-5 text-purple-400"})," Unique Value Proposition"]}),d.jsx("p",{className:"text-sm text-gray-300",children:e.uniqueValueProposition[0]})]}),t&&d.jsxs(Jt,{children:[d.jsxs("h4",{className:"font-bold text-lg text-gray-200 mb-3 flex items-center gap-2",children:[d.jsx(Px,{className:"w-5 h-5 text-green-400"})," Market & Financials"]}),d.jsxs("p",{className:"text-sm text-gray-400",children:["Targeting a ",d.jsx("strong",{className:"text-white",children:t.marketSize.serviceableObtainableMarket})," market, with a projected Year 5 revenue of ",d.jsx("strong",{className:"text-white",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact"}).format((l=t.cashFlowModel.cashFlows[4])==null?void 0:l.revenue)}),"."]})]}),s&&d.jsxs(Jt,{children:[d.jsxs("h4",{className:"font-bold text-lg text-gray-200 mb-3 flex items-center gap-2",children:[d.jsx(fw,{className:"w-5 h-5 text-teal-400"})," Unfair Advantage"]}),d.jsx("p",{className:"text-sm text-gray-300",children:s.unfairAdvantage})]}),a&&d.jsxs(Jt,{children:[d.jsxs("h4",{className:"font-bold text-lg text-gray-200 mb-3 flex items-center gap-2",children:[d.jsx(_x,{className:"w-5 h-5 text-yellow-400"})," Success Score"]}),d.jsxs("div",{className:"flex items-baseline gap-2",children:[d.jsx("span",{className:"text-3xl font-bold text-white",children:a.overallScore}),d.jsx("span",{className:"text-gray-400",children:"/ 1000"}),d.jsx(Im,{className:`text-white ${a.scoreLevel==="Excellent"||a.scoreLevel==="High"?"bg-green-600/50":"bg-yellow-600/50"}`,children:a.scoreLevel})]})]})]})]})},kY=({data:t,isPrintable:e=!1})=>d.jsxs("div",{className:`relative rounded-xl overflow-hidden p-8 flex items-center justify-center text-center ${e?"h-[200px]":"min-h-[250px]"}`,children:[t.elevatorPitchImageB64&&d.jsx("img",{src:`data:image/jpeg;base64,${t.elevatorPitchImageB64}`,alt:"Elevator Pitch Background",className:"absolute inset-0 w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),d.jsxs("div",{className:"relative z-10 max-w-2xl",children:[d.jsx("h3",{className:`font-bold ${e?"text-2xl":"text-3xl"} text-white`,children:t.selectedBrandName}),d.jsx("p",{className:`mt-3 ${e?"text-base":"text-lg"} text-gray-200`,children:t.elevatorPitch})]})]}),LR=({analysis:t,founders:e,isPrintable:r=!1})=>d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Jt,{isPrintable:r,children:[d.jsxs("h4",{className:`font-bold mb-2 ${r?"text-base text-gray-800":"text-lg text-gray-200"}`,children:["Team Archetype: ",t.teamArchetype]}),d.jsx("p",{className:`${r?"text-sm text-gray-600":"text-gray-400"}`,children:t.collaborationStyle})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(Jt,{isPrintable:r,children:[d.jsx("h4",{className:`font-bold mb-3 ${r?"text-base text-gray-800":"text-lg text-green-400"}`,children:"Team Strengths"}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${r?"text-sm text-gray-600":"text-gray-300"}`,children:t.teamStrengths.map((n,i)=>d.jsx("li",{children:n},i))})]}),d.jsxs(Jt,{isPrintable:r,children:[d.jsx("h4",{className:`font-bold mb-3 ${r?"text-base text-gray-800":"text-lg text-yellow-400"}`,children:"Potential Gaps"}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${r?"text-sm text-gray-600":"text-gray-300"}`,children:t.potentialGaps.map((n,i)=>d.jsx("li",{children:n},i))})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:`font-bold mb-4 ${r?"text-xl text-gray-800":"text-xl text-white"}`,children:"Founder Profiles"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.founderProfiles.map((n,i)=>{const s=e==null?void 0:e.find(a=>a.name===n.name);return d.jsxs(Jt,{isPrintable:r,children:[d.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[(s==null?void 0:s.photoB64)&&d.jsx("img",{src:s.photoB64,alt:n.name,className:"w-16 h-16 rounded-full object-cover flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("h5",{className:`font-bold ${r?"text-lg text-gray-800":"text-xl text-white"}`,children:n.name}),d.jsx("p",{className:`${r?"text-sm text-blue-600":"text-base text-blue-400 font-semibold"}`,children:n.founderType})]})]}),d.jsx("p",{className:`${r?"text-sm text-gray-600":"text-gray-400"}`,children:n.strengthsAndStyle})]},i)})})]})]}),FBe=({candidate:t})=>d.jsxs("div",{className:"p-3 bg-gray-900/50 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-start gap-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-gray-200 text-sm",children:t.name}),d.jsxs("p",{className:"text-xs text-gray-400",children:[t.currentRole," at ",t.company]})]}),d.jsx("a",{href:t.profileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 p-1.5 text-gray-400 hover:text-white transition-colors",title:"View Public Profile",children:d.jsx(Lle,{className:"w-4 h-4"})})]}),d.jsxs("p",{className:"text-xs text-gray-500 italic mt-2",children:["Justification: ",t.justification]})]}),RR=({data:t,isPrintable:e=!1,onSuggestCandidates:r=s=>{},isScouting:n=null,scoutError:i={}})=>d.jsx(Jt,{isPrintable:e,children:d.jsxs(Rn,{title:"Ideal Co-Founder Profiles",icon:d.jsx(Cm,{className:"w-6 h-6"}),isPrintable:e,children:[d.jsx("p",{className:`${e?"text-sm text-gray-600":"text-sm text-gray-400"}`,children:t.summary}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:t.idealCoFounders.map((s,a)=>{const o=n===s.roleTitle,l=i[s.roleTitle];return d.jsxs(Jt,{isPrintable:e,children:[d.jsx("h4",{className:`font-bold ${e?"text-lg text-gray-800":"text-lg text-white"}`,children:s.roleTitle}),d.jsx("p",{className:`font-semibold ${e?"text-sm text-purple-600":"text-sm text-purple-400"}`,children:s.archetype}),d.jsxs("div",{className:"mt-4 space-y-3",children:[d.jsxs("div",{children:[d.jsx("h5",{className:`font-semibold ${e?"text-sm text-gray-700":"text-sm text-gray-300"}`,children:"Key Responsibilities"}),d.jsx("ul",{className:`list-disc list-inside text-xs ${e?"text-gray-600":"text-gray-400"}`,children:s.keyResponsibilities.map((c,u)=>d.jsx("li",{children:c},u))})]}),d.jsxs("div",{children:[d.jsx("h5",{className:`font-semibold ${e?"text-sm text-gray-700":"text-sm text-gray-300"}`,children:"Skills & Experience"}),d.jsx("ul",{className:`list-disc list-inside text-xs ${e?"text-gray-600":"text-gray-400"}`,children:s.requiredSkillsAndExperience.map((c,u)=>d.jsx("li",{children:c},u))})]}),d.jsxs("div",{children:[d.jsx("h5",{className:`font-semibold ${e?"text-sm text-gray-700":"text-sm text-gray-300"}`,children:"Complementary Traits"}),d.jsx("ul",{className:`list-disc list-inside text-xs ${e?"text-gray-600":"text-gray-400"}`,children:s.complementaryTraits.map((c,u)=>d.jsx("li",{children:c},u))})]})]}),!e&&d.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700/50",children:[o&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[d.jsx(vs,{})," ",d.jsx("span",{children:"Scouting candidates..."})]}),l&&d.jsx("p",{className:"text-sm text-red-400",children:l}),s.suggestedCandidates&&s.suggestedCandidates.length>0&&d.jsxs("div",{className:"space-y-3",children:[d.jsx("h5",{className:"font-semibold text-sm text-gray-300",children:"Suggested Candidate Examples"}),s.suggestedCandidates.map((c,u)=>d.jsx(FBe,{candidate:c},u)),d.jsx("p",{className:"text-xs text-gray-500 pt-2",children:"*These suggestions are AI-generated based on publicly available data for inspirational and research purposes only. This is not a recruitment endorsement."})]}),!o&&!l&&!s.suggestedCandidates&&d.jsxs("button",{onClick:()=>r(s),className:"flex items-center gap-2 px-3 py-2 text-sm bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:o,children:[d.jsx(uw,{className:"w-4 h-4"}),"Suggest Potential Candidates"]})]})]},a)})})]})}),IBe=({currentTeam:t,idealTeam:e,isPrintable:r=!1})=>{const s=t.map(p=>p.dimension),a=s.length,o=Math.PI*2/a,l=160*.75,c=(p,g)=>{const y=o*g-Math.PI/2,x=p/10*l;return{x:160+x*Math.cos(y),y:160+x*Math.sin(y)}},u=t.map((p,g)=>{const{x:y,y:x}=c(p.score,g);return`${y},${x}`}).join(" "),f=e.map((p,g)=>{const{x:y,y:x}=c(p.score,g);return`${y},${x}`}).join(" ");return d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("svg",{width:320,height:320,viewBox:"0 0 320 320",children:[[...Array(5)].map((p,g)=>d.jsx("circle",{cx:160,cy:160,r:l/5*(g+1),fill:"none",stroke:r?"#e5e7eb":"#4b5563",strokeWidth:"1"},g)),s.map((p,g)=>{const y=c(11.5,g),x=c(10,g);return d.jsxs("g",{children:[d.jsx("line",{x1:160,y1:160,x2:x.x,y2:x.y,stroke:r?"#e5e7eb":"#4b5563",strokeWidth:"1"}),d.jsx("text",{x:y.x,y:y.y,textAnchor:"middle",dominantBaseline:"middle",fill:r?"#374151":"#d1d5db",fontSize:"10",fontWeight:"bold",children:p.replace(" & ","&").replace(" ",`
`)})]},p)}),d.jsx("polygon",{points:u,fill:"rgba(250, 173, 20, 0.3)",stroke:"#fb923c",strokeWidth:"2"}),d.jsx("polygon",{points:f,fill:"rgba(74, 222, 128, 0.3)",stroke:"#4ade80",strokeWidth:"2"})]}),d.jsxs("div",{className:"flex justify-center gap-4 mt-4 text-xs",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-[#fb923c]"}),d.jsx("span",{className:r?"text-gray-700":"text-gray-300",children:"Current Team"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-[#4ade80]"}),d.jsx("span",{className:r?"text-gray-700":"text-gray-300",children:"Ideal Team"})]})]})]})},MR=({data:t,isPrintable:e=!1})=>{const{currentTeam:r,idealTeam:n}=t.teamCapabilityAnalysis;return d.jsx(Jt,{isPrintable:e,children:d.jsxs(Rn,{title:"Team Capability Analysis",icon:d.jsx(Px,{className:"w-6 h-6"}),isPrintable:e,children:[d.jsx("p",{className:`${e?"text-sm text-gray-600":"text-sm text-gray-400"}`,children:"This analysis compares the current founding team's capabilities against the ideal team composition required to successfully execute the venture. The scores (1-10) highlight areas of strength and gaps to be filled."}),d.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-6 items-center",children:[d.jsx(IBe,{currentTeam:r,idealTeam:n,isPrintable:e}),d.jsx("div",{className:"space-y-3",children:r.map((i,s)=>d.jsxs("div",{children:[d.jsx("h5",{className:`font-semibold ${e?"text-sm text-gray-700":"text-sm text-gray-300"}`,children:i.dimension}),d.jsxs("p",{className:`text-xs ${e?"text-gray-600":"text-gray-400"}`,children:[d.jsxs("span",{className:"font-bold text-[#fb923c]",children:["Current: ",i.score,"/10"]})," vs. ",d.jsxs("span",{className:"font-bold text-[#4ade80]",children:["Ideal: ",n[s].score,"/10"]})]}),d.jsx("p",{className:"text-xs text-gray-500",children:i.justification})]},i.dimension))})]})]})})},_T=({data:t,isPrintable:e=!1})=>d.jsx(Jt,{isPrintable:e,children:d.jsxs(Rn,{title:"Problem Statement",icon:d.jsx(vC,{className:"w-6 h-6"}),isPrintable:e,children:[d.jsx("blockquote",{className:`${e?"border-l-4 border-blue-300 p-4 bg-blue-50":"border-l-4 border-blue-500 p-4 bg-gray-900/50"} my-4`,children:d.jsxs("p",{className:`font-semibold ${e?"text-xl text-blue-800":"text-2xl text-blue-300"}`,children:['"',t.problemStatement,'"']})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[d.jsxs("div",{children:[d.jsx("h5",{className:`font-semibold mb-2 ${e?"text-gray-700":"text-gray-300"}`,children:"Context"}),d.jsx("p",{className:`${e?"text-sm text-gray-600":"text-sm text-gray-400"}`,children:t.context})]}),d.jsxs("div",{children:[d.jsx("h5",{className:`font-semibold mb-2 ${e?"text-gray-700":"text-gray-300"}`,children:"User Impact"}),d.jsx("p",{className:`${e?"text-sm text-gray-600":"text-sm text-gray-400"}`,children:t.userImpact})]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("h5",{className:`font-semibold mb-2 ${e?"text-gray-700":"text-gray-300"}`,children:"Key Insights"}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${e?"text-sm text-gray-600":"text-sm text-gray-400"}`,children:t.keyInsights.map((r,n)=>d.jsx("li",{children:r},n))})]})]})}),ET=({data:t,isPrintable:e=!1,onInterview:r})=>d.jsx(Jt,{isPrintable:e,children:d.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[d.jsxs("div",{className:"flex-shrink-0 text-center",children:[t.avatarB64?d.jsx("img",{src:`data:image/jpeg;base64,${t.avatarB64}`,alt:t.name,className:"w-32 h-32 rounded-full object-cover mx-auto shadow-lg"}):d.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-700 mx-auto flex items-center justify-center",children:d.jsx(fG,{className:"w-20 h-20 text-gray-500"})}),d.jsxs("h4",{className:`mt-4 font-bold ${e?"text-xl text-gray-800":"text-xl text-white"}`,children:[t.name,", ",t.age]}),d.jsx("p",{className:`${e?"text-base text-gray-600":"text-base text-gray-400"}`,children:t.occupation}),!e&&r&&d.jsxs("button",{onClick:r,className:"mt-4 flex items-center gap-2 px-3 py-2 text-sm bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Ple,{className:"w-5 h-5"}),"Interview"]})]}),d.jsxs("div",{className:"flex-grow space-y-4",children:[d.jsxs("p",{className:`italic ${e?"text-gray-600":"text-gray-400"}`,children:['"',t.bio,'"']}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h5",{className:`font-semibold mb-2 ${e?"text-green-700":"text-green-400"}`,children:"Goals"}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${e?"text-sm text-gray-600":"text-sm text-gray-300"}`,children:t.goals.map((n,i)=>d.jsx("li",{children:n},i))})]}),d.jsxs("div",{children:[d.jsx("h5",{className:`font-semibold mb-2 ${e?"text-red-700":"text-red-400"}`,children:"Frustrations"}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${e?"text-sm text-gray-600":"text-sm text-gray-300"}`,children:t.frustrations.map((n,i)=>d.jsx("li",{children:n},i))})]})]})]})]})}),v5=({title:t,items:e,isPrintable:r=!1,className:n=""})=>d.jsxs("div",{className:`p-4 rounded-lg h-full ${n}`,children:[d.jsx("h4",{className:`font-bold mb-2 ${r?"text-base text-gray-700":"text-base text-gray-300"}`,children:t}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${r?"text-sm text-gray-600":"text-sm text-gray-400"}`,children:e.map((i,s)=>d.jsx("li",{children:i},s))})]}),BT=({data:t,isPrintable:e=!1})=>d.jsx(Jt,{isPrintable:e,children:d.jsxs(Rn,{title:"Empathy Map",icon:d.jsx(Fle,{className:"w-6 h-6"}),isPrintable:e,children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-px bg-gray-700/50",children:[d.jsx(v5,{title:"Says",items:t.says,isPrintable:e,className:e?"bg-gray-50":"bg-gray-800"}),d.jsx(v5,{title:"Thinks",items:t.thinks,isPrintable:e,className:e?"bg-gray-50":"bg-gray-800"}),d.jsx(v5,{title:"Does",items:t.does,isPrintable:e,className:e?"bg-gray-50":"bg-gray-800"}),d.jsx(v5,{title:"Feels",items:t.feels,isPrintable:e,className:e?"bg-gray-50":"bg-gray-800"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[d.jsxs(Jt,{isPrintable:e,children:[d.jsx("h4",{className:`font-bold mb-2 ${e?"text-red-700":"text-red-400"}`,children:"Pains"}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${e?"text-sm text-gray-600":"text-sm text-gray-300"}`,children:t.pains.map((r,n)=>d.jsx("li",{children:r},n))})]}),d.jsxs(Jt,{isPrintable:e,children:[d.jsx("h4",{className:`font-bold mb-2 ${e?"text-green-700":"text-green-400"}`,children:"Gains"}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${e?"text-sm text-gray-600":"text-sm text-gray-300"}`,children:t.gains.map((r,n)=>d.jsx("li",{children:r},n))})]})]})]})}),TT=({data:t,isPrintable:e=!1})=>d.jsx(Jt,{isPrintable:e,children:d.jsxs(Rn,{title:"Selected Solution",icon:d.jsx(Mp,{className:"w-6 h-6"}),isPrintable:e,children:[d.jsxs("blockquote",{className:`${e?"border-l-4 border-yellow-300 p-4 bg-yellow-50":"border-l-4 border-yellow-500 p-4 bg-gray-900/50"} my-4`,children:[d.jsx("h4",{className:`font-bold ${e?"text-xl text-yellow-800":"text-xl text-yellow-300"}`,children:t.solutionTitle}),d.jsx("p",{className:`mt-2 ${e?"text-gray-600":"text-gray-400"}`,children:t.solutionDescription})]}),d.jsxs("p",{className:`mt-4 ${e?"text-sm text-gray-600":"text-sm text-gray-400"}`,children:[d.jsx("strong",{className:e?"text-gray-700":"text-gray-300",children:"Justification:"})," ",t.justification]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[d.jsxs("div",{children:[d.jsxs("h5",{className:`font-semibold mb-2 flex items-center gap-2 ${e?"text-green-700":"text-green-400"}`,children:[d.jsx(Mle,{className:"w-5 h-5"})," Pros"]}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${e?"text-sm text-gray-600":"text-sm text-gray-300"}`,children:t.pros.map((r,n)=>d.jsx("li",{children:r},n))})]}),d.jsxs("div",{children:[d.jsxs("h5",{className:`font-semibold mb-2 flex items-center gap-2 ${e?"text-red-700":"text-red-400"}`,children:[d.jsx(Rle,{className:"w-5 h-5"})," Cons"]}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${e?"text-sm text-gray-600":"text-sm text-gray-300"}`,children:t.cons.map((r,n)=>d.jsx("li",{children:r},n))})]})]}),t.history&&t.history.length>0&&d.jsxs("div",{className:"mt-6",children:[d.jsx("h5",{className:`font-semibold mb-3 ${e?"text-gray-700":"text-gray-300"}`,children:"Refinement History"}),d.jsx("div",{className:"border-l-2 border-gray-700 pl-4 space-y-4",children:t.history.map((r,n)=>d.jsxs("div",{className:"relative pl-4",children:[d.jsx("div",{className:"absolute -left-5 top-1.5 w-2.5 h-2.5 rounded-full bg-gray-600"}),d.jsxs("p",{className:"text-sm font-semibold text-gray-400",children:["V",n+1,": ",r.title]}),d.jsx("p",{className:"text-xs text-gray-500 italic mt-1",children:r.description}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d.jsx("strong",{children:"Reasoning:"})," ",r.justification]})]},n))})]})]})}),NT=({data:t,isPrintable:e=!1,onNavigate:r})=>{const n=s=>{const a=s>=7?"green":s>=4?"yellow":"red",o={green:e?"bg-green-100 text-green-800":"bg-green-500/20 text-green-300",yellow:e?"bg-yellow-100 text-yellow-800":"bg-yellow-500/20 text-yellow-300",red:e?"bg-red-100 text-red-800":"bg-red-500/20 text-red-300"};return d.jsxs(Im,{isPrintable:e,className:o[a],children:["TRL: ",s]})},i=s=>{const a={Low:e?"bg-green-100 text-green-800":"bg-green-500/20 text-green-300",Medium:e?"bg-yellow-100 text-yellow-800":"bg-yellow-500/20 text-yellow-300",High:e?"bg-red-100 text-red-800":"bg-red-500/20 text-red-300"};return d.jsxs(Im,{isPrintable:e,className:a[s],children:[s," Complexity"]})};return d.jsx(Jt,{isPrintable:e,children:d.jsxs(Rn,{title:"Technology Scout Report",icon:d.jsx(hw,{className:"w-6 h-6"}),isPrintable:e,children:[d.jsx("p",{className:`${e?"text-sm text-gray-600":"text-sm text-gray-400"}`,children:t.summary}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h4",{className:`font-semibold mb-3 ${e?"text-lg text-gray-800":"text-lg text-white"}`,children:"Key Technologies"}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:t.keyTechnologies.map((s,a)=>d.jsxs(Jt,{isPrintable:e,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("h5",{className:`font-bold ${e?"text-base text-gray-800":"text-base text-white"}`,children:s.name}),d.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[n(s.trl),i(s.implementationComplexity)]})]}),d.jsx("p",{className:`${e?"text-sm text-gray-600":"text-sm text-gray-400"} mt-2`,children:s.description})]},a))})]}),t.priorArt&&t.priorArt.length>0&&d.jsxs("div",{className:"mt-6",children:[d.jsx("h4",{className:`font-semibold mb-3 ${e?"text-lg text-gray-800":"text-lg text-white"}`,children:"Prior Art & Patent Landscape"}),d.jsx("div",{className:"space-y-3",children:t.priorArt.map((s,a)=>d.jsxs(Jt,{isPrintable:e,children:[d.jsx("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:`font-semibold hover:underline ${e?"text-blue-700":"text-blue-400"}`,children:s.title}),d.jsx("p",{className:"text-xs font-mono mt-1 text-gray-500",children:s.patentId}),d.jsx("p",{className:`${e?"text-sm text-gray-600":"text-sm text-gray-400"} mt-2`,children:s.summary})]},a))})]}),t.leadingExperts&&t.leadingExperts.length>0&&d.jsxs("div",{className:"mt-6",children:[d.jsx("h4",{className:`font-semibold mb-3 ${e?"text-lg text-gray-800":"text-lg text-white"}`,children:"Leading Experts & Research Hubs"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.leadingExperts.map((s,a)=>d.jsxs(Jt,{isPrintable:e,children:[d.jsx("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:`font-semibold hover:underline ${e?"text-blue-700":"text-blue-400"}`,children:s.name}),d.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-600":"text-gray-400"}`,children:s.affiliation}),d.jsxs("p",{className:"text-xs mt-1 text-gray-500",children:["Specialization: ",s.specialization]})]},a))})]})]})})},L1=({title:t,items:e,icon:r,isPrintable:n=!1})=>d.jsxs("div",{className:"p-4 ",children:[d.jsxs("h4",{className:`font-bold mb-2 flex items-center gap-2 ${n?"text-gray-700":"text-gray-300"}`,children:[r," ",t]}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${n?"text-sm text-gray-600":"text-sm text-gray-400"}`,children:e.map((i,s)=>d.jsx("li",{children:i},s))})]}),FT=({data:t,isPrintable:e=!1})=>d.jsx(Jt,{isPrintable:e,children:d.jsx(Rn,{title:"Value Proposition Canvas",icon:d.jsx(Dle,{className:"w-6 h-6"}),isPrintable:e,children:d.jsxs("div",{className:"flex flex-col md:flex-row items-stretch gap-4",children:[d.jsxs("div",{className:`flex-1 rounded-lg ${e?"bg-blue-50 border border-blue-200":"bg-gray-900/70"}`,children:[d.jsx("div",{className:"p-4 border-b border-gray-700/50",children:d.jsx("h3",{className:`font-bold text-center ${e?"text-lg text-blue-800":"text-lg text-blue-300"}`,children:"Value Map"})}),d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsx(L1,{title:"Gain Creators",items:t.valueMap.gainCreators,icon:d.jsx(zu,{className:"w-5 h-5 text-green-400"}),isPrintable:e}),d.jsx(L1,{title:"Pain Relievers",items:t.valueMap.painRelievers,icon:d.jsx(Ex,{className:"w-5 h-5 text-yellow-400"}),isPrintable:e}),d.jsx(L1,{title:"Products & Services",items:t.valueMap.productsAndServices,icon:d.jsx(gL,{className:"w-5 h-5 text-gray-400"}),isPrintable:e})]})]}),d.jsx("div",{className:"hidden md:flex items-center justify-center text-4xl font-thin text-gray-500",children:""}),d.jsx("div",{className:"flex md:hidden items-center justify-center text-4xl font-thin text-gray-500",children:""}),d.jsxs("div",{className:`flex-1 rounded-lg ${e?"bg-orange-50 border border-orange-200":"bg-gray-900/70"}`,children:[d.jsx("div",{className:"p-4 border-b border-gray-700/50",children:d.jsx("h3",{className:`font-bold text-center ${e?"text-lg text-orange-800":"text-lg text-orange-300"}`,children:"Customer Profile"})}),d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsx(L1,{title:"Gains",items:t.customer.gains,icon:d.jsx(_x,{className:"w-5 h-5 text-green-400"}),isPrintable:e}),d.jsx(L1,{title:"Pains",items:t.customer.pains,icon:d.jsx(Ole,{className:"w-5 h-5 text-red-400"}),isPrintable:e}),d.jsx(L1,{title:"Customer Jobs",items:t.customer.customerJobs,icon:d.jsx(fG,{className:"w-5 h-5 text-gray-400"}),isPrintable:e})]})]})]})})}),Jf=({title:t,items:e,isPrintable:r=!1,className:n=""})=>d.jsxs("div",{className:`${r?"bg-gray-50 border border-gray-200 p-3":"bg-gray-900/50 p-4"} rounded-lg h-full ${n}`,children:[d.jsx("h4",{className:`font-bold mb-2 ${r?"text-gray-700 text-sm":"text-gray-300"}`,children:t}),d.jsx("ul",{className:`space-y-1 ${r?"text-xs text-gray-600":"text-sm text-gray-400"}`,children:e.map((i,s)=>d.jsxs("li",{className:"break-words",children:["- ",i]},s))})]}),IT=({data:t,isPrintable:e=!1})=>d.jsx(Jt,{isPrintable:e,children:d.jsxs(Rn,{title:"Lean Canvas",icon:d.jsx(dL,{className:"w-6 h-6"}),isPrintable:e,children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[d.jsx(Jf,{title:"Problem",items:t.problem,isPrintable:e,className:"lg:col-span-1"}),d.jsx(Jf,{title:"Solution",items:t.solution,isPrintable:e,className:"lg:col-span-1"}),d.jsx(Jf,{title:"Key Metrics",items:t.keyMetrics,isPrintable:e,className:"lg:col-span-1"}),d.jsx(Jf,{title:"Unique Value Proposition",items:t.uniqueValueProposition,isPrintable:e,className:"lg:col-span-2 row-span-2"}),d.jsx(Jf,{title:"Unfair Advantage",items:t.unfairAdvantage,isPrintable:e,className:"lg:col-span-1"}),d.jsx(Jf,{title:"Channels",items:t.channels,isPrintable:e,className:"lg:col-span-1"}),d.jsx(Jf,{title:"Customer Segments",items:t.customerSegments,isPrintable:e,className:"lg:col-span-1"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4 mt-4",children:[d.jsx(Jf,{title:"Cost Structure",items:t.costStructure,isPrintable:e,className:"lg:col-span-2"}),d.jsx(Jf,{title:"Revenue Streams",items:t.revenueStreams,isPrintable:e,className:"lg:col-span-3"})]})]})}),kT=({data:t,isPrintable:e=!1,onGenerateVideo:r,onCancelVideoGeneration:n,isGeneratingVideo:i,videoGenerationProgress:s,generatedVideoUrl:a,videoGenerationError:o})=>d.jsx(Jt,{isPrintable:e,children:d.jsxs(Rn,{title:"Customer Journey Storyboard",icon:d.jsx(K_,{className:"w-6 h-6"}),isPrintable:e,children:[d.jsx("h4",{className:`text-center font-bold mb-4 ${e?"text-2xl text-gray-800":"text-2xl text-white"}`,children:t.title}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:t.panels.map(l=>d.jsxs("div",{className:`rounded-lg overflow-hidden ${e?"border border-gray-200 bg-white":"bg-gray-900/50"}`,children:[d.jsx("div",{className:"aspect-video bg-gray-700",children:l.imageB64&&d.jsx("img",{src:`data:image/jpeg;base64,${l.imageB64}`,alt:l.scene,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"p-3",children:[d.jsxs("h5",{className:`font-bold ${e?"text-sm text-gray-800":"text-sm text-white"}`,children:[l.panel,". ",l.scene]}),d.jsx("p",{className:`mt-1 ${e?"text-xs text-gray-600":"text-xs text-gray-400"}`,children:l.narration})]})]},l.panel))}),!e&&r&&d.jsxs("div",{className:"mt-6 p-4 bg-gray-900/50 rounded-lg",children:[d.jsx("h4",{className:"font-semibold text-white",children:"Generate Concept Video"}),d.jsx("p",{className:"text-sm text-gray-400 mt-1 mb-4",children:"Bring this storyboard to life as a short animated video. Note: Video generation can take several minutes."}),a&&d.jsx("div",{className:"mb-4",children:d.jsx("video",{src:a,controls:!0,className:"w-full max-w-md mx-auto rounded-lg shadow-lg"})}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("button",{onClick:r,disabled:i,className:"flex items-center gap-2 px-4 py-2 text-sm bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:[i?d.jsx(vs,{}):d.jsx(zu,{className:"w-5 h-5"}),a?"Regenerate Video":"Generate Video"]}),i&&d.jsx("button",{onClick:n,className:"px-4 py-2 text-sm bg-red-800/80 text-white font-semibold rounded-lg hover:bg-red-700 transition-colors",children:"Cancel"})]}),i&&s.length>0&&d.jsxs("div",{className:"mt-4 text-xs text-gray-400 bg-gray-900 p-3 rounded-md",children:[d.jsx("p",{className:"font-semibold text-gray-300",children:"Progress:"}),d.jsx("ul",{className:"list-disc list-inside mt-1",children:s.map((l,c)=>d.jsx("li",{children:l},c))})]}),o&&d.jsx("p",{className:"mt-3 text-sm text-red-400",children:o})]})]})}),kBe=({breakdown:t,isPrintable:e=!1})=>{const r=["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#10b981","#6366f1"],n=t.map(l=>({category:l.category,value:SBe(l.estimatedAnnualCost)})),i=n.reduce((l,c)=>l+c.value,0);if(i===0)return d.jsx("div",{className:`text-center text-sm ${e?"text-gray-500":"text-gray-400"}`,children:"No cost data to display."});const s=l=>{const c=Math.cos(2*Math.PI*l),u=Math.sin(2*Math.PI*l);return[c,u]};let a=0;const o=n.map((l,c)=>{const u=l.value/i,[f,p]=s(a);a+=u;const[g,y]=s(a),x=u>.5?1:0;return{path:`M ${f} ${p} A 1 1 0 ${x} 1 ${g} ${y} L 0 0`,color:r[c%r.length],category:l.category,percentage:(u*100).toFixed(1),value:l.value}});return d.jsx("div",{className:`p-4 rounded-lg ${e?"bg-gray-50":"bg-gray-900/50"}`,children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-center",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx("svg",{viewBox:"-1.2 -1.2 2.4 2.4",style:{transform:"rotate(-90deg)"},className:"w-40 h-40",children:o.map((l,c)=>d.jsx("path",{d:l.path,fill:l.color},c))})}),d.jsx("div",{className:"text-xs space-y-2",children:o.map((l,c)=>d.jsxs("div",{className:`flex items-center justify-between py-1 ${e?"border-b border-gray-200":"border-b border-gray-700/50"} last:border-b-0`,children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:l.color}}),d.jsx("span",{className:`${e?"text-gray-700":"text-gray-300"} truncate`,title:l.category,children:l.category})]}),d.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[d.jsxs("span",{className:`font-semibold ${e?"text-gray-800":"text-white"}`,children:[l.percentage,"%"]}),d.jsx("span",{className:`font-mono ml-2 ${e?"text-gray-600":"text-gray-500"}`,children:U2(l.value,0)})]})]},c))})]})})},LBe=({marketSize:t,isPrintable:e=!1})=>{const r=e?"#1f2937":"#ffffff",n=e?"#4b5563":"#d1d5db",i=e?"#dc2626":"#f87171",s="#ffffff",a=e?"#dc2626":"#f87171",o="#4b5563",l=e?"#dbeafe":"#a5b4fc40",c=e?"#fecaca":"#ef444490",u=e?"#ffedd5":"#fed7aa90",f=e?"#fed7aa":"#f9731680";return d.jsxs("div",{className:`relative w-full max-w-sm mx-auto ${e?"":"p-2"}`,children:[d.jsxs("svg",{viewBox:"0 0 400 400",className:"w-full h-auto font-sans",children:[d.jsx("circle",{cx:"200",cy:"200",r:"195",fill:l}),d.jsx("circle",{cx:"200",cy:"200",r:"150",fill:c}),d.jsx("circle",{cx:"200",cy:"200",r:"105",fill:u}),d.jsx("circle",{cx:"200",cy:"200",r:"60",fill:f}),d.jsx("text",{x:"200",y:"45",textAnchor:"middle",fill:i,className:"font-bold text-2xl uppercase tracking-wider",children:"PAM"}),d.jsx("text",{x:"200",y:"70",textAnchor:"middle",fill:n,className:"text-sm",children:"Potential Addressable Market"}),d.jsx("text",{x:"200",y:"90",textAnchor:"middle",fill:r,className:"font-bold text-lg",children:t.potentialAddressableMarket.split(" ")[0]}),d.jsx("text",{x:"200",y:"125",textAnchor:"middle",fill:s,className:"font-bold text-2xl uppercase tracking-wider",children:"TAM"}),d.jsxs("text",{x:"200",y:"150",textAnchor:"middle",fill:s,className:"text-sm",children:[d.jsx("tspan",{x:"200",dy:"0",children:"Total Addressable Market, or"}),d.jsx("tspan",{x:"200",dy:"14",children:"Total Available Market"})]}),d.jsx("text",{x:"200",y:"182",textAnchor:"middle",fill:s,className:"font-bold text-lg",children:t.totalAddressableMarket.split(" ")[0]}),d.jsx("text",{x:"200",y:"230",textAnchor:"middle",fill:a,className:"font-bold text-2xl uppercase tracking-wider",children:"SAM"}),d.jsx("text",{x:"200",y:"255",textAnchor:"middle",fill:n,className:"text-sm",children:"Serviceable Available Market"}),d.jsx("text",{x:"200",y:"275",textAnchor:"middle",fill:r,className:"font-bold text-lg",children:t.serviceableAvailableMarket.split(" ")[0]}),d.jsx("text",{x:"200",y:"320",textAnchor:"middle",fill:o,className:"font-bold text-xl uppercase tracking-wider",children:"SOM"}),d.jsxs("text",{x:"200",y:"340",textAnchor:"middle",fill:n,className:"text-xs",children:[d.jsx("tspan",{x:"200",dy:"0",children:"Serviceable & Obtainable"}),d.jsx("tspan",{x:"200",dy:"12",children:"Market, or Share of Market"})]}),d.jsx("text",{x:"200",y:"368",textAnchor:"middle",fill:o,className:"font-bold text-base",children:t.serviceableObtainableMarket.split(" ")[0]})]}),d.jsxs("p",{className:"text-xs italic text-center mt-2 text-gray-500",children:["Methodology: ",t.calculationReference]})]})},LT=({data:t,isPrintable:e=!1,isModelingScenarios:r,scenarioError:n,handleRunScenarioModeling:i,onOpenCashFlowModel:s})=>d.jsxs("div",{className:"space-y-6",children:[d.jsx(Jt,{isPrintable:e,children:d.jsxs(Rn,{title:"Financial Projections",icon:d.jsx(Px,{className:"w-6 h-6"}),isPrintable:e,children:[d.jsx("p",{className:`${e?"text-sm text-gray-600":"text-sm text-gray-400"}`,children:"This 5-year forecast models the venture's potential financial trajectory based on the business model and market assumptions. All figures are in USD."}),d.jsx("div",{className:"my-4",children:d.jsx(CBe,{data:t.cashFlowModel.cashFlows,scenarios:t.scenarios,isPrintable:e})}),!e&&d.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 items-center",children:[d.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(SI,{className:"w-5 h-5"}),"Open Interactive Model"]}),i&&d.jsxs("button",{onClick:i,disabled:r,className:"flex items-center gap-2 px-4 py-2 text-sm bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:[r?d.jsx(vs,{}):d.jsx(zu,{className:"w-5 h-5"}),"Model Scenarios"]}),n&&d.jsx("p",{className:"text-sm text-red-400",children:n})]}),d.jsx("div",{className:"overflow-x-auto mt-6",children:d.jsxs("table",{className:`w-full text-left ${e?"text-xs":"text-sm"}`,children:[d.jsx("thead",{className:e?"bg-gray-100":"bg-gray-900/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-2 font-semibold",children:"Year"}),d.jsx("th",{className:"p-2 font-semibold text-right",children:"Revenue"}),d.jsx("th",{className:"p-2 font-semibold text-right",children:"Gross Profit"}),d.jsx("th",{className:"p-2 font-semibold text-right",children:"EBITDA"}),d.jsx("th",{className:"p-2 font-semibold text-right",children:"FCFF"})]})}),d.jsx("tbody",{children:t.cashFlowModel.cashFlows.map((a,o)=>d.jsxs("tr",{className:`border-t ${e?"border-gray-200":"border-gray-700/50"}`,children:[d.jsx("td",{className:"p-2 font-semibold",children:a.year}),d.jsx("td",{className:"p-2 text-right font-mono",children:U2(a.revenue)}),d.jsx("td",{className:"p-2 text-right font-mono",children:U2(a.grossProfit)}),d.jsx("td",{className:"p-2 text-right font-mono",children:U2(a.ebitda)}),d.jsx("td",{className:"p-2 text-right font-mono",children:U2(a.fcff)})]},o))})]})})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(Jt,{isPrintable:e,children:d.jsx(Rn,{title:"Cost Structure",icon:d.jsx(gL,{className:"w-6 h-6"}),isPrintable:e,children:d.jsx(kBe,{breakdown:t.costBreakdown,isPrintable:e})})}),d.jsx(Jt,{isPrintable:e,children:d.jsx(Rn,{title:"Market Size",icon:d.jsx(vC,{className:"w-6 h-6"}),isPrintable:e,children:d.jsx(LBe,{marketSize:t.marketSize,isPrintable:e})})})]})]}),UR=({researchData:t,financialData:e,isPrintable:r=!1,onNavigate:n})=>{var i,s,a,o;return d.jsx(Jt,{isPrintable:r,children:d.jsxs(Rn,{title:"Market Analysis",icon:d.jsx(dG,{className:"w-6 h-6"}),isPrintable:r,children:[((i=t==null?void 0:t.marketAnalysis)==null?void 0:i.summary)&&d.jsx("p",{className:`${r?"text-gray-600":"text-gray-400"} mb-4`,children:t.marketAnalysis.summary}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t!=null&&t.marketAnalysis||e!=null&&e.marketSize?d.jsxs("div",{className:"space-y-3",children:[d.jsx("h4",{className:`font-semibold mb-2 ${r?"text-gray-700":"text-gray-300"}`,children:"Market Sizing"}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between items-baseline",children:[d.jsx("span",{className:r?"text-gray-600":"text-gray-400",children:"Potential Addressable Market:"})," ",d.jsx("strong",{className:r?"text-gray-800":"text-white",children:(e==null?void 0:e.marketSize.potentialAddressableMarket)||((s=t==null?void 0:t.marketAnalysis)==null?void 0:s.marketSize)||"N/A"})]}),d.jsxs("div",{className:"flex justify-between items-baseline",children:[d.jsx("span",{className:r?"text-gray-600":"text-gray-400",children:"Total Addressable Market (TAM):"})," ",d.jsx("strong",{className:r?"text-gray-800":"text-white",children:(e==null?void 0:e.marketSize.totalAddressableMarket)||((a=t==null?void 0:t.marketAnalysis)==null?void 0:a.marketSize)||"N/A"})]}),d.jsxs("div",{className:"flex justify-between items-baseline",children:[d.jsx("span",{className:r?"text-gray-600":"text-gray-400",children:"Serviceable Available Market (SAM):"})," ",d.jsx("strong",{className:r?"text-gray-800":"text-white",children:(e==null?void 0:e.marketSize.serviceableAvailableMarket)||"N/A"})]}),d.jsxs("div",{className:"flex justify-between items-baseline",children:[d.jsx("span",{className:r?"text-gray-600":"text-gray-400",children:"Serviceable Obtainable Market (SOM):"})," ",d.jsx("strong",{className:r?"text-gray-800":"text-white",children:(e==null?void 0:e.marketSize.serviceableObtainableMarket)||"N/A"})]}),((o=t==null?void 0:t.marketAnalysis)==null?void 0:o.growthRate)&&d.jsxs("div",{className:"flex justify-between items-baseline",children:[d.jsx("span",{className:r?"text-gray-600":"text-gray-400",children:"Est. Growth Rate (CAGR):"})," ",d.jsx("strong",{className:r?"text-gray-800":"text-white",children:t.marketAnalysis.growthRate})]})]})]}):d.jsx("p",{children:"No market sizing data available."}),(t==null?void 0:t.trendsAndOpportunities)&&d.jsxs("div",{className:"space-y-3",children:[d.jsx("h4",{className:`font-semibold mb-2 ${r?"text-gray-700":"text-gray-300"}`,children:"Trends & Opportunities"}),d.jsx("ul",{className:"list-disc list-inside space-y-2 text-sm",children:t.trendsAndOpportunities.map((l,c)=>d.jsxs("li",{className:r?"text-gray-600":"text-gray-400",children:[d.jsxs("strong",{className:r?"text-gray-700":"text-gray-300",children:[l.trend,":"]})," ",l.opportunity]},c))})]})]})]})})},RT=({data:t,isPrintable:e=!1})=>d.jsxs("div",{className:"space-y-6",children:[d.jsx(Jt,{isPrintable:e,children:d.jsx(Rn,{title:"Unfair Advantage",icon:d.jsx(fw,{className:"w-6 h-6"}),isPrintable:e,children:d.jsx("blockquote",{className:`${e?"border-l-4 border-teal-300 p-4 bg-teal-50":"border-l-4 border-teal-500 p-4 bg-gray-900/50"} my-4`,children:d.jsx("p",{className:`font-semibold ${e?"text-lg text-teal-800":"text-lg text-teal-300"}`,children:t.unfairAdvantage})})})}),d.jsx(Jt,{isPrintable:e,children:d.jsx(Rn,{title:"SWOT Analysis",icon:d.jsx(gL,{className:"w-6 h-6"}),isPrintable:e,children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(w5,{title:"Strengths",items:t.swotAnalysis.strengths,isPrintable:e,className:e?"bg-green-50":"bg-green-900/20"}),d.jsx(w5,{title:"Weaknesses",items:t.swotAnalysis.weaknesses,isPrintable:e,className:e?"bg-red-50":"bg-red-900/20"}),d.jsx(w5,{title:"Opportunities",items:t.swotAnalysis.opportunities,isPrintable:e,className:e?"bg-blue-50":"bg-blue-900/20"}),d.jsx(w5,{title:"Threats",items:t.swotAnalysis.threats,isPrintable:e,className:e?"bg-yellow-50":"bg-yellow-900/20"})]})})}),t.competitors.length>0&&d.jsx(Jt,{isPrintable:e,children:d.jsx(Rn,{title:"Competitive Analysis",icon:d.jsx(Cm,{className:"w-6 h-6"}),isPrintable:e,children:d.jsx("div",{className:"space-y-4",children:t.competitors.map((r,n)=>d.jsx(RBe,{competitor:r,isPrintable:e},n))})})})]}),w5=({title:t,items:e,className:r,isPrintable:n=!1})=>d.jsxs("div",{className:`p-4 rounded-lg ${r}`,children:[d.jsx("h4",{className:`font-bold mb-2 ${n?"text-gray-700":"text-gray-300"}`,children:t}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${n?"text-sm text-gray-600":"text-sm text-gray-400"}`,children:e.map((i,s)=>d.jsx("li",{children:i},s))})]}),RBe=({competitor:t,isPrintable:e})=>d.jsxs(Jt,{isPrintable:e,children:[d.jsx("h4",{className:`font-bold ${e?"text-base text-gray-800":"text-base text-white"}`,children:t.name}),d.jsxs("p",{className:"text-xs mt-1 text-gray-500",children:["Product: ",t.keyProduct," | Model: ",t.businessModel]}),d.jsx("p",{className:`${e?"text-sm text-gray-600":"text-sm text-gray-400"} mt-2`,children:t.description}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-xs",children:[d.jsxs("div",{children:[d.jsx("h5",{className:"font-semibold text-green-400",children:"Strengths"}),d.jsx("ul",{className:"list-disc list-inside",children:t.strengths.map((r,n)=>d.jsx("li",{children:r},n))})]}),d.jsxs("div",{children:[d.jsx("h5",{className:"font-semibold text-red-400",children:"Weaknesses"}),d.jsx("ul",{className:"list-disc list-inside",children:t.weaknesses.map((r,n)=>d.jsx("li",{children:r},n))})]})]}),d.jsxs("p",{className:`${e?"text-sm text-blue-700":"text-sm text-blue-400"} font-semibold mt-3`,children:["Opportunity: ",t.differentiationOpportunity]})]}),DR=({data:t,isPrintable:e=!1,onNavigate:r})=>d.jsx(Jt,{isPrintable:e,children:d.jsx(Rn,{title:"Competitive Landscape",icon:d.jsx(Cm,{className:"w-6 h-6"}),isPrintable:e,children:d.jsx("div",{className:"space-y-4",children:t.competitiveLandscape.map((n,i)=>d.jsxs(Jt,{isPrintable:e,children:[d.jsx("h4",{className:`font-bold ${e?"text-base text-gray-800":"text-base text-white"}`,children:n.name}),d.jsxs("p",{className:"text-xs mt-1 text-gray-500",children:[n.foundedYear&&`Founded: ${n.foundedYear}`," ",n.funding&&`| Funding: ${n.funding}`]}),d.jsx("p",{className:`${e?"text-sm text-gray-600":"text-sm text-gray-400"} mt-2`,children:n.description}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-xs",children:[d.jsxs("div",{children:[d.jsx("h5",{className:"font-semibold text-green-400",children:"Strengths"}),d.jsx("ul",{className:"list-disc list-inside",children:n.strengths.map((s,a)=>d.jsx("li",{children:s},a))})]}),d.jsxs("div",{children:[d.jsx("h5",{className:"font-semibold text-red-400",children:"Weaknesses"}),d.jsx("ul",{className:"list-disc list-inside",children:n.weaknesses.map((s,a)=>d.jsx("li",{children:s},a))})]})]})]},i))})})}),MT=({data:t,isPrintable:e=!1})=>(Xe.useEffect(()=>{!e&&t.expansionRoadmapMermaidCode&&(PE.initialize({startOnLoad:!0,theme:"dark",securityLevel:"loose"}),PE.contentLoaded())},[e,t.expansionRoadmapMermaidCode]),d.jsxs("div",{className:"space-y-6",children:[d.jsx(Jt,{isPrintable:e,children:d.jsx(Rn,{title:"Launch Strategy",icon:d.jsx(fL,{className:"w-6 h-6"}),isPrintable:e,children:d.jsx("p",{className:`${e?"text-gray-600":"text-gray-400"}`,children:t.launchStrategySummary})})}),d.jsx(Jt,{isPrintable:e,children:d.jsx(Rn,{title:"Customer Journey Map",icon:d.jsx(mG,{className:"w-6 h-6"}),isPrintable:e,children:d.jsx("div",{className:"flex flex-col md:flex-row md:justify-between gap-4",children:t.customerJourneyMap.map((r,n)=>d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-bold text-center text-blue-400",children:r.stageName}),d.jsxs("div",{className:"mt-2 p-3 bg-gray-900/50 rounded-lg h-full",children:[d.jsx("h5",{className:"font-semibold text-sm text-gray-300",children:"Touchpoints"}),d.jsx("ul",{className:"list-disc list-inside text-xs text-gray-400",children:r.touchpoints.map((i,s)=>d.jsx("li",{children:i},s))}),d.jsx("h5",{className:"font-semibold text-sm text-gray-300 mt-3",children:"Experience"}),d.jsx("p",{className:"text-xs text-gray-400",children:r.customerExperience})]})]},n))})})}),!e&&t.expansionRoadmapMermaidCode&&d.jsx(Jt,{children:d.jsx(Rn,{title:"Market Expansion Roadmap",icon:d.jsx(Ule,{className:"w-6 h-6"}),children:d.jsx("div",{className:"mermaid text-center","data-mermaid":t.expansionRoadmapMermaidCode,children:t.expansionRoadmapMermaidCode})})})]})),UT=({data:t,isPrintable:e=!1})=>{const r=n=>({Low:e?"bg-green-100 text-green-800":"bg-green-500/20 text-green-300",Medium:e?"bg-yellow-100 text-yellow-800":"bg-yellow-500/20 text-yellow-300",High:e?"bg-red-100 text-red-800":"bg-red-500/20 text-red-300"})[n];return d.jsx(Jt,{isPrintable:e,children:d.jsxs(Rn,{title:"Risk Analysis",icon:d.jsx(Ex,{className:"w-6 h-6"}),isPrintable:e,children:[d.jsx("p",{className:`${e?"text-gray-600":"text-gray-400"}`,children:t.riskSummary}),d.jsx("div",{className:"overflow-x-auto mt-4",children:d.jsxs("table",{className:`w-full text-left ${e?"text-sm":"text-base"}`,children:[d.jsx("thead",{className:e?"bg-gray-100":"bg-gray-900/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-2 font-semibold",children:"Risk"}),d.jsx("th",{className:"p-2 font-semibold",children:"Category"}),d.jsx("th",{className:"p-2 font-semibold",children:"Likelihood"}),d.jsx("th",{className:"p-2 font-semibold",children:"Impact"}),d.jsx("th",{className:"p-2 font-semibold",children:"Mitigation Strategy"})]})}),d.jsx("tbody",{children:t.risks.map((n,i)=>d.jsxs("tr",{className:`border-t ${e?"border-gray-200":"border-gray-700/50"}`,children:[d.jsx("td",{className:"p-2 font-semibold",children:n.risk}),d.jsx("td",{className:"p-2",children:n.category}),d.jsx("td",{className:"p-2",children:d.jsx(Im,{isPrintable:e,className:r(n.likelihood),children:n.likelihood})}),d.jsx("td",{className:"p-2",children:d.jsx(Im,{isPrintable:e,className:r(n.impact),children:n.impact})}),d.jsx("td",{className:`p-2 ${e?"text-gray-600":"text-gray-400"}`,children:n.mitigation})]},i))})]})})]})})},DT=({data:t,isPrintable:e=!1})=>(Xe.useEffect(()=>{!e&&t.productRoadmapMermaidCode&&(PE.initialize({startOnLoad:!1,theme:"dark",securityLevel:"loose"}),setTimeout(()=>{try{const r=document.getElementById("product-roadmap-mermaid");r&&!r.hasAttribute("data-processed")&&PE.render("productRoadmapSvg",t.productRoadmapMermaidCode,n=>{r.innerHTML=n,r.setAttribute("data-processed","true")})}catch(r){console.error("Mermaid rendering failed for product roadmap",r)}},100))},[e,t.productRoadmapMermaidCode]),d.jsx(Jt,{isPrintable:e,children:d.jsxs(Rn,{title:"Operational & Technical Blueprint",icon:d.jsx(dL,{className:"w-6 h-6"}),isPrintable:e,children:[d.jsx("p",{className:`${e?"text-gray-600":"text-gray-400"} mb-6`,children:t.architectureOverview}),d.jsxs("div",{className:"space-y-8",children:[t.mvpDefinition&&d.jsxs("div",{className:`p-6 rounded-lg ${e?"bg-blue-50 border border-blue-200":"bg-blue-900/30 border border-blue-500/50"}`,children:[d.jsxs("h4",{className:`font-semibold mb-3 text-lg flex items-center gap-2 ${e?"text-blue-800":"text-blue-300"}`,children:[d.jsx(fL,{className:"w-5 h-5"}),"Minimum Viable Product (MVP) Definition"]}),d.jsx("p",{className:`${e?"text-gray-700":"text-gray-300"} text-sm mb-4`,children:t.mvpDefinition.summary}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h5",{className:`font-semibold text-base mb-2 ${e?"text-gray-800":"text-white"}`,children:"Core Features"}),d.jsx("ul",{className:`list-disc list-inside space-y-1 text-sm ${e?"text-gray-600":"text-gray-400"}`,children:t.mvpDefinition.coreFeatures.map((r,n)=>d.jsx("li",{children:r},n))})]}),d.jsxs("div",{children:[d.jsx("h5",{className:`font-semibold text-base mb-2 ${e?"text-gray-800":"text-white"}`,children:"Success Metrics"}),d.jsx("ul",{className:`list-disc list-inside space-y-1 text-sm ${e?"text-gray-600":"text-gray-400"}`,children:t.mvpDefinition.successMetrics.map((r,n)=>d.jsx("li",{children:r},n))})]})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:`font-semibold mb-3 text-lg ${e?"text-gray-800":"text-white"}`,children:"Product Roadmap"}),!e&&t.productRoadmapMermaidCode&&d.jsx("div",{className:"my-4 p-4 bg-gray-900 rounded-lg text-center",children:d.jsx("div",{id:"product-roadmap-mermaid",className:"mermaid"})}),d.jsx("div",{className:"space-y-4",children:t.productRoadmap.map((r,n)=>d.jsxs("div",{className:`p-4 rounded-lg ${e?"bg-gray-100 border border-gray-200":"bg-gray-900/50"}`,children:[d.jsx("h5",{className:`font-semibold text-base ${e?"text-blue-700":"text-blue-400"}`,children:r.phase}),d.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h6",{className:`font-semibold text-sm ${e?"text-gray-700":"text-gray-300"}`,children:"Strategic Goals"}),d.jsx("ul",{className:`list-disc list-inside text-xs mt-1 space-y-1 ${e?"text-gray-600":"text-gray-400"}`,children:r.strategicGoals.map((i,s)=>d.jsx("li",{children:i},s))})]}),d.jsxs("div",{children:[d.jsx("h6",{className:`font-semibold text-sm ${e?"text-gray-700":"text-gray-300"}`,children:"Key Features"}),d.jsx("ul",{className:`list-disc list-inside text-xs mt-1 space-y-1 ${e?"text-gray-600":"text-gray-400"}`,children:r.features.map((i,s)=>d.jsx("li",{children:i},s))})]})]})]},n))})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:`font-semibold mb-2 text-lg ${e?"text-gray-800":"text-white"}`,children:"Technology Stack"}),t.techStack.map((r,n)=>d.jsxs("div",{className:`text-sm py-2 border-b ${e?"border-gray-200":"border-gray-700/50"} last:border-b-0`,children:[d.jsxs("strong",{className:e?"text-gray-700":"text-gray-300",children:[r.layer,":"]})," ",r.technology,d.jsxs("p",{className:"text-xs text-gray-500 italic pl-2",children:["- ",r.reason]})]},n))]}),d.jsxs("div",{children:[d.jsx("h4",{className:`font-semibold mb-2 text-lg ${e?"text-gray-800":"text-white"}`,children:"AI Core Specification"}),d.jsx("p",{className:`${e?"text-sm font-semibold text-gray-700":"text-sm font-semibold text-gray-300"}`,children:t.aiCoreSpecification.approach}),d.jsx("p",{className:`${e?"text-sm text-gray-600":"text-sm text-gray-400"}`,children:t.aiCoreSpecification.reasoning})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:`font-semibold mb-3 text-lg ${e?"text-gray-800":"text-white"}`,children:"Validation Strategy"}),d.jsx("div",{className:"space-y-3",children:t.validationStrategy.map((r,n)=>d.jsxs("div",{className:`p-3 rounded-lg ${e?"bg-gray-100":"bg-gray-900/50"}`,children:[d.jsxs("h5",{className:`font-semibold text-sm ${e?"text-gray-700":"text-gray-300"}`,children:[r.phase,": ",r.objective]}),d.jsxs("p",{className:`text-xs mt-1 ${e?"text-gray-600":"text-gray-400"}`,children:["Methodology: ",r.methodology]})]},n))})]})]})]})})),OR=({data:t,isPrintable:e=!1})=>d.jsx(Jt,{isPrintable:e,children:d.jsxs(Rn,{title:"Red Team Analysis",icon:d.jsx(fw,{className:"w-6 h-6 text-red-400"}),isPrintable:e,children:[d.jsxs("p",{className:`${e?"text-gray-600":"text-gray-400"} mb-4`,children:["Simulating a well-funded competitor, '",t.competitorProfile.name,"', to stress-test your venture's strategy."]}),d.jsxs("blockquote",{className:`${e?"border-l-4 border-red-300 p-4 bg-red-50":"border-l-4 border-red-500 p-4 bg-gray-900/50"} my-4`,children:[d.jsx("h4",{className:`font-bold ${e?"text-lg text-red-800":"text-lg text-red-300"}`,children:"Counter-Strategy Summary"}),d.jsx("p",{className:`mt-2 ${e?"text-gray-700":"text-gray-300"}`,children:t.counterStrategySummary})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h4",{className:`font-semibold mb-2 ${e?"text-lg text-gray-800":"text-lg text-white"}`,children:"Key Vulnerabilities Exploited"}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${e?"text-sm text-gray-600":"text-sm text-gray-400"}`,children:t.keyVulnerabilitiesExploited.map((r,n)=>d.jsx("li",{children:r},n))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[d.jsxs(Jt,{isPrintable:e,children:[d.jsx("h5",{className:"font-semibold text-red-400",children:"Product Flank"}),d.jsx("p",{className:"text-sm",children:t.productFlank.strategy})]}),d.jsxs(Jt,{isPrintable:e,children:[d.jsx("h5",{className:"font-semibold text-red-400",children:"Marketing Blitz"}),d.jsx("p",{className:"text-sm",children:t.marketingBlitz.strategy})]}),d.jsxs(Jt,{isPrintable:e,children:[d.jsx("h5",{className:"font-semibold text-red-400",children:"Pricing Pressure"}),d.jsx("p",{className:"text-sm",children:t.pricingPressure.strategy})]})]})]})}),MBe=({score:t,isPrintable:e})=>{const r={Green:e?"bg-green-100 text-green-800":"bg-green-500/20 text-green-300",Yellow:e?"bg-yellow-100 text-yellow-800":"bg-yellow-500/20 text-yellow-300",Red:e?"bg-red-100 text-red-800":"bg-red-500/20 text-red-300"};return d.jsx(Im,{isPrintable:e,className:r[t],children:t})},UBe=({considerations:t,isPrintable:e=!1,onNavigate:r})=>d.jsx("div",{className:"space-y-4",children:t.map((n,i)=>d.jsxs(Jt,{isPrintable:e,children:[d.jsx("h4",{className:`font-bold ${e?"text-base text-gray-800":"text-base text-white"}`,children:n.aspect}),d.jsx("p",{className:`${e?"text-sm text-gray-600":"text-sm text-gray-400"} mt-1`,children:n.details}),d.jsxs("p",{className:`${e?"text-sm font-semibold text-green-700":"text-sm font-semibold text-green-400"} mt-2`,children:["Mitigation: ",n.mitigation]})]},i))}),DBe=({sources:t,isPrintable:e=!1,onNavigate:r})=>d.jsx("ul",{className:"space-y-3",children:t.map((n,i)=>d.jsxs("li",{id:`reference-${i}`,className:`p-3 rounded-lg ${e?"bg-gray-100":"bg-gray-900/50"}`,children:[d.jsxs("a",{href:n.uri,target:"_blank",rel:"noopener noreferrer",className:`font-semibold hover:underline ${e?"text-blue-700":"text-blue-400"}`,children:["[",i+1,"] ",n.title]}),d.jsx("p",{className:"text-xs truncate mt-1 text-gray-500",children:n.uri})]},i))}),OT=({data:t,allSolutions:e,isPrintable:r=!1})=>d.jsx(Jt,{isPrintable:r,children:d.jsx(Rn,{title:"Solution Scoring Analysis",icon:d.jsx(Bx,{className:"w-6 h-6"}),isPrintable:r,children:d.jsx("p",{className:`${r?"text-sm text-gray-600":"text-sm text-gray-400"}`,children:t.recommendationText})})}),PR=({data:t,isPrintable:e=!1,onNavigate:r})=>{const n=i=>{const s={Green:e?"bg-green-100 text-green-800":"bg-green-500/20 text-green-300",Yellow:e?"bg-yellow-100 text-yellow-800":"bg-yellow-500/20 text-yellow-300",Red:e?"bg-red-100 text-red-800":"bg-red-500/20 text-red-300"};return d.jsxs(Im,{isPrintable:e,className:s[i],children:[i," Signal"]})};return d.jsx(Jt,{isPrintable:e,children:d.jsxs(Rn,{title:"IP & Defensibility Strategy",icon:d.jsx(Bx,{className:"w-6 h-6"}),isPrintable:e,children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(Jt,{isPrintable:e,children:[d.jsx("h4",{className:`font-semibold mb-2 ${e?"text-gray-700":"text-gray-300"}`,children:"Patentability Score"}),d.jsxs("p",{className:`text-4xl font-bold ${e?"text-blue-700":"text-blue-400"}`,children:[t.patentabilityScore," / 10"]}),d.jsx("p",{className:`text-sm mt-2 ${e?"text-gray-600":"text-gray-400"}`,children:t.patentabilityReasoning})]}),d.jsxs(Jt,{isPrintable:e,children:[d.jsx("h4",{className:`font-semibold mb-2 ${e?"text-gray-700":"text-gray-300"}`,children:"Freedom to Operate (FTO)"}),d.jsx("div",{className:"mb-2",children:n(t.freedomToOperateSignal)}),d.jsx("p",{className:`text-sm ${e?"text-gray-600":"text-gray-400"}`,children:t.freedomToOperateReasoning})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h4",{className:`font-semibold mb-3 ${e?"text-lg text-gray-800":"text-lg text-white"}`,children:"IP Strategy Recommendation"}),d.jsx("p",{className:`${e?"text-gray-600":"text-gray-400"}`,children:t.ipStrategyRecommendation})]}),t.priorArtSummary&&t.priorArtSummary.length>0&&d.jsxs("div",{className:"mt-6",children:[d.jsx("h4",{className:`font-semibold mb-3 ${e?"text-lg text-gray-800":"text-lg text-white"}`,children:"Prior Art Summary"}),d.jsx("div",{className:"space-y-3",children:t.priorArtSummary.map((i,s)=>d.jsxs(Jt,{isPrintable:e,children:[d.jsx("a",{href:i.link,target:"_blank",rel:"noopener noreferrer",className:`font-semibold hover:underline ${e?"text-blue-700":"text-blue-400"}`,children:i.title}),d.jsx("p",{className:`${e?"text-sm text-gray-600":"text-sm text-gray-400"} mt-1`,children:i.summary})]},s))})]})]})})},HR=({profile:t,isPrintable:e=!1})=>{const r=({label:n,score:i})=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-baseline text-sm",children:[d.jsx("span",{className:e?"text-gray-700":"text-gray-300",children:n}),d.jsxs("span",{className:`font-bold ${e?"text-blue-700":"text-blue-400"}`,children:[Math.round(i*100),"%"]})]}),d.jsx("div",{className:`w-full ${e?"bg-gray-200":"bg-gray-700"} rounded-full h-2.5 mt-1`,children:d.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{width:`${i*100}%`}})})]});return d.jsx(Jt,{isPrintable:e,children:d.jsxs(Rn,{title:`Founder Analysis: ${t.founder_name}`,icon:d.jsx(Ile,{className:"w-6 h-6"}),isPrintable:e,children:[d.jsxs("blockquote",{className:`${e?"border-l-4 border-purple-200 p-4 bg-purple-50":"border-l-4 border-purple-500/50 p-4 bg-gray-900/50"} my-4`,children:[d.jsx("h4",{className:`font-bold ${e?"text-lg text-purple-800":"text-lg text-purple-300"}`,children:t.headline}),d.jsx("p",{className:`mt-2 ${e?"text-gray-600":"text-gray-400"}`,children:t.summary})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[d.jsxs(Jt,{isPrintable:e,children:[d.jsx("h4",{className:`font-semibold mb-3 ${e?"text-gray-700":"text-gray-300"}`,children:"Key Capabilities"}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(r,{label:"Vision & Opportunity",score:t.capability_scores.vision_opportunity}),d.jsx(r,{label:"Execution & Delivery",score:t.capability_scores.execution_delivery}),d.jsx(r,{label:"People & Culture",score:t.capability_scores.people_culture}),d.jsx(r,{label:"Depth & Rigor",score:t.capability_scores.depth_rigor})]})]}),d.jsxs(Jt,{isPrintable:e,children:[d.jsx("h4",{className:`font-semibold mb-3 ${e?"text-gray-700":"text-gray-300"}`,children:"Top Strengths"}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${e?"text-sm text-green-700":"text-sm text-green-300"}`,children:t.top_strengths.map((n,i)=>d.jsx("li",{children:n},i))}),d.jsx("h4",{className:`font-semibold mt-4 mb-2 ${e?"text-gray-700":"text-gray-300"}`,children:"Watchouts"}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${e?"text-sm text-yellow-700":"text-sm text-yellow-300"}`,children:t.watchouts.map((n,i)=>d.jsx("li",{children:n},i))})]})]}),d.jsxs(Jt,{isPrintable:e,className:"mt-6",children:[d.jsx("h4",{className:`font-semibold mb-2 ${e?"text-gray-700":"text-gray-300"}`,children:"Actionable Advice"}),d.jsx("p",{className:`${e?"text-gray-600":"text-gray-400"}`,children:t.advice})]})]})})},PT=({data:t,isPrintable:e=!1})=>{const r=({title:n,children:i})=>d.jsxs("div",{className:e?"mb-6":"mb-4",children:[d.jsx("h4",{className:`font-bold ${e?"text-base text-gray-700 border-b border-gray-200 pb-1 mb-2":"text-lg text-gray-200 mb-2"}`,children:n}),d.jsx("div",{className:`${e?"text-sm text-gray-600 space-y-2":"text-sm text-gray-400 space-y-2"}`,children:i})]});return d.jsx(Jt,{isPrintable:e,children:d.jsxs(Rn,{title:"Investment Memorandum",icon:d.jsx(pm,{className:"w-6 h-6"}),isPrintable:e,children:[d.jsx(r,{title:"Executive Summary",children:d.jsx("p",{children:t.executiveSummary})}),d.jsxs(r,{title:"Problem & Solution",children:[d.jsxs("p",{children:[d.jsx("strong",{className:e?"text-gray-700":"text-gray-300",children:"Problem:"})," ",t.problemAndSolution.problem]}),d.jsxs("p",{children:[d.jsx("strong",{className:e?"text-gray-700":"text-gray-300",children:"Solution:"})," ",t.problemAndSolution.solution]})]}),d.jsxs(r,{title:"Market Opportunity",children:[d.jsx("p",{children:t.marketOpportunity.summary}),d.jsx("p",{className:"mt-1 italic",children:t.marketOpportunity.marketSize})]}),d.jsxs(r,{title:"Product & Advantage",children:[d.jsx("p",{children:t.product.description}),d.jsxs("p",{className:"mt-1",children:[d.jsx("strong",{children:"Unfair Advantage:"})," ",t.product.unfairAdvantage]})]}),d.jsxs(r,{title:"Team",children:[d.jsx("p",{children:t.team.summary}),d.jsx("ul",{className:"list-disc list-inside mt-1",children:t.team.strengths.map((n,i)=>d.jsx("li",{children:n},i))})]}),d.jsx(r,{title:"Go-to-Market Strategy",children:d.jsx("p",{children:t.goToMarketStrategy.summary})}),d.jsxs(r,{title:"Financials",children:[d.jsx("p",{children:t.financialsSummary.summary}),d.jsx("div",{className:"grid grid-cols-2 gap-4 mt-2",children:t.financialsSummary.keyProjections.map((n,i)=>d.jsxs("div",{className:`p-2 rounded ${e?"bg-gray-100":"bg-gray-800"}`,children:[d.jsx("span",{className:"block text-xs font-bold",children:n.metric}),d.jsx("span",{className:"block text-sm",children:n.value})]},i))})]}),d.jsxs(r,{title:"Deal & Ask",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Ask:"})," ",t.dealAndAsk.ask]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Use of Funds:"})," ",t.dealAndAsk.useOfFunds]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsx(r,{title:"Investment Thesis",children:d.jsx("ul",{className:"list-disc list-inside",children:t.investmentThesis.map((n,i)=>d.jsx("li",{children:n},i))})}),d.jsx(r,{title:"Key Risks",children:d.jsx("ul",{className:"list-disc list-inside",children:t.keyRisks.map((n,i)=>d.jsx("li",{children:n},i))})})]})]})})},QR=({sources:t,isPrintable:e=!1})=>d.jsx(Jt,{isPrintable:e,children:d.jsx(Rn,{title:"References & Citations",icon:d.jsx(GB,{className:"w-6 h-6"}),isPrintable:e,children:d.jsx(DBe,{sources:t,isPrintable:e})})}),jR=({data:t,isPrintable:e=!1})=>d.jsx(Jt,{isPrintable:e,children:d.jsx(Rn,{title:"Ethical Considerations",icon:d.jsx(Y_,{className:"w-6 h-6"}),isPrintable:e,children:d.jsx(UBe,{considerations:t.ethicalConsiderations,isPrintable:e})})}),GR=({data:t,isPrintable:e=!1})=>d.jsx(Jt,{isPrintable:e,children:d.jsxs(Rn,{title:"Ethics & Compliance Audit",icon:d.jsx(Y_,{className:"w-6 h-6"}),isPrintable:e,children:[t.redFlagWarning&&d.jsxs("div",{className:`p-4 mb-6 rounded-lg ${e?"bg-red-50 border-l-4 border-red-500":"bg-red-900/30 border-l-4 border-red-500"}`,children:[d.jsxs("h4",{className:`font-bold flex items-center gap-2 ${e?"text-red-800":"text-red-300"}`,children:[d.jsx(AG,{className:"w-5 h-5"}),"CRITICAL RED FLAG"]}),d.jsx("p",{className:`mt-1 ${e?"text-red-700":"text-red-200"}`,children:t.redFlagWarning})]}),d.jsx("div",{className:"space-y-4",children:t.scores.map((r,n)=>d.jsx(Jt,{isPrintable:e,children:d.jsxs("div",{className:"flex justify-between items-start gap-4",children:[d.jsxs("div",{children:[d.jsx("h5",{className:`font-bold ${e?"text-gray-800":"text-white"}`,children:r.dimension}),d.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-600":"text-gray-400"}`,children:r.explanation})]}),d.jsx(MBe,{score:r.score,isPrintable:e})]})},n))}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h4",{className:`font-semibold mb-3 ${e?"text-lg text-gray-800":"text-lg text-white"}`,children:"Recommendations"}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${e?"text-sm text-gray-600":"text-sm text-gray-400"}`,children:t.recommendations.map((r,n)=>d.jsx("li",{children:r},n))})]})]})}),VR=({data:t,isPrintable:e=!1})=>d.jsx(Jt,{isPrintable:e,children:d.jsxs(Rn,{title:"Venture Success Score Analysis",icon:d.jsx(_x,{className:"w-6 h-6"}),isPrintable:e,children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h4",{className:`font-semibold mb-2 ${e?"text-lg text-gray-800":"text-lg text-white"}`,children:"Overall Assessment"}),d.jsx("p",{className:`${e?"text-gray-600":"text-gray-400"}`,children:t.scoreJustification})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs(Jt,{isPrintable:e,children:[d.jsx("h5",{className:`font-semibold mb-3 ${e?"text-green-700":"text-green-400"}`,children:"Key Strengths"}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${e?"text-sm text-gray-600":"text-sm text-gray-300"}`,children:t.keyStrengths.map((r,n)=>d.jsx("li",{children:r},n))})]}),d.jsxs(Jt,{isPrintable:e,children:[d.jsx("h5",{className:`font-semibold mb-3 ${e?"text-yellow-700":"text-yellow-400"}`,children:"Areas for Improvement"}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${e?"text-sm text-gray-600":"text-sm text-gray-300"}`,children:t.areasForImprovement.map((r,n)=>d.jsx("li",{children:r},n))})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h4",{className:`font-semibold mb-3 ${e?"text-lg text-gray-800":"text-lg text-white"}`,children:"Strategic Recommendations"}),d.jsx("ul",{className:`list-disc list-inside space-y-1 ${e?"text-sm text-gray-600":"text-sm text-gray-400"}`,children:t.recommendations.map((r,n)=>d.jsx("li",{children:r},n))})]})]})}),LY=({agents:t,metrics:e,isPrintable:r=!1})=>d.jsx(Jt,{isPrintable:r,children:d.jsxs(Rn,{title:"Computational Usage",icon:d.jsx(pL,{className:"w-6 h-6"}),isPrintable:r,children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsxs(Jt,{isPrintable:r,children:[d.jsx("h4",{className:`font-semibold mb-2 ${r?"text-gray-700":"text-gray-300"}`,children:"Total Tokens"}),d.jsx("p",{className:`text-3xl font-bold ${r?"text-blue-600":"text-blue-400"}`,children:e.totalTokens.toLocaleString()})]}),d.jsxs(Jt,{isPrintable:r,children:[d.jsx("h4",{className:`font-semibold mb-2 ${r?"text-gray-700":"text-gray-300"}`,children:"Est. Carbon Footprint"}),d.jsxs("p",{className:`text-3xl font-bold ${r?"text-green-600":"text-green-400"}`,children:["~",e.co2g.toFixed(2),"g COe"]})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left text-sm",children:[d.jsx("thead",{className:r?"bg-gray-100":"bg-gray-900/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-2 font-semibold",children:"Agent"}),d.jsx("th",{className:"p-2 font-semibold text-right",children:"Input Tokens"}),d.jsx("th",{className:"p-2 font-semibold text-right",children:"Output Tokens"}),d.jsx("th",{className:"p-2 font-semibold text-right",children:"Total Tokens"})]})}),d.jsx("tbody",{children:t.map((n,i)=>{var s;return((s=n.output)==null?void 0:s.tokenUsage)&&d.jsxs("tr",{className:`border-t ${r?"border-gray-200":"border-gray-700/50"}`,children:[d.jsx("td",{className:"p-2",children:n.name}),d.jsx("td",{className:"p-2 text-right font-mono",children:n.output.tokenUsage.input.toLocaleString()}),d.jsx("td",{className:"p-2 text-right font-mono",children:n.output.tokenUsage.output.toLocaleString()}),d.jsx("td",{className:"p-2 text-right font-mono font-bold",children:n.output.tokenUsage.total.toLocaleString()})]},i)})})]})})]})}),OBe=({directive:t})=>{if(!t)return null;const e=t.replace(/_/g," "),r={BALANCED:"bg-blue-100 text-blue-800",TIME_TO_MARKET:"bg-yellow-100 text-yellow-800",UNIQUE_VALUE_PROPOSITION:"bg-purple-100 text-purple-800",CAPITAL_EFFICIENCY:"bg-green-100 text-green-800"};return d.jsx("div",{className:"mt-8",children:d.jsxs("span",{className:`px-4 py-2 text-sm font-semibold rounded-full ${r[t]||r.BALANCED}`,children:["Strategic Directive: ",e]})})},PBe=({challenge:t,brandName:e,directive:r,ideaArea:n,targetMarket:i,userSolution:s})=>{var l,c;const a=((l=O0.find(u=>u.value===n))==null?void 0:l.label)||n,o=((c=mc.find(u=>u.value===i))==null?void 0:c.label)||i;return d.jsxs("div",{className:"w-full h-full p-10 flex flex-col justify-between items-center text-center text-gray-800",children:[d.jsx("div",{}),d.jsxs("div",{className:"w-full",children:[d.jsx("h1",{className:"text-6xl font-extrabold",style:{textShadow:"1px 1px 3px rgba(0,0,0,0.1)"},children:e}),d.jsx("h2",{className:"text-2xl text-gray-600 mt-4",children:"Venture Creation Report"}),d.jsx("div",{className:"mt-8 text-left max-w-2xl mx-auto",children:d.jsxs("p",{className:"text-lg font-semibold bg-white/60 backdrop-blur-sm p-4 rounded-lg border border-gray-200 shadow-sm leading-relaxed",children:[d.jsx("span",{className:"font-bold",children:"Area:"})," ",a,d.jsx("br",{}),d.jsx("span",{className:"font-bold",children:"Market:"})," ",o,d.jsx("br",{}),d.jsx("span",{className:"font-bold",children:"Initial Challenge:"}),' "',t,'"',s&&d.jsxs(d.Fragment,{children:[d.jsx("br",{}),d.jsx("span",{className:"font-bold",children:"Provided Solution:"}),' "',s,'"']})]})}),d.jsx(OBe,{directive:r})]}),d.jsxs("div",{className:"w-full text-gray-600 text-sm",children:[d.jsxs("p",{children:[" ",new Date().getFullYear()," Reza Kalantarinejad & Marc J Ventresca"]}),d.jsx("p",{children:"Sad Business School, University of Oxford"})]})]})},Xo=({title:t,children:e})=>d.jsxs("section",{className:"break-before-page pt-12",children:[d.jsx("h3",{className:"text-3xl font-bold text-gray-800 border-b-2 border-gray-300 pb-2 mb-8",children:t}),d.jsx("div",{className:"space-y-8",children:e})]}),HBe=hC.forwardRef(({challenge:t,report:e,agents:r=[]},n)=>{const{strategicDirective:i,ideaArea:s,targetMarket:a,userSolution:o,founders:l,founderDna:c,research:u,customerPersona:f,empathyMap:p,problemStatement:g,technologyScoutReport:y,allSolutions:x,allCritiques:w,solutionScoring:S,selectedSolution:B,ipStrategy:F,talentStrategy:k,valueProposition:O,leanCanvas:R,storyboard:D,financialPlan:Q,investmentMemo:V,riskAnalysis:re,technicalBlueprint:P,goToMarket:H,pitchDeck:q,strategy:Z,redTeam:se,ethicsReport:X,usageMetrics:ee,successScore:te}=e;return d.jsx("div",{style:{position:"absolute",left:"-9999px",top:0,width:"210mm",background:"white",color:"black",fontFamily:"Inter, sans-serif"},children:d.jsxs("div",{ref:n,className:"bg-white",children:[d.jsx("div",{className:"w-full h-[297mm] p-0",children:d.jsxs("div",{className:"relative w-full h-full bg-gray-100",children:[(Q==null?void 0:Q.elevatorPitchImageB64)&&d.jsx("img",{src:`data:image/jpeg;base64,${Q.elevatorPitchImageB64}`,alt:"Brand Banner",className:"absolute inset-0 w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-sm"}),d.jsx("div",{className:"absolute inset-0",children:d.jsx(PBe,{challenge:t,brandName:(Q==null?void 0:Q.selectedBrandName)||"Innovation Report",directive:i,ideaArea:s,targetMarket:a,userSolution:o})})]})}),d.jsxs("div",{className:"p-10",children:[(q==null?void 0:q.executiveSummary)&&d.jsx(Xo,{title:"Executive Summary",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-line leading-relaxed text-lg",children:q.executiveSummary})}),V&&d.jsx(Xo,{title:"Investment Memo",children:d.jsx(PT,{data:V,isPrintable:!0})}),(c||k||(l==null?void 0:l.some(Ce=>Ce.analysisProfile)))&&d.jsxs(Xo,{title:"Chapter 1: Founder & Team Strategy",children:[c&&d.jsx(LR,{analysis:c,founders:l,isPrintable:!0}),l==null?void 0:l.map(Ce=>Ce.analysisProfile&&d.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:d.jsx(HR,{profile:Ce.analysisProfile,isPrintable:!0})},Ce.id)),k&&d.jsx(RR,{data:k,isPrintable:!0}),(k==null?void 0:k.teamCapabilityAnalysis)&&d.jsx(MR,{data:k,isPrintable:!0})]}),(g||f||p||u)&&d.jsxs(Xo,{title:"Chapter 2: Problem Space & Customer Insights",children:[g&&d.jsx(_T,{data:g,isPrintable:!0}),f&&d.jsx(ET,{data:f,isPrintable:!0}),p&&d.jsx(BT,{data:p,isPrintable:!0}),((u==null?void 0:u.marketAnalysis)||(Q==null?void 0:Q.marketSize))&&d.jsx(UR,{researchData:u,financialData:Q,isPrintable:!0})]}),(B||O||R)&&d.jsxs(Xo,{title:"Chapter 3: Solution & Business Model",children:[y&&d.jsx(NT,{data:y,isPrintable:!0}),S&&x&&d.jsx(OT,{data:S,allSolutions:x,isPrintable:!0}),B&&d.jsx(TT,{data:B,allSolutions:x,allCritiques:w,isPrintable:!0}),F&&d.jsx(PR,{data:F,isPrintable:!0}),O&&d.jsx(FT,{data:O,isPrintable:!0}),R&&d.jsx(IT,{data:R,isPrintable:!0})]}),D&&d.jsx(Xo,{title:"Chapter 4: Customer Journey Storyboard",children:d.jsx(kT,{data:D,isPrintable:!0})}),Z&&d.jsxs(Xo,{title:"Chapter 5: Strategic Advantages",children:[d.jsx(RT,{data:Z,isPrintable:!0}),(u==null?void 0:u.competitiveLandscape)&&u.competitiveLandscape.length>0&&d.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[d.jsx("h4",{className:"text-2xl font-bold mb-4 text-gray-700",children:"Initial Competitive Landscape"}),d.jsx(DR,{data:u,isPrintable:!0})]})]}),H&&d.jsx(Xo,{title:"Chapter 6: Go-to-Market Strategy",children:d.jsx(MT,{data:H,isPrintable:!0})}),re&&d.jsxs(Xo,{title:"Chapter 7: Risk Analysis & Mitigation",children:[d.jsx(UT,{data:re,isPrintable:!0}),(u==null?void 0:u.ethicalConsiderations)&&u.ethicalConsiderations.length>0&&d.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[d.jsx("h4",{className:"text-2xl font-bold mb-4 text-gray-700",children:"Initial Ethical Considerations"}),d.jsx(jR,{data:u,isPrintable:!0})]})]}),P&&d.jsx(Xo,{title:"Chapter 8: Operational & Technical Blueprint",children:d.jsx(DT,{data:P,isPrintable:!0})}),Q&&d.jsx(Xo,{title:"Chapter 9: Financial Plan & Projections",children:d.jsx(LT,{data:Q,isPrintable:!0})}),se&&d.jsx(Xo,{title:"Chapter 10: Red Team Analysis",children:d.jsx(OR,{data:se,isPrintable:!0})}),X&&d.jsx(Xo,{title:"Chapter 11: Ethics & Compliance Audit",children:d.jsx(GR,{data:X,isPrintable:!0})}),te&&d.jsxs(Xo,{title:"Chapter 12: Venture Success Score",children:[d.jsx(kR,{data:te,isPrintable:!0}),d.jsx("div",{className:"mt-8",children:d.jsx(VR,{data:te,isPrintable:!0})})]}),(u==null?void 0:u.sources)&&u.sources.length>0&&d.jsx(Xo,{title:"References",children:d.jsx(QR,{sources:u.sources,isPrintable:!0})}),ee&&r&&d.jsx(Xo,{title:"Appendix: Computational Usage",children:d.jsx(LY,{agents:r,metrics:ee,isPrintable:!0})})]})]})})}),QBe=({agent:t,onClose:e})=>{var s;if(!t)return null;const r=t.avatar,n=()=>{var o;if(!((o=t.output)!=null&&o.output))return d.jsx("div",{className:"p-4",children:d.jsx("p",{className:"text-gray-500 text-center",children:"No output available yet."})});const a=t.output.output;switch(t.role){case Ne.PROBLEM_RESEARCH:return d.jsx(_Be,{data:a});case Ne.CUSTOMER_PERSONA:return d.jsx(ET,{data:a});case Ne.EMPATHY_MAP:return d.jsx(BT,{data:a});case Ne.PROBLEM_SYNTHESIZER:return d.jsx(_T,{data:a});case Ne.TECHNOLOGY_SCOUT:return d.jsx(NT,{data:a});case Ne.SOLUTION_IDEATION:return d.jsx(EBe,{data:a});case Ne.SOLUTION_CRITIQUE:return d.jsx(BBe,{data:a});case Ne.VENTURE_ANALYST:return d.jsx(OT,{data:a});case Ne.SOLUTION_SELECTION:return d.jsx(TT,{data:a});case Ne.VALUE_PROPOSITION:return d.jsx(FT,{data:a});case Ne.LEAN_CANVAS:return d.jsx(IT,{data:a});case Ne.STORYBOARDING:return d.jsx(kT,{data:a});case Ne.FINANCIAL_MODELER:return d.jsx(LT,{data:a});case Ne.INVESTMENT_MEMO:return d.jsx(PT,{data:a});case Ne.STRATEGY:return d.jsx(RT,{data:a});case Ne.RISK_ANALYSIS:return d.jsx(UT,{data:a});case Ne.TECHNICAL_BLUEPRINT:return d.jsx(DT,{data:a});case Ne.GO_TO_MARKET:return d.jsx(MT,{data:a});default:return d.jsx("div",{className:"p-4",children:d.jsx("pre",{className:"text-xs whitespace-pre-wrap font-mono",children:JSON.stringify(a,null,2)})})}},i=(s=t.output)==null?void 0:s.tokenUsage;return d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:d.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] flex flex-col animate-fade-in",onClick:a=>a.stopPropagation(),children:[d.jsxs("header",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 flex-shrink-0 rounded-full p-1 bg-gray-900 border border-gray-600",children:d.jsx(r,{className:"w-full h-full text-gray-300"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-white",children:t.role}),d.jsx("p",{className:"text-sm text-gray-400",children:t.description})]})]}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Wd,{className:"w-8 h-8"})})]}),d.jsx("div",{className:"p-2 sm:p-4 overflow-y-auto flex-grow bg-black/20",children:n()}),i&&d.jsxs("footer",{className:"p-3 border-t border-gray-700 bg-gray-900/50 text-xs text-gray-400 flex items-center justify-end gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(pL,{className:"w-4 h-4 text-blue-400"}),d.jsx("span",{children:"Token Usage:"})]}),d.jsxs("span",{title:"Input Tokens",children:["In: ",d.jsx("strong",{className:"text-gray-300",children:i.input})]}),d.jsxs("span",{title:"Output Tokens",children:["Out: ",d.jsx("strong",{className:"text-gray-300",children:i.output})]}),d.jsxs("span",{title:"Total Tokens",children:["Total: ",d.jsx("strong",{className:"text-gray-200 font-bold",children:i.total})]})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var HE={};HE.version="0.18.5";var RY=1252,jBe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],MY=function(t){jBe.indexOf(t)!=-1&&(RY=t)};function GBe(){MY(1252)}var Bw=function(t){MY(t)};function VBe(){Bw(1200),GBe()}var b5=function(e){return String.fromCharCode(e)},J7=function(e){return String.fromCharCode(e)},QE,pp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Tw(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,c=0;c<t.length;)r=t.charCodeAt(c++),s=r>>2,n=t.charCodeAt(c++),a=(r&3)<<4|n>>4,i=t.charCodeAt(c++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=pp.charAt(s)+pp.charAt(a)+pp.charAt(o)+pp.charAt(l);return e}function $d(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=pp.indexOf(t.charAt(c++)),a=pp.indexOf(t.charAt(c++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=pp.indexOf(t.charAt(c++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=pp.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var oi=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Zd=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function km(t){return oi?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function Z7(t){return oi?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var $u=function(e){return oi?Zd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function HT(t){if(typeof ArrayBuffer>"u")return $u(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function IC(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function $Be(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Lo=oi?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Zd(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function qBe(t){for(var e=[],r=0,n=t.length+250,i=km(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=km(65535),n=65530)}return e.push(i.slice(0,r)),Lo(e)}var Z2=/\u0000/g,C5=/[\u0001-\u0006]/g;function gy(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function qu(t,e){var r=""+t;return r.length>=e?r:Gs("0",e-r.length)+r}function $R(t,e){var r=""+t;return r.length>=e?r:Gs(" ",e-r.length)+r}function jE(t,e){var r=""+t;return r.length>=e?r:r+Gs(" ",e-r.length)}function zBe(t,e){var r=""+Math.round(t);return r.length>=e?r:Gs("0",e-r.length)+r}function KBe(t,e){var r=""+t;return r.length>=e?r:Gs("0",e-r.length)+r}var eH=Math.pow(2,32);function R1(t,e){if(t>eH||t<-eH)return zBe(t,e);var r=Math.round(t);return KBe(r,e)}function GE(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var tH=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],yN=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function WBe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Vs={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},rH={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},YBe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function VE(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,c=0,u=0,f=Math.floor(i);c<e&&(f=Math.floor(i),o=f*a+s,u=f*c+l,!(i-f<5e-8));)i=1/(i-f),s=a,a=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=s):(u=c,o=a)),!r)return[0,n*o,u];var p=Math.floor(n*o/u);return[p,n*o-p*u,u]}function S5(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=nTe(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var UY=new Date(1899,11,31,0,0,0),XBe=UY.getTime(),JBe=new Date(1900,2,1,0,0,0);function DY(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=JBe&&(r+=1440*60*1e3),(r-(XBe+(t.getTimezoneOffset()-UY.getTimezoneOffset())*6e4))/(1440*60*1e3)}function qR(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ZBe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function eTe(t){var e=t<0?12:11,r=qR(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function tTe(t){var e=qR(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function rTe(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=eTe(t):e===10?r=t.toFixed(10).substr(0,12):r=tTe(t),qR(ZBe(r.toUpperCase()))}function Qk(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):rTe(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Np(14,DY(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function nTe(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function iTe(t,e,r,n){var i="",s=0,a=0,o=r.y,l,c=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,c=e.length;break;case 3:return yN[r.m-1][1];case 5:return yN[r.m-1][0];default:return yN[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,c=e.length;break;case 3:return tH[r.q][0];default:return tH[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?qu(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=qu(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?qu(l,c):"";return u}function gp(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var OY=/%/g;function sTe(t,e,r){var n=e.replace(OY,""),i=e.length-n.length;return Md(t,n,r*Math.pow(10,2*i))+Gs("%",i)}function aTe(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Md(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function PY(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+PY(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var HY=/# (\?+)( ?)\/( ?)(\d+)/;function oTe(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?Gs(" ",t[1].length+1+t[4].length):$R(a,t[1].length)+t[2]+"/"+t[3]+qu(o,t[4].length))}function lTe(t,e,r){return r+(e===0?"":""+e)+Gs(" ",t[1].length+2+t[4].length)}var QY=/^#*0*\.([0#]+)/,jY=/\).*[0#]/,GY=/\(###\) ###\\?-####/;function Ol(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function nH(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function iH(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function cTe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function ATe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function kA(t,e,r){if(t.charCodeAt(0)===40&&!e.match(jY)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?kA("n",n,r):"("+kA("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return aTe(t,e,r);if(e.indexOf("%")!==-1)return sTe(t,e,r);if(e.indexOf("E")!==-1)return PY(e,r);if(e.charCodeAt(0)===36)return"$"+kA(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+R1(l,e.length);if(e.match(/^[#?]+$/))return i=R1(r,0),i==="0"&&(i=""),i.length>e.length?i:Ol(e.substr(0,e.length-i.length))+i;if(s=e.match(HY))return oTe(s,l,c);if(e.match(/^#+0+$/))return c+R1(l,e.length-e.indexOf("0"));if(s=e.match(QY))return i=nH(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Ol(s[1])).replace(/\.$/,"."+Ol(s[1])).replace(/\.(\d*)$/,function(y,x){return"."+x+Gs("0",Ol(s[1]).length-x.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+nH(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+gp(R1(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+kA(t,e,-r):gp(""+(Math.floor(r)+cTe(r,s[1].length)))+"."+qu(iH(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return kA(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=gy(kA(t,e.replace(/[\\-]/g,""),r)),a=0,gy(gy(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return a<i.length?i.charAt(a++):y==="0"?"0":""}));if(e.match(GY))return i=kA(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=VE(l,Math.pow(10,a)-1,!1),i=""+c,u=Md("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=jE(o[2],a),u.length<s[4].length&&(u=Ol(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=VE(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?$R(o[1],a)+s[2]+"/"+s[3]+jE(o[2],a):Gs(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=R1(r,0),e.length<=i.length?i:Ol(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,p=e.length-i.length-f;return Ol(e.substr(0,f)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=iH(r,s[1].length),r<0?"-"+kA(t,e,-r):gp(ATe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?qu(0,3-y.length):"")+y})+"."+qu(a,s[1].length);switch(e){case"###,##0.00":return kA(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var g=gp(R1(l,0));return g!=="0"?c+g:"";case"###,###.00":return kA(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return kA(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function uTe(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Md(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function hTe(t,e,r){var n=e.replace(OY,""),i=e.length-n.length;return Md(t,n,r*Math.pow(10,2*i))+Gs("%",i)}function VY(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+VY(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Gh(t,e,r){if(t.charCodeAt(0)===40&&!e.match(jY)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Gh("n",n,r):"("+Gh("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return uTe(t,e,r);if(e.indexOf("%")!==-1)return hTe(t,e,r);if(e.indexOf("E")!==-1)return VY(e,r);if(e.charCodeAt(0)===36)return"$"+Gh(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+qu(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Ol(e.substr(0,e.length-i.length))+i;if(s=e.match(HY))return lTe(s,l,c);if(e.match(/^#+0+$/))return c+qu(l,e.length-e.indexOf("0"));if(s=e.match(QY))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Ol(s[1])).replace(/\.$/,"."+Ol(s[1])),i=i.replace(/\.(\d*)$/,function(y,x){return"."+x+Gs("0",Ol(s[1]).length-x.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+gp(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Gh(t,e,-r):gp(""+r)+"."+Gs("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Gh(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=gy(Gh(t,e.replace(/[\\-]/g,""),r)),a=0,gy(gy(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return a<i.length?i.charAt(a++):y==="0"?"0":""}));if(e.match(GY))return i=Gh(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=VE(l,Math.pow(10,a)-1,!1),i=""+c,u=Md("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=jE(o[2],a),u.length<s[4].length&&(u=Ol(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=VE(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?$R(o[1],a)+s[2]+"/"+s[3]+jE(o[2],a):Gs(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Ol(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,p=e.length-i.length-f;return Ol(e.substr(0,f)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Gh(t,e,-r):gp(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?qu(0,3-y.length):"")+y})+"."+qu(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var g=gp(""+l);return g!=="0"?c+g:"";default:if(e.match(/\.[0#?]*$/))return Gh(t,e.slice(0,e.lastIndexOf(".")),r)+Ol(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Md(t,e,r){return(r|0)===r?Gh(t,e,r):kA(t,e,r)}function fTe(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var $Y=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function qY(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":GE(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match($Y))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function dTe(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",c,u,f,p="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!GE(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(f=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++a;break;case"\\":var g=t.charAt(++a),y=g==="("||g===")"?g:"t";i[i.length]={t:y,v:g},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(c==null&&(c=S5(e,r,t.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=S5(e,r),c==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var x={t:o,v:o};if(c==null&&(c=S5(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(x.v=c.H>=12?"P":"A"),x.t="T",p="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(x.v=c.H>=12?"PM":"AM"),x.t="T",a+=5,p="h"):t.substr(a,5).toUpperCase()==="/"?(c!=null&&(x.v=c.H>=12?"":""),x.t="T",a+=5,p="h"):(x.t="t",++a),c==null&&x.t==="T")return"";i[i.length]=x,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match($Y)){if(c==null&&(c=S5(e,r),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",qY(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var w=0,S=0,B;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=p,l="h",w<1&&(w=1);break;case"s":(B=i[a].v.match(/\.0+$/))&&(S=Math.max(S,B[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&i[a].v.match(/[Hh]/)&&(w=1),w<2&&i[a].v.match(/[Mm]/)&&(w=2),w<3&&i[a].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var F="",k;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=iTe(i[a].t.charCodeAt(0),i[a].v,c,S),i[a].t="t";break;case"n":case"?":for(k=a+1;i[k]!=null&&((o=i[k].t)==="?"||o==="D"||(o===" "||o==="t")&&i[k+1]!=null&&(i[k+1].t==="?"||i[k+1].t==="t"&&i[k+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[k].v==="/"||i[k].v===" "&&i[k+1]!=null&&i[k+1].t=="?"));)i[a].v+=i[k].v,i[k]={v:"",t:";"},++k;F+=i[a].v,a=k-1;break;case"G":i[a].t="t",i[a].v=Qk(e,r);break}var O="",R,D;if(F.length>0){F.charCodeAt(0)==40?(R=e<0&&F.charCodeAt(0)===45?-e:e,D=Md("n",F,R)):(R=e<0&&n>1?-e:e,D=Md("n",F,R),R<0&&i[0]&&i[0].t=="t"&&(D=D.substr(1),i[0].v="-"+i[0].v)),k=D.length-1;var Q=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){Q=a;break}var V=i.length;if(Q===i.length&&D.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(k>=i[a].v.length-1?(k-=i[a].v.length,i[a].v=D.substr(k+1,i[a].v.length)):k<0?i[a].v="":(i[a].v=D.substr(0,k+1),k=-1),i[a].t="t",V=a);k>=0&&V<i.length&&(i[V].v=D.substr(0,k+1)+i[V].v)}else if(Q!==i.length&&D.indexOf("E")===-1){for(k=D.indexOf(".")-1,a=Q;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(u=i[a].v.indexOf(".")>-1&&a===Q?i[a].v.indexOf(".")-1:i[a].v.length-1,O=i[a].v.substr(u+1);u>=0;--u)k>=0&&(i[a].v.charAt(u)==="0"||i[a].v.charAt(u)==="#")&&(O=D.charAt(k--)+O);i[a].v=O,i[a].t="t",V=a}for(k>=0&&V<i.length&&(i[V].v=D.substr(0,k+1)+i[V].v),k=D.indexOf(".")+1,a=Q;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==Q)){for(u=i[a].v.indexOf(".")>-1&&a===Q?i[a].v.indexOf(".")+1:0,O=i[a].v.substr(0,u);u<i[a].v.length;++u)k<D.length&&(O+=D.charAt(k++));i[a].v=O,i[a].t="t",V=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(R=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=Md(i[a].t,i[a].v,R),i[a].t="t");var re="";for(a=0;a!==i.length;++a)i[a]!=null&&(re+=i[a].v);return re}var sH=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function aH(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function pTe(t,e){var r=fTe(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(sH),o=r[1].match(sH);return aH(e,a)?[n,r[0]]:aH(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function Np(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Vs)[t],n==null&&(n=r.table&&r.table[rH[t]]||Vs[rH[t]]),n==null&&(n=YBe[t]||"General");break}if(GE(n,0))return Qk(e,r);e instanceof Date&&(e=DY(e,r.date1904));var i=pTe(n,e);if(GE(i[1]))return Qk(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return dTe(i[1],e,r,i[0])}function zY(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Vs[r]==null){e<0&&(e=r);continue}if(Vs[r]==t){e=r;break}}e<0&&(e=391)}return Vs[e]=t,e}function QT(t){for(var e=0;e!=392;++e)t[e]!==void 0&&zY(t[e],e)}function jT(){Vs=WBe()}var KY=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function gTe(t){var e=typeof t=="number"?Vs[t]:t;return e=e.replace(KY,"(\\d+)"),new RegExp("^"+e+"$")}function mTe(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(KY)||[]).forEach(function(f,p){var g=parseInt(r[p+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=g;break;case"d":s=g;break;case"h":a=g;break;case"s":l=g;break;case"m":a>=0?o=g:i=g;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:n==-1&&i==-1&&s==-1?u:c+"T"+u}var yTe=(function(){var t={};t.version="1.2.0";function e(){for(var D=0,Q=new Array(256),V=0;V!=256;++V)D=V,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,Q[V]=D;return typeof Int32Array<"u"?new Int32Array(Q):Q}var r=e();function n(D){var Q=0,V=0,re=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(re=0;re!=256;++re)P[re]=D[re];for(re=0;re!=256;++re)for(V=D[re],Q=256+re;Q<4096;Q+=256)V=P[Q]=V>>>8^D[V&255];var H=[];for(re=1;re!=16;++re)H[re-1]=typeof Int32Array<"u"?P.subarray(re*256,re*256+256):P.slice(re*256,re*256+256);return H}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],p=i[7],g=i[8],y=i[9],x=i[10],w=i[11],S=i[12],B=i[13],F=i[14];function k(D,Q){for(var V=Q^-1,re=0,P=D.length;re<P;)V=V>>>8^r[(V^D.charCodeAt(re++))&255];return~V}function O(D,Q){for(var V=Q^-1,re=D.length-15,P=0;P<re;)V=F[D[P++]^V&255]^B[D[P++]^V>>8&255]^S[D[P++]^V>>16&255]^w[D[P++]^V>>>24]^x[D[P++]]^y[D[P++]]^g[D[P++]]^p[D[P++]]^f[D[P++]]^u[D[P++]]^c[D[P++]]^l[D[P++]]^o[D[P++]]^a[D[P++]]^s[D[P++]]^r[D[P++]];for(re+=15;P<re;)V=V>>>8^r[(V^D[P++])&255];return~V}function R(D,Q){for(var V=Q^-1,re=0,P=D.length,H=0,q=0;re<P;)H=D.charCodeAt(re++),H<128?V=V>>>8^r[(V^H)&255]:H<2048?(V=V>>>8^r[(V^(192|H>>6&31))&255],V=V>>>8^r[(V^(128|H&63))&255]):H>=55296&&H<57344?(H=(H&1023)+64,q=D.charCodeAt(re++)&1023,V=V>>>8^r[(V^(240|H>>8&7))&255],V=V>>>8^r[(V^(128|H>>2&63))&255],V=V>>>8^r[(V^(128|q>>6&15|(H&3)<<4))&255],V=V>>>8^r[(V^(128|q&63))&255]):(V=V>>>8^r[(V^(224|H>>12&15))&255],V=V>>>8^r[(V^(128|H>>6&63))&255],V=V>>>8^r[(V^(128|H&63))&255]);return~V}return t.table=r,t.bstr=k,t.buf=O,t.str=R,t})(),Mi=(function(){var e={};e.version="1.2.1";function r(oe,_e){for(var xe=oe.split("/"),pe=_e.split("/"),be=0,we=0,qe=Math.min(xe.length,pe.length);be<qe;++be){if(we=xe[be].length-pe[be].length)return we;if(xe[be]!=pe[be])return xe[be]<pe[be]?-1:1}return xe.length-pe.length}function n(oe){if(oe.charAt(oe.length-1)=="/")return oe.slice(0,-1).indexOf("/")===-1?oe:n(oe.slice(0,-1));var _e=oe.lastIndexOf("/");return _e===-1?oe:oe.slice(0,_e+1)}function i(oe){if(oe.charAt(oe.length-1)=="/")return i(oe.slice(0,-1));var _e=oe.lastIndexOf("/");return _e===-1?oe:oe.slice(_e+1)}function s(oe,_e){typeof _e=="string"&&(_e=new Date(_e));var xe=_e.getHours();xe=xe<<6|_e.getMinutes(),xe=xe<<5|_e.getSeconds()>>>1,oe.write_shift(2,xe);var pe=_e.getFullYear()-1980;pe=pe<<4|_e.getMonth()+1,pe=pe<<5|_e.getDate(),oe.write_shift(2,pe)}function a(oe){var _e=oe.read_shift(2)&65535,xe=oe.read_shift(2)&65535,pe=new Date,be=xe&31;xe>>>=5;var we=xe&15;xe>>>=4,pe.setMilliseconds(0),pe.setFullYear(xe+1980),pe.setMonth(we-1),pe.setDate(be);var qe=_e&31;_e>>>=5;var tt=_e&63;return _e>>>=6,pe.setHours(_e),pe.setMinutes(tt),pe.setSeconds(qe<<1),pe}function o(oe){Zc(oe,0);for(var _e={},xe=0;oe.l<=oe.length-4;){var pe=oe.read_shift(2),be=oe.read_shift(2),we=oe.l+be,qe={};switch(pe){case 21589:xe=oe.read_shift(1),xe&1&&(qe.mtime=oe.read_shift(4)),be>5&&(xe&2&&(qe.atime=oe.read_shift(4)),xe&4&&(qe.ctime=oe.read_shift(4))),qe.mtime&&(qe.mt=new Date(qe.mtime*1e3));break}oe.l=we,_e[pe]=qe}return _e}var l;function c(){return l||(l={})}function u(oe,_e){if(oe[0]==80&&oe[1]==75)return fn(oe,_e);if((oe[0]|32)==109&&(oe[1]|32)==105)return ls(oe,_e);if(oe.length<512)throw new Error("CFB file size "+oe.length+" < 512");var xe=3,pe=512,be=0,we=0,qe=0,tt=0,ze=0,We=[],Me=oe.slice(0,512);Zc(Me,0);var ye=f(Me);switch(xe=ye[0],xe){case 3:pe=512;break;case 4:pe=4096;break;case 0:if(ye[1]==0)return fn(oe,_e);default:throw new Error("Major Version: Expected 3 or 4 saw "+xe)}pe!==512&&(Me=oe.slice(0,pe),Zc(Me,28));var Qe=oe.slice(0,pe);p(Me,xe);var rt=Me.read_shift(4,"i");if(xe===3&&rt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+rt);Me.l+=4,qe=Me.read_shift(4,"i"),Me.l+=4,Me.chk("00100000","Mini Stream Cutoff Size: "),tt=Me.read_shift(4,"i"),be=Me.read_shift(4,"i"),ze=Me.read_shift(4,"i"),we=Me.read_shift(4,"i");for(var ft=-1,wt=0;wt<109&&(ft=Me.read_shift(4,"i"),!(ft<0));++wt)We[wt]=ft;var It=g(oe,pe);w(ze,we,It,pe,We);var nr=B(It,qe,We,pe);nr[qe].name="!Directory",be>0&&tt!==q&&(nr[tt].name="!MiniFAT"),nr[We[0]].name="!FAT",nr.fat_addrs=We,nr.ssz=pe;var Kr={},Dr=[],Pi=[],Tr=[];F(qe,nr,It,Dr,be,Kr,Pi,tt),y(Pi,Tr,Dr),Dr.shift();var Rs={FileIndex:Pi,FullPaths:Tr};return _e&&_e.raw&&(Rs.raw={header:Qe,sectors:It}),Rs}function f(oe){if(oe[oe.l]==80&&oe[oe.l+1]==75)return[0,0];oe.chk(Z,"Header Signature: "),oe.l+=16;var _e=oe.read_shift(2,"u");return[oe.read_shift(2,"u"),_e]}function p(oe,_e){var xe=9;switch(oe.l+=2,xe=oe.read_shift(2)){case 9:if(_e!=3)throw new Error("Sector Shift: Expected 9 saw "+xe);break;case 12:if(_e!=4)throw new Error("Sector Shift: Expected 12 saw "+xe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+xe)}oe.chk("0600","Mini Sector Shift: "),oe.chk("000000000000","Reserved: ")}function g(oe,_e){for(var xe=Math.ceil(oe.length/_e)-1,pe=[],be=1;be<xe;++be)pe[be-1]=oe.slice(be*_e,(be+1)*_e);return pe[xe-1]=oe.slice(xe*_e),pe}function y(oe,_e,xe){for(var pe=0,be=0,we=0,qe=0,tt=0,ze=xe.length,We=[],Me=[];pe<ze;++pe)We[pe]=Me[pe]=pe,_e[pe]=xe[pe];for(;tt<Me.length;++tt)pe=Me[tt],be=oe[pe].L,we=oe[pe].R,qe=oe[pe].C,We[pe]===pe&&(be!==-1&&We[be]!==be&&(We[pe]=We[be]),we!==-1&&We[we]!==we&&(We[pe]=We[we])),qe!==-1&&(We[qe]=pe),be!==-1&&pe!=We[pe]&&(We[be]=We[pe],Me.lastIndexOf(be)<tt&&Me.push(be)),we!==-1&&pe!=We[pe]&&(We[we]=We[pe],Me.lastIndexOf(we)<tt&&Me.push(we));for(pe=1;pe<ze;++pe)We[pe]===pe&&(we!==-1&&We[we]!==we?We[pe]=We[we]:be!==-1&&We[be]!==be&&(We[pe]=We[be]));for(pe=1;pe<ze;++pe)if(oe[pe].type!==0){if(tt=pe,tt!=We[tt])do tt=We[tt],_e[pe]=_e[tt]+"/"+_e[pe];while(tt!==0&&We[tt]!==-1&&tt!=We[tt]);We[pe]=-1}for(_e[0]+="/",pe=1;pe<ze;++pe)oe[pe].type!==2&&(_e[pe]+="/")}function x(oe,_e,xe){for(var pe=oe.start,be=oe.size,we=[],qe=pe;xe&&be>0&&qe>=0;)we.push(_e.slice(qe*H,qe*H+H)),be-=H,qe=lg(xe,qe*4);return we.length===0?dt(0):Lo(we).slice(0,oe.size)}function w(oe,_e,xe,pe,be){var we=q;if(oe===q){if(_e!==0)throw new Error("DIFAT chain shorter than expected")}else if(oe!==-1){var qe=xe[oe],tt=(pe>>>2)-1;if(!qe)return;for(var ze=0;ze<tt&&(we=lg(qe,ze*4))!==q;++ze)be.push(we);w(lg(qe,pe-4),_e-1,xe,pe,be)}}function S(oe,_e,xe,pe,be){var we=[],qe=[];be||(be=[]);var tt=pe-1,ze=0,We=0;for(ze=_e;ze>=0;){be[ze]=!0,we[we.length]=ze,qe.push(oe[ze]);var Me=xe[Math.floor(ze*4/pe)];if(We=ze*4&tt,pe<4+We)throw new Error("FAT boundary crossed: "+ze+" 4 "+pe);if(!oe[Me])break;ze=lg(oe[Me],We)}return{nodes:we,data:dH([qe])}}function B(oe,_e,xe,pe){var be=oe.length,we=[],qe=[],tt=[],ze=[],We=pe-1,Me=0,ye=0,Qe=0,rt=0;for(Me=0;Me<be;++Me)if(tt=[],Qe=Me+_e,Qe>=be&&(Qe-=be),!qe[Qe]){ze=[];var ft=[];for(ye=Qe;ye>=0;){ft[ye]=!0,qe[ye]=!0,tt[tt.length]=ye,ze.push(oe[ye]);var wt=xe[Math.floor(ye*4/pe)];if(rt=ye*4&We,pe<4+rt)throw new Error("FAT boundary crossed: "+ye+" 4 "+pe);if(!oe[wt]||(ye=lg(oe[wt],rt),ft[ye]))break}we[Qe]={nodes:tt,data:dH([ze])}}return we}function F(oe,_e,xe,pe,be,we,qe,tt){for(var ze=0,We=pe.length?2:0,Me=_e[oe].data,ye=0,Qe=0,rt;ye<Me.length;ye+=128){var ft=Me.slice(ye,ye+128);Zc(ft,64),Qe=ft.read_shift(2),rt=XR(ft,0,Qe-We),pe.push(rt);var wt={name:rt,type:ft.read_shift(1),color:ft.read_shift(1),L:ft.read_shift(4,"i"),R:ft.read_shift(4,"i"),C:ft.read_shift(4,"i"),clsid:ft.read_shift(16),state:ft.read_shift(4,"i"),start:0,size:0},It=ft.read_shift(2)+ft.read_shift(2)+ft.read_shift(2)+ft.read_shift(2);It!==0&&(wt.ct=k(ft,ft.l-8));var nr=ft.read_shift(2)+ft.read_shift(2)+ft.read_shift(2)+ft.read_shift(2);nr!==0&&(wt.mt=k(ft,ft.l-8)),wt.start=ft.read_shift(4,"i"),wt.size=ft.read_shift(4,"i"),wt.size<0&&wt.start<0&&(wt.size=wt.type=0,wt.start=q,wt.name=""),wt.type===5?(ze=wt.start,be>0&&ze!==q&&(_e[ze].name="!StreamData")):wt.size>=4096?(wt.storage="fat",_e[wt.start]===void 0&&(_e[wt.start]=S(xe,wt.start,_e.fat_addrs,_e.ssz)),_e[wt.start].name=wt.name,wt.content=_e[wt.start].data.slice(0,wt.size)):(wt.storage="minifat",wt.size<0?wt.size=0:ze!==q&&wt.start!==q&&_e[ze]&&(wt.content=x(wt,_e[ze].data,(_e[tt]||{}).data))),wt.content&&Zc(wt.content,0),we[rt]=wt,qe.push(wt)}}function k(oe,_e){return new Date((tA(oe,_e+4)/1e7*Math.pow(2,32)+tA(oe,_e)/1e7-11644473600)*1e3)}function O(oe,_e){return c(),u(l.readFileSync(oe),_e)}function R(oe,_e){var xe=_e&&_e.type;switch(xe||oi&&Buffer.isBuffer(oe)&&(xe="buffer"),xe||"base64"){case"file":return O(oe,_e);case"base64":return u($u($d(oe)),_e);case"binary":return u($u(oe),_e)}return u(oe,_e)}function D(oe,_e){var xe=_e||{},pe=xe.root||"Root Entry";if(oe.FullPaths||(oe.FullPaths=[]),oe.FileIndex||(oe.FileIndex=[]),oe.FullPaths.length!==oe.FileIndex.length)throw new Error("inconsistent CFB structure");oe.FullPaths.length===0&&(oe.FullPaths[0]=pe+"/",oe.FileIndex[0]={name:pe,type:5}),xe.CLSID&&(oe.FileIndex[0].clsid=xe.CLSID),Q(oe)}function Q(oe){var _e="Sh33tJ5";if(!Mi.find(oe,"/"+_e)){var xe=dt(4);xe[0]=55,xe[1]=xe[3]=50,xe[2]=54,oe.FileIndex.push({name:_e,type:2,content:xe,size:4,L:69,R:69,C:69}),oe.FullPaths.push(oe.FullPaths[0]+_e),V(oe)}}function V(oe,_e){D(oe);for(var xe=!1,pe=!1,be=oe.FullPaths.length-1;be>=0;--be){var we=oe.FileIndex[be];switch(we.type){case 0:pe?xe=!0:(oe.FileIndex.pop(),oe.FullPaths.pop());break;case 1:case 2:case 5:pe=!0,isNaN(we.R*we.L*we.C)&&(xe=!0),we.R>-1&&we.L>-1&&we.R==we.L&&(xe=!0);break;default:xe=!0;break}}if(!(!xe&&!_e)){var qe=new Date(1987,1,19),tt=0,ze=Object.create?Object.create(null):{},We=[];for(be=0;be<oe.FullPaths.length;++be)ze[oe.FullPaths[be]]=!0,oe.FileIndex[be].type!==0&&We.push([oe.FullPaths[be],oe.FileIndex[be]]);for(be=0;be<We.length;++be){var Me=n(We[be][0]);pe=ze[Me],pe||(We.push([Me,{name:i(Me).replace("/",""),type:1,clsid:X,ct:qe,mt:qe,content:null}]),ze[Me]=!0)}for(We.sort(function(rt,ft){return r(rt[0],ft[0])}),oe.FullPaths=[],oe.FileIndex=[],be=0;be<We.length;++be)oe.FullPaths[be]=We[be][0],oe.FileIndex[be]=We[be][1];for(be=0;be<We.length;++be){var ye=oe.FileIndex[be],Qe=oe.FullPaths[be];if(ye.name=i(Qe).replace("/",""),ye.L=ye.R=ye.C=-(ye.color=1),ye.size=ye.content?ye.content.length:0,ye.start=0,ye.clsid=ye.clsid||X,be===0)ye.C=We.length>1?1:-1,ye.size=0,ye.type=5;else if(Qe.slice(-1)=="/"){for(tt=be+1;tt<We.length&&n(oe.FullPaths[tt])!=Qe;++tt);for(ye.C=tt>=We.length?-1:tt,tt=be+1;tt<We.length&&n(oe.FullPaths[tt])!=n(Qe);++tt);ye.R=tt>=We.length?-1:tt,ye.type=1}else n(oe.FullPaths[be+1]||"")==n(Qe)&&(ye.R=be+1),ye.type=2}}}function re(oe,_e){var xe=_e||{};if(xe.fileType=="mad")return dr(oe,xe);switch(V(oe),xe.fileType){case"zip":return Is(oe,xe)}var pe=(function(rt){for(var ft=0,wt=0,It=0;It<rt.FileIndex.length;++It){var nr=rt.FileIndex[It];if(nr.content){var Kr=nr.content.length;Kr>0&&(Kr<4096?ft+=Kr+63>>6:wt+=Kr+511>>9)}}for(var Dr=rt.FullPaths.length+3>>2,Pi=ft+7>>3,Tr=ft+127>>7,Rs=Pi+wt+Dr+Tr,pi=Rs+127>>7,Po=pi<=109?0:Math.ceil((pi-109)/127);Rs+pi+Po+127>>7>pi;)Po=++pi<=109?0:Math.ceil((pi-109)/127);var $n=[1,Po,pi,Tr,Dr,wt,ft,0];return rt.FileIndex[0].size=ft<<6,$n[7]=(rt.FileIndex[0].start=$n[0]+$n[1]+$n[2]+$n[3]+$n[4]+$n[5])+($n[6]+7>>3),$n})(oe),be=dt(pe[7]<<9),we=0,qe=0;{for(we=0;we<8;++we)be.write_shift(1,se[we]);for(we=0;we<8;++we)be.write_shift(2,0);for(be.write_shift(2,62),be.write_shift(2,3),be.write_shift(2,65534),be.write_shift(2,9),be.write_shift(2,6),we=0;we<3;++we)be.write_shift(2,0);for(be.write_shift(4,0),be.write_shift(4,pe[2]),be.write_shift(4,pe[0]+pe[1]+pe[2]+pe[3]-1),be.write_shift(4,0),be.write_shift(4,4096),be.write_shift(4,pe[3]?pe[0]+pe[1]+pe[2]-1:q),be.write_shift(4,pe[3]),be.write_shift(-4,pe[1]?pe[0]-1:q),be.write_shift(4,pe[1]),we=0;we<109;++we)be.write_shift(-4,we<pe[2]?pe[1]+we:-1)}if(pe[1])for(qe=0;qe<pe[1];++qe){for(;we<236+qe*127;++we)be.write_shift(-4,we<pe[2]?pe[1]+we:-1);be.write_shift(-4,qe===pe[1]-1?q:qe+1)}var tt=function(rt){for(qe+=rt;we<qe-1;++we)be.write_shift(-4,we+1);rt&&(++we,be.write_shift(-4,q))};for(qe=we=0,qe+=pe[1];we<qe;++we)be.write_shift(-4,ee.DIFSECT);for(qe+=pe[2];we<qe;++we)be.write_shift(-4,ee.FATSECT);tt(pe[3]),tt(pe[4]);for(var ze=0,We=0,Me=oe.FileIndex[0];ze<oe.FileIndex.length;++ze)Me=oe.FileIndex[ze],Me.content&&(We=Me.content.length,!(We<4096)&&(Me.start=qe,tt(We+511>>9)));for(tt(pe[6]+7>>3);be.l&511;)be.write_shift(-4,ee.ENDOFCHAIN);for(qe=we=0,ze=0;ze<oe.FileIndex.length;++ze)Me=oe.FileIndex[ze],Me.content&&(We=Me.content.length,!(!We||We>=4096)&&(Me.start=qe,tt(We+63>>6)));for(;be.l&511;)be.write_shift(-4,ee.ENDOFCHAIN);for(we=0;we<pe[4]<<2;++we){var ye=oe.FullPaths[we];if(!ye||ye.length===0){for(ze=0;ze<17;++ze)be.write_shift(4,0);for(ze=0;ze<3;++ze)be.write_shift(4,-1);for(ze=0;ze<12;++ze)be.write_shift(4,0);continue}Me=oe.FileIndex[we],we===0&&(Me.start=Me.size?Me.start-1:q);var Qe=we===0&&xe.root||Me.name;if(We=2*(Qe.length+1),be.write_shift(64,Qe,"utf16le"),be.write_shift(2,We),be.write_shift(1,Me.type),be.write_shift(1,Me.color),be.write_shift(-4,Me.L),be.write_shift(-4,Me.R),be.write_shift(-4,Me.C),Me.clsid)be.write_shift(16,Me.clsid,"hex");else for(ze=0;ze<4;++ze)be.write_shift(4,0);be.write_shift(4,Me.state||0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,Me.start),be.write_shift(4,Me.size),be.write_shift(4,0)}for(we=1;we<oe.FileIndex.length;++we)if(Me=oe.FileIndex[we],Me.size>=4096)if(be.l=Me.start+1<<9,oi&&Buffer.isBuffer(Me.content))Me.content.copy(be,be.l,0,Me.size),be.l+=Me.size+511&-512;else{for(ze=0;ze<Me.size;++ze)be.write_shift(1,Me.content[ze]);for(;ze&511;++ze)be.write_shift(1,0)}for(we=1;we<oe.FileIndex.length;++we)if(Me=oe.FileIndex[we],Me.size>0&&Me.size<4096)if(oi&&Buffer.isBuffer(Me.content))Me.content.copy(be,be.l,0,Me.size),be.l+=Me.size+63&-64;else{for(ze=0;ze<Me.size;++ze)be.write_shift(1,Me.content[ze]);for(;ze&63;++ze)be.write_shift(1,0)}if(oi)be.l=be.length;else for(;be.l<be.length;)be.write_shift(1,0);return be}function P(oe,_e){var xe=oe.FullPaths.map(function(ze){return ze.toUpperCase()}),pe=xe.map(function(ze){var We=ze.split("/");return We[We.length-(ze.slice(-1)=="/"?2:1)]}),be=!1;_e.charCodeAt(0)===47?(be=!0,_e=xe[0].slice(0,-1)+_e):be=_e.indexOf("/")!==-1;var we=_e.toUpperCase(),qe=be===!0?xe.indexOf(we):pe.indexOf(we);if(qe!==-1)return oe.FileIndex[qe];var tt=!we.match(C5);for(we=we.replace(Z2,""),tt&&(we=we.replace(C5,"!")),qe=0;qe<xe.length;++qe)if((tt?xe[qe].replace(C5,"!"):xe[qe]).replace(Z2,"")==we||(tt?pe[qe].replace(C5,"!"):pe[qe]).replace(Z2,"")==we)return oe.FileIndex[qe];return null}var H=64,q=-2,Z="d0cf11e0a1b11ae1",se=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",ee={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:q,FREESECT:-1,HEADER_SIGNATURE:Z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function te(oe,_e,xe){c();var pe=re(oe,xe);l.writeFileSync(_e,pe)}function Ce(oe){for(var _e=new Array(oe.length),xe=0;xe<oe.length;++xe)_e[xe]=String.fromCharCode(oe[xe]);return _e.join("")}function ke(oe,_e){var xe=re(oe,_e);switch(_e&&_e.type||"buffer"){case"file":return c(),l.writeFileSync(_e.filename,xe),xe;case"binary":return typeof xe=="string"?xe:Ce(xe);case"base64":return Tw(typeof xe=="string"?xe:Ce(xe));case"buffer":if(oi)return Buffer.isBuffer(xe)?xe:Zd(xe);case"array":return typeof xe=="string"?$u(xe):xe}return xe}var le;function M(oe){try{var _e=oe.InflateRaw,xe=new _e;if(xe._processChunk(new Uint8Array([3,0]),xe._finishFlushFlag),xe.bytesRead)le=oe;else throw new Error("zlib does not expose bytesRead")}catch(pe){console.error("cannot use native zlib: "+(pe.message||pe))}}function G(oe,_e){if(!le)return Jr(oe,_e);var xe=le.InflateRaw,pe=new xe,be=pe._processChunk(oe.slice(oe.l),pe._finishFlushFlag);return oe.l+=pe.bytesRead,be}function W(oe){return le?le.deflateRawSync(oe):vr(oe)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ve=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Fe(oe){var _e=(oe<<1|oe<<11)&139536|(oe<<5|oe<<15)&558144;return(_e>>16|_e>>8|_e)&255}for(var Ie=typeof Uint8Array<"u",He=Ie?new Uint8Array(256):[],at=0;at<256;++at)He[at]=Fe(at);function lt(oe,_e){var xe=He[oe&255];return _e<=8?xe>>>8-_e:(xe=xe<<8|He[oe>>8&255],_e<=16?xe>>>16-_e:(xe=xe<<8|He[oe>>16&255],xe>>>24-_e))}function St(oe,_e){var xe=_e&7,pe=_e>>>3;return(oe[pe]|(xe<=6?0:oe[pe+1]<<8))>>>xe&3}function Nt(oe,_e){var xe=_e&7,pe=_e>>>3;return(oe[pe]|(xe<=5?0:oe[pe+1]<<8))>>>xe&7}function it(oe,_e){var xe=_e&7,pe=_e>>>3;return(oe[pe]|(xe<=4?0:oe[pe+1]<<8))>>>xe&15}function Be(oe,_e){var xe=_e&7,pe=_e>>>3;return(oe[pe]|(xe<=3?0:oe[pe+1]<<8))>>>xe&31}function xt(oe,_e){var xe=_e&7,pe=_e>>>3;return(oe[pe]|(xe<=1?0:oe[pe+1]<<8))>>>xe&127}function Dt(oe,_e,xe){var pe=_e&7,be=_e>>>3,we=(1<<xe)-1,qe=oe[be]>>>pe;return xe<8-pe||(qe|=oe[be+1]<<8-pe,xe<16-pe)||(qe|=oe[be+2]<<16-pe,xe<24-pe)||(qe|=oe[be+3]<<24-pe),qe&we}function vt(oe,_e,xe){var pe=_e&7,be=_e>>>3;return pe<=5?oe[be]|=(xe&7)<<pe:(oe[be]|=xe<<pe&255,oe[be+1]=(xe&7)>>8-pe),_e+3}function Ft(oe,_e,xe){var pe=_e&7,be=_e>>>3;return xe=(xe&1)<<pe,oe[be]|=xe,_e+1}function Lt(oe,_e,xe){var pe=_e&7,be=_e>>>3;return xe<<=pe,oe[be]|=xe&255,xe>>>=8,oe[be+1]=xe,_e+8}function Ut(oe,_e,xe){var pe=_e&7,be=_e>>>3;return xe<<=pe,oe[be]|=xe&255,xe>>>=8,oe[be+1]=xe&255,oe[be+2]=xe>>>8,_e+16}function ir(oe,_e){var xe=oe.length,pe=2*xe>_e?2*xe:_e+5,be=0;if(xe>=_e)return oe;if(oi){var we=Z7(pe);if(oe.copy)oe.copy(we);else for(;be<oe.length;++be)we[be]=oe[be];return we}else if(Ie){var qe=new Uint8Array(pe);if(qe.set)qe.set(oe);else for(;be<xe;++be)qe[be]=oe[be];return qe}return oe.length=pe,oe}function Vt(oe){for(var _e=new Array(oe),xe=0;xe<oe;++xe)_e[xe]=0;return _e}function _r(oe,_e,xe){var pe=1,be=0,we=0,qe=0,tt=0,ze=oe.length,We=Ie?new Uint16Array(32):Vt(32);for(we=0;we<32;++we)We[we]=0;for(we=ze;we<xe;++we)oe[we]=0;ze=oe.length;var Me=Ie?new Uint16Array(ze):Vt(ze);for(we=0;we<ze;++we)We[be=oe[we]]++,pe<be&&(pe=be),Me[we]=0;for(We[0]=0,we=1;we<=pe;++we)We[we+16]=tt=tt+We[we-1]<<1;for(we=0;we<ze;++we)tt=oe[we],tt!=0&&(Me[we]=We[tt+16]++);var ye=0;for(we=0;we<ze;++we)if(ye=oe[we],ye!=0)for(tt=lt(Me[we],pe)>>pe-ye,qe=(1<<pe+4-ye)-1;qe>=0;--qe)_e[tt|qe<<ye]=ye&15|we<<4;return pe}var tr=Ie?new Uint16Array(512):Vt(512),kr=Ie?new Uint16Array(32):Vt(32);if(!Ie){for(var zr=0;zr<512;++zr)tr[zr]=0;for(zr=0;zr<32;++zr)kr[zr]=0}(function(){for(var oe=[],_e=0;_e<32;_e++)oe.push(5);_r(oe,kr,32);var xe=[];for(_e=0;_e<=143;_e++)xe.push(8);for(;_e<=255;_e++)xe.push(9);for(;_e<=279;_e++)xe.push(7);for(;_e<=287;_e++)xe.push(8);_r(xe,tr,288)})();var xr=(function(){for(var _e=Ie?new Uint8Array(32768):[],xe=0,pe=0;xe<ve.length-1;++xe)for(;pe<ve[xe+1];++pe)_e[pe]=xe;for(;pe<32768;++pe)_e[pe]=29;var be=Ie?new Uint8Array(259):[];for(xe=0,pe=0;xe<ae.length-1;++xe)for(;pe<ae[xe+1];++pe)be[pe]=xe;function we(tt,ze){for(var We=0;We<tt.length;){var Me=Math.min(65535,tt.length-We),ye=We+Me==tt.length;for(ze.write_shift(1,+ye),ze.write_shift(2,Me),ze.write_shift(2,~Me&65535);Me-- >0;)ze[ze.l++]=tt[We++]}return ze.l}function qe(tt,ze){for(var We=0,Me=0,ye=Ie?new Uint16Array(32768):[];Me<tt.length;){var Qe=Math.min(65535,tt.length-Me);if(Qe<10){for(We=vt(ze,We,+(Me+Qe==tt.length)),We&7&&(We+=8-(We&7)),ze.l=We/8|0,ze.write_shift(2,Qe),ze.write_shift(2,~Qe&65535);Qe-- >0;)ze[ze.l++]=tt[Me++];We=ze.l*8;continue}We=vt(ze,We,+(Me+Qe==tt.length)+2);for(var rt=0;Qe-- >0;){var ft=tt[Me];rt=(rt<<5^ft)&32767;var wt=-1,It=0;if((wt=ye[rt])&&(wt|=Me&-32768,wt>Me&&(wt-=32768),wt<Me))for(;tt[wt+It]==tt[Me+It]&&It<250;)++It;if(It>2){ft=be[It],ft<=22?We=Lt(ze,We,He[ft+1]>>1)-1:(Lt(ze,We,3),We+=5,Lt(ze,We,He[ft-23]>>5),We+=3);var nr=ft<8?0:ft-4>>2;nr>0&&(Ut(ze,We,It-ae[ft]),We+=nr),ft=_e[Me-wt],We=Lt(ze,We,He[ft]>>3),We-=3;var Kr=ft<4?0:ft-2>>1;Kr>0&&(Ut(ze,We,Me-wt-ve[ft]),We+=Kr);for(var Dr=0;Dr<It;++Dr)ye[rt]=Me&32767,rt=(rt<<5^tt[Me])&32767,++Me;Qe-=It-1}else ft<=143?ft=ft+48:We=Ft(ze,We,1),We=Lt(ze,We,He[ft]),ye[rt]=Me&32767,++Me}We=Lt(ze,We,0)-1}return ze.l=(We+7)/8|0,ze.l}return function(ze,We){return ze.length<8?we(ze,We):qe(ze,We)}})();function vr(oe){var _e=dt(50+Math.floor(oe.length*1.1)),xe=xr(oe,_e);return _e.slice(0,xe)}var Mt=Ie?new Uint16Array(32768):Vt(32768),Ti=Ie?new Uint16Array(32768):Vt(32768),Ur=Ie?new Uint16Array(128):Vt(128),mn=1,Br=1;function Gr(oe,_e){var xe=Be(oe,_e)+257;_e+=5;var pe=Be(oe,_e)+1;_e+=5;var be=it(oe,_e)+4;_e+=4;for(var we=0,qe=Ie?new Uint8Array(19):Vt(19),tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ze=1,We=Ie?new Uint8Array(8):Vt(8),Me=Ie?new Uint8Array(8):Vt(8),ye=qe.length,Qe=0;Qe<be;++Qe)qe[J[Qe]]=we=Nt(oe,_e),ze<we&&(ze=we),We[we]++,_e+=3;var rt=0;for(We[0]=0,Qe=1;Qe<=ze;++Qe)Me[Qe]=rt=rt+We[Qe-1]<<1;for(Qe=0;Qe<ye;++Qe)(rt=qe[Qe])!=0&&(tt[Qe]=Me[rt]++);var ft=0;for(Qe=0;Qe<ye;++Qe)if(ft=qe[Qe],ft!=0){rt=He[tt[Qe]]>>8-ft;for(var wt=(1<<7-ft)-1;wt>=0;--wt)Ur[rt|wt<<ft]=ft&7|Qe<<3}var It=[];for(ze=1;It.length<xe+pe;)switch(rt=Ur[xt(oe,_e)],_e+=rt&7,rt>>>=3){case 16:for(we=3+St(oe,_e),_e+=2,rt=It[It.length-1];we-- >0;)It.push(rt);break;case 17:for(we=3+Nt(oe,_e),_e+=3;we-- >0;)It.push(0);break;case 18:for(we=11+xt(oe,_e),_e+=7;we-- >0;)It.push(0);break;default:It.push(rt),ze<rt&&(ze=rt);break}var nr=It.slice(0,xe),Kr=It.slice(xe);for(Qe=xe;Qe<286;++Qe)nr[Qe]=0;for(Qe=pe;Qe<30;++Qe)Kr[Qe]=0;return mn=_r(nr,Mt,286),Br=_r(Kr,Ti,30),_e}function Wi(oe,_e){if(oe[0]==3&&!(oe[1]&3))return[km(_e),2];for(var xe=0,pe=0,be=Z7(_e||1<<18),we=0,qe=be.length>>>0,tt=0,ze=0;(pe&1)==0;){if(pe=Nt(oe,xe),xe+=3,pe>>>1)pe>>1==1?(tt=9,ze=5):(xe=Gr(oe,xe),tt=mn,ze=Br);else{xe&7&&(xe+=8-(xe&7));var We=oe[xe>>>3]|oe[(xe>>>3)+1]<<8;if(xe+=32,We>0)for(!_e&&qe<we+We&&(be=ir(be,we+We),qe=be.length);We-- >0;)be[we++]=oe[xe>>>3],xe+=8;continue}for(;;){!_e&&qe<we+32767&&(be=ir(be,we+32767),qe=be.length);var Me=Dt(oe,xe,tt),ye=pe>>>1==1?tr[Me]:Mt[Me];if(xe+=ye&15,ye>>>=4,(ye>>>8&255)===0)be[we++]=ye;else{if(ye==256)break;ye-=257;var Qe=ye<8?0:ye-4>>2;Qe>5&&(Qe=0);var rt=we+ae[ye];Qe>0&&(rt+=Dt(oe,xe,Qe),xe+=Qe),Me=Dt(oe,xe,ze),ye=pe>>>1==1?kr[Me]:Ti[Me],xe+=ye&15,ye>>>=4;var ft=ye<4?0:ye-2>>1,wt=ve[ye];for(ft>0&&(wt+=Dt(oe,xe,ft),xe+=ft),!_e&&qe<rt&&(be=ir(be,rt+100),qe=be.length);we<rt;)be[we]=be[we-wt],++we}}}return _e?[be,xe+7>>>3]:[be.slice(0,we),xe+7>>>3]}function Jr(oe,_e){var xe=oe.slice(oe.l||0),pe=Wi(xe,_e);return oe.l+=pe[1],pe[0]}function Ao(oe,_e){if(oe)typeof console<"u"&&console.error(_e);else throw new Error(_e)}function fn(oe,_e){var xe=oe;Zc(xe,0);var pe=[],be=[],we={FileIndex:pe,FullPaths:be};D(we,{root:_e.root});for(var qe=xe.length-4;(xe[qe]!=80||xe[qe+1]!=75||xe[qe+2]!=5||xe[qe+3]!=6)&&qe>=0;)--qe;xe.l=qe+4,xe.l+=4;var tt=xe.read_shift(2);xe.l+=6;var ze=xe.read_shift(4);for(xe.l=ze,qe=0;qe<tt;++qe){xe.l+=20;var We=xe.read_shift(4),Me=xe.read_shift(4),ye=xe.read_shift(2),Qe=xe.read_shift(2),rt=xe.read_shift(2);xe.l+=8;var ft=xe.read_shift(4),wt=o(xe.slice(xe.l+ye,xe.l+ye+Qe));xe.l+=ye+Qe+rt;var It=xe.l;xe.l=ft+4,Yi(xe,We,Me,we,wt),xe.l=It}return we}function Yi(oe,_e,xe,pe,be){oe.l+=2;var we=oe.read_shift(2),qe=oe.read_shift(2),tt=a(oe);if(we&8257)throw new Error("Unsupported ZIP encryption");for(var ze=oe.read_shift(4),We=oe.read_shift(4),Me=oe.read_shift(4),ye=oe.read_shift(2),Qe=oe.read_shift(2),rt="",ft=0;ft<ye;++ft)rt+=String.fromCharCode(oe[oe.l++]);if(Qe){var wt=o(oe.slice(oe.l,oe.l+Qe));(wt[21589]||{}).mt&&(tt=wt[21589].mt),((be||{})[21589]||{}).mt&&(tt=be[21589].mt)}oe.l+=Qe;var It=oe.slice(oe.l,oe.l+We);switch(qe){case 8:It=G(oe,Me);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+qe)}var nr=!1;we&8&&(ze=oe.read_shift(4),ze==134695760&&(ze=oe.read_shift(4),nr=!0),We=oe.read_shift(4),Me=oe.read_shift(4)),We!=_e&&Ao(nr,"Bad compressed size: "+_e+" != "+We),Me!=xe&&Ao(nr,"Bad uncompressed size: "+xe+" != "+Me),cs(pe,rt,It,{unsafe:!0,mt:tt})}function Is(oe,_e){var xe=_e||{},pe=[],be=[],we=dt(1),qe=xe.compression?8:0,tt=0,ze=0,We=0,Me=0,ye=0,Qe=oe.FullPaths[0],rt=Qe,ft=oe.FileIndex[0],wt=[],It=0;for(ze=1;ze<oe.FullPaths.length;++ze)if(rt=oe.FullPaths[ze].slice(Qe.length),ft=oe.FileIndex[ze],!(!ft.size||!ft.content||rt=="Sh33tJ5")){var nr=Me,Kr=dt(rt.length);for(We=0;We<rt.length;++We)Kr.write_shift(1,rt.charCodeAt(We)&127);Kr=Kr.slice(0,Kr.l),wt[ye]=yTe.buf(ft.content,0);var Dr=ft.content;qe==8&&(Dr=W(Dr)),we=dt(30),we.write_shift(4,67324752),we.write_shift(2,20),we.write_shift(2,tt),we.write_shift(2,qe),ft.mt?s(we,ft.mt):we.write_shift(4,0),we.write_shift(-4,wt[ye]),we.write_shift(4,Dr.length),we.write_shift(4,ft.content.length),we.write_shift(2,Kr.length),we.write_shift(2,0),Me+=we.length,pe.push(we),Me+=Kr.length,pe.push(Kr),Me+=Dr.length,pe.push(Dr),we=dt(46),we.write_shift(4,33639248),we.write_shift(2,0),we.write_shift(2,20),we.write_shift(2,tt),we.write_shift(2,qe),we.write_shift(4,0),we.write_shift(-4,wt[ye]),we.write_shift(4,Dr.length),we.write_shift(4,ft.content.length),we.write_shift(2,Kr.length),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(4,0),we.write_shift(4,nr),It+=we.l,be.push(we),It+=Kr.length,be.push(Kr),++ye}return we=dt(22),we.write_shift(4,101010256),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,ye),we.write_shift(2,ye),we.write_shift(4,It),we.write_shift(4,Me),we.write_shift(2,0),Lo([Lo(pe),Lo(be),we])}var rn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Cr(oe,_e){if(oe.ctype)return oe.ctype;var xe=oe.name||"",pe=xe.match(/\.([^\.]+)$/);return pe&&rn[pe[1]]||_e&&(pe=(xe=_e).match(/[\.\\]([^\.\\])+$/),pe&&rn[pe[1]])?rn[pe[1]]:"application/octet-stream"}function an(oe){for(var _e=Tw(oe),xe=[],pe=0;pe<_e.length;pe+=76)xe.push(_e.slice(pe,pe+76));return xe.join(`\r
`)+`\r
`}function Mn(oe){var _e=oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(We){var Me=We.charCodeAt(0).toString(16).toUpperCase();return"="+(Me.length==1?"0"+Me:Me)});_e=_e.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),_e.charAt(0)==`
`&&(_e="=0D"+_e.slice(1)),_e=_e.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var xe=[],pe=_e.split(`\r
`),be=0;be<pe.length;++be){var we=pe[be];if(we.length==0){xe.push("");continue}for(var qe=0;qe<we.length;){var tt=76,ze=we.slice(qe,qe+tt);ze.charAt(tt-1)=="="?tt--:ze.charAt(tt-2)=="="?tt-=2:ze.charAt(tt-3)=="="&&(tt-=3),ze=we.slice(qe,qe+tt),qe+=tt,qe<we.length&&(ze+="="),xe.push(ze)}}return xe.join(`\r
`)}function Hn(oe){for(var _e=[],xe=0;xe<oe.length;++xe){for(var pe=oe[xe];xe<=oe.length&&pe.charAt(pe.length-1)=="=";)pe=pe.slice(0,pe.length-1)+oe[++xe];_e.push(pe)}for(var be=0;be<_e.length;++be)_e[be]=_e[be].replace(/[=][0-9A-Fa-f]{2}/g,function(we){return String.fromCharCode(parseInt(we.slice(1),16))});return $u(_e.join(`\r
`))}function ks(oe,_e,xe){for(var pe="",be="",we="",qe,tt=0;tt<10;++tt){var ze=_e[tt];if(!ze||ze.match(/^\s*$/))break;var We=ze.match(/^(.*?):\s*([^\s].*)$/);if(We)switch(We[1].toLowerCase()){case"content-location":pe=We[2].trim();break;case"content-type":we=We[2].trim();break;case"content-transfer-encoding":be=We[2].trim();break}}switch(++tt,be.toLowerCase()){case"base64":qe=$u($d(_e.slice(tt).join("")));break;case"quoted-printable":qe=Hn(_e.slice(tt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+be)}var Me=cs(oe,pe.slice(xe.length),qe,{unsafe:!0});we&&(Me.ctype=we)}function ls(oe,_e){if(Ce(oe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var xe=_e&&_e.root||"",pe=(oi&&Buffer.isBuffer(oe)?oe.toString("binary"):Ce(oe)).split(`\r
`),be=0,we="";for(be=0;be<pe.length;++be)if(we=pe[be],!!/^Content-Location:/i.test(we)&&(we=we.slice(we.indexOf("file")),xe||(xe=we.slice(0,we.lastIndexOf("/")+1)),we.slice(0,xe.length)!=xe))for(;xe.length>0&&(xe=xe.slice(0,xe.length-1),xe=xe.slice(0,xe.lastIndexOf("/")+1),we.slice(0,xe.length)!=xe););var qe=(pe[1]||"").match(/boundary="(.*?)"/);if(!qe)throw new Error("MAD cannot find boundary");var tt="--"+(qe[1]||""),ze=[],We=[],Me={FileIndex:ze,FullPaths:We};D(Me);var ye,Qe=0;for(be=0;be<pe.length;++be){var rt=pe[be];rt!==tt&&rt!==tt+"--"||(Qe++&&ks(Me,pe.slice(ye,be),xe),ye=be)}return Me}function dr(oe,_e){var xe=_e||{},pe=xe.boundary||"SheetJS";pe="------="+pe;for(var be=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+pe.slice(2)+'"',"","",""],we=oe.FullPaths[0],qe=we,tt=oe.FileIndex[0],ze=1;ze<oe.FullPaths.length;++ze)if(qe=oe.FullPaths[ze].slice(we.length),tt=oe.FileIndex[ze],!(!tt.size||!tt.content||qe=="Sh33tJ5")){qe=qe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(It){return"_x"+It.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(It){return"_u"+It.charCodeAt(0).toString(16)+"_"});for(var We=tt.content,Me=oi&&Buffer.isBuffer(We)?We.toString("binary"):Ce(We),ye=0,Qe=Math.min(1024,Me.length),rt=0,ft=0;ft<=Qe;++ft)(rt=Me.charCodeAt(ft))>=32&&rt<128&&++ye;var wt=ye>=Qe*4/5;be.push(pe),be.push("Content-Location: "+(xe.root||"file:///C:/SheetJS/")+qe),be.push("Content-Transfer-Encoding: "+(wt?"quoted-printable":"base64")),be.push("Content-Type: "+Cr(tt,qe)),be.push(""),be.push(wt?Mn(Me):an(Me))}return be.push(pe+`--\r
`),be.join(`\r
`)}function Ls(oe){var _e={};return D(_e,oe),_e}function cs(oe,_e,xe,pe){var be=pe&&pe.unsafe;be||D(oe);var we=!be&&Mi.find(oe,_e);if(!we){var qe=oe.FullPaths[0];_e.slice(0,qe.length)==qe?qe=_e:(qe.slice(-1)!="/"&&(qe+="/"),qe=(qe+_e).replace("//","/")),we={name:i(_e),type:2},oe.FileIndex.push(we),oe.FullPaths.push(qe),be||Mi.utils.cfb_gc(oe)}return we.content=xe,we.size=xe?xe.length:0,pe&&(pe.CLSID&&(we.clsid=pe.CLSID),pe.mt&&(we.mt=pe.mt),pe.ct&&(we.ct=pe.ct)),we}function ws(oe,_e){D(oe);var xe=Mi.find(oe,_e);if(xe){for(var pe=0;pe<oe.FileIndex.length;++pe)if(oe.FileIndex[pe]==xe)return oe.FileIndex.splice(pe,1),oe.FullPaths.splice(pe,1),!0}return!1}function cn(oe,_e,xe){D(oe);var pe=Mi.find(oe,_e);if(pe){for(var be=0;be<oe.FileIndex.length;++be)if(oe.FileIndex[be]==pe)return oe.FileIndex[be].name=i(xe),oe.FullPaths[be]=xe,!0}return!1}function yn(oe){V(oe,!0)}return e.find=P,e.read=R,e.parse=u,e.write=ke,e.writeFile=te,e.utils={cfb_new:Ls,cfb_add:cs,cfb_del:ws,cfb_mov:cn,cfb_gc:yn,ReadShift:tw,CheckField:hX,prep_blob:Zc,bconcat:Lo,use_zlib:M,_deflateRaw:vr,_inflateRaw:Jr,consts:ee},e})();function xTe(t){return typeof t=="string"?HT(t):Array.isArray(t)?$Be(t):t}function kC(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=HT(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?Fw(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([xTe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=IC(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function Oo(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function oH(t,e){for(var r=[],n=Oo(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function zR(t){for(var e=[],r=Oo(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function GT(t){for(var e=[],r=Oo(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function vTe(t){for(var e=[],r=Oo(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var $E=new Date(1899,11,30,0,0,0);function Bc(t,e){var r=t.getTime(),n=$E.getTime()+(t.getTimezoneOffset()-$E.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var WY=new Date,wTe=$E.getTime()+(WY.getTimezoneOffset()-$E.getTimezoneOffset())*6e4,lH=WY.getTimezoneOffset();function YY(t){var e=new Date;return e.setTime(t*24*60*60*1e3+wTe),e.getTimezoneOffset()!==lH&&e.setTime(e.getTime()+(e.getTimezoneOffset()-lH)*6e4),e}var cH=new Date("2017-02-19T19:06:09.000Z"),XY=isNaN(cH.getFullYear())?new Date("2/19/17"):cH,bTe=XY.getFullYear()==2017;function Vl(t,e){var r=new Date(t);if(bTe)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(XY.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function VT(t,e){if(oi&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Tc(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Tc(t[r]));return e}function Gs(t,e){for(var r="";r.length<e;)r+=t;return r}function Ud(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var CTe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Nw(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&CTe.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function hn(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return oi?n=Zd(r):n=qBe(r),Mi.utils.cfb_add(t,e,n)}Mi.utils.cfb_add(t,e,r)}else t.file(e,r)}function KR(){return Mi.utils.cfb_new()}var ba=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,STe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},WR=zR(STe),YR=/[&<>'"]/g,_Te=/[\u0000-\u0008\u000b-\u001f]/g;function Ei(t){var e=t+"";return e.replace(YR,function(r){return WR[r]}).replace(_Te,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function AH(t){return Ei(t).replace(/ /g,"_x0020_")}var JY=/[\u0000-\u001f]/g;function ETe(t){var e=t+"";return e.replace(YR,function(r){return WR[r]}).replace(/\n/g,"<br/>").replace(JY,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function BTe(t){var e=t+"";return e.replace(YR,function(r){return WR[r]}).replace(JY,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function TTe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function NTe(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function xN(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function uH(t){var e=km(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function hH(t){return Zd(t,"binary").toString("utf8")}var _5="foo bar baz",ew=oi&&(hH(_5)==xN(_5)&&hH||uH(_5)==xN(_5)&&uH)||xN,Fw=oi?function(t){return Zd(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},FTe=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}})(),ZY=/(^\s|\s$|\n)/;function Ro(t,e){return"<"+t+(e.match(ZY)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Iw(t){return Oo(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Ot(t,e,r){return"<"+t+(r!=null?Iw(r):"")+(e!=null?(e.match(ZY)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function jk(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function ITe(t,e){switch(typeof t){case"string":var r=Ot("vt:lpwstr",Ei(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ot((t|0)==t?"vt:i4":"vt:r8",Ei(String(t)));case"boolean":return Ot("vt:bool",t?"true":"false")}if(t instanceof Date)return Ot("vt:filetime",jk(t));throw new Error("Unable to serialize "+t)}var ao={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Wx=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],eA={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function kTe(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function LTe(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var fH=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},dH=oi?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Zd(e)})):fH(t)}:fH,pH=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(D2(t,i)));return n.join("").replace(Z2,"")},XR=oi?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Z2,""):pH(t,e,r)}:pH,gH=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},eX=oi?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):gH(t,e,r)}:gH,mH=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Y1(t,i)));return n.join("")},LC=oi?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):mH(e,r,n)}:mH,tX=function(t,e){var r=tA(t,e);return r>0?LC(t,e+4,e+4+r-1):""},rX=tX,nX=function(t,e){var r=tA(t,e);return r>0?LC(t,e+4,e+4+r-1):""},iX=nX,sX=function(t,e){var r=2*tA(t,e);return r>0?LC(t,e+4,e+4+r-1):""},aX=sX,oX=function(e,r){var n=tA(e,r);return n>0?XR(e,r+4,r+4+n):""},lX=oX,cX=function(t,e){var r=tA(t,e);return r>0?LC(t,e+4,e+4+r):""},AX=cX,uX=function(t,e){return kTe(t,e)},qE=uX,JR=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};oi&&(rX=function(e,r){if(!Buffer.isBuffer(e))return tX(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},iX=function(e,r){if(!Buffer.isBuffer(e))return nX(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},aX=function(e,r){if(!Buffer.isBuffer(e))return sX(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},lX=function(e,r){if(!Buffer.isBuffer(e))return oX(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},AX=function(e,r){if(!Buffer.isBuffer(e))return cX(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},qE=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):uX(e,r)},JR=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Y1=function(t,e){return t[e]},D2=function(t,e){return t[e+1]*256+t[e]},RTe=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},tA=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},lg=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},MTe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function tw(t,e){var r="",n,i,s=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,oi&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(D2(this,c)),c+=2;t*=2;break;case"utf8":r=LC(this,this.l,this.l+t);break;case"utf16le":t*=2,r=XR(this,this.l,this.l+t);break;case"wstr":return tw.call(this,t,"dbcs");case"lpstr-ansi":r=rX(this,this.l),t=4+tA(this,this.l);break;case"lpstr-cp":r=iX(this,this.l),t=4+tA(this,this.l);break;case"lpwstr":r=aX(this,this.l),t=4+2*tA(this,this.l);break;case"lpp4":t=4+tA(this,this.l),r=lX(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+tA(this,this.l),r=AX(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=Y1(this,this.l+t++))!==0;)s.push(b5(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=D2(this,this.l+t))!==0;)s.push(b5(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Y1(this,c),this.l=c+1,o=tw.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(b5(D2(this,c))),c+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Y1(this,c),this.l=c+1,o=tw.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(b5(Y1(this,c))),c+=1}r=s.join("");break;default:switch(t){case 1:return n=Y1(this,this.l),this.l++,n;case 2:return n=(e==="i"?RTe:D2)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?lg:MTe)(this,this.l),this.l+=4,n):(i=tA(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=qE(this,this.l):i=qE([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=eX(this,this.l,t);break}}return this.l+=t,r}var UTe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},DTe=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},OTe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function PTe(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)OTe(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,UTe(this,e,this.l);break;case 8:if(n=8,r==="f"){LTe(this,e,this.l);break}case 16:break;case-4:n=4,DTe(this,e,this.l);break}return this.l+=n,this}function hX(t,e){var r=eX(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Zc(t,e){t.l=e,t.read_shift=tw,t.chk=hX,t.write_shift=PTe}function mf(t,e){t.l+=e}function dt(t){var e=km(t);return Zc(e,0),e}function Ec(){var t=[],e=oi?256:2048,r=function(c){var u=dt(c);return Zc(u,0),u},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(c){return n&&c<n.length-n.l?n:(i(),n=r(Math.max(c+1,e)))},a=function(){return i(),Lo(t)},o=function(c){i(),n=c,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function Tt(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=kke[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&JR(r)&&t.push(r)}}function rw(t,e,r){var n=Tc(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function yH(t,e,r){var n=Tc(t);return n.s=rw(n.s,e.s,r),n.e=rw(n.e,e.s,r),n}function nw(t,e){if(t.cRel&&t.c<0)for(t=Tc(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Tc(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Bi(t);return!t.cRel&&t.cRel!=null&&(r=jTe(r)),!t.rRel&&t.rRel!=null&&(r=HTe(r)),r}function vN(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+fl(t.s.c)+":"+(t.e.cRel?"":"$")+fl(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Uo(t.s.r)+":"+(t.e.rRel?"":"$")+Uo(t.e.r):nw(t.s,e.biff)+":"+nw(t.e,e.biff)}function ZR(t){return parseInt(QTe(t),10)-1}function Uo(t){return""+(t+1)}function HTe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function QTe(t){return t.replace(/\$(\d+)$/,"$1")}function eM(t){for(var e=GTe(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function fl(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function jTe(t){return t.replace(/^([A-Z])/,"$$$1")}function GTe(t){return t.replace(/^\$([A-Z])/,"$1")}function VTe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function oo(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Bi(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function aA(t){var e=t.indexOf(":");return e==-1?{s:oo(t),e:oo(t)}:{s:oo(t.slice(0,e)),e:oo(t.slice(e+1))}}function va(t,e){return typeof e>"u"||typeof e=="number"?va(t.s,t.e):(typeof t!="string"&&(t=Bi(t)),typeof e!="string"&&(e=Bi(e)),t==e?t:t+":"+e)}function os(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function xH(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Np(t.z,r?Bc(e):e)}catch{}try{return t.w=Np((t.XF||{}).numFmtId||(r?14:0),r?Bc(e):e)}catch{return""+e}}function qd(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?RC[t.v]||t.v:e==null?xH(t,t.v):xH(t,e))}function zm(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function fX(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?oo(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=os(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(c.e.r=a=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[f].length;++p)if(!(typeof e[f][p]>"u")){var g={v:e[f][p]},y=a+f,x=o+p;if(c.s.r>y&&(c.s.r=y),c.s.c>x&&(c.s.c=x),c.e.r<y&&(c.e.r=y),c.e.c<x&&(c.e.c=x),e[f][p]&&typeof e[f][p]=="object"&&!Array.isArray(e[f][p])&&!(e[f][p]instanceof Date))g=e[f][p];else if(Array.isArray(g.v)&&(g.f=e[f][p][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(n.nullError)g.t="e",g.v=0;else if(n.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=n.dateNF||Vs[14],n.cellDates?(g.t="d",g.w=Np(g.z,Bc(g.v))):(g.t="n",g.v=Bc(g.v),g.w=Np(g.z,g.v))):g.t="s";if(i)s[y]||(s[y]=[]),s[y][x]&&s[y][x].z&&(g.z=s[y][x].z),s[y][x]=g;else{var w=Bi({c:x,r:y});s[w]&&s[w].z&&(g.z=s[w].z),s[w]=g}}}return c.s.c<1e7&&(s["!ref"]=va(c)),s}function Yx(t,e){return fX(null,t,e)}function $Te(t){return t.read_shift(4,"i")}function Ju(t,e){return e||(e=dt(4)),e.write_shift(4,t),e}function dl(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function lo(t,e){var r=!1;return e==null&&(r=!0,e=dt(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function qTe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function zTe(t,e){return e||(e=dt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function tM(t,e){var r=t.l,n=t.read_shift(1),i=dl(t),s=[],a={t:i,h:i};if((n&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(qTe(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function KTe(t,e){var r=!1;return e==null&&(r=!0,e=dt(15+4*t.t.length)),e.write_shift(1,0),lo(t.t,e),r?e.slice(0,e.l):e}var WTe=tM;function YTe(t,e){var r=!1;return e==null&&(r=!0,e=dt(23+4*t.t.length)),e.write_shift(1,1),lo(t.t,e),e.write_shift(4,1),zTe({},e),r?e.slice(0,e.l):e}function YA(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Km(t,e){return e==null&&(e=dt(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Wm(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Ym(t,e){return e==null&&(e=dt(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var XTe=dl,dX=lo;function rM(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function zE(t,e){var r=!1;return e==null&&(r=!0,e=dt(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var JTe=dl,Gk=rM,nM=zE;function pX(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?qE([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):lg(e,0)>>2;return r?i/100:i}function gX(t,e){e==null&&(e=dt(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function mX(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function ZTe(t,e){return e||(e=dt(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Xm=mX,Xx=ZTe;function Jx(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Lm(t,e){return(e||dt(8)).write_shift(8,t,"f")}function e4e(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var c=c4e[i];c&&(e.rgb=FH(c));break;case 2:e.rgb=FH([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function KE(t,e){if(e||(e=dt(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function t4e(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function r4e(t,e){e||(e=dt(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var yX=2,Jc=3,E5=11,WE=19,B5=64,n4e=65,i4e=71,s4e=4108,a4e=4126,ko=80,vH={1:{n:"CodePage",t:yX},2:{n:"Category",t:ko},3:{n:"PresentationFormat",t:ko},4:{n:"ByteCount",t:Jc},5:{n:"LineCount",t:Jc},6:{n:"ParagraphCount",t:Jc},7:{n:"SlideCount",t:Jc},8:{n:"NoteCount",t:Jc},9:{n:"HiddenCount",t:Jc},10:{n:"MultimediaClipCount",t:Jc},11:{n:"ScaleCrop",t:E5},12:{n:"HeadingPairs",t:s4e},13:{n:"TitlesOfParts",t:a4e},14:{n:"Manager",t:ko},15:{n:"Company",t:ko},16:{n:"LinksUpToDate",t:E5},17:{n:"CharacterCount",t:Jc},19:{n:"SharedDoc",t:E5},22:{n:"HyperlinksChanged",t:E5},23:{n:"AppVersion",t:Jc,p:"version"},24:{n:"DigSig",t:n4e},26:{n:"ContentType",t:ko},27:{n:"ContentStatus",t:ko},28:{n:"Language",t:ko},29:{n:"Version",t:ko},255:{},2147483648:{n:"Locale",t:WE},2147483651:{n:"Behavior",t:WE},1919054434:{}},wH={1:{n:"CodePage",t:yX},2:{n:"Title",t:ko},3:{n:"Subject",t:ko},4:{n:"Author",t:ko},5:{n:"Keywords",t:ko},6:{n:"Comments",t:ko},7:{n:"Template",t:ko},8:{n:"LastAuthor",t:ko},9:{n:"RevNumber",t:ko},10:{n:"EditTime",t:B5},11:{n:"LastPrinted",t:B5},12:{n:"CreatedDate",t:B5},13:{n:"ModifiedDate",t:B5},14:{n:"PageCount",t:Jc},15:{n:"WordCount",t:Jc},16:{n:"CharCount",t:Jc},17:{n:"Thumbnail",t:i4e},18:{n:"Application",t:ko},19:{n:"DocSecurity",t:Jc},255:{},2147483648:{n:"Locale",t:WE},2147483651:{n:"Behavior",t:WE},1919054434:{}};function o4e(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var l4e=o4e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),c4e=Tc(l4e),RC={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},A4e={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},T5={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function xX(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function vX(t,e){var r=vTe(A4e),n=[],i;n[n.length]=ba,n[n.length]=Ot("Types",null,{xmlns:ao.CT,"xmlns:xsd":ao.xsd,"xmlns:xsi":ao.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Ot("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=Ot("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:T5[l][e.bookType]||T5[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(c){n[n.length]=Ot("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:T5[l][e.bookType]||T5[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){n[n.length]=Ot("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Zn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function wX(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function my(t){var e=[ba,Ot("Relationships",null,{xmlns:ao.RELS})];return Oo(t["!id"]).forEach(function(r){e[e.length]=Ot("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Ci(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[Zn.HLINK,Zn.XPATH,Zn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function u4e(t){var e=[ba];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function bH(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function h4e(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function f4e(t){var e=[ba];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(bH(t[r][0],t[r][1])),e.push(h4e("",t[r][0]));return e.push(bH("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function bX(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+HE.version+"</meta:generator></office:meta></office:document-meta>"}var mm=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function wN(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Ei(e),n[n.length]=r?Ot(t,e,r):Ro(t,e))}function CX(t,e){var r=e||{},n=[ba,Ot("cp:coreProperties",null,{"xmlns:cp":ao.CORE_PROPS,"xmlns:dc":ao.dc,"xmlns:dcterms":ao.dcterms,"xmlns:dcmitype":ao.dcmitype,"xmlns:xsi":ao.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&wN("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:jk(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&wN("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:jk(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=mm.length;++s){var a=mm[s],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&wN(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var yy=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],SX=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function _X(t){var e=[],r=Ot;return t||(t={}),t.Application="SheetJS",e[e.length]=ba,e[e.length]=Ot("Properties",null,{xmlns:ao.EXT_PROPS,"xmlns:vt":ao.vt}),yy.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Ei(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Ei(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function EX(t){var e=[ba,Ot("Properties",null,{xmlns:ao.CUST_PROPS,"xmlns:vt":ao.vt})];if(!t)return e.join("");var r=1;return Oo(t).forEach(function(i){++r,e[e.length]=Ot("property",ITe(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Ei(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var CH={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function d4e(t,e){var r=[];return Oo(CH).map(function(n){for(var i=0;i<mm.length;++i)if(mm[i][1]==n)return mm[i];for(i=0;i<yy.length;++i)if(yy[i][1]==n)return yy[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(Ro(CH[n[1]]||n[1],i))}}),Ot("DocumentProperties",r.join(""),{xmlns:eA.o})}function p4e(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&Oo(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<mm.length;++a)if(s==mm[a][1])return;for(a=0;a<yy.length;++a)if(s==yy[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(Ot(AH(s),o,{"dt:dt":l}))}}),e&&Oo(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(Ot(AH(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+eA.o+'">'+i.join("")+"</"+n+">"}function g4e(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=dt(8);return a.write_shift(4,n),a.write_shift(4,i),a}function SH(t,e){var r=dt(4),n=dt(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=dt(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=g4e(e);break;case 31:case 80:for(n=dt(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Lo([r,n])}var BX=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function m4e(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function _H(t,e,r){var n=dt(8),i=[],s=[],a=8,o=0,l=dt(8),c=dt(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),a+=8+l.length,!e){c=dt(8),c.write_shift(4,0),i.unshift(c);var u=[dt(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=dt(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Lo(u),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(BX.indexOf(t[o][0])>-1||SX.indexOf(t[o][0])>-1)&&t[o][1]!=null){var p=t[o][1],g=0;if(e){g=+e[t[o][0]];var y=r[g];if(y.p=="version"&&typeof p=="string"){var x=p.split(".");p=(+x[0]<<16)+(+x[1]||0)}l=SH(y.t,p)}else{var w=m4e(p);w==-1&&(w=31,p=String(p)),l=SH(w,p)}s.push(l),c=dt(8),c.write_shift(4,e?g:2+o),i.push(c),a+=8+l.length}var S=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,S),S+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),Lo([n].concat(i).concat(s))}function EH(t,e,r,n,i,s){var a=dt(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Mi.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=_H(t,r,n);if(o.push(l),i){var c=_H(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(c)}return Lo(o)}function y4e(t,e){e||(e=dt(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function x4e(t,e){return t.read_shift(e)===1}function Pl(t,e){return e||(e=dt(2)),e.write_shift(2,+!!t),e}function TX(t){return t.read_shift(2,"u")}function PA(t,e){return e||(e=dt(2)),e.write_shift(2,t),e}function NX(t,e,r){return r||(r=dt(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function FX(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function v4e(t){var e=t.t||"",r=dt(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=dt(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return Lo(i)}function w4e(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function b4e(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):w4e(t,n,r)}function C4e(t,e,r){if(r.biff>5)return b4e(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function IX(t,e,r){return r||(r=dt(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function BH(t,e){e||(e=dt(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function S4e(t){var e=dt(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(s==28)n=n.slice(1),BH(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),s&8&&BH(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Rm(t,e,r,n){return n||(n=dt(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function _4e(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function E4e(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function kX(t,e){return e||(e=dt(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function iM(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=dt(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function B4e(t,e){var r=!e||e.biff==8,n=dt(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function T4e(t,e){var r=!e||e.biff>=8?2:1,n=dt(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function N4e(t,e){var r=dt(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=v4e(t[i]);var s=Lo([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function F4e(){var t=dt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function I4e(t){var e=dt(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function k4e(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=dt(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function L4e(t,e,r,n){var i=dt(10);return Rm(t,e,n,i),i.write_shift(4,r),i}function R4e(t,e,r,n,i){var s=!i||i.biff==8,a=dt(8+ +s+(1+s)*r.length);return Rm(t,e,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function M4e(t,e,r,n){var i=r&&r.biff==5;n||(n=dt(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function U4e(t,e){var r=e.biff==8||!e.biff?4:2,n=dt(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function TH(t,e,r,n){var i=r&&r.biff==5;n||(n=dt(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function D4e(t){var e=dt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function O4e(t,e,r,n,i,s){var a=dt(8);return Rm(t,e,n,a),NX(r,s,a),a}function P4e(t,e,r,n){var i=dt(14);return Rm(t,e,n,i),Lm(r,i),i}function H4e(t,e,r){if(r.biff<8)return Q4e(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(_4e(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function Q4e(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=FX(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function j4e(t){var e=dt(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)kX(t[r],e);return e}function G4e(t){var e=dt(24),r=oo(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return Lo([e,S4e(t[1])])}function V4e(t){var e=t[1].Tooltip,r=dt(10+2*(e.length+1));r.write_shift(2,2048);var n=oo(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function $4e(t){return t||(t=dt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function q4e(t,e,r){if(!r.cellStyles)return mf(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function z4e(t,e){var r=dt(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function K4e(t){for(var e=dt(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function W4e(t,e,r){var n=dt(15);return UC(n,t,e),n.write_shift(8,r,"f"),n}function Y4e(t,e,r){var n=dt(9);return UC(n,t,e),n.write_shift(2,r),n}var X4e=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=zR({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=km(1);switch(l.type){case"base64":u=$u($d(o));break;case"binary":u=$u(o);break;case"buffer":case"array":u=o;break}Zc(u,0);var f=u.read_shift(1),p=!!(f&136),g=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:g=!0,p=!0;break;case 49:g=!0,p=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var x=0,w=521;f==2&&(x=u.read_shift(2)),u.l+=3,f!=2&&(x=u.read_shift(4)),x>1048576&&(x=1e6),f!=2&&(w=u.read_shift(2));var S=u.read_shift(2),B=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(B=t[u[u.l]]),u.l+=1,u.l+=2),y&&(u.l+=36);for(var F=[],k={},O=Math.min(u.length,f==2?521:w-10-(g?264:0)),R=y?32:11;u.l<O&&u[u.l]!=13;)switch(k={},k.name=QE.utils.decode(B,u.slice(u.l,u.l+R)).replace(/[\u0000\r\n].*$/g,""),u.l+=R,k.type=String.fromCharCode(u.read_shift(1)),f!=2&&!y&&(k.offset=u.read_shift(4)),k.len=u.read_shift(1),f==2&&(k.offset=u.read_shift(2)),k.dec=u.read_shift(1),k.name.length&&F.push(k),f!=2&&(u.l+=y?13:14),k.type){case"B":(!g||k.len!=8)&&l.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+k.type)}if(u[u.l]!==13&&(u.l=w-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=w;var D=0,Q=0;for(c[0]=[],Q=0;Q!=F.length;++Q)c[0][Q]=F[Q].name;for(;x-- >0;){if(u[u.l]===42){u.l+=S;continue}for(++u.l,c[++D]=[],Q=0,Q=0;Q!=F.length;++Q){var V=u.slice(u.l,u.l+F[Q].len);u.l+=F[Q].len,Zc(V,0);var re=QE.utils.decode(B,V);switch(F[Q].type){case"C":re.trim().length&&(c[D][Q]=re.replace(/\s+$/,""));break;case"D":re.length===8?c[D][Q]=new Date(+re.slice(0,4),+re.slice(4,6)-1,+re.slice(6,8)):c[D][Q]=re;break;case"F":c[D][Q]=parseFloat(re.trim());break;case"+":case"I":c[D][Q]=y?V.read_shift(-4,"i")^2147483648:V.read_shift(4,"i");break;case"L":switch(re.trim().toUpperCase()){case"Y":case"T":c[D][Q]=!0;break;case"N":case"F":c[D][Q]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+re+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[D][Q]="##MEMO##"+(y?parseInt(re.trim(),10):V.read_shift(4));break;case"N":re=re.replace(/\u0000/g,"").trim(),re&&re!="."&&(c[D][Q]=+re||0);break;case"@":c[D][Q]=new Date(V.read_shift(-8,"f")-621356832e5);break;case"T":c[D][Q]=new Date((V.read_shift(4)-2440588)*864e5+V.read_shift(4));break;case"Y":c[D][Q]=V.read_shift(4,"i")/1e4+V.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[D][Q]=-V.read_shift(-8,"f");break;case"B":if(g&&F[Q].len==8){c[D][Q]=V.read_shift(8,"f");break}case"G":case"P":V.l+=F[Q].len;break;case"0":if(F[Q].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+F[Q].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=F,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Yx(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function i(o,l){try{return zm(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&Bw(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Ec(),f=eB(o,{header:1,raw:!0,cellDates:!0}),p=f[0],g=f.slice(1),y=o["!cols"]||[],x=0,w=0,S=0,B=1;for(x=0;x<p.length;++x){if(((y[x]||{}).DBF||{}).name){p[x]=y[x].DBF.name,++S;continue}if(p[x]!=null){if(++S,typeof p[x]=="number"&&(p[x]=p[x].toString(10)),typeof p[x]!="string")throw new Error("DBF Invalid column name "+p[x]+" |"+typeof p[x]+"|");if(p.indexOf(p[x])!==x){for(w=0;w<1024;++w)if(p.indexOf(p[x]+"_"+w)==-1){p[x]+="_"+w;break}}}}var F=os(o["!ref"]),k=[],O=[],R=[];for(x=0;x<=F.e.c-F.s.c;++x){var D="",Q="",V=0,re=[];for(w=0;w<g.length;++w)g[w][x]!=null&&re.push(g[w][x]);if(re.length==0||p[x]==null){k[x]="?";continue}for(w=0;w<re.length;++w){switch(typeof re[w]){case"number":Q="B";break;case"string":Q="C";break;case"boolean":Q="L";break;case"object":Q=re[w]instanceof Date?"D":"C";break;default:Q="C"}V=Math.max(V,String(re[w]).length),D=D&&D!=Q?"C":Q}V>250&&(V=250),Q=((y[x]||{}).DBF||{}).type,Q=="C"&&y[x].DBF.len>V&&(V=y[x].DBF.len),D=="B"&&Q=="N"&&(D="N",R[x]=y[x].DBF.dec,V=y[x].DBF.len),O[x]=D=="C"||Q=="N"?V:s[D]||0,B+=O[x],k[x]=D}var P=u.next(32);for(P.write_shift(4,318902576),P.write_shift(4,g.length),P.write_shift(2,296+32*S),P.write_shift(2,B),x=0;x<4;++x)P.write_shift(4,0);for(P.write_shift(4,0|(+e[RY]||3)<<8),x=0,w=0;x<p.length;++x)if(p[x]!=null){var H=u.next(32),q=(p[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);H.write_shift(1,q,"sbcs"),H.write_shift(1,k[x]=="?"?"C":k[x],"sbcs"),H.write_shift(4,w),H.write_shift(1,O[x]||s[k[x]]||0),H.write_shift(1,R[x]||0),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(1,0),H.write_shift(4,0),H.write_shift(4,0),w+=O[x]||s[k[x]]||0}var Z=u.next(264);for(Z.write_shift(4,13),x=0;x<65;++x)Z.write_shift(4,0);for(x=0;x<g.length;++x){var se=u.next(B);for(se.write_shift(1,0),w=0;w<p.length;++w)if(p[w]!=null)switch(k[w]){case"L":se.write_shift(1,g[x][w]==null?63:g[x][w]?84:70);break;case"B":se.write_shift(8,g[x][w]||0,"f");break;case"N":var X="0";for(typeof g[x][w]=="number"&&(X=g[x][w].toFixed(R[w]||0)),S=0;S<O[w]-X.length;++S)se.write_shift(1,32);se.write_shift(1,X,"sbcs");break;case"D":g[x][w]?(se.write_shift(4,("0000"+g[x][w].getFullYear()).slice(-4),"sbcs"),se.write_shift(2,("00"+(g[x][w].getMonth()+1)).slice(-2),"sbcs"),se.write_shift(2,("00"+g[x][w].getDate()).slice(-2),"sbcs")):se.write_shift(8,"00000000","sbcs");break;case"C":var ee=String(g[x][w]!=null?g[x][w]:"").slice(0,O[w]);for(se.write_shift(1,ee,"sbcs"),S=0;S<O[w]-ee.length;++S)se.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}})(),J4e=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Oo(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(p,g){var y=t[g];return typeof y=="number"?J7(y):y},n=function(p,g,y){var x=g.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return x==59?p:J7(x)};t["|"]=254;function i(p,g){switch(g.type){case"base64":return s($d(p),g);case"binary":return s(p,g);case"buffer":return s(oi&&Buffer.isBuffer(p)?p.toString("binary"):IC(p),g);case"array":return s(VT(p),g)}throw new Error("Unrecognized type "+g.type)}function s(p,g){var y=p.split(/[\n\r]+/),x=-1,w=-1,S=0,B=0,F=[],k=[],O=null,R={},D=[],Q=[],V=[],re=0,P;for(+g.codepage>=0&&Bw(+g.codepage);S!==y.length;++S){re=0;var H=y[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),q=H.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),Z=q[0],se;if(H.length>0)switch(Z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":q[1].charAt(0)=="P"&&k.push(H.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,ee=!1,te=!1,Ce=!1,ke=-1,le=-1;for(B=1;B<q.length;++B)switch(q[B].charAt(0)){case"A":break;case"X":w=parseInt(q[B].slice(1))-1,ee=!0;break;case"Y":for(x=parseInt(q[B].slice(1))-1,ee||(w=0),P=F.length;P<=x;++P)F[P]=[];break;case"K":se=q[B].slice(1),se.charAt(0)==='"'?se=se.slice(1,se.length-1):se==="TRUE"?se=!0:se==="FALSE"?se=!1:isNaN(Ud(se))?isNaN(Nw(se).getDate())||(se=Vl(se)):(se=Ud(se),O!==null&&qY(O)&&(se=YY(se))),X=!0;break;case"E":Ce=!0;var M=Y3e(q[B].slice(1),{r:x,c:w});F[x][w]=[F[x][w],M];break;case"S":te=!0,F[x][w]=[F[x][w],"S5S"];break;case"G":break;case"R":ke=parseInt(q[B].slice(1))-1;break;case"C":le=parseInt(q[B].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+H)}if(X&&(F[x][w]&&F[x][w].length==2?F[x][w][0]=se:F[x][w]=se,O=null),te){if(Ce)throw new Error("SYLK shared formula cannot have own formula");var G=ke>-1&&F[ke][le];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");F[x][w][1]=X3e(G[1],{r:x-ke,c:w-le})}break;case"F":var W=0;for(B=1;B<q.length;++B)switch(q[B].charAt(0)){case"X":w=parseInt(q[B].slice(1))-1,++W;break;case"Y":for(x=parseInt(q[B].slice(1))-1,P=F.length;P<=x;++P)F[P]=[];break;case"M":re=parseInt(q[B].slice(1))/20;break;case"F":break;case"G":break;case"P":O=k[parseInt(q[B].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(V=q[B].slice(1).split(" "),P=parseInt(V[0],10);P<=parseInt(V[1],10);++P)re=parseInt(V[2],10),Q[P-1]=re===0?{hidden:!0}:{wch:re},sM(Q[P-1]);break;case"C":w=parseInt(q[B].slice(1))-1,Q[w]||(Q[w]={});break;case"R":x=parseInt(q[B].slice(1))-1,D[x]||(D[x]={}),re>0?(D[x].hpt=re,D[x].hpx=DX(re)):re===0&&(D[x].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+H)}W<1&&(O=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+H)}}return D.length>0&&(R["!rows"]=D),Q.length>0&&(R["!cols"]=Q),g&&g.sheetRows&&(F=F.slice(0,g.sheetRows)),[F,R]}function a(p,g){var y=i(p,g),x=y[0],w=y[1],S=Yx(x,g);return Oo(w).forEach(function(B){S[B]=w[B]}),S}function o(p,g){return zm(a(p,g),g)}function l(p,g,y,x){var w="C;Y"+(y+1)+";X"+(x+1)+";K";switch(p.t){case"n":w+=p.v||0,p.f&&!p.F&&(w+=";E"+oM(p.f,{r:y,c:x}));break;case"b":w+=p.v?"TRUE":"FALSE";break;case"e":w+=p.w||p.v;break;case"d":w+='"'+(p.w||p.v)+'"';break;case"s":w+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function c(p,g){g.forEach(function(y,x){var w="F;W"+(x+1)+" "+(x+1)+" ";y.hidden?w+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=YE(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=XE(y.wpx)),typeof y.wch=="number"&&(w+=Math.round(y.wch))),w.charAt(w.length-1)!=" "&&p.push(w)})}function u(p,g){g.forEach(function(y,x){var w="F;";y.hidden?w+="M0;":y.hpt?w+="M"+20*y.hpt+";":y.hpx&&(w+="M"+20*JE(y.hpx)+";"),w.length>2&&p.push(w+"R"+(x+1))})}function f(p,g){var y=["ID;PWXL;N;E"],x=[],w=os(p["!ref"]),S,B=Array.isArray(p),F=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),p["!cols"]&&c(y,p["!cols"]),p["!rows"]&&u(y,p["!rows"]),y.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var k=w.s.r;k<=w.e.r;++k)for(var O=w.s.c;O<=w.e.c;++O){var R=Bi({r:k,c:O});S=B?(p[k]||[])[O]:p[R],!(!S||S.v==null&&(!S.f||S.F))&&x.push(l(S,p,k,O))}return y.join(F)+F+x.join(F)+F+"E"+F}return{to_workbook:o,to_sheet:a,from_sheet:f}})(),Z4e=(function(){function t(s,a){switch(a.type){case"base64":return e($d(s),a);case"binary":return e(s,a);case"buffer":return e(oi&&Buffer.isBuffer(s)?s.toString("binary"):IC(s),a);case"array":return e(VT(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var p=o[u].trim().split(","),g=p[0],y=p[1];++u;for(var x=o[u]||"";(x.match(/["]/g)||[]).length&1&&u<o.length-1;)x+=`
`+o[++u];switch(x=x.trim(),+g){case-1:if(x==="BOT"){f[++l]=[],c=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?f[l][c]=!0:x==="FALSE"?f[l][c]=!1:isNaN(Ud(y))?isNaN(Nw(y).getDate())?f[l][c]=y:f[l][c]=Vl(y):f[l][c]=Ud(y),++c;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),f[l][c++]=x!==""?x:null;break}if(x==="EOD")break}}return a&&a.sheetRows&&(f=f.slice(0,a.sheetRows)),f}function r(s,a){return Yx(t(s,a),a)}function n(s,a){return zm(r(s,a),a)}var i=(function(){var s=function(l,c,u,f,p){l.push(c),l.push(u+","+f),l.push('"'+p.replace(/"/g,'""')+'"')},a=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=os(l["!ref"]),f,p=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var g=u.s.r;g<=u.e.r;++g){a(c,-1,0,"BOT");for(var y=u.s.c;y<=u.e.c;++y){var x=Bi({r:g,c:y});if(f=p?(l[g]||[])[y]:l[x],!f){a(c,1,0,"");continue}switch(f.t){case"n":var w=f.w;!w&&f.v!=null&&(w=f.v),w==null?f.f&&!f.F?a(c,1,0,"="+f.f):a(c,1,0,""):a(c,0,w,"V");break;case"b":a(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Np(f.z||Vs[14],Bc(Vl(f.v)))),a(c,0,f.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var S=`\r
`,B=c.join(S);return B}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),LX=(function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,p){for(var g=f.split(`
`),y=-1,x=-1,w=0,S=[];w!==g.length;++w){var B=g[w].trim().split(":");if(B[0]==="cell"){var F=oo(B[1]);if(S.length<=F.r)for(y=S.length;y<=F.r;++y)S[y]||(S[y]=[]);switch(y=F.r,x=F.c,B[2]){case"t":S[y][x]=t(B[3]);break;case"v":S[y][x]=+B[3];break;case"vtf":var k=B[B.length-1];case"vtc":switch(B[3]){case"nl":S[y][x]=!!+B[4];break;default:S[y][x]=+B[4];break}B[2]=="vtf"&&(S[y][x]=[S[y][x],k])}}}return p&&p.sheetRows&&(S=S.slice(0,p.sheetRows)),S}function n(f,p){return Yx(r(f,p),p)}function i(f,p){return zm(n(f,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var p=[],g=[],y,x="",w=aA(f["!ref"]),S=Array.isArray(f),B=w.s.r;B<=w.e.r;++B)for(var F=w.s.c;F<=w.e.c;++F)if(x=Bi({r:B,c:F}),y=S?(f[B]||[])[F]:f[x],!(!y||y.v==null||y.t==="z")){switch(g=["cell",x,"t"],y.t){case"s":case"str":g.push(e(y.v));break;case"n":y.f?(g[2]="vtf",g[3]="n",g[4]=y.v,g[5]=e(y.f)):(g[2]="v",g[3]=y.v);break;case"b":g[2]="vt"+(y.f?"f":"c"),g[3]="nl",g[4]=y.v?"1":"0",g[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var k=Bc(Vl(y.v));g[2]="vtc",g[3]="nd",g[4]=""+k,g[5]=y.w||Np(y.z||Vs[14],k);break;case"e":continue}p.push(g.join(":"))}return p.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function u(f){return[s,a,o,a,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:u}})(),e3e=(function(){function t(u,f,p,g,y){y.raw?f[p][g]=u:u===""||(u==="TRUE"?f[p][g]=!0:u==="FALSE"?f[p][g]=!1:isNaN(Ud(u))?isNaN(Nw(u).getDate())?f[p][g]=u:f[p][g]=Vl(u):f[p][g]=Ud(u))}function e(u,f){var p=f||{},g=[];if(!u||u.length===0)return g;for(var y=u.split(/[\r\n]/),x=y.length-1;x>=0&&y[x].length===0;)--x;for(var w=10,S=0,B=0;B<=x;++B)S=y[B].indexOf(" "),S==-1?S=y[B].length:S++,w=Math.max(w,S);for(B=0;B<=x;++B){g[B]=[];var F=0;for(t(y[B].slice(0,w).trim(),g,B,F,p),F=1;F<=(y[B].length-w)/10+1;++F)t(y[B].slice(w+(F-1)*10,w+F*10).trim(),g,B,F,p)}return p.sheetRows&&(g=g.slice(0,p.sheetRows)),g}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(u){for(var f={},p=!1,g=0,y=0;g<u.length;++g)(y=u.charCodeAt(g))==34?p=!p:!p&&y in r&&(f[y]=(f[y]||0)+1);y=[];for(g in f)Object.prototype.hasOwnProperty.call(f,g)&&y.push([f[g],g]);if(!y.length){f=n;for(g in f)Object.prototype.hasOwnProperty.call(f,g)&&y.push([f[g],g])}return y.sort(function(x,w){return x[0]-w[0]||n[x[1]]-n[w[1]]}),r[y.pop()[1]]||44}function s(u,f){var p=f||{},g="",y=p.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(g=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(g=u.charAt(4),u=u.slice(6)):g=i(u.slice(0,1024)):p&&p.FS?g=p.FS:g=i(u.slice(0,1024));var w=0,S=0,B=0,F=0,k=0,O=g.charCodeAt(0),R=!1,D=0,Q=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var V=p.dateNF!=null?gTe(p.dateNF):null;function re(){var P=u.slice(F,k),H={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)H.t="z";else if(p.raw)H.t="s",H.v=P;else if(P.trim().length===0)H.t="s",H.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(H.t="s",H.v=P.slice(2,-1).replace(/""/g,'"')):J3e(P)?(H.t="n",H.f=P.slice(1)):(H.t="s",H.v=P);else if(P=="TRUE")H.t="b",H.v=!0;else if(P=="FALSE")H.t="b",H.v=!1;else if(!isNaN(B=Ud(P)))H.t="n",p.cellText!==!1&&(H.w=P),H.v=B;else if(!isNaN(Nw(P).getDate())||V&&P.match(V)){H.z=p.dateNF||Vs[14];var q=0;V&&P.match(V)&&(P=mTe(P,p.dateNF,P.match(V)||[]),q=1),p.cellDates?(H.t="d",H.v=Vl(P,q)):(H.t="n",H.v=Bc(Vl(P,q))),p.cellText!==!1&&(H.w=Np(H.z,H.v instanceof Date?Bc(H.v):H.v)),p.cellNF||delete H.z}else H.t="s",H.v=P;if(H.t=="z"||(p.dense?(y[w]||(y[w]=[]),y[w][S]=H):y[Bi({c:S,r:w})]=H),F=k+1,Q=u.charCodeAt(F),x.e.c<S&&(x.e.c=S),x.e.r<w&&(x.e.r=w),D==O)++S;else if(S=0,++w,p.sheetRows&&p.sheetRows<=w)return!0}e:for(;k<u.length;++k)switch(D=u.charCodeAt(k)){case 34:Q===34&&(R=!R);break;case O:case 10:case 13:if(!R&&re())break e;break}return k-F>0&&re(),y["!ref"]=va(x),y}function a(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):Yx(e(u,f),f)}function o(u,f){var p="",g=f.type=="string"?[0,0,0,0]:hLe(u,f);switch(f.type){case"base64":p=$d(u);break;case"binary":p=u;break;case"buffer":f.codepage==65001?p=u.toString("utf8"):f.codepage&&typeof QE<"u"||(p=oi&&Buffer.isBuffer(u)?u.toString("binary"):IC(u));break;case"array":p=VT(u);break;case"string":p=u;break;default:throw new Error("Unrecognized type "+f.type)}return g[0]==239&&g[1]==187&&g[2]==191?p=ew(p.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?p=ew(p):f.type=="binary"&&typeof QE<"u",p.slice(0,19)=="socialcalc:version:"?LX.to_sheet(f.type=="string"?p:ew(p),f):a(p,f)}function l(u,f){return zm(o(u,f),f)}function c(u){for(var f=[],p=os(u["!ref"]),g,y=Array.isArray(u),x=p.s.r;x<=p.e.r;++x){for(var w=[],S=p.s.c;S<=p.e.c;++S){var B=Bi({r:x,c:S});if(g=y?(u[x]||[])[S]:u[B],!g||g.v==null){w.push("          ");continue}for(var F=(g.w||(qd(g),g.w)||"").slice(0,10);F.length<10;)F+=" ";w.push(F+(S===0?" ":""))}f.push(w.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}})(),NH=(function(){function t(M,G,W){if(M){Zc(M,M.l||0);for(var J=W.Enum||ke;M.l<M.length;){var ae=M.read_shift(2),ve=J[ae]||J[65535],Fe=M.read_shift(2),Ie=M.l+Fe,He=ve.f&&ve.f(M,Fe,W);if(M.l=Ie,G(He,ve,ae))return}}}function e(M,G){switch(G.type){case"base64":return r($u($d(M)),G);case"binary":return r($u(M),G);case"buffer":case"array":return r(M,G)}throw"Unsupported type "+G.type}function r(M,G){if(!M)return M;var W=G||{},J=W.dense?[]:{},ae="Sheet1",ve="",Fe=0,Ie={},He=[],at=[],lt={s:{r:0,c:0},e:{r:0,c:0}},St=W.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)W.Enum=ke,t(M,function(xt,Dt,vt){switch(vt){case 0:W.vers=xt,xt>=4096&&(W.qpro=!0);break;case 6:lt=xt;break;case 204:xt&&(ve=xt);break;case 222:ve=xt;break;case 15:case 51:W.qpro||(xt[1].v=xt[1].v.slice(1));case 13:case 14:case 16:vt==14&&(xt[2]&112)==112&&(xt[2]&15)>1&&(xt[2]&15)<15&&(xt[1].z=W.dateNF||Vs[14],W.cellDates&&(xt[1].t="d",xt[1].v=YY(xt[1].v))),W.qpro&&xt[3]>Fe&&(J["!ref"]=va(lt),Ie[ae]=J,He.push(ae),J=W.dense?[]:{},lt={s:{r:0,c:0},e:{r:0,c:0}},Fe=xt[3],ae=ve||"Sheet"+(Fe+1),ve="");var Ft=W.dense?(J[xt[0].r]||[])[xt[0].c]:J[Bi(xt[0])];if(Ft){Ft.t=xt[1].t,Ft.v=xt[1].v,xt[1].z!=null&&(Ft.z=xt[1].z),xt[1].f!=null&&(Ft.f=xt[1].f);break}W.dense?(J[xt[0].r]||(J[xt[0].r]=[]),J[xt[0].r][xt[0].c]=xt[1]):J[Bi(xt[0])]=xt[1];break}},W);else if(M[2]==26||M[2]==14)W.Enum=le,M[2]==14&&(W.qpro=!0,M.l=0),t(M,function(xt,Dt,vt){switch(vt){case 204:ae=xt;break;case 22:xt[1].v=xt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(xt[3]>Fe&&(J["!ref"]=va(lt),Ie[ae]=J,He.push(ae),J=W.dense?[]:{},lt={s:{r:0,c:0},e:{r:0,c:0}},Fe=xt[3],ae="Sheet"+(Fe+1)),St>0&&xt[0].r>=St)break;W.dense?(J[xt[0].r]||(J[xt[0].r]=[]),J[xt[0].r][xt[0].c]=xt[1]):J[Bi(xt[0])]=xt[1],lt.e.c<xt[0].c&&(lt.e.c=xt[0].c),lt.e.r<xt[0].r&&(lt.e.r=xt[0].r);break;case 27:xt[14e3]&&(at[xt[14e3][0]]=xt[14e3][1]);break;case 1537:at[xt[0]]=xt[1],xt[0]==Fe&&(ae=xt[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(J["!ref"]=va(lt),Ie[ve||ae]=J,He.push(ve||ae),!at.length)return{SheetNames:He,Sheets:Ie};for(var Nt={},it=[],Be=0;Be<at.length;++Be)Ie[He[Be]]?(it.push(at[Be]||He[Be]),Nt[at[Be]]=Ie[at[Be]]||Ie[He[Be]]):(it.push(at[Be]),Nt[at[Be]]={"!ref":"A1"});return{SheetNames:it,Sheets:Nt}}function n(M,G){var W=G||{};if(+W.codepage>=0&&Bw(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var J=Ec(),ae=os(M["!ref"]),ve=Array.isArray(M),Fe=[];Ht(J,0,s(1030)),Ht(J,6,l(ae));for(var Ie=Math.min(ae.e.r,8191),He=ae.s.r;He<=Ie;++He)for(var at=Uo(He),lt=ae.s.c;lt<=ae.e.c;++lt){He===ae.s.r&&(Fe[lt]=fl(lt));var St=Fe[lt]+at,Nt=ve?(M[He]||[])[lt]:M[St];if(!(!Nt||Nt.t=="z"))if(Nt.t=="n")(Nt.v|0)==Nt.v&&Nt.v>=-32768&&Nt.v<=32767?Ht(J,13,g(He,lt,Nt.v)):Ht(J,14,x(He,lt,Nt.v));else{var it=qd(Nt);Ht(J,15,f(He,lt,it.slice(0,239)))}}return Ht(J,1),J.end()}function i(M,G){var W=G||{};if(+W.codepage>=0&&Bw(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var J=Ec();Ht(J,0,a(M));for(var ae=0,ve=0;ae<M.SheetNames.length;++ae)(M.Sheets[M.SheetNames[ae]]||{})["!ref"]&&Ht(J,27,Ce(M.SheetNames[ae],ve++));var Fe=0;for(ae=0;ae<M.SheetNames.length;++ae){var Ie=M.Sheets[M.SheetNames[ae]];if(!(!Ie||!Ie["!ref"])){for(var He=os(Ie["!ref"]),at=Array.isArray(Ie),lt=[],St=Math.min(He.e.r,8191),Nt=He.s.r;Nt<=St;++Nt)for(var it=Uo(Nt),Be=He.s.c;Be<=He.e.c;++Be){Nt===He.s.r&&(lt[Be]=fl(Be));var xt=lt[Be]+it,Dt=at?(Ie[Nt]||[])[Be]:Ie[xt];if(!(!Dt||Dt.t=="z"))if(Dt.t=="n")Ht(J,23,re(Nt,Be,Fe,Dt.v));else{var vt=qd(Dt);Ht(J,22,D(Nt,Be,Fe,vt.slice(0,239)))}}++Fe}}return Ht(J,1),J.end()}function s(M){var G=dt(2);return G.write_shift(2,M),G}function a(M){var G=dt(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var W=0,J=0,ae=0,ve=0;ve<M.SheetNames.length;++ve){var Fe=M.SheetNames[ve],Ie=M.Sheets[Fe];if(!(!Ie||!Ie["!ref"])){++ae;var He=aA(Ie["!ref"]);W<He.e.r&&(W=He.e.r),J<He.e.c&&(J=He.e.c)}}return W>8191&&(W=8191),G.write_shift(2,W),G.write_shift(1,ae),G.write_shift(1,J),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function o(M,G,W){var J={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&W.qpro?(J.s.c=M.read_shift(1),M.l++,J.s.r=M.read_shift(2),J.e.c=M.read_shift(1),M.l++,J.e.r=M.read_shift(2),J):(J.s.c=M.read_shift(2),J.s.r=M.read_shift(2),G==12&&W.qpro&&(M.l+=2),J.e.c=M.read_shift(2),J.e.r=M.read_shift(2),G==12&&W.qpro&&(M.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function l(M){var G=dt(8);return G.write_shift(2,M.s.c),G.write_shift(2,M.s.r),G.write_shift(2,M.e.c),G.write_shift(2,M.e.r),G}function c(M,G,W){var J=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(J[0].c=M.read_shift(1),J[3]=M.read_shift(1),J[0].r=M.read_shift(2),M.l+=2):(J[2]=M.read_shift(1),J[0].c=M.read_shift(2),J[0].r=M.read_shift(2)),J}function u(M,G,W){var J=M.l+G,ae=c(M,G,W);if(ae[1].t="s",W.vers==20768){M.l++;var ve=M.read_shift(1);return ae[1].v=M.read_shift(ve,"utf8"),ae}return W.qpro&&M.l++,ae[1].v=M.read_shift(J-M.l,"cstr"),ae}function f(M,G,W){var J=dt(7+W.length);J.write_shift(1,255),J.write_shift(2,G),J.write_shift(2,M),J.write_shift(1,39);for(var ae=0;ae<J.length;++ae){var ve=W.charCodeAt(ae);J.write_shift(1,ve>=128?95:ve)}return J.write_shift(1,0),J}function p(M,G,W){var J=c(M,G,W);return J[1].v=M.read_shift(2,"i"),J}function g(M,G,W){var J=dt(7);return J.write_shift(1,255),J.write_shift(2,G),J.write_shift(2,M),J.write_shift(2,W,"i"),J}function y(M,G,W){var J=c(M,G,W);return J[1].v=M.read_shift(8,"f"),J}function x(M,G,W){var J=dt(13);return J.write_shift(1,255),J.write_shift(2,G),J.write_shift(2,M),J.write_shift(8,W,"f"),J}function w(M,G,W){var J=M.l+G,ae=c(M,G,W);if(ae[1].v=M.read_shift(8,"f"),W.qpro)M.l=J;else{var ve=M.read_shift(2);k(M.slice(M.l,M.l+ve),ae),M.l+=ve}return ae}function S(M,G,W){var J=G&32768;return G&=-32769,G=(J?M:0)+(G>=8192?G-16384:G),(J?"":"$")+(W?fl(G):Uo(G))}var B={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},F=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function k(M,G){Zc(M,0);for(var W=[],J=0,ae="",ve="",Fe="",Ie="";M.l<M.length;){var He=M[M.l++];switch(He){case 0:W.push(M.read_shift(8,"f"));break;case 1:ve=S(G[0].c,M.read_shift(2),!0),ae=S(G[0].r,M.read_shift(2),!1),W.push(ve+ae);break;case 2:{var at=S(G[0].c,M.read_shift(2),!0),lt=S(G[0].r,M.read_shift(2),!1);ve=S(G[0].c,M.read_shift(2),!0),ae=S(G[0].r,M.read_shift(2),!1),W.push(at+lt+":"+ve+ae)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(M.read_shift(2));break;case 6:{for(var St="";He=M[M.l++];)St+=String.fromCharCode(He);W.push('"'+St.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:Ie=W.pop(),Fe=W.pop(),W.push(["AND","OR"][He-20]+"("+Fe+","+Ie+")");break;default:if(He<32&&F[He])Ie=W.pop(),Fe=W.pop(),W.push(Fe+F[He]+Ie);else if(B[He]){if(J=B[He][1],J==69&&(J=M[M.l++]),J>W.length){console.error("WK1 bad formula parse 0x"+He.toString(16)+":|"+W.join("|")+"|");return}var Nt=W.slice(-J);W.length-=J,W.push(B[He][0]+"("+Nt.join(",")+")")}else return He<=7?console.error("WK1 invalid opcode "+He.toString(16)):He<=24?console.error("WK1 unsupported op "+He.toString(16)):He<=30?console.error("WK1 invalid opcode "+He.toString(16)):He<=115?console.error("WK1 unsupported function opcode "+He.toString(16)):console.error("WK1 unrecognized opcode "+He.toString(16))}}W.length==1?G[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function O(M){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=M.read_shift(2),G[3]=M[M.l++],G[0].c=M[M.l++],G}function R(M,G){var W=O(M);return W[1].t="s",W[1].v=M.read_shift(G-4,"cstr"),W}function D(M,G,W,J){var ae=dt(6+J.length);ae.write_shift(2,M),ae.write_shift(1,W),ae.write_shift(1,G),ae.write_shift(1,39);for(var ve=0;ve<J.length;++ve){var Fe=J.charCodeAt(ve);ae.write_shift(1,Fe>=128?95:Fe)}return ae.write_shift(1,0),ae}function Q(M,G){var W=O(M);W[1].v=M.read_shift(2);var J=W[1].v>>1;if(W[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return W[1].v=J,W}function V(M,G){var W=O(M),J=M.read_shift(4),ae=M.read_shift(4),ve=M.read_shift(2);if(ve==65535)return J===0&&ae===3221225472?(W[1].t="e",W[1].v=15):J===0&&ae===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var Fe=ve&32768;return ve=(ve&32767)-16446,W[1].v=(1-Fe*2)*(ae*Math.pow(2,ve+32)+J*Math.pow(2,ve)),W}function re(M,G,W,J){var ae=dt(14);if(ae.write_shift(2,M),ae.write_shift(1,W),ae.write_shift(1,G),J==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var ve=0,Fe=0,Ie=0,He=0;return J<0&&(ve=1,J=-J),Fe=Math.log2(J)|0,J/=Math.pow(2,Fe-31),He=J>>>0,(He&2147483648)==0&&(J/=2,++Fe,He=J>>>0),J-=He,He|=2147483648,He>>>=0,J*=Math.pow(2,32),Ie=J>>>0,ae.write_shift(4,Ie),ae.write_shift(4,He),Fe+=16383+(ve?32768:0),ae.write_shift(2,Fe),ae}function P(M,G){var W=V(M);return M.l+=G-14,W}function H(M,G){var W=O(M),J=M.read_shift(4);return W[1].v=J>>6,W}function q(M,G){var W=O(M),J=M.read_shift(8,"f");return W[1].v=J,W}function Z(M,G){var W=q(M);return M.l+=G-10,W}function se(M,G){return M[M.l+G-1]==0?M.read_shift(G,"cstr"):""}function X(M,G){var W=M[M.l++];W>G-1&&(W=G-1);for(var J="";J.length<W;)J+=String.fromCharCode(M[M.l++]);return J}function ee(M,G,W){if(!(!W.qpro||G<21)){var J=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var ae=M.read_shift(G-21,"cstr");return[J,ae]}}function te(M,G){for(var W={},J=M.l+G;M.l<J;){var ae=M.read_shift(2);if(ae==14e3){for(W[ae]=[0,""],W[ae][0]=M.read_shift(2);M[M.l];)W[ae][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return W}function Ce(M,G){var W=dt(5+M.length);W.write_shift(2,14e3),W.write_shift(2,G);for(var J=0;J<M.length;++J){var ae=M.charCodeAt(J);W[W.l++]=ae>127?95:ae}return W[W.l++]=0,W}var ke={0:{n:"BOF",f:TX},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:se},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},le={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:V},24:{n:"NUMBER18",f:Q},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:te},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:H},38:{n:"??"},39:{n:"NUMBER27",f:q},40:{n:"FORMULA28",f:Z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:se},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ee},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})(),t3e=/^\s|\s$|[\t\n\r]/;function RX(t,e){if(!e.bookSST)return"";var r=[ba];r[r.length]=Ot("sst",null,{xmlns:Wx[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(t3e)&&(s+=' xml:space="preserve"'),s+=">"+Ei(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function r3e(t){return[t.read_shift(4),t.read_shift(4)]}function n3e(t,e){return e||(e=dt(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var i3e=KTe;function s3e(t){var e=Ec();Tt(e,159,n3e(t));for(var r=0;r<t.length;++r)Tt(e,19,i3e(t[r]));return Tt(e,160),e.end()}function a3e(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function MX(t){var e=0,r,n=a3e(t),i=n.length+1,s,a,o,l,c;for(r=km(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=(e&16384)===0?0:1,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var o3e=(function(){function t(i,s){switch(s.type){case"base64":return e($d(i),s);case"binary":return e(i,s);case"buffer":return e(oi&&Buffer.isBuffer(i)?i.toString("binary"):IC(i),s);case"array":return e(VT(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var p=/\\\w+\b/g,g=0,y,x=-1;y=p.exec(u);){switch(y[0]){case"\\cell":var w=u.slice(g,p.lastIndex-y[0].length);if(w[0]==" "&&(w=w.slice(1)),++x,w.length){var S={v:w,t:"s"};Array.isArray(o)?o[f][x]=S:o[Bi({r:f,c:x})]=S}break}g=p.lastIndex}x>c.e.c&&(c.e.c=x)}),o["!ref"]=va(c),o}function r(i,s){return zm(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=os(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var f=Bi({r:c,c:u});o=l?(i[c]||[])[u]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(qd(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function FH(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var l3e=6,Dd=l3e;function YE(t){return Math.floor((t+Math.round(128/Dd)/256)*Dd)}function XE(t){return Math.floor((t-5)/Dd*100+.5)/100}function Vk(t){return Math.round((t*Dd+5)/Dd*256)/256}function sM(t){t.width?(t.wpx=YE(t.width),t.wch=XE(t.wpx),t.MDW=Dd):t.wpx?(t.wch=XE(t.wpx),t.width=Vk(t.wch),t.MDW=Dd):typeof t.wch=="number"&&(t.width=Vk(t.wch),t.wpx=YE(t.width),t.MDW=Dd),t.customWidth&&delete t.customWidth}var c3e=96,UX=c3e;function JE(t){return t*96/UX}function DX(t){return t*UX/96}function A3e(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=Ot("numFmt",null,{numFmtId:n,formatCode:Ei(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Ot("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function u3e(t){var e=[];return e[e.length]=Ot("cellXfs",null),t.forEach(function(r){e[e.length]=Ot("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Ot("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function OX(t,e){var r=[ba,Ot("styleSheet",null,{xmlns:Wx[0],"xmlns:vt":ao.vt})],n;return t.SSF&&(n=A3e(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=u3e(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function h3e(t,e){var r=t.read_shift(2),n=dl(t);return[r,n]}function f3e(t,e,r){r||(r=dt(6+4*e.length)),r.write_shift(2,t),lo(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function d3e(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=t4e(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=e4e(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=dl(t),n}function p3e(t,e){e||(e=dt(153)),e.write_shift(2,t.sz*20),r4e(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),KE(t.color,e);var n=0;return n=2,e.write_shift(1,n),lo(t.name,e),e.length>e.l?e.slice(0,e.l):e}var g3e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],bN,m3e=mf;function IH(t,e){e||(e=dt(84)),bN||(bN=zR(g3e));var r=bN[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(KE({auto:1},e),KE({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function y3e(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function PX(t,e,r){r||(r=dt(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function t2(t,e){return e||(e=dt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var x3e=mf;function v3e(t,e){return e||(e=dt(51)),e.write_shift(1,0),t2(null,e),t2(null,e),t2(null,e),t2(null,e),t2(null,e),e.length>e.l?e.slice(0,e.l):e}function w3e(t,e){return e||(e=dt(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),zE(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function b3e(t,e,r){var n=dt(2052);return n.write_shift(4,t),zE(e,n),zE(r,n),n.length>n.l?n.slice(0,n.l):n}function C3e(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(Tt(t,615,Ju(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Tt(t,44,f3e(i,e[i]))}),Tt(t,616))}}function S3e(t){var e=1;Tt(t,611,Ju(e)),Tt(t,43,p3e({sz:12,color:{theme:1},name:"Calibri",family:2})),Tt(t,612)}function _3e(t){var e=2;Tt(t,603,Ju(e)),Tt(t,45,IH({patternType:"none"})),Tt(t,45,IH({patternType:"gray125"})),Tt(t,604)}function E3e(t){var e=1;Tt(t,613,Ju(e)),Tt(t,46,v3e()),Tt(t,614)}function B3e(t){var e=1;Tt(t,626,Ju(e)),Tt(t,47,PX({numFmtId:0},65535)),Tt(t,627)}function T3e(t,e){Tt(t,617,Ju(e.length)),e.forEach(function(r){Tt(t,47,PX(r,0))}),Tt(t,618)}function N3e(t){var e=1;Tt(t,619,Ju(e)),Tt(t,48,w3e({xfId:0,name:"Normal"})),Tt(t,620)}function F3e(t){var e=0;Tt(t,505,Ju(e)),Tt(t,506)}function I3e(t){var e=0;Tt(t,508,b3e(e,"TableStyleMedium9","PivotStyleMedium4")),Tt(t,509)}function k3e(t,e){var r=Ec();return Tt(r,278),C3e(r,t.SSF),S3e(r),_3e(r),E3e(r),B3e(r),T3e(r,e.cellXfs),N3e(r),F3e(r),I3e(r),Tt(r,279),r.end()}function HX(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[ba];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function L3e(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:dl(t)}}function R3e(t){var e=dt(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),lo(t.name,e),e.slice(0,e.l)}function M3e(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function U3e(t){var e=dt(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function D3e(t,e){var r=dt(8+2*e.length);return r.write_shift(4,t),lo(e,r),r.slice(0,r.l)}function O3e(t){return t.l+=4,t.read_shift(4)!=0}function P3e(t,e){var r=dt(8);return r.write_shift(4,t),r.write_shift(4,1),r}function H3e(){var t=Ec();return Tt(t,332),Tt(t,334,Ju(1)),Tt(t,335,R3e({name:"XLDAPR",version:12e4,flags:3496657072})),Tt(t,336),Tt(t,339,D3e(1,"XLDAPR")),Tt(t,52),Tt(t,35,Ju(514)),Tt(t,4096,Ju(0)),Tt(t,4097,PA(1)),Tt(t,36),Tt(t,53),Tt(t,340),Tt(t,337,P3e(1)),Tt(t,51,U3e([[1,0]])),Tt(t,338),Tt(t,333),t.end()}function QX(){var t=[ba];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Q3e(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Bi(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var ry=1024;function jX(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[Ot("xml",null,{"xmlns:v":eA.v,"xmlns:o":eA.o,"xmlns:x":eA.x,"xmlns:mv":eA.mv}).replace(/\/>/,">"),Ot("o:shapelayout",Ot("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Ot("v:shapetype",[Ot("v:stroke",null,{joinstyle:"miter"}),Ot("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];ry<t*1e3;)ry+=1e3;return e.forEach(function(s){var a=oo(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?Ot("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=Ot("v:fill",l,o),u={on:"t",obscured:"t"};++ry,i=i.concat(["<v:shape"+Iw({id:"_x0000_s"+ry,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,Ot("v:shadow",null,u),Ot("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ro("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),Ro("x:AutoFill","False"),Ro("x:Row",String(a.r)),Ro("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function GX(t){var e=[ba,Ot("comments",null,{xmlns:Wx[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=Ei(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(Ei(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(Ro("t",Ei(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(Ro("t",Ei(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function j3e(t,e,r){var n=[ba,Ot("ThreadedComments",null,{xmlns:ao.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(Ot("threadedComment",Ro("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function G3e(t){var e=[ba,Ot("personList",null,{xmlns:ao.TCMNT,"xmlns:x":Wx[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(Ot("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function V3e(t){var e={};e.iauthor=t.read_shift(4);var r=Xm(t);return e.rfx=r.s,e.ref=Bi(r.s),t.l+=16,e}function $3e(t,e){return e==null&&(e=dt(36)),e.write_shift(4,t[1].iauthor),Xx(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var q3e=dl;function z3e(t){return lo(t.slice(0,54))}function K3e(t){var e=Ec(),r=[];return Tt(e,628),Tt(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Tt(e,632,z3e(i.a)))})}),Tt(e,631),Tt(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:oo(n[0]),e:oo(n[0])};Tt(e,635,$3e([s,i])),i.t&&i.t.length>0&&Tt(e,637,YTe(i)),Tt(e,636),delete i.iauthor})}),Tt(e,634),Tt(e,629),e.end()}function W3e(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Mi.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var VX=["xlsb","xlsm","xlam","biff8","xla"],Y3e=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,i+(o?"":"$")+fl(u)+(l?"":"$")+Uo(c)}return function(i,s){return e=s,i.replace(t,r)}})(),aM=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,oM=(function(){return function(e,r){return e.replace(aM,function(n,i,s,a,o,l){var c=eM(a)-(s?0:r.c),u=ZR(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",p=c==0?"":s?c+1:"["+c+"]";return i+"R"+f+"C"+p})}})();function X3e(t,e){return t.replace(aM,function(r,n,i,s,a,o){return n+(i=="$"?i+s:fl(eM(s)+e.c))+(a=="$"?a+o:Uo(ZR(o)+e.r))})}function J3e(t){return t.length!=1}function ma(t){t.l+=1}function Fp(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function $X(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return qX(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=Fp(t),o=Fp(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function qX(t){var e=Fp(t),r=Fp(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function Z3e(t,e,r){if(r.biff<8)return qX(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=Fp(t),a=Fp(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function zX(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return eNe(t);var n=t.read_shift(r&&r.biff==12?4:2),i=Fp(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function eNe(t){var e=Fp(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function tNe(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function rNe(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return nNe(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function nNe(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function iNe(t,e,r){var n=(t[t.l++]&96)>>5,i=$X(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function sNe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=$X(t,s,r);return[n,i,a]}function aNe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function oNe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function lNe(t,e,r){var n=(t[t.l++]&96)>>5,i=Z3e(t,e-1,r);return[n,i]}function cNe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function kH(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function ANe(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function uNe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function hNe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function fNe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function dNe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function KX(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function pNe(t){return t.read_shift(2),KX(t)}function gNe(t){return t.read_shift(2),KX(t)}function mNe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=zX(t,0,r);return[n,i]}function yNe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=rNe(t,0,r);return[n,i]}function xNe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=zX(t,0,r);return[n,i,s]}function vNe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[vFe[i],XX[i],n]}function wNe(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:bNe(t);return[i,(s[0]===0?XX:xFe)[s[1]]]}function bNe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function CNe(t,e,r){t.l+=r&&r.biff==2?3:4}function SNe(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function _Ne(t){return t.l++,RC[t.read_shift(1)]}function ENe(t){return t.l++,t.read_shift(2)}function BNe(t){return t.l++,t.read_shift(1)!==0}function TNe(t){return t.l++,Jx(t)}function NNe(t,e,r){return t.l++,FX(t,e-1,r)}function FNe(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=x4e(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=RC[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Jx(t);break;case 2:r[1]=C4e(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function INe(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?Xm:E4e)(t));return i}function kNe(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=FNe(t,r.biff);return a}function LNe(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function RNe(t,e,r){if(r.biff==5)return MNe(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function MNe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function UNe(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function DNe(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function ONe(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function PNe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var HNe=mf,QNe=mf,jNe=mf;function MC(t,e,r){return t.l+=2,[tNe(t)]}function lM(t){return t.l+=6,[]}var GNe=MC,VNe=lM,$Ne=lM,qNe=MC;function WX(t){return t.l+=2,[TX(t),t.read_shift(2)&1]}var zNe=MC,KNe=WX,WNe=lM,YNe=MC,XNe=MC,JNe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function ZNe(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=JNe[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function eFe(t){return t.l+=2,[t.read_shift(4)]}function tFe(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function rFe(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function nFe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function iFe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function sFe(t){return t.l+=4,[0,0]}var LH={1:{n:"PtgExp",f:SNe},2:{n:"PtgTbl",f:jNe},3:{n:"PtgAdd",f:ma},4:{n:"PtgSub",f:ma},5:{n:"PtgMul",f:ma},6:{n:"PtgDiv",f:ma},7:{n:"PtgPower",f:ma},8:{n:"PtgConcat",f:ma},9:{n:"PtgLt",f:ma},10:{n:"PtgLe",f:ma},11:{n:"PtgEq",f:ma},12:{n:"PtgGe",f:ma},13:{n:"PtgGt",f:ma},14:{n:"PtgNe",f:ma},15:{n:"PtgIsect",f:ma},16:{n:"PtgUnion",f:ma},17:{n:"PtgRange",f:ma},18:{n:"PtgUplus",f:ma},19:{n:"PtgUminus",f:ma},20:{n:"PtgPercent",f:ma},21:{n:"PtgParen",f:ma},22:{n:"PtgMissArg",f:ma},23:{n:"PtgStr",f:NNe},26:{n:"PtgSheet",f:tFe},27:{n:"PtgEndSheet",f:rFe},28:{n:"PtgErr",f:_Ne},29:{n:"PtgBool",f:BNe},30:{n:"PtgInt",f:ENe},31:{n:"PtgNum",f:TNe},32:{n:"PtgArray",f:cNe},33:{n:"PtgFunc",f:vNe},34:{n:"PtgFuncVar",f:wNe},35:{n:"PtgName",f:LNe},36:{n:"PtgRef",f:mNe},37:{n:"PtgArea",f:iNe},38:{n:"PtgMemArea",f:UNe},39:{n:"PtgMemErr",f:HNe},40:{n:"PtgMemNoMem",f:QNe},41:{n:"PtgMemFunc",f:DNe},42:{n:"PtgRefErr",f:ONe},43:{n:"PtgAreaErr",f:aNe},44:{n:"PtgRefN",f:yNe},45:{n:"PtgAreaN",f:lNe},46:{n:"PtgMemAreaN",f:nFe},47:{n:"PtgMemNoMemN",f:iFe},57:{n:"PtgNameX",f:RNe},58:{n:"PtgRef3d",f:xNe},59:{n:"PtgArea3d",f:sNe},60:{n:"PtgRefErr3d",f:PNe},61:{n:"PtgAreaErr3d",f:oNe},255:{}},aFe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},oFe={1:{n:"PtgElfLel",f:WX},2:{n:"PtgElfRw",f:YNe},3:{n:"PtgElfCol",f:GNe},6:{n:"PtgElfRwV",f:XNe},7:{n:"PtgElfColV",f:qNe},10:{n:"PtgElfRadical",f:zNe},11:{n:"PtgElfRadicalS",f:WNe},13:{n:"PtgElfColS",f:VNe},15:{n:"PtgElfColSV",f:$Ne},16:{n:"PtgElfRadicalLel",f:KNe},25:{n:"PtgList",f:ZNe},29:{n:"PtgSxName",f:eFe},255:{}},lFe={0:{n:"PtgAttrNoop",f:sFe},1:{n:"PtgAttrSemi",f:dNe},2:{n:"PtgAttrIf",f:hNe},4:{n:"PtgAttrChoose",f:ANe},8:{n:"PtgAttrGoto",f:uNe},16:{n:"PtgAttrSum",f:CNe},32:{n:"PtgAttrBaxcel",f:kH},33:{n:"PtgAttrBaxcel",f:kH},64:{n:"PtgAttrSpace",f:pNe},65:{n:"PtgAttrSpaceSemi",f:gNe},128:{n:"PtgAttrIfError",f:fNe},255:{}};function cFe(t,e,r,n){if(n.biff<8)return mf(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=kNe(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=INe(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(mf(t,e)),s}function AFe(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=LH[s]||LH[aFe[s]],(s===24||s===25)&&(i=(s===24?oFe:lFe)[t[t.l+1]]),!i||!i.f?mf(t,e):a.push([i.n,i.f(t,e,r)]);return a}function uFe(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var hFe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function fFe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function YX(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function RH(t,e,r){var n=YX(t,e,r);return n=="#REF"?n:fFe(n,r)}function Dx(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,c,u,f=0,p=0,g,y="";if(!t[0]||!t[0][0])return"";for(var x=-1,w="",S=0,B=t[0].length;S<B;++S){var F=t[0][S];switch(F[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),x>=0){switch(t[0][x][1][0]){case 0:w=Gs(" ",t[0][x][1][1]);break;case 1:w=Gs("\r",t[0][x][1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][x][1][0])}c=c+w,x=-1}o.push(c+hFe[F[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=rw(F[1][1],a,i),o.push(nw(u,s));break;case"PtgRefN":u=r?rw(F[1][1],r,i):F[1][1],o.push(nw(u,s));break;case"PtgRef3d":f=F[1][1],u=rw(F[1][2],a,i),y=RH(n,f,i),o.push(y+"!"+nw(u,s));break;case"PtgFunc":case"PtgFuncVar":var k=F[1][0],O=F[1][1];k||(k=0),k&=127;var R=k==0?[]:o.slice(-k);o.length-=k,O==="User"&&(O=R.shift()),o.push(O+"("+R.join(",")+")");break;case"PtgBool":o.push(F[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(F[1]);break;case"PtgNum":o.push(String(F[1]));break;case"PtgStr":o.push('"'+F[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(F[1]);break;case"PtgAreaN":g=yH(F[1][1],r?{s:r}:a,i),o.push(vN(g,i));break;case"PtgArea":g=yH(F[1][1],a,i),o.push(vN(g,i));break;case"PtgArea3d":f=F[1][1],g=F[1][2],y=RH(n,f,i),o.push(y+"!"+vN(g,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=F[1][2];var D=(n.names||[])[p-1]||(n[0]||[])[p],Q=D?D.Name:"SH33TJSNAME"+String(p);Q&&Q.slice(0,6)=="_xlfn."&&!i.xlfn&&(Q=Q.slice(6)),o.push(Q);break;case"PtgNameX":var V=F[1][1];p=F[1][2];var re;if(i.biff<=5)V<0&&(V=-V),n[V]&&(re=n[V][p]);else{var P="";if(((n[V]||[])[0]||[])[0]==14849||(((n[V]||[])[0]||[])[0]==1025?n[V][p]&&n[V][p].itab>0&&(P=n.SheetNames[n[V][p].itab-1]+"!"):P=n.SheetNames[p-1]+"!"),n[V]&&n[V][p])P+=n[V][p].Name;else if(n[0]&&n[0][p])P+=n[0][p].Name;else{var H=(YX(n,V,i)||"").split(";;");H[p-1]?P=H[p-1]:P+="SH33TJSERRX"}o.push(P);break}re||(re={Name:"SH33TJSERRY"}),o.push(re.Name);break;case"PtgParen":var q="(",Z=")";if(x>=0){switch(w="",t[0][x][1][0]){case 2:q=Gs(" ",t[0][x][1][1])+q;break;case 3:q=Gs("\r",t[0][x][1][1])+q;break;case 4:Z=Gs(" ",t[0][x][1][1])+Z;break;case 5:Z=Gs("\r",t[0][x][1][1])+Z;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][x][1][0])}x=-1}o.push(q+o.pop()+Z);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:F[1][1],r:F[1][0]};var se={c:r.c,r:r.r};if(n.sharedf[Bi(u)]){var X=n.sharedf[Bi(u)];o.push(Dx(X,a,se,n,i))}else{var ee=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Dx(c[1],a,se,n,i)),ee=!0;break}ee||o.push(F[1])}break;case"PtgArray":o.push("{"+uFe(F[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+F[1].idx+"[#"+F[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(F));default:throw new Error("Unrecognized Formula Token: "+String(F))}var te=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&x>=0&&te.indexOf(t[0][S][0])==-1){F=t[0][x];var Ce=!0;switch(F[1][0]){case 4:Ce=!1;case 0:w=Gs(" ",F[1][1]);break;case 5:Ce=!1;case 1:w=Gs("\r",F[1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+F[1][0])}o.push((Ce?w:"")+o.pop()+(Ce?"":w)),x=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function dFe(t){if(t==null){var e=dt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Lm(t);return Lm(0)}function pFe(t,e,r,n,i){var s=Rm(e,r,i),a=dFe(t.v),o=dt(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=dt(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var f=Lo([s,a,o,c]);return f}function $T(t,e,r){var n=t.read_shift(4),i=AFe(t,n,r),s=t.read_shift(4),a=s>0?cFe(t,s,i,r):null;return[i,a]}var gFe=$T,qT=$T,mFe=$T,yFe=$T,xFe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},XX={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},vFe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function wFe(t){var e="of:="+t.replace(aM,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function bFe(t){return t.replace(/\./,"!")}var iw=typeof Map<"u";function cM(t,e,r){var n=0,i=t.length;if(r){if(iw?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=iw?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(iw?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function zT(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Dd=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=XE(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=Vk(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function JX(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Qp(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){zY(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function CFe(t,e,r){if(t&&t["!ref"]){var n=os(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function SFe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+va(t[r])+'"/>';return e+"</mergeCells>"}function _Fe(t,e,r,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,a.codeName=Fw(Ei(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+Ot("outlinePr",null,c)}!s&&!o||(i[i.length]=Ot("sheetPr",o,a))}var EFe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],BFe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function TFe(t){var e={sheet:1};return EFe.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),BFe.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=MX(t.password).toString(16).toUpperCase()),Ot("sheetProtection",null,e)}function NFe(t){return JX(t),Ot("pageMargins",null,t)}function FFe(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=Ot("col",null,zT(i,n)));return r[r.length]="</cols>",r.join("")}function IFe(t,e,r,n){var i=typeof t.ref=="string"?t.ref:va(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=aA(i);a.s.r==a.e.r&&(a.e.r=aA(e["!ref"]).e.r,i=va(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Ot("autoFilter",null,{ref:i})}function kFe(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ot("sheetViews",Ot("sheetView",null,i),{})}function LFe(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=RC[t.v];break;case"d":n&&n.cellDates?i=Vl(t.v,-1).toISOString():(t=Tc(t),t.t="n",i=""+(t.v=Bc(Vl(t.v)))),typeof t.z>"u"&&(t.z=Vs[14]);break;default:i=t.v;break}var o=Ro("v",Ei(i)),l={r:e},c=Qp(n.cellXfs,t,n);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Ro("v",""+cM(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=Ot("f",Ei(t.f),u)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),Ot("c",o,l)}function RFe(t,e,r,n){var i=[],s=[],a=os(t["!ref"]),o="",l,c="",u=[],f=0,p=0,g=t["!rows"],y=Array.isArray(t),x={r:c},w,S=-1;for(p=a.s.c;p<=a.e.c;++p)u[p]=fl(p);for(f=a.s.r;f<=a.e.r;++f){for(s=[],c=Uo(f),p=a.s.c;p<=a.e.c;++p){l=u[p]+c;var B=y?(t[f]||[])[p]:t[l];B!==void 0&&(o=LFe(B,l,t,e))!=null&&s.push(o)}(s.length>0||g&&g[f])&&(x={r:c},g&&g[f]&&(w=g[f],w.hidden&&(x.hidden=1),S=-1,w.hpx?S=JE(w.hpx):w.hpt&&(S=w.hpt),S>-1&&(x.ht=S,x.customHeight=1),w.level&&(x.outlineLevel=w.level)),i[i.length]=Ot("row",s.join(""),x))}if(g)for(;f<g.length;++f)g&&g[f]&&(x={r:f+1},w=g[f],w.hidden&&(x.hidden=1),S=-1,w.hpx?S=JE(w.hpx):w.hpt&&(S=w.hpt),S>-1&&(x.ht=S,x.customHeight=1),w.level&&(x.outlineLevel=w.level),i[i.length]=Ot("row","",x));return i.join("")}function ZX(t,e,r,n){var i=[ba,Ot("worksheet",null,{xmlns:Wx[0],"xmlns:r":ao.r})],s=r.SheetNames[t],a=0,o="",l=r.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",u=os(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=va(u)}n||(n={}),l["!comments"]=[];var f=[];_Fe(l,r,t,e,i),i[i.length]=Ot("dimension",null,{ref:c}),i[i.length]=kFe(l,e,t,r),e.sheetFormat&&(i[i.length]=Ot("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=FFe(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=RFe(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=TFe(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=IFe(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=SFe(l["!merges"]));var p=-1,g,y=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(x){x[1].Target&&(g={ref:x[0]},x[1].Target.charAt(0)!="#"&&(y=Ci(n,-1,Ei(x[1].Target).replace(/#.*$/,""),Zn.HLINK),g["r:id"]="rId"+y),(p=x[1].Target.indexOf("#"))>-1&&(g.location=Ei(x[1].Target.slice(p+1))),x[1].Tooltip&&(g.tooltip=Ei(x[1].Tooltip)),i[i.length]=Ot("hyperlink",null,g))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=NFe(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Ro("ignoredErrors",Ot("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(y=Ci(n,-1,"../drawings/drawing"+(t+1)+".xml",Zn.DRAW),i[i.length]=Ot("drawing",null,{"r:id":"rId"+y}),l["!drawing"]=f),l["!comments"].length>0&&(y=Ci(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Zn.VML),i[i.length]=Ot("legacyDrawing",null,{"r:id":"rId"+y}),l["!legacy"]=y),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function MFe(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function UFe(t,e,r){var n=dt(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=JE(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var f=-1,p=-1,g=u<<10;g<u+1<<10;++g){c.c=g;var y=Array.isArray(r)?(r[c.r]||[])[c.c]:r[Bi(c)];y&&(f<0&&(f=g),p=g)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,p))}var x=n.l;return n.l=l,n.write_shift(4,o),n.l=x,n.length>n.l?n.slice(0,n.l):n}function DFe(t,e,r,n){var i=UFe(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&Tt(t,0,i)}var OFe=Xm,PFe=Xx;function HFe(){}function QFe(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=XTe(t),r}function jFe(t,e,r){r==null&&(r=dt(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return KE({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),dX(t,r),r.slice(0,r.l)}function GFe(t){var e=YA(t);return[e]}function VFe(t,e,r){return r==null&&(r=dt(8)),Km(e,r)}function $Fe(t){var e=Wm(t);return[e]}function qFe(t,e,r){return r==null&&(r=dt(4)),Ym(e,r)}function zFe(t){var e=YA(t),r=t.read_shift(1);return[e,r,"b"]}function KFe(t,e,r){return r==null&&(r=dt(9)),Km(e,r),r.write_shift(1,t.v?1:0),r}function WFe(t){var e=Wm(t),r=t.read_shift(1);return[e,r,"b"]}function YFe(t,e,r){return r==null&&(r=dt(5)),Ym(e,r),r.write_shift(1,t.v?1:0),r}function XFe(t){var e=YA(t),r=t.read_shift(1);return[e,r,"e"]}function JFe(t,e,r){return r==null&&(r=dt(9)),Km(e,r),r.write_shift(1,t.v),r}function ZFe(t){var e=Wm(t),r=t.read_shift(1);return[e,r,"e"]}function eIe(t,e,r){return r==null&&(r=dt(8)),Ym(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function tIe(t){var e=YA(t),r=t.read_shift(4);return[e,r,"s"]}function rIe(t,e,r){return r==null&&(r=dt(12)),Km(e,r),r.write_shift(4,e.v),r}function nIe(t){var e=Wm(t),r=t.read_shift(4);return[e,r,"s"]}function iIe(t,e,r){return r==null&&(r=dt(8)),Ym(e,r),r.write_shift(4,e.v),r}function sIe(t){var e=YA(t),r=Jx(t);return[e,r,"n"]}function aIe(t,e,r){return r==null&&(r=dt(16)),Km(e,r),Lm(t.v,r),r}function oIe(t){var e=Wm(t),r=Jx(t);return[e,r,"n"]}function lIe(t,e,r){return r==null&&(r=dt(12)),Ym(e,r),Lm(t.v,r),r}function cIe(t){var e=YA(t),r=pX(t);return[e,r,"n"]}function AIe(t,e,r){return r==null&&(r=dt(12)),Km(e,r),gX(t.v,r),r}function uIe(t){var e=Wm(t),r=pX(t);return[e,r,"n"]}function hIe(t,e,r){return r==null&&(r=dt(8)),Ym(e,r),gX(t.v,r),r}function fIe(t){var e=YA(t),r=tM(t);return[e,r,"is"]}function dIe(t){var e=YA(t),r=dl(t);return[e,r,"str"]}function pIe(t,e,r){return r==null&&(r=dt(12+4*t.v.length)),Km(e,r),lo(t.v,r),r.length>r.l?r.slice(0,r.l):r}function gIe(t){var e=Wm(t),r=dl(t);return[e,r,"str"]}function mIe(t,e,r){return r==null&&(r=dt(8+4*t.v.length)),Ym(e,r),lo(t.v,r),r.length>r.l?r.slice(0,r.l):r}function yIe(t,e,r){var n=t.l+e,i=YA(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=qT(t,n-t.l,r);a[3]=Dx(o,null,i,r.supbooks,r)}else t.l=n;return a}function xIe(t,e,r){var n=t.l+e,i=YA(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=qT(t,n-t.l,r);a[3]=Dx(o,null,i,r.supbooks,r)}else t.l=n;return a}function vIe(t,e,r){var n=t.l+e,i=YA(t);i.r=r["!row"];var s=Jx(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=qT(t,n-t.l,r);a[3]=Dx(o,null,i,r.supbooks,r)}else t.l=n;return a}function wIe(t,e,r){var n=t.l+e,i=YA(t);i.r=r["!row"];var s=dl(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=qT(t,n-t.l,r);a[3]=Dx(o,null,i,r.supbooks,r)}else t.l=n;return a}var bIe=Xm,CIe=Xx;function SIe(t,e){return e==null&&(e=dt(4)),e.write_shift(4,t),e}function _Ie(t,e){var r=t.l+e,n=Xm(t),i=rM(t),s=dl(t),a=dl(t),o=dl(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function EIe(t,e){var r=dt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Xx({s:oo(t[0]),e:oo(t[0])},r),nM("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return lo(i||"",r),lo(t[1].Tooltip||"",r),lo("",r),r.slice(0,r.l)}function BIe(){}function TIe(t,e,r){var n=t.l+e,i=mX(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=gFe(t,n-t.l,r);a[1]=o}else t.l=n;return a}function NIe(t,e,r){var n=t.l+e,i=Xm(t),s=[i];if(r.cellFormula){var a=yFe(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}function FIe(t,e,r){r==null&&(r=dt(18));var n=zT(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var eJ=["left","right","top","bottom","header","footer"];function IIe(t){var e={};return eJ.forEach(function(r){e[r]=Jx(t)}),e}function kIe(t,e){return e==null&&(e=dt(48)),JX(t),eJ.forEach(function(r){Lm(t[r],e)}),e}function LIe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function RIe(t,e,r){r==null&&(r=dt(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function MIe(t){var e=dt(24);return e.write_shift(4,4),e.write_shift(4,1),Xx(t,e),e}function UIe(t,e){return e==null&&(e=dt(66)),e.write_shift(2,t.password?MX(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function DIe(){}function OIe(){}function PIe(t,e,r,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Tc(e),e.z=e.z||Vs[14],e.v=Bc(Vl(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=Qp(i.cellXfs,e,i),e.l&&s["!links"].push([Bi(l),e.l]),e.c&&s["!comments"].push([Bi(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=cM(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?Tt(t,18,iIe(e,l)):Tt(t,7,rIe(e,l))):(l.t="str",a?Tt(t,17,mIe(e,l)):Tt(t,6,pIe(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?Tt(t,13,hIe(e,l)):Tt(t,2,AIe(e,l)):a?Tt(t,16,lIe(e,l)):Tt(t,5,aIe(e,l)),!0;case"b":return l.t="b",a?Tt(t,15,YFe(e,l)):Tt(t,4,KFe(e,l)),!0;case"e":return l.t="e",a?Tt(t,14,eIe(e,l)):Tt(t,3,JFe(e,l)),!0}return a?Tt(t,12,qFe(e,l)):Tt(t,1,VFe(e,l)),!0}function HIe(t,e,r,n){var i=os(e["!ref"]||"A1"),s,a="",o=[];Tt(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=c;++u){a=Uo(u),DFe(t,e,i,u);var f=!1;if(u<=i.e.r)for(var p=i.s.c;p<=i.e.c;++p){u===i.s.r&&(o[p]=fl(p)),s=o[p]+a;var g=l?(e[u]||[])[p]:e[s];if(!g){f=!1;continue}f=PIe(t,g,u,p,n,e,f)}}Tt(t,146)}function QIe(t,e){!e||!e["!merges"]||(Tt(t,177,SIe(e["!merges"].length)),e["!merges"].forEach(function(r){Tt(t,176,CIe(r))}),Tt(t,178))}function jIe(t,e){!e||!e["!cols"]||(Tt(t,390),e["!cols"].forEach(function(r,n){r&&Tt(t,60,FIe(n,r))}),Tt(t,391))}function GIe(t,e){!e||!e["!ref"]||(Tt(t,648),Tt(t,649,MIe(os(e["!ref"]))),Tt(t,650))}function VIe(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=Ci(r,-1,n[1].Target.replace(/#.*$/,""),Zn.HLINK);Tt(t,494,EIe(n,i))}}),delete e["!links"]}function $Ie(t,e,r,n){if(e["!comments"].length>0){var i=Ci(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Zn.VML);Tt(t,551,nM("rId"+i)),e["!legacy"]=i}}function qIe(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:va(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=aA(s);o.s.r==o.e.r&&(o.e.r=aA(e["!ref"]).e.r,s=va(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Tt(t,161,Xx(os(s))),Tt(t,162)}}function zIe(t,e,r){Tt(t,133),Tt(t,137,RIe(e,r)),Tt(t,138),Tt(t,134)}function KIe(t,e){e["!protect"]&&Tt(t,535,UIe(e["!protect"]))}function WIe(t,e,r,n){var i=Ec(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=os(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],Tt(i,129),(r.vbaraw||a["!outline"])&&Tt(i,147,jFe(o,a["!outline"])),Tt(i,148,PFe(l)),zIe(i,a,r.Workbook),jIe(i,a),HIe(i,a,t,e),KIe(i,a),qIe(i,a,r,t),QIe(i,a),VIe(i,a,n),a["!margins"]&&Tt(i,476,kIe(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&GIe(i,a),$Ie(i,a,t,n),Tt(i,130),i.end()}function YIe(t,e){t.l+=10;var r=dl(t);return{name:r}}var XIe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function JIe(t){return!t.Workbook||!t.Workbook.WBProps?"false":NTe(t.Workbook.WBProps.date1904)?"true":"false"}var ZIe="][*?/\\".split("");function tJ(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return ZIe.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function eke(t,e,r){t.forEach(function(n,i){tJ(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function tke(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];eke(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)CFe(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function rJ(t){var e=[ba];e[e.length]=Ot("workbook",null,{xmlns:Wx[0],"xmlns:r":ao.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(XIe.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Ot("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:Ei(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=Ot("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=Ot("definedName",Ei(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function rke(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Gk(t),r.name=dl(t),r}function nke(t,e){return e||(e=dt(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),nM(t.strRelID,e),lo(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function ike(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?dl(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function ske(t,e){e||(e=dt(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),dX(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function ake(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=JTe(t),a=mFe(t,0,r),o=rM(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function oke(t,e){Tt(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Tt(t,156,nke(i))}Tt(t,144)}function lke(t,e){e||(e=dt(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return lo("SheetJS",e),lo(HE.version,e),lo(HE.version,e),lo("7262",e),e.length>e.l?e.slice(0,e.l):e}function cke(t,e){e||(e=dt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function Ake(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(Tt(t,135),Tt(t,158,cke(i)),Tt(t,136))}}function uke(t,e){var r=Ec();return Tt(r,131),Tt(r,128,lke()),Tt(r,153,ske(t.Workbook&&t.Workbook.WBProps||null)),Ake(r,t),oke(r,t),Tt(r,132),r.end()}function hke(t,e,r){return(e.slice(-4)===".bin"?uke:rJ)(t)}function fke(t,e,r,n,i){return(e.slice(-4)===".bin"?WIe:ZX)(t,r,n,i)}function dke(t,e,r){return(e.slice(-4)===".bin"?k3e:OX)(t,r)}function pke(t,e,r){return(e.slice(-4)===".bin"?s3e:RX)(t,r)}function gke(t,e,r){return(e.slice(-4)===".bin"?K3e:GX)(t)}function mke(t){return(t.slice(-4)===".bin"?H3e:QX)()}function yke(t,e){var r=[];return t.Props&&r.push(d4e(t.Props,e)),t.Custprops&&r.push(p4e(t.Props,t.Custprops)),r.join("")}function xke(){return""}function vke(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(Ot("NumberFormat",null,{"ss:Format":Ei(Vs[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(Ot("Style",s.join(""),a))}),Ot("Styles",r.join(""))}function nJ(t){return Ot("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+oM(t.Ref,{r:0,c:0})})}function wke(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(nJ(i)))}return Ot("Names",r.join(""))}function bke(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(nJ(o)))}return s.join("")}function Cke(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Ot("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Ot("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Ot("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(Ot("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Ro("ProtectContents","True")),t["!protect"].objects&&i.push(Ro("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Ro("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Ro("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Ro("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":Ot("WorksheetOptions",i.join(""),{xmlns:eA.x})}function Ske(t){return t.map(function(e){var r=TTe(e.t||""),n=Ot("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ot("Comment",n,{"ss:Author":e.a})}).join("")}function _ke(t,e,r,n,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Ei(oM(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=oo(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Ei(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Ei(t.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c!=a.c||c[u].s.r!=a.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var f="",p="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",p=String(t.v);break;case"b":f="Boolean",p=t.v?"1":"0";break;case"e":f="Error",p=RC[t.v];break;case"d":f="DateTime",p=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Vs[14]);break;case"s":f="String",p=BTe(t.v||"");break}var g=Qp(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+g),o["ss:Index"]=a.c+1;var y=t.v!=null?p:"",x=t.t=="z"?"":'<Data ss:Type="'+f+'">'+y+"</Data>";return(t.c||[]).length>0&&(x+=Ske(t.c)),Ot("Cell",x,o)}function Eke(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=DX(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Bke(t,e,r,n){if(!t["!ref"])return"";var i=os(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(w,S){sM(w);var B=!!w.width,F=zT(S,w),k={"ss:Index":S+1};B&&(k["ss:Width"]=YE(F.width)),w.hidden&&(k["ss:Hidden"]="1"),o.push(Ot("Column",null,k))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var u=[Eke(c,(t["!rows"]||[])[c])],f=i.s.c;f<=i.e.c;++f){var p=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>f)&&!(s[a].s.r>c)&&!(s[a].e.c<f)&&!(s[a].e.r<c)){(s[a].s.c!=f||s[a].s.r!=c)&&(p=!0);break}if(!p){var g={r:c,c:f},y=Bi(g),x=l?(t[c]||[])[f]:t[y];u.push(_ke(x,y,t,e,r,n,g))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function Tke(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],a=s?bke(s,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?Bke(s,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(Cke(s,e,t,r)),n.join("")}function Nke(t,e){e||(e={}),t.SSF||(t.SSF=Tc(Vs)),t.SSF&&(jT(),QT(t.SSF),e.revssf=GT(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Qp(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(yke(t,e)),r.push(xke()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Ot("Worksheet",Tke(n,e,t),{"ss:Name":Ei(t.SheetNames[n])}));return r[2]=vke(t,e),r[3]=wke(t),ba+Ot("Workbook",r.join(""),{xmlns:eA.ss,"xmlns:o":eA.o,"xmlns:x":eA.x,"xmlns:ss":eA.ss,"xmlns:dt":eA.dt,"xmlns:html":eA.html})}var CN={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Fke(t,e){var r=[],n=[],i=[],s=0,a,o=oH(vH,"n"),l=oH(wH,"n");if(t.Props)for(a=Oo(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=Oo(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Custprops[a[s]]]);var c=[];for(s=0;s<i.length;++s)BX.indexOf(i[s][0])>-1||SX.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);n.length&&Mi.utils.cfb_add(e,"/SummaryInformation",EH(n,CN.SI,l,wH)),(r.length||c.length)&&Mi.utils.cfb_add(e,"/DocumentSummaryInformation",EH(r,CN.DSI,o,vH,c.length?c:null,CN.UDI))}function Ike(t,e){var r=e||{},n=Mi.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Mi.utils.cfb_add(n,i,iJ(t,r)),r.biff==8&&(t.Props||t.Custprops)&&Fke(t,n),r.biff==8&&t.vbaraw&&W3e(n,Mi.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var kke={0:{f:MFe},1:{f:GFe},2:{f:cIe},3:{f:XFe},4:{f:zFe},5:{f:sIe},6:{f:dIe},7:{f:tIe},8:{f:wIe},9:{f:vIe},10:{f:yIe},11:{f:xIe},12:{f:$Fe},13:{f:uIe},14:{f:ZFe},15:{f:WFe},16:{f:oIe},17:{f:gIe},18:{f:nIe},19:{f:tM},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:ake},40:{},42:{},43:{f:d3e},44:{f:h3e},45:{f:m3e},46:{f:x3e},47:{f:y3e},48:{},49:{f:$Te},50:{},51:{f:M3e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:q4e},62:{f:fIe},63:{f:Q3e},64:{f:DIe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:mf,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:LIe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:QFe},148:{f:OFe,p:16},151:{f:BIe},152:{},153:{f:ike},154:{},155:{},156:{f:rke},157:{},158:{},159:{T:1,f:r3e},160:{T:-1},161:{T:1,f:Xm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:bIe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:L3e},336:{T:-1},337:{f:O3e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Gk},357:{},358:{},359:{},360:{T:1},361:{},362:{f:H4e},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:TIe},427:{f:NIe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:IIe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:HFe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:_Ie},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Gk},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:q3e},633:{T:1},634:{T:-1},635:{T:1,f:V3e},636:{T:-1},637:{f:WTe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:YIe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:OIe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ht(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&JR(r)&&t.push(r)}}function Lke(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return Ht(t,e,r,i);var s=e;if(!isNaN(s)){for(var a=r.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,s),u.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c;l<i;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;u.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c}}}function UC(t,e,r){return t||(t=dt(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function Rke(t,e,r,n){var i=dt(9);return UC(i,t,e),NX(r,n||"b",i),i}function Mke(t,e,r){var n=dt(8+2*r.length);return UC(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Uke(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Bc(Vl(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Ht(t,2,Y4e(r,n,i)):Ht(t,3,W4e(r,n,i));return;case"b":case"e":Ht(t,5,Rke(r,n,e.v,e.t));return;case"s":case"str":Ht(t,4,Mke(r,n,(e.v||"").slice(0,255)));return}Ht(t,1,UC(null,r,n))}function Dke(t,e,r,n){var i=Array.isArray(e),s=os(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=va(s)}for(var c=s.s.r;c<=s.e.r;++c){o=Uo(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=fl(u)),a=l[u]+o;var f=i?(e[c]||[])[u]:e[a];f&&Uke(t,f,c,u)}}}function Oke(t,e){for(var r=e||{},n=Ec(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ht(n,r.biff==4?1033:r.biff==3?521:9,iM(t,16,r)),Dke(n,t.Sheets[t.SheetNames[i]],i,r),Ht(n,10),n.end()}function Pke(t,e,r){Ht(t,49,k4e({sz:12,name:"Arial"},r))}function Hke(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Ht(t,1054,M4e(i,e[i],r))})}function Qke(t,e){var r=dt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ht(t,2151,r),r=dt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),kX(os(e["!ref"]||"A1"),r),r.write_shift(4,4),Ht(t,2152,r)}function jke(t,e){for(var r=0;r<16;++r)Ht(t,224,TH({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Ht(t,224,TH(n,0,e))})}function Gke(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];Ht(t,440,G4e(n)),n[1].Tooltip&&Ht(t,2048,V4e(n))}delete e["!links"]}function Vke(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&Ht(t,125,z4e(zT(i,n),i))})}}function $ke(t,e,r,n,i){var s=16+Qp(i.cellXfs,e,i);if(e.v==null&&!e.bf){Ht(t,513,Rm(r,n,s));return}if(e.bf)Ht(t,6,pFe(e,r,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?Bc(Vl(e.v)):e.v;Ht(t,515,P4e(r,n,a,s));break;case"b":case"e":Ht(t,517,O4e(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=cM(i.Strings,e.v,i.revStrings);Ht(t,253,L4e(r,n,o,s))}else Ht(t,516,R4e(r,n,(e.v||"").slice(0,255),s,i));break;default:Ht(t,513,Rm(r,n,s))}}function qke(t,e,r){var n=Ec(),i=r.SheetNames[t],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,u,f="",p=[],g=os(s["!ref"]||"A1"),y=c?65536:16384;if(g.e.c>255||g.e.r>=y){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,y-1)}Ht(n,2057,iM(r,16,e)),Ht(n,13,PA(1)),Ht(n,12,PA(100)),Ht(n,15,Pl(!0)),Ht(n,17,Pl(!1)),Ht(n,16,Lm(.001)),Ht(n,95,Pl(!0)),Ht(n,42,Pl(!1)),Ht(n,43,Pl(!1)),Ht(n,130,PA(1)),Ht(n,128,D4e()),Ht(n,131,Pl(!1)),Ht(n,132,Pl(!1)),c&&Vke(n,s["!cols"]),Ht(n,512,U4e(g,e)),c&&(s["!links"]=[]);for(var x=g.s.r;x<=g.e.r;++x){f=Uo(x);for(var w=g.s.c;w<=g.e.c;++w){x===g.s.r&&(p[w]=fl(w)),u=p[w]+f;var S=l?(s[x]||[])[w]:s[u];S&&($ke(n,S,x,w,e),c&&S.l&&s["!links"].push([u,S.l]))}}var B=o.CodeName||o.name||i;return c&&Ht(n,574,I4e((a.Views||[])[0])),c&&(s["!merges"]||[]).length&&Ht(n,229,j4e(s["!merges"])),c&&Gke(n,s),Ht(n,442,IX(B)),c&&Qke(n,s),Ht(n,10),n.end()}function zke(t,e,r){var n=Ec(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(Ht(n,2057,iM(t,5,r)),r.bookType=="xla"&&Ht(n,135),Ht(n,225,o?PA(1200):null),Ht(n,193,y4e(2)),l&&Ht(n,191),l&&Ht(n,192),Ht(n,226),Ht(n,92,B4e("SheetJS",r)),Ht(n,66,PA(o?1200:1252)),o&&Ht(n,353,PA(0)),o&&Ht(n,448),Ht(n,317,K4e(t.SheetNames.length)),o&&t.vbaraw&&Ht(n,211),o&&t.vbaraw){var c=a.CodeName||"ThisWorkbook";Ht(n,442,IX(c))}Ht(n,156,PA(17)),Ht(n,25,Pl(!1)),Ht(n,18,Pl(!1)),Ht(n,19,PA(0)),o&&Ht(n,431,Pl(!1)),o&&Ht(n,444,PA(0)),Ht(n,61,F4e()),Ht(n,64,Pl(!1)),Ht(n,141,PA(0)),Ht(n,34,Pl(JIe(t)=="true")),Ht(n,14,Pl(!0)),o&&Ht(n,439,Pl(!1)),Ht(n,218,PA(0)),Pke(n,t,r),Hke(n,t.SSF,r),jke(n,r),o&&Ht(n,352,Pl(!1));var u=n.end(),f=Ec();o&&Ht(f,140,$4e()),o&&r.Strings&&Lke(f,252,N4e(r.Strings)),Ht(f,10);var p=f.end(),g=Ec(),y=0,x=0;for(x=0;x<t.SheetNames.length;++x)y+=(o?12:11)+(o?2:1)*t.SheetNames[x].length;var w=u.length+y+p.length;for(x=0;x<t.SheetNames.length;++x){var S=s[x]||{};Ht(g,133,T4e({pos:w,hs:S.Hidden||0,dt:0,name:t.SheetNames[x]},r)),w+=e[x].length}var B=g.end();if(y!=B.length)throw new Error("BS8 "+y+" != "+B.length);var F=[];return u.length&&F.push(u),B.length&&F.push(B),p.length&&F.push(p),Lo(F)}function Kke(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Tc(Vs)),t&&t.SSF&&(jT(),QT(t.SSF),r.revssf=GT(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,AM(r),r.cellXfs=[],Qp(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=qke(i,r,t);return n.unshift(zke(t,n,r)),Lo(n)}function iJ(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=aA(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return Kke(t,e);case 4:case 3:case 2:return Oke(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function Wke(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>r||i[c].s.c>a)&&!(i[c].e.r<r||i[c].e.c<a)){if(i[c].s.r<r||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=Bi({r,c:a}),f=n.dense?(t[r]||[])[a]:t[u],p=f&&f.v!=null&&(f.h||ETe(f.w||(qd(f),f.w)||""))||"",g={};o>1&&(g.rowspan=o),l>1&&(g.colspan=l),n.editable?p='<span contenteditable="true">'+p+"</span>":f&&(g["data-t"]=f&&f.t||"z",f.v!=null&&(g["data-v"]=f.v),f.z!=null&&(g["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+f.l.Target+'">'+p+"</a>")),g.id=(n.id||"sjs")+"-"+u,s.push(Ot("td",p,g))}}var y="<tr>";return y+s.join("")+"</tr>"}var Yke='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Xke="</body></html>";function Jke(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function sJ(t,e){var r=e||{},n=r.header!=null?r.header:Yke,i=r.footer!=null?r.footer:Xke,s=[n],a=aA(t["!ref"]);r.dense=Array.isArray(t),s.push(Jke(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(Wke(t,a,o,r));return s.push("</table>"+i),s.join("")}function aJ(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?oo(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var u=aA(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var f=[],p=0,g=t["!rows"]||(t["!rows"]=[]),y=0,x=0,w=0,S=0,B=0,F=0;for(t["!cols"]||(t["!cols"]=[]);y<o.length&&x<l;++y){var k=o[y];if(MH(k)){if(n.display)continue;g[x]={hidden:!0}}var O=k.children;for(w=S=0;w<O.length;++w){var R=O[w];if(!(n.display&&MH(R))){var D=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):FTe(R.innerHTML),Q=R.getAttribute("data-z")||R.getAttribute("z");for(p=0;p<f.length;++p){var V=f[p];V.s.c==S+s&&V.s.r<x+i&&x+i<=V.e.r&&(S=V.e.c+1-s,p=-1)}F=+R.getAttribute("colspan")||1,((B=+R.getAttribute("rowspan")||1)>1||F>1)&&f.push({s:{r:x+i,c:S+s},e:{r:x+i+(B||1)-1,c:S+s+(F||1)-1}});var re={t:"s",v:D},P=R.getAttribute("data-t")||R.getAttribute("t")||"";D!=null&&(D.length==0?re.t=P||"z":n.raw||D.trim().length==0||P=="s"||(D==="TRUE"?re={t:"b",v:!0}:D==="FALSE"?re={t:"b",v:!1}:isNaN(Ud(D))?isNaN(Nw(D).getDate())||(re={t:"d",v:Vl(D)},n.cellDates||(re={t:"n",v:Bc(re.v)}),re.z=n.dateNF||Vs[14]):re={t:"n",v:Ud(D)})),re.z===void 0&&Q!=null&&(re.z=Q);var H="",q=R.getElementsByTagName("A");if(q&&q.length)for(var Z=0;Z<q.length&&!(q[Z].hasAttribute("href")&&(H=q[Z].getAttribute("href"),H.charAt(0)!="#"));++Z);H&&H.charAt(0)!="#"&&(re.l={Target:H}),n.dense?(t[x+i]||(t[x+i]=[]),t[x+i][S+s]=re):t[Bi({c:S+s,r:x+i})]=re,c.e.c<S+s&&(c.e.c=S+s),S+=F}}++x}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,x-1+i),t["!ref"]=va(c),x>=l&&(t["!fullref"]=va((c.e.r=o.length-y+x-1+i,c))),t}function oJ(t,e){var r=e||{},n=r.dense?[]:{};return aJ(n,t,e)}function Zke(t,e){return zm(oJ(t,e),e)}function MH(t){var e="",r=eLe(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function eLe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var tLe=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Iw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return ba+e}})(),UH=(function(){var t=function(s){return Ei(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,o){var l=[];l.push('      <table:table table:name="'+Ei(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,f=aA(s["!ref"]||"A1"),p=s["!merges"]||[],g=0,y=Array.isArray(s);if(s["!cols"])for(u=0;u<=f.e.c;++u)l.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var x="",w=s["!rows"]||[];for(c=0;c<f.s.r;++c)x=w[c]?' table:style-name="ro'+w[c].ods+'"':"",l.push("        <table:table-row"+x+`></table:table-row>
`);for(;c<=f.e.r;++c){for(x=w[c]?' table:style-name="ro'+w[c].ods+'"':"",l.push("        <table:table-row"+x+`>
`),u=0;u<f.s.c;++u)l.push(e);for(;u<=f.e.c;++u){var S=!1,B={},F="";for(g=0;g!=p.length;++g)if(!(p[g].s.c>u)&&!(p[g].s.r>c)&&!(p[g].e.c<u)&&!(p[g].e.r<c)){(p[g].s.c!=u||p[g].s.r!=c)&&(S=!0),B["table:number-columns-spanned"]=p[g].e.c-p[g].s.c+1,B["table:number-rows-spanned"]=p[g].e.r-p[g].s.r+1;break}if(S){l.push(r);continue}var k=Bi({r:c,c:u}),O=y?(s[c]||[])[u]:s[k];if(O&&O.f&&(B["table:formula"]=Ei(wFe(O.f)),O.F&&O.F.slice(0,k.length)==k)){var R=aA(O.F);B["table:number-matrix-columns-spanned"]=R.e.c-R.s.c+1,B["table:number-matrix-rows-spanned"]=R.e.r-R.s.r+1}if(!O){l.push(e);continue}switch(O.t){case"b":F=O.v?"TRUE":"FALSE",B["office:value-type"]="boolean",B["office:boolean-value"]=O.v?"true":"false";break;case"n":F=O.w||String(O.v||0),B["office:value-type"]="float",B["office:value"]=O.v||0;break;case"s":case"str":F=O.v==null?"":O.v,B["office:value-type"]="string";break;case"d":F=O.w||Vl(O.v).toISOString(),B["office:value-type"]="date",B["office:date-value"]=Vl(O.v).toISOString(),B["table:style-name"]="ce1";break;default:l.push(e);continue}var D=t(F);if(O.l&&O.l.Target){var Q=O.l.Target;Q=Q.charAt(0)=="#"?"#"+bFe(Q.slice(1)):Q,Q.charAt(0)!="#"&&!Q.match(/^\w+:/)&&(Q="../"+Q),D=Ot("text:a",D,{"xlink:href":Q.replace(/&/g,"&amp;")})}l.push("          "+Ot("table:table-cell",Ot("text:p",D,{}),B)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var f=c["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;sM(f),f.ods=o;var p=c["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var f=c["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[ba],c=Iw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Iw({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(bX().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=a.SheetNames.length;++f)l.push(n(a.Sheets[a.SheetNames[f]],a,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function lJ(t,e){if(e.bookType=="fods")return UH(t,e);var r=KR(),n="",i=[],s=[];return n="mimetype",hn(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",hn(r,n,UH(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",hn(r,n,tLe(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",hn(r,n,ba+bX()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",hn(r,n,f4e(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",hn(r,n,u4e(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function ZE(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function rLe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):$u(Fw(t))}function nLe(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Ip(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function iLe(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function kw(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function bi(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function xy(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Ra(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=kw(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=kw(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var c={data:o,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function bo(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(bi(n*8+i.type)),i.type==2&&e.push(bi(i.data.length)),e.push(i.data))})}),Ip(e)}function xu(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=kw(t,n),s=Ra(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:xy(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Ra(o.data),c=xy(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+c)}),n[0]+=c}),(e=s[3])!=null&&e[0]&&(a.merge=xy(s[3][0].data)>>>0>0),r.push(a)}return r}function M1(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:bi(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:bi(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:bi(a.data.length)}],n[2].push({data:bo(a.meta),type:2})});var s=bo(n);e.push(bi(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),Ip(e)}function sLe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=kw(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(c=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Ip(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=Ip(i);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function vu(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(sLe(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Ip(e)}function U1(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=bi(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return Ip(e)}function SN(t,e){var r=new Uint8Array(32),n=ZE(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,iLe(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function _N(t,e){var r=new Uint8Array(32),n=ZE(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function N0(t){var e=Ra(t);return kw(e[1][0].data)}function aLe(t,e,r){var n,i,s,a;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&xy(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=ZE(t[7][0].data),u=0,f=[],p=ZE(t[4][0].data),g=0,y=[],x=0;x<e.length;++x){if(e[x]==null){c.setUint16(x*2,65535,!0),p.setUint16(x*2,65535);continue}c.setUint16(x*2,u,!0),p.setUint16(x*2,g,!0);var w,S;switch(typeof e[x]){case"string":w=SN({t:"s",v:e[x]},r),S=_N({t:"s",v:e[x]},r);break;case"number":w=SN({t:"n",v:e[x]},r),S=_N({t:"n",v:e[x]},r);break;case"boolean":w=SN({t:"b",v:e[x]},r),S=_N({t:"b",v:e[x]},r);break;default:throw new Error("Unsupported value "+e[x])}f.push(w),u+=w.length,y.push(S),g+=S.length,++l}for(t[2][0].data=bi(l);x<t[7][0].data.length/2;++x)c.setUint16(x*2,65535,!0),p.setUint16(x*2,65535,!0);return t[6][0].data=Ip(f),t[3][0].data=Ip(y),l}function oLe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=aA(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(va(n)));var s=eB(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(G){return G.forEach(function(W){typeof W=="string"&&a.push(W)})});var o={},l=[],c=Mi.read(e.numbers,{type:"base64"});c.FileIndex.map(function(G,W){return[G,c.FullPaths[W]]}).forEach(function(G){var W=G[0],J=G[1];if(W.type==2&&W.name.match(/\.iwa/)){var ae=W.content,ve=vu(ae),Fe=xu(ve);Fe.forEach(function(Ie){l.push(Ie.id),o[Ie.id]={deps:[],location:J,type:xy(Ie.messages[0].meta[1][0].data)}})}}),l.sort(function(G,W){return G-W});var u=l.filter(function(G){return G>1}).map(function(G){return[G,bi(G)]});c.FileIndex.map(function(G,W){return[G,c.FullPaths[W]]}).forEach(function(G){var W=G[0];if(G[1],!!W.name.match(/\.iwa/)){var J=xu(vu(W.content));J.forEach(function(ae){ae.messages.forEach(function(ve){u.forEach(function(Fe){ae.messages.some(function(Ie){return xy(Ie.meta[1][0].data)!=11006&&nLe(Ie.data,Fe[1])})&&o[Fe[0]].deps.push(ae.id)})})})}});for(var f=Mi.find(c,o[1].location),p=xu(vu(f.content)),g,y=0;y<p.length;++y){var x=p[y];x.id==1&&(g=x)}var w=N0(Ra(g.messages[0].data)[1][0].data);for(f=Mi.find(c,o[w].location),p=xu(vu(f.content)),y=0;y<p.length;++y)x=p[y],x.id==w&&(g=x);for(w=N0(Ra(g.messages[0].data)[2][0].data),f=Mi.find(c,o[w].location),p=xu(vu(f.content)),y=0;y<p.length;++y)x=p[y],x.id==w&&(g=x);for(w=N0(Ra(g.messages[0].data)[2][0].data),f=Mi.find(c,o[w].location),p=xu(vu(f.content)),y=0;y<p.length;++y)x=p[y],x.id==w&&(g=x);var S=Ra(g.messages[0].data);{S[6][0].data=bi(n.e.r+1),S[7][0].data=bi(n.e.c+1);var B=N0(S[46][0].data),F=Mi.find(c,o[B].location),k=xu(vu(F.content));{for(var O=0;O<k.length&&k[O].id!=B;++O);if(k[O].id!=B)throw"Bad ColumnRowUIDMapArchive";var R=Ra(k[O].messages[0].data);R[1]=[],R[2]=[],R[3]=[];for(var D=0;D<=n.e.c;++D){var Q=[];Q[1]=Q[2]=[{type:0,data:bi(D+420690)}],R[1].push({type:2,data:bo(Q)}),R[2].push({type:0,data:bi(D)}),R[3].push({type:0,data:bi(D)})}R[4]=[],R[5]=[],R[6]=[];for(var V=0;V<=n.e.r;++V)Q=[],Q[1]=Q[2]=[{type:0,data:bi(V+726270)}],R[4].push({type:2,data:bo(Q)}),R[5].push({type:0,data:bi(V)}),R[6].push({type:0,data:bi(V)});k[O].messages[0].data=bo(R)}F.content=U1(M1(k)),F.size=F.content.length,delete S[46];var re=Ra(S[4][0].data);{re[7][0].data=bi(n.e.r+1);var P=Ra(re[1][0].data),H=N0(P[2][0].data);F=Mi.find(c,o[H].location),k=xu(vu(F.content));{if(k[0].id!=H)throw"Bad HeaderStorageBucket";var q=Ra(k[0].messages[0].data);for(V=0;V<s.length;++V){var Z=Ra(q[2][0].data);Z[1][0].data=bi(V),Z[4][0].data=bi(s[V].length),q[2][V]={type:q[2][0].type,data:bo(Z)}}k[0].messages[0].data=bo(q)}F.content=U1(M1(k)),F.size=F.content.length;var se=N0(re[2][0].data);F=Mi.find(c,o[se].location),k=xu(vu(F.content));{if(k[0].id!=se)throw"Bad HeaderStorageBucket";for(q=Ra(k[0].messages[0].data),D=0;D<=n.e.c;++D)Z=Ra(q[2][0].data),Z[1][0].data=bi(D),Z[4][0].data=bi(n.e.r+1),q[2][D]={type:q[2][0].type,data:bo(Z)};k[0].messages[0].data=bo(q)}F.content=U1(M1(k)),F.size=F.content.length;var X=N0(re[4][0].data);(function(){for(var G=Mi.find(c,o[X].location),W=xu(vu(G.content)),J,ae=0;ae<W.length;++ae){var ve=W[ae];ve.id==X&&(J=ve)}var Fe=Ra(J.messages[0].data);{Fe[3]=[];var Ie=[];a.forEach(function(lt,St){Ie[1]=[{type:0,data:bi(St)}],Ie[2]=[{type:0,data:bi(1)}],Ie[3]=[{type:2,data:rLe(lt)}],Fe[3].push({type:2,data:bo(Ie)})})}J.messages[0].data=bo(Fe);var He=M1(W),at=U1(He);G.content=at,G.size=G.content.length})();var ee=Ra(re[3][0].data);{var te=ee[1][0];delete ee[2];var Ce=Ra(te.data);{var ke=N0(Ce[2][0].data);(function(){for(var G=Mi.find(c,o[ke].location),W=xu(vu(G.content)),J,ae=0;ae<W.length;++ae){var ve=W[ae];ve.id==ke&&(J=ve)}var Fe=Ra(J.messages[0].data);{delete Fe[6],delete ee[7];var Ie=new Uint8Array(Fe[5][0].data);Fe[5]=[];for(var He=0,at=0;at<=n.e.r;++at){var lt=Ra(Ie);He+=aLe(lt,s[at],a),lt[1][0].data=bi(at),Fe[5].push({data:bo(lt),type:2})}Fe[1]=[{type:0,data:bi(n.e.c+1)}],Fe[2]=[{type:0,data:bi(n.e.r+1)}],Fe[3]=[{type:0,data:bi(He)}],Fe[4]=[{type:0,data:bi(n.e.r+1)}]}J.messages[0].data=bo(Fe);var St=M1(W),Nt=U1(St);G.content=Nt,G.size=G.content.length})()}te.data=bo(Ce)}re[3][0].data=bo(ee)}S[4][0].data=bo(re)}g.messages[0].data=bo(S);var le=M1(p),M=U1(le);return f.content=M,f.size=f.content.length,c}function lLe(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function AM(t){lLe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function cLe(t,e){return e.bookType=="ods"?lJ(t,e):e.bookType=="numbers"?oLe(t,e):e.bookType=="xlsb"?ALe(t,e):uLe(t,e)}function ALe(t,e){ry=1024,t&&!t.SSF&&(t.SSF=Tc(Vs)),t&&t.SSF&&(jT(),QT(t.SSF),e.revssf=GT(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,iw?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=VX.indexOf(e.bookType)>-1,i=xX();AM(e=e||{});var s=KR(),a="",o=0;if(e.cellXfs=[],Qp(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",hn(s,a,CX(t.Props,e)),i.coreprops.push(a),Ci(e.rels,2,a,Zn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,hn(s,a,_X(t.Props)),i.extprops.push(a),Ci(e.rels,3,a,Zn.EXT_PROPS),t.Custprops!==t.Props&&Oo(t.Custprops||{}).length>0&&(a="docProps/custom.xml",hn(s,a,EX(t.Custprops)),i.custprops.push(a),Ci(e.rels,4,a,Zn.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var u={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],p=(f||{})["!type"]||"sheet";switch(p){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,hn(s,a,fke(o-1,a,e,t,u)),i.sheets.push(a),Ci(e.wbrels,-1,"worksheets/sheet"+o+"."+r,Zn.WS[0])}if(f){var g=f["!comments"],y=!1,x="";g&&g.length>0&&(x="xl/comments"+o+"."+r,hn(s,x,gke(g,x)),i.comments.push(x),Ci(u,-1,"../comments"+o+"."+r,Zn.CMNT),y=!0),f["!legacy"]&&y&&hn(s,"xl/drawings/vmlDrawing"+o+".vml",jX(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&hn(s,wX(a),my(u))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,hn(s,a,pke(e.Strings,a,e)),i.strs.push(a),Ci(e.wbrels,-1,"sharedStrings."+r,Zn.SST)),a="xl/workbook."+r,hn(s,a,hke(t,a)),i.workbooks.push(a),Ci(e.rels,1,a,Zn.WB),a="xl/theme/theme1.xml",hn(s,a,HX(t.Themes,e)),i.themes.push(a),Ci(e.wbrels,-1,"theme/theme1.xml",Zn.THEME),a="xl/styles."+r,hn(s,a,dke(t,a,e)),i.styles.push(a),Ci(e.wbrels,-1,"styles."+r,Zn.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",hn(s,a,t.vbaraw),i.vba.push(a),Ci(e.wbrels,-1,"vbaProject.bin",Zn.VBA)),a="xl/metadata."+r,hn(s,a,mke(a)),i.metadata.push(a),Ci(e.wbrels,-1,"metadata."+r,Zn.XLMETA),hn(s,"[Content_Types].xml",vX(i,e)),hn(s,"_rels/.rels",my(e.rels)),hn(s,"xl/_rels/workbook."+r+".rels",my(e.wbrels)),delete e.revssf,delete e.ssf,s}function uLe(t,e){ry=1024,t&&!t.SSF&&(t.SSF=Tc(Vs)),t&&t.SSF&&(jT(),QT(t.SSF),e.revssf=GT(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,iw?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=VX.indexOf(e.bookType)>-1,i=xX();AM(e=e||{});var s=KR(),a="",o=0;if(e.cellXfs=[],Qp(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",hn(s,a,CX(t.Props,e)),i.coreprops.push(a),Ci(e.rels,2,a,Zn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,hn(s,a,_X(t.Props)),i.extprops.push(a),Ci(e.rels,3,a,Zn.EXT_PROPS),t.Custprops!==t.Props&&Oo(t.Custprops||{}).length>0&&(a="docProps/custom.xml",hn(s,a,EX(t.Custprops)),i.custprops.push(a),Ci(e.rels,4,a,Zn.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},p=t.Sheets[t.SheetNames[o-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,hn(s,a,ZX(o-1,e,t,f)),i.sheets.push(a),Ci(e.wbrels,-1,"worksheets/sheet"+o+"."+r,Zn.WS[0])}if(p){var y=p["!comments"],x=!1,w="";if(y&&y.length>0){var S=!1;y.forEach(function(B){B[1].forEach(function(F){F.T==!0&&(S=!0)})}),S&&(w="xl/threadedComments/threadedComment"+o+"."+r,hn(s,w,j3e(y,u,e)),i.threadedcomments.push(w),Ci(f,-1,"../threadedComments/threadedComment"+o+"."+r,Zn.TCMNT)),w="xl/comments"+o+"."+r,hn(s,w,GX(y)),i.comments.push(w),Ci(f,-1,"../comments"+o+"."+r,Zn.CMNT),x=!0}p["!legacy"]&&x&&hn(s,"xl/drawings/vmlDrawing"+o+".vml",jX(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}f["!id"].rId1&&hn(s,wX(a),my(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,hn(s,a,RX(e.Strings,e)),i.strs.push(a),Ci(e.wbrels,-1,"sharedStrings."+r,Zn.SST)),a="xl/workbook."+r,hn(s,a,rJ(t)),i.workbooks.push(a),Ci(e.rels,1,a,Zn.WB),a="xl/theme/theme1.xml",hn(s,a,HX(t.Themes,e)),i.themes.push(a),Ci(e.wbrels,-1,"theme/theme1.xml",Zn.THEME),a="xl/styles."+r,hn(s,a,OX(t,e)),i.styles.push(a),Ci(e.wbrels,-1,"styles."+r,Zn.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",hn(s,a,t.vbaraw),i.vba.push(a),Ci(e.wbrels,-1,"vbaProject.bin",Zn.VBA)),a="xl/metadata."+r,hn(s,a,QX()),i.metadata.push(a),Ci(e.wbrels,-1,"metadata."+r,Zn.XLMETA),u.length>1&&(a="xl/persons/person.xml",hn(s,a,G3e(u)),i.people.push(a),Ci(e.wbrels,-1,"persons/person.xml",Zn.PEOPLE)),hn(s,"[Content_Types].xml",vX(i,e)),hn(s,"_rels/.rels",my(e.rels)),hn(s,"xl/_rels/workbook."+r+".rels",my(e.wbrels)),delete e.revssf,delete e.ssf,s}function hLe(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=$d(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function cJ(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return kC(e.file,Mi.write(t,{type:oi?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Mi.write(t,e)}function fLe(t,e){var r=Tc(e||{}),n=cLe(t,r);return dLe(n,r)}function dLe(t,e){var r={},n=oi?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Mi.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(HT(i))}return e.password&&typeof encrypt_agile<"u"?cJ(encrypt_agile(i,e.password),e):e.type==="file"?kC(e.file,i):e.type=="string"?ew(i):i}function pLe(t,e){var r=e||{},n=Ike(t,r);return cJ(n,r)}function Vh(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Tw(Fw(n));case"binary":return Fw(n);case"string":return t;case"file":return kC(e.file,n,"utf8");case"buffer":return oi?Zd(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Vh(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function gLe(t,e){switch(e.type){case"base64":return Tw(t);case"binary":return t;case"string":return t;case"file":return kC(e.file,t,"binary");case"buffer":return oi?Zd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function N5(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Tw(r):e.type=="string"?ew(r):r;case"file":return kC(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function AJ(t,e){VBe(),tke(t);var r=Tc(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=AJ(t,r);return r.type="array",HT(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Vh(Nke(t,r),r);case"slk":case"sylk":return Vh(J4e.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return Vh(sJ(t.Sheets[t.SheetNames[i]],r),r);case"txt":return gLe(uJ(t.Sheets[t.SheetNames[i]],r),r);case"csv":return Vh(uM(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return Vh(Z4e.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return N5(X4e.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return Vh(e3e.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return Vh(o3e.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return Vh(LX.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return Vh(lJ(t,r),r);case"wk1":return N5(NH.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return N5(NH.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),N5(iJ(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),pLe(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return fLe(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function mLe(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function yLe(t,e,r){var n={};return n.type="file",n.file=e,mLe(n),AJ(t,n)}function xLe(t,e,r,n,i,s,a,o){var l=Uo(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:r,enumerable:!1})}catch{p.__rowNum__=r}else p.__rowNum__=r;if(!a||t[r])for(var g=e.s.c;g<=e.e.c;++g){var y=a?t[r][g]:t[n[g]+l];if(y===void 0||y.t===void 0){if(c===void 0)continue;s[g]!=null&&(p[s[g]]=c);continue}var x=y.v;switch(y.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[g]!=null){if(x==null)if(y.t=="e"&&x===null)p[s[g]]=null;else if(c!==void 0)p[s[g]]=c;else if(u&&x===null)p[s[g]]=null;else continue;else p[s[g]]=u&&(y.t!=="n"||y.t==="n"&&o.rawNumbers!==!1)?x:qd(y,x,o);x!=null&&(f=!1)}}return{row:p,isempty:f}}function eB(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=os(u);break;case"number":l=os(t["!ref"]),l.s.r=u;break;default:l=u}n>0&&(i=0);var f=Uo(l.s.r),p=[],g=[],y=0,x=0,w=Array.isArray(t),S=l.s.r,B=0,F={};w&&!t[S]&&(t[S]=[]);var k=c.skipHidden&&t["!cols"]||[],O=c.skipHidden&&t["!rows"]||[];for(B=l.s.c;B<=l.e.c;++B)if(!(k[B]||{}).hidden)switch(p[B]=fl(B),r=w?t[S][B]:t[p[B]+f],n){case 1:s[B]=B-l.s.c;break;case 2:s[B]=p[B];break;case 3:s[B]=c.header[B-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=qd(r,null,c),x=F[a]||0,!x)F[a]=1;else{do o=a+"_"+x++;while(F[o]);F[a]=x,F[o]=1}s[B]=o}for(S=l.s.r+i;S<=l.e.r;++S)if(!(O[S]||{}).hidden){var R=xLe(t,l,S,p,n,s,w,c);(R.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(g[y++]=R.row)}return g.length=y,g}var DH=/"/g;function vLe(t,e,r,n,i,s,a,o){for(var l=!0,c=[],u="",f=Uo(r),p=e.s.c;p<=e.e.c;++p)if(n[p]){var g=o.dense?(t[r]||[])[p]:t[n[p]+f];if(g==null)u="";else if(g.v!=null){l=!1,u=""+(o.rawNumbers&&g.t=="n"?g.v:qd(g,null,o));for(var y=0,x=0;y!==u.length;++y)if((x=u.charCodeAt(y))===i||x===s||x===34||o.forceQuotes){u='"'+u.replace(DH,'""')+'"';break}u=="ID"&&(u='"ID"')}else g.f!=null&&!g.F?(l=!1,u="="+g.f,u.indexOf(",")>=0&&(u='"'+u.replace(DH,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(a)}function uM(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=os(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",f=[];n.dense=Array.isArray(t);for(var p=n.skipHidden&&t["!cols"]||[],g=n.skipHidden&&t["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(p[y]||{}).hidden||(f[y]=fl(y));for(var x=0,w=i.s.r;w<=i.e.r;++w)(g[w]||{}).hidden||(u=vLe(t,i,w,f,a,l,s,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((x++?o:"")+u)));return delete n.dense,r.join("")}function uJ(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=uM(t,e);return r}function wLe(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=os(t["!ref"]),s="",a=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=fl(o);for(var u=i.s.r;u<=i.e.r;++u)for(s=Uo(u),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=c?(t[u]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function hJ(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?oo(n.origin):n.origin;a=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var f=os(s["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),a==-1&&(a=f.e.r+1,u.e.r=a+e.length-1+i)}else a==-1&&(a=0,u.e.r=e.length-1+i);var p=n.header||[],g=0;e.forEach(function(x,w){Oo(x).forEach(function(S){(g=p.indexOf(S))==-1&&(p[g=p.length]=S);var B=x[S],F="z",k="",O=Bi({c:o+g,r:a+w+i});c=Lw(s,O),B&&typeof B=="object"&&!(B instanceof Date)?s[O]=B:(typeof B=="number"?F="n":typeof B=="boolean"?F="b":typeof B=="string"?F="s":B instanceof Date?(F="d",n.cellDates||(F="n",B=Bc(B)),k=n.dateNF||Vs[14]):B===null&&n.nullError&&(F="e",B=0),c?(c.t=F,c.v=B,delete c.w,delete c.R,k&&(c.z=k)):s[O]=c={t:F,v:B},k&&(c.z=k))})}),u.e.c=Math.max(u.e.c,o+p.length-1);var y=Uo(a);if(i)for(g=0;g<p.length;++g)s[fl(g+o)+y]={t:"s",v:p[g]};return s["!ref"]=va(u),s}function bLe(t,e){return hJ(null,t,e)}function Lw(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=oo(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Lw(t,Bi(e)):Lw(t,Bi({r:e,c:r||0}))}function CLe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function SLe(){return{SheetNames:[],Sheets:{}}}function _Le(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(tJ(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function ELe(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=CLe(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function BLe(t,e){return t.z=e,t}function fJ(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function TLe(t,e,r){return fJ(t,"#"+e,r)}function NLe(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function FLe(t,e,r,n){for(var i=typeof e!="string"?e:os(e),s=typeof e=="string"?e:va(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=Lw(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var wu={encode_col:fl,encode_row:Uo,encode_cell:Bi,encode_range:va,decode_col:eM,decode_row:ZR,split_cell:VTe,decode_cell:oo,decode_range:aA,format_cell:qd,sheet_add_aoa:fX,sheet_add_json:hJ,sheet_add_dom:aJ,aoa_to_sheet:Yx,json_to_sheet:bLe,table_to_sheet:oJ,table_to_book:Zke,sheet_to_csv:uM,sheet_to_txt:uJ,sheet_to_json:eB,sheet_to_html:sJ,sheet_to_formulae:wLe,sheet_to_row_object_array:eB,sheet_get_cell:Lw,book_new:SLe,book_append_sheet:_Le,book_set_sheet_visibility:ELe,cell_set_number_format:BLe,cell_set_hyperlink:fJ,cell_set_internal_link:TLe,cell_add_comment:NLe,sheet_set_array_formula:FLe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const OH={forecastHorizon:5,initialRevenue:1e5,revenueGrowthRate:[1.5,1.2,1,.8,.6],cogsPercentage:[.3,.28,.26,.25,.25],opex:{researchAndDevelopment:[.2,.18,.15,.12,.1],salesAndMarketing:[.4,.35,.3,.25,.25],generalAndAdministrative:[.15,.12,.1,.08,.08]},taxRate:.21,capexPercentage:[.1,.08,.06,.05,.05],depreciationPercentage:[.15,.15,.15,.15,.15],changeInNwcPercentage:.05,discountRate:.15,terminalValueMethod:"Exit Multiple",terminalGrowthRate:.03,exitMultiple:5},EN=(t,e=0)=>isNaN(t)?"$0":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:e,maximumFractionDigits:e}).format(t),Oh=({label:t,value:e,onChange:r,isPercent:n=!1})=>d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:t}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",step:"any",value:n?(e*100).toFixed(1):e,onChange:i=>{const s=parseFloat(i.target.value);isNaN(s)||r(n?s/100:s)},className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2 text-sm text-white focus:ring-2 themed-focus-ring focus:outline-none"}),n&&d.jsx("span",{className:"absolute right-2 top-2 text-gray-400 text-sm",children:"%"})]})]}),ILe=({isOpen:t,onClose:e,baseFinancialPlan:r,modelMode:n,strategicDirective:i,onSave:s})=>{const[a,o]=Xe.useState(OH),[l,c]=Xe.useState(null),[u,f]=Xe.useState(!1),[p,g]=Xe.useState(null);Xe.useEffect(()=>{t&&r.cashFlowModel?(o(r.cashFlowModel.assumptions),c(r.cashFlowModel)):t&&(o(OH),c(null))},[t,r]);const y=(F,k)=>{o(O=>({...O,[F]:k}))},x=(F,k,O)=>{const R=[...a[F]];R[k]=O,y(F,R)},w=(F,k,O)=>{const R={...a.opex},D=[...R[F]];D[k]=O,R[F]=D,y("opex",R)},S=Xe.useCallback(async(F=!1)=>{f(!0),g(null);try{const k={problemStatement:"Venture Financial Modeling",solution:r.elevatorPitch,targetMarket:"Global"},O=await Bpe(k,r,a,n,i);F&&o(O.data.assumptions),c(O.data)}catch(k){console.error("Failed to run cash flow model:",k),g(k instanceof Error?k.message:"An unexpected error occurred.")}finally{f(!1)}},[a,r,n,i]),B=()=>{if(!l)return;const F=[["Assumption","Value"],["Forecast Horizon (Years)",l.assumptions.forecastHorizon],["Initial Revenue",l.assumptions.initialRevenue],["Tax Rate",l.assumptions.taxRate],["Change in NWC (% of Revenue Growth)",l.assumptions.changeInNwcPercentage],["Discount Rate (WACC)",l.assumptions.discountRate],["Terminal Value Method",l.assumptions.terminalValueMethod],["Terminal Growth Rate",l.assumptions.terminalValueMethod==="Gordon Growth"?l.assumptions.terminalGrowthRate:"N/A"],["Exit Multiple",l.assumptions.terminalValueMethod==="Exit Multiple"?l.assumptions.exitMultiple:"N/A"],[],["Yearly Assumptions","Y1","Y2","Y3","Y4","Y5"],["Revenue Growth Rate",...l.assumptions.revenueGrowthRate],["COGS (% of Revenue)",...l.assumptions.cogsPercentage],["R&D (% of Revenue)",...l.assumptions.opex.researchAndDevelopment],["S&M (% of Revenue)",...l.assumptions.opex.salesAndMarketing],["G&A (% of Revenue)",...l.assumptions.opex.generalAndAdministrative],["CAPEX (% of Revenue)",...l.assumptions.capexPercentage],["Depreciation (% of CAPEX)",...l.assumptions.depreciationPercentage]],k=wu.aoa_to_sheet(F),O=wu.aoa_to_sheet([["Metric","Year 1","Year 2","Year 3","Year 4","Year 5"]]),R=l.cashFlows;["Revenue","COGS","Gross Profit","R&D","S&M","G&A","Total OPEX","EBITDA","Depreciation","EBIT","Taxes","NOPAT","Add: Depreciation","Less: CAPEX","Less: Change in NWC","Free Cash Flow to Firm (FCFF)","PV of FCFF"].forEach((H,q)=>wu.sheet_add_aoa(O,[[H]],{origin:`A${q+2}`}));for(let H=0;H<R.length;H++){const q=String.fromCharCode(66+H);wu.sheet_add_aoa(O,[[{v:R[H].revenue,f:H===0?"Inputs!B3":`${String.fromCharCode(66+H-1)}2*(1+Inputs!${q}$12)`,t:"n"}],[{v:R[H].cogs,f:`${q}2*Inputs!${q}$13`,t:"n"}],[{v:R[H].grossProfit,f:`${q}2-${q}3`,t:"n"}],[{v:R[H].opex.researchAndDevelopment,f:`${q}2*Inputs!${q}$14`,t:"n"}],[{v:R[H].opex.salesAndMarketing,f:`${q}2*Inputs!${q}$15`,t:"n"}],[{v:R[H].opex.generalAndAdministrative,f:`${q}2*Inputs!${q}$16`,t:"n"}],[{v:R[H].opex.total,f:`SUM(${q}5:${q}7)`,t:"n"}],[{v:R[H].ebitda,f:`${q}4-${q}8`,t:"n"}],[{v:R[H].depreciation,f:`${q}10`,t:"n"}],[{v:R[H].ebit,f:`${q}9-${q}10`,t:"n"}],[{v:R[H].taxes,f:`MAX(0, ${q}11*Inputs!B4)`,t:"n"}],[{v:R[H].nopat,f:`${q}11-${q}12`,t:"n"}],[{v:R[H].depreciation,f:`${q}10`,t:"n"}],[{v:R[H].capex,f:`${q}2*Inputs!${q}$17`,t:"n"}],[{v:R[H].changeInNwc,f:H===0?`(${q}2-Inputs!B3)*Inputs!B5`:`(${q}2-${String.fromCharCode(66+H-1)}2)*Inputs!B5`,t:"n"}],[{v:R[H].fcff,f:`${q}13+${q}14-${q}15-${q}16`,t:"n"}],[{v:R[H].fcff/Math.pow(1+a.discountRate,H+1),f:`${q}17/(1+Inputs!B6)^${H+1}`,t:"n"}]],{origin:`${q}2`})}const Q=[[],["Valuation Metrics"],["Terminal Value",{v:l.terminalValue,f:"(F17*(1+Inputs!B8))/(Inputs!B6-Inputs!B8)",t:"n"}],["PV of Terminal Value",{v:l.terminalValue/Math.pow(1+a.discountRate,5),f:"B21/(1+Inputs!B6)^5",t:"n"}],["Enterprise Value",{v:l.enterpriseValue,f:"SUM(B18:F18)+B22",t:"n"}],["NPV",{v:l.npv,f:"B23-Inputs!B3",t:"n"}],["IRR",{v:l.irr,f:"IRR(H2:M2)",t:"n"}]],V=[-a.initialRevenue,...l.cashFlows.map(H=>H.fcff)];wu.sheet_add_aoa(O,[V],{origin:"H2"}),wu.sheet_add_aoa(O,Q,{origin:"A19"});const re=wu.aoa_to_sheet([["Xinovates Cash Flow Model: "+r.selectedBrandName],[],["Key Outputs"],["Enterprise Value",l.enterpriseValue],["Net Present Value (NPV)",l.npv],["Internal Rate of Return (IRR)",l.irr]]),P=wu.book_new();wu.book_append_sheet(P,re,"Dashboard"),wu.book_append_sheet(P,O,"Calculations"),wu.book_append_sheet(P,k,"Inputs"),yLe(P,`${r.selectedBrandName}_Cash_Flow_Model.xlsx`)};return t?d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:d.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] flex flex-col animate-fade-in",onClick:F=>F.stopPropagation(),children:[d.jsxs("header",{className:"p-4 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(SI,{className:"w-6 h-6 text-blue-400"}),d.jsx("h2",{className:"text-xl font-bold text-white",children:"Interactive Cash Flow Model"})]}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Wd,{className:"w-8 h-8"})})]}),d.jsxs("div",{className:"flex flex-grow overflow-hidden",children:[d.jsxs("aside",{className:"w-1/3 p-4 border-r border-gray-700 overflow-y-auto space-y-4",children:[d.jsx("h3",{className:"font-semibold text-lg text-gray-200",children:"Assumptions"}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Oh,{label:"Initial Revenue",value:a.initialRevenue,onChange:F=>y("initialRevenue",F)}),d.jsx(Oh,{label:"Discount Rate (WACC)",value:a.discountRate,onChange:F=>y("discountRate",F),isPercent:!0}),d.jsx(Oh,{label:"Tax Rate",value:a.taxRate,onChange:F=>y("taxRate",F),isPercent:!0}),d.jsxs("div",{className:"pt-2",children:[d.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Terminal Value"}),d.jsxs("select",{value:a.terminalValueMethod,onChange:F=>y("terminalValueMethod",F.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2 text-sm text-white focus:ring-2 themed-focus-ring focus:outline-none",children:[d.jsx("option",{children:"Exit Multiple"}),d.jsx("option",{children:"Gordon Growth"})]})]}),a.terminalValueMethod==="Exit Multiple"?d.jsx(Oh,{label:"Exit Multiple (x EBITDA)",value:a.exitMultiple,onChange:F=>y("exitMultiple",F)}):d.jsx(Oh,{label:"Terminal Growth Rate",value:a.terminalGrowthRate,onChange:F=>y("terminalGrowthRate",F),isPercent:!0}),[...Array(a.forecastHorizon)].map((F,k)=>d.jsxs("div",{className:"p-3 bg-gray-900/50 rounded-lg",children:[d.jsxs("h4",{className:"font-semibold text-gray-300 mb-2",children:["Year ",k+1]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Oh,{label:"Revenue Growth",value:a.revenueGrowthRate[k],onChange:O=>x("revenueGrowthRate",k,O),isPercent:!0}),d.jsx(Oh,{label:"COGS %",value:a.cogsPercentage[k],onChange:O=>x("cogsPercentage",k,O),isPercent:!0}),d.jsx(Oh,{label:"R&D %",value:a.opex.researchAndDevelopment[k],onChange:O=>w("researchAndDevelopment",k,O),isPercent:!0}),d.jsx(Oh,{label:"S&M %",value:a.opex.salesAndMarketing[k],onChange:O=>w("salesAndMarketing",k,O),isPercent:!0}),d.jsx(Oh,{label:"G&A %",value:a.opex.generalAndAdministrative[k],onChange:O=>w("generalAndAdministrative",k,O),isPercent:!0})]})]},k))]})]}),d.jsxs("main",{className:"w-2/3 p-6 overflow-y-auto bg-black/20",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"font-semibold text-lg text-gray-200",children:"Model Output"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>S(!0),disabled:u,className:"flex items-center gap-2 px-3 py-2 text-sm bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:[u?d.jsx(vs,{}):d.jsx(zu,{className:"w-4 h-4"})," AI Suggestions"]}),d.jsxs("button",{onClick:()=>S(!1),disabled:u,className:"flex items-center gap-2 px-4 py-2 text-sm primary-button text-white font-bold rounded-lg disabled:opacity-50",children:[u?d.jsx(vs,{}):d.jsx(SI,{className:"w-4 h-4"})," Run Model"]})]})]}),p&&d.jsx("p",{className:"text-red-400 text-center my-4",children:p}),!l&&!u&&d.jsx("p",{className:"text-gray-500 text-center mt-12",children:'Enter your assumptions and click "Run Model" to see the output.'}),u&&d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx(vs,{})}),l&&d.jsxs("div",{className:"animate-fade-in space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[d.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-400",children:"Enterprise Value"}),d.jsx("p",{className:"text-2xl font-bold text-green-400",children:EN(l.enterpriseValue)})]}),d.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-400",children:"NPV"}),d.jsx("p",{className:"text-2xl font-bold text-blue-400",children:EN(l.npv)})]}),d.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-400",children:"IRR"}),d.jsxs("p",{className:"text-2xl font-bold text-purple-400",children:[(l.irr*100).toFixed(1),"%"]})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-gray-900/50 text-xs text-gray-400 uppercase",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-2",children:"Metric"}),l.cashFlows.map(F=>d.jsxs("th",{className:"p-2 text-right",children:["Year ",F.year]},F.year))]})}),d.jsx("tbody",{className:"text-gray-300",children:[{label:"Revenue",key:"revenue",isBold:!0,isCurrency:!0},{label:"COGS",key:"cogs",isCurrency:!0},{label:"Gross Profit",key:"grossProfit",isBold:!0,isCurrency:!0},{label:"R&D",key:"researchAndDevelopment",isOpex:!0,isCurrency:!0},{label:"S&M",key:"salesAndMarketing",isOpex:!0,isCurrency:!0},{label:"G&A",key:"generalAndAdministrative",isOpex:!0,isCurrency:!0},{label:"Total OPEX",key:"total",isOpex:!0,isBold:!0,isCurrency:!0},{label:"EBITDA",key:"ebitda",isBold:!0,isCurrency:!0},{label:"Depreciation",key:"depreciation",isCurrency:!0},{label:"EBIT",key:"ebit",isBold:!0,isCurrency:!0},{label:"Taxes",key:"taxes",isCurrency:!0},{label:"NOPAT",key:"nopat",isBold:!0,isCurrency:!0},{label:"FCFF",key:"fcff",isBold:!0,isCurrency:!0,isHighlighted:!0}].map(F=>d.jsxs("tr",{className:`border-t border-gray-700/50 ${F.isBold?"font-semibold":""} ${F.isHighlighted?"bg-blue-500/10":""}`,children:[d.jsx("td",{className:"p-2",children:F.label}),l.cashFlows.map(k=>{let O;if("isOpex"in F&&F.isOpex){const R=F.key;O=k.opex[R]}else{const R=F.key;O=k[R]}return d.jsx("td",{className:"p-2 text-right font-mono",children:EN(O)},k.year)})]},F.label))})]})})]})]})]}),d.jsxs("footer",{className:"p-4 border-t border-gray-700 flex-shrink-0 flex justify-end items-center gap-4",children:[d.jsxs("button",{onClick:B,disabled:!l,className:"flex items-center gap-2 px-4 py-2 text-sm bg-green-700 text-white font-semibold rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50",children:[d.jsx(_le,{className:"w-5 h-5"})," Export XLSX"]}),d.jsxs("button",{onClick:()=>l&&s(l),disabled:!l,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[d.jsx(EI,{className:"w-5 h-5"})," Save and Close"]})]})]})}):null},kLe=["Develop a sustainable solution for urban food waste.","Create a new digital learning tool for remote students.","Design a product that helps elderly people live more independently at home.","Invent a new form of personal transportation for crowded cities."],LLe=({onClose:t})=>d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:t,children:d.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] flex flex-col animate-fade-in",onClick:e=>e.stopPropagation(),children:[d.jsxs("header",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 flex-shrink-0 rounded-full flex items-center justify-center p-1 bg-gray-900 border border-gray-600",children:d.jsx(uG,{className:"w-8 h-8 text-blue-400"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-white",children:"How to use Xinovates"}),d.jsx("p",{className:"text-sm text-gray-400",children:"A guide to the Double Diamond venture creation process."})]})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Wd,{className:"w-8 h-8"})})]}),d.jsxs("div",{className:"p-6 overflow-y-auto flex-grow bg-black/20 text-gray-300 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg text-white mb-2",children:"The Double Diamond Process"}),d.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"This framework follows the four phases of the Double Diamond design thinking model to ensure we are solving the right problem before building the right solution."}),d.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-300",children:[d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Define the Challenge:"})," Enter a problem you want to solve or an area to innovate in."]}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Start Innovation:"}),' The system will first run the "Problem Diamond" (Discover & Define) to understand the user and define a core problem statement.']}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Solution Development:"}),' Next, the "Solution Diamond" (Develop & Deliver) will brainstorm solutions for the defined problem, select the best one, and build it out into a full venture plan.']}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Review the Final Report:"})," Once all phases are complete, a comprehensive report appears. You can review all generated canvases and download a full PDF report or an investor-ready Pitch Deck."]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg text-white mb-2",children:"Strategic Directives"}),d.jsx("p",{className:"text-sm text-gray-400 mb-3",children:'Guide the overall "mindset" of the AI agents to prioritize specific outcomes:'}),d.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-300",children:[d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Balanced Approach:"})," The default setting. Considers all factors like innovation, market size, and feasibility relatively equally."]}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Time to Market:"})," Prioritizes speed and simplicity. The agents will focus on ideas that can be launched quickly as a Minimum Viable Product (MVP)."]}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Unique Value Proposition:"})," Prioritizes innovation and defensibility. The agents will favor more radical ideas and novel technologies to create a strong competitive moat."]}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Capital Efficiency:"})," Prioritizes a lean, bootstrap-friendly approach. The agents will focus on ideas that require minimal upfront investment and can generate revenue early."]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg text-white mb-2",children:"The Agent Team"}),d.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"The simulation consists of the following expert agents organized by phase:"}),d.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-300",children:q2.map(e=>d.jsxs("li",{children:[d.jsxs("strong",{className:"text-white",children:[e.name,":"]})," ",e.description]},e.role))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg text-white mb-2",children:"Sample Challenges"}),d.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Not sure where to start? Try one of these:"}),d.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-300",children:kLe.map((e,r)=>d.jsxs("li",{children:['"',e,'"']},r))})]})]})]})}),RLe=t=>Array.from(new Uint8Array(t)).map(e=>e.toString(16).padStart(2,"0")).join(""),r2=async t=>{const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r);return RLe(n)},dJ=({onClose:t})=>d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:t,children:d.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] flex flex-col animate-fade-in",onClick:e=>e.stopPropagation(),children:[d.jsxs("header",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 flex-shrink-0 rounded-full flex items-center justify-center p-1 bg-gray-900 border border-gray-600",children:d.jsx(kle,{className:"w-8 h-8 text-blue-400"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-white",children:"Version History"}),d.jsxs("p",{className:"text-sm text-gray-400",children:["Current Version: ",mL]})]})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Wd,{className:"w-8 h-8"})})]}),d.jsx("div",{className:"p-6 overflow-y-auto flex-grow bg-black/20 text-gray-300 space-y-8",children:Hle.map((e,r)=>d.jsxs("div",{className:"border-l-4 border-gray-700 pl-4 py-2 hover:border-blue-400 transition-colors duration-300",children:[d.jsxs("h3",{className:"font-semibold text-lg text-white",children:["Version ",e.version]}),d.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e.date}),d.jsx("ul",{className:"space-y-2 text-sm text-gray-400",children:e.changes.map((n,i)=>{const s=n.split("**:",2);if(s.length>1){const a=s[0].replace(/\*/g,"").trim(),o=s[1].trim();let l="bg-gray-600 text-gray-200";return a.toLowerCase().includes("major")?l="bg-yellow-500/20 text-yellow-300":a.toLowerCase().includes("feature")?l="bg-blue-500/20 text-blue-300":a.toLowerCase().includes("improvement")?l="bg-green-500/20 text-green-300":a.toLowerCase().includes("patch")&&(l="bg-gray-500/20 text-gray-300"),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:`mt-1 flex-shrink-0 text-xs font-bold px-2 py-0.5 rounded-full ${l}`,children:a}),d.jsx("span",{children:o})]},i)}return d.jsx("li",{className:"ml-4 pl-2 list-disc",children:n},i)})})]},r))})]})}),MLe=({onLogin:t,isTransitioning:e})=>{const[r,n]=Xe.useState(!0),[i,s]=Xe.useState(""),[a,o]=Xe.useState(""),[l,c]=Xe.useState(""),[u,f]=Xe.useState(!0),[p,g]=Xe.useState(null),[y,x]=Xe.useState(!1),[w,S]=Xe.useState(!1),[B,F]=Xe.useState(!1),[k,O]=Xe.useState(""),R=["rezakalantarinezhad@gmail.com","masihhashemi1383@gmail.com","reza.kalantarinejad@xinovates.co.uk"],D="Xinovates@1211",Q="Xinovate@#366",V=()=>{s(""),o(""),c(""),f(!0),g(null),x(!1),F(!1),O("")},re=()=>{n(!r),V()},P=async ee=>{ee.preventDefault(),g(null),x(!0);const te=i.toLowerCase().trim();if(R.includes(te)){const G=await r2(D);if(await r2(a)===G){let J=await xs.getUser(te);const ae={username:te,passwordHash:G,authMethod:"local",role:"admin",status:"active",displayName:(J==null?void 0:J.displayName)||"Admin",runCount:(J==null?void 0:J.runCount)||0,maxRuns:1e4};J?await xs.updateUser(ae):await xs.addUser(ae);const{passwordHash:ve,...Fe}=ae;t(Fe,u);return}else{g("Invalid Admin Password. This email is reserved for administrators."),x(!1);return}}const Ce=await xs.getUser(te);if(!Ce){g("User does not exist. Please sign up."),x(!1);return}if(await r2(a)!==Ce.passwordHash){g("Invalid password."),x(!1);return}const{passwordHash:le,...M}=Ce;t(M,u)},H=async ee=>{if(ee.preventDefault(),g(null),a!==l){g("Passwords do not match.");return}if(a.length<6){g("Password must be at least 6 characters long.");return}const te=i.toLowerCase().trim();if(R.includes(te)){g("This email is reserved for administrators. Please log in directly with the Admin password.");return}if(x(!0),await xs.getUser(te)){g("Username is already taken."),x(!1);return}const Ce=await r2(a),ke={username:te,passwordHash:Ce,authMethod:"local",role:"user",status:"pending",displayName:i,runCount:0,maxRuns:1};if(await xs.addUser(ke)){const{passwordHash:M,...G}=ke;t(G,u)}else g("Failed to create user. Please try again."),x(!1)},q=async ee=>{if(ee.preventDefault(),g(null),k!==Q){g("Invalid access code.");return}x(!0);const te="vip_innovator";let Ce=await xs.getUser(te);if(!Ce){const M=await r2(Q),G={username:te,passwordHash:M,authMethod:"local",role:"user",status:"active",displayName:"VIP Access",runCount:0,maxRuns:99999};await xs.addUser(G),Ce=G}const{passwordHash:ke,...le}=Ce;t(le,!1)},Z=r?"Login to Your Venture":"Create a New Profile",se=r?"Enter your credentials to access your saved innovation runs.":"Sign up to save your innovation runs and track your progress.",X=y||e;return d.jsxs("div",{className:"min-h-screen flex flex-col p-4",children:[d.jsxs("main",{className:"flex-grow flex flex-col items-center justify-center",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs("div",{className:"flex justify-center items-center gap-4",children:[d.jsx(cG,{className:"w-16 h-16"}),d.jsxs("h1",{className:"text-5xl sm:text-6xl font-bold",children:[d.jsx("span",{className:"text-transparent bg-clip-text logo-text-x-grad",children:"X"}),d.jsx("span",{className:"text-white",children:"inovates"})]})]}),d.jsx("p",{className:"mt-3 text-lg text-gray-400",children:"Your AI Co-Founder for turning ideas into ventures."}),d.jsxs("button",{onClick:()=>S(!0),className:"mt-2 text-sm text-gray-500 hover:text-gray-300 hover:underline transition-colors",children:["v",mL]})]}),d.jsxs("div",{className:"w-full max-w-md bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-2xl border themed-border",children:[d.jsxs("form",{onSubmit:r?P:H,children:[d.jsx("h2",{className:"text-2xl font-semibold text-white mb-2 text-center",children:Z}),d.jsx("p",{className:"text-gray-400 text-sm mb-6 text-center",children:se}),p&&d.jsx("p",{className:"bg-red-900/50 border border-red-500/50 text-red-300 text-sm text-center p-3 rounded-lg mb-4",children:p}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:r?"Username or Email":"Username"}),d.jsx("input",{id:"username",type:"text",value:i,onChange:ee=>s(ee.target.value),placeholder:"e.g., innovator24",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 themed-focus-ring focus:outline-none transition-all duration-300 text-gray-200 placeholder-gray-500",required:!0,disabled:X,"aria-label":"Username"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),d.jsx("input",{id:"password",type:"password",value:a,onChange:ee=>o(ee.target.value),placeholder:"",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 themed-focus-ring focus:outline-none transition-all duration-300 text-gray-200 placeholder-gray-500",required:!0,disabled:X,"aria-label":"Password"})]}),!r&&d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),d.jsx("input",{id:"confirmPassword",type:"password",value:l,onChange:ee=>c(ee.target.value),placeholder:"",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 themed-focus-ring focus:outline-none transition-all duration-300 text-gray-200 placeholder-gray-500",required:!0,disabled:X,"aria-label":"Confirm Password"})]}),d.jsx("div",{className:"my-6",children:d.jsxs("label",{className:"flex items-center cursor-pointer",children:[d.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:u,onChange:ee=>f(ee.target.checked),disabled:X,className:"h-4 w-4 rounded border-gray-500 bg-gray-700 text-blue-500 themed-focus-ring focus:ring-offset-gray-800"}),d.jsx("span",{className:"ml-3 text-sm font-medium text-gray-300",children:"Stay logged in"})]})}),d.jsx("button",{type:"submit",disabled:X||!i.trim()||!a.trim(),className:"w-full px-8 py-3 primary-button text-white font-bold rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center",children:y&&!e?d.jsx(vs,{}):r?"Login":"Sign Up"})]}),d.jsx("div",{className:"mt-6 flex flex-col items-center gap-4 border-t border-gray-700 pt-6",children:B?d.jsxs("form",{onSubmit:q,className:"w-full max-w-[320px] animate-fade-in",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"password",value:k,onChange:ee=>O(ee.target.value),placeholder:"Enter Access Code",className:"flex-grow p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 themed-focus-ring focus:outline-none text-white placeholder-gray-500 text-sm",disabled:X}),d.jsx("button",{type:"submit",disabled:X||!k.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg disabled:opacity-50 transition-colors",children:"Go"})]}),d.jsx("button",{type:"button",onClick:()=>F(!1),className:"text-xs text-gray-500 mt-2 hover:text-gray-300 block w-full text-center",children:"Cancel"})]}):d.jsxs("button",{type:"button",onClick:()=>F(!0),disabled:X,className:"w-full max-w-[320px] px-8 py-3 bg-gray-700 hover:bg-gray-600 text-gray-300 font-bold rounded-lg disabled:opacity-50 transition-colors flex items-center justify-center gap-2 text-sm",children:[d.jsx(gG,{className:"w-4 h-4"}),"Have an Access Code?"]})}),d.jsxs("p",{className:"text-center text-sm text-gray-400 mt-6",children:[r?"Don't have a profile?":"Already have a profile?",d.jsx("button",{type:"button",onClick:re,disabled:X,className:"font-semibold text-blue-400 hover:text-blue-300 ml-2 focus:outline-none disabled:opacity-50",children:r?"Sign Up":"Login"})]})]})]}),d.jsxs("footer",{className:"w-full text-center py-4 text-gray-500 text-xs flex-shrink-0",children:[d.jsxs("p",{children:[" ",new Date().getFullYear()," Reza Kalantarinejad & Marc J Ventresca"]}),d.jsx("p",{children:"Sad Business School, University of Oxford"})]}),w&&d.jsx(dJ,{onClose:()=>S(!1)})]})},ULe=({runs:t,onLoad:e,onDelete:r,onClose:n})=>d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:n,children:d.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] flex flex-col animate-fade-in",onClick:i=>i.stopPropagation(),children:[d.jsxs("header",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 flex-shrink-0 rounded-full flex items-center justify-center p-1 bg-gray-900 border border-gray-600",children:d.jsx(hG,{className:"w-8 h-8 text-blue-400"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-white",children:"My Saved Runs"}),d.jsx("p",{className:"text-sm text-gray-400",children:"Review your past innovation sessions."})]})]}),d.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Wd,{className:"w-8 h-8"})})]}),d.jsx("div",{className:"p-2 sm:p-4 overflow-y-auto flex-grow bg-black/20 text-gray-300",children:t.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx("p",{className:"text-gray-400",children:"You have no saved runs yet."}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'Complete a simulation and click "Save Run" to see it here.'})]}):d.jsx("ul",{className:"space-y-3",children:t.map(i=>d.jsxs("li",{className:"bg-gray-700/50 p-4 rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{className:"flex-grow",children:[d.jsx("p",{className:"font-semibold text-white truncate",title:i.title||i.challenge,children:i.title||i.challenge}),d.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Saved: ",new Date(i.savedAt).toLocaleString()]})]}),d.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[d.jsx("button",{onClick:()=>e(i.id),className:"px-4 py-2 text-sm bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:"Load"}),d.jsx("button",{onClick:()=>r(i.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors",title:"Delete run",children:d.jsx(W_,{className:"w-5 h-5"})})]})]},i.id))})})]})}),PH=({title:t,icon:e,children:r})=>d.jsxs("div",{className:"bg-gray-800/60 p-4 rounded-lg flex-grow",children:[d.jsxs("h4",{className:"font-semibold text-base mb-3 text-gray-300 flex items-center gap-2",children:[e," ",t]}),d.jsx("div",{className:"text-sm text-gray-400 space-y-2",children:r})]}),DLe=({problemStatement:t,customerPersona:e,selectedSolution:r,allCritiques:n,onApprove:i,onEnhance:s,onCancelEnhancement:a,onRestart:o,isGenerating:l,isEnhancing:c,enhancementProgress:u,error:f})=>{if(!t||!e||!r||!n)return null;const p=n.find(x=>x.solutionId===r.selectedSolutionId),g=p==null?void 0:p.devilsAdvocate,y=l||c;return d.jsx("div",{className:"w-full max-w-5xl mx-auto my-8 animate-fade-in",children:d.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm p-6 rounded-xl shadow-2xl border themed-border",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-semibold main-title text-transparent bg-clip-text",children:"Refinement & Decision Stage"}),d.jsx("p",{className:"text-gray-400 mt-1",children:"Review the selected solution and the Devil's Advocate critique. You can enhance the solution or proceed."})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs(PH,{title:"Selected Solution",icon:d.jsx(xC,{className:"w-5 h-5 text-yellow-400"}),children:[d.jsx("p",{className:"font-bold text-lg text-yellow-300",children:r.solutionTitle}),d.jsx("p",{className:"text-xs mt-2 mb-4 italic",children:r.solutionDescription}),d.jsxs("p",{className:"text-xs text-gray-500",children:["Justification: ",r.justification]})]}),g&&d.jsxs(PH,{title:"Devil's Advocate Critique",icon:d.jsx(CI,{className:"w-5 h-5 text-red-400"}),children:[d.jsxs("div",{children:[d.jsx("h5",{className:"font-semibold text-sm text-red-400 flex items-center gap-1 mb-2",children:"Weaknesses"}),d.jsx("ul",{className:"list-disc list-inside text-xs space-y-1",children:g.weaknesses.map((x,w)=>d.jsx("li",{children:x},w))})]}),d.jsxs("div",{className:"mt-3",children:[d.jsx("h5",{className:"font-semibold text-sm text-red-400 flex items-center gap-1 mb-2",children:"Tough Questions"}),d.jsx("ul",{className:"list-disc list-inside text-xs space-y-1",children:g.questions.map((x,w)=>d.jsx("li",{children:x},w))})]})]})]}),r.history&&r.history.length>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-base font-semibold text-gray-300 mb-2",children:"Enhancement History"}),d.jsx("div",{className:"space-y-2 border-l-2 border-gray-700 pl-4",children:r.history.map((x,w)=>d.jsxs("div",{className:"relative pl-4",children:[d.jsx("div",{className:"absolute -left-5 top-1 w-2 h-2 rounded-full bg-gray-600"}),d.jsxs("p",{className:"text-sm font-semibold text-gray-400",children:["Version ",w+1,": ",x.title]}),d.jsx("p",{className:"text-xs text-gray-500",children:x.description})]},w))})]}),d.jsxs("div",{className:"mt-8 pt-6 border-t themed-border text-center",children:[d.jsx("h3",{className:"text-xl font-semibold text-white",children:"Choose your next step"}),d.jsx("p",{className:"text-gray-400 mt-2 mb-6",children:"Address the critique by enhancing the solution with AI, or approve the current version to generate the full venture plan."}),d.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-4",children:[d.jsxs("button",{onClick:o,disabled:y,className:"px-6 py-3 bg-gray-600 hover:bg-gray-500 text-white font-bold rounded-lg disabled:opacity-50 transition-colors flex items-center gap-2",children:[d.jsx(lG,{className:"w-5 h-5"}),"Start Over"]}),d.jsxs("button",{onClick:s,disabled:y,className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-lg disabled:opacity-50 transition-colors flex items-center gap-2",children:[c?d.jsx(vs,{}):d.jsx(zu,{className:"w-5 h-5"}),c?"Enhancing...":"Enhance with AI"]}),c&&d.jsx("button",{onClick:a,className:"px-4 py-3 bg-red-800/80 hover:bg-red-700 text-white font-bold rounded-lg transition-colors","aria-label":"Cancel enhancement",children:"Cancel"}),d.jsx("button",{onClick:i,disabled:y,className:"px-8 py-4 primary-button text-white font-bold rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center text-lg",children:l?d.jsx(vs,{}):d.jsxs(d.Fragment,{children:[d.jsx(Mp,{className:"w-6 h-6 mr-2"}),"Accept & Generate Plan"]})})]}),c&&u.length>0&&d.jsx("div",{className:"mt-4 text-left max-w-md mx-auto bg-gray-900 p-3 rounded-lg text-xs text-gray-400",children:d.jsx("ul",{className:"list-disc list-inside",children:u.map((x,w)=>d.jsx("li",{children:x},w))})}),f&&d.jsx("p",{className:"mt-4 text-red-400 text-sm",children:f})]})]})]})})},Il=({title:t,children:e})=>d.jsxs("section",{className:"printable-section mb-12",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-800 border-b-2 border-gray-200 pb-3 mb-6",children:t}),d.jsx("div",{className:"space-y-8",children:e})]}),OLe=hC.forwardRef(({challenge:t,report:e},r)=>{var Ce,ke;const{strategicDirective:n,founders:i,founderDna:s,research:a,customerPersona:o,empathyMap:l,problemStatement:c,technologyScoutReport:u,allSolutions:f,allCritiques:p,solutionScoring:g,selectedSolution:y,ipStrategy:x,talentStrategy:w,valueProposition:S,leanCanvas:B,storyboard:F,financialPlan:k,investmentMemo:O,riskAnalysis:R,technicalBlueprint:D,goToMarket:Q,pitchDeck:V,strategy:re,redTeam:P,ethicsReport:H,ideaArea:q,targetMarket:Z,userSolution:se,successScore:X}=e,ee=((Ce=O0.find(le=>le.value===q))==null?void 0:Ce.label)||q,te=((ke=mc.find(le=>le.value===Z))==null?void 0:ke.label)||Z;return d.jsx("div",{style:{position:"absolute",left:"-9999px",top:0,background:"white",color:"black"},className:"w-[900px]",children:d.jsxs("div",{ref:r,children:[d.jsxs("header",{className:"bg-gray-800 text-white p-12 text-center",children:[d.jsx("h1",{className:"text-6xl font-extrabold",style:{background:"linear-gradient(to right, #60a5fa, #a78bfa)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:(k==null?void 0:k.selectedBrandName)||"Innovation Report"}),d.jsx("p",{className:"text-xl text-gray-300 mt-4",children:"Venture Creation Report"}),d.jsxs("p",{className:"mt-8 text-lg bg-gray-700 p-4 rounded-lg inline-block text-left leading-relaxed",children:[d.jsx("span",{className:"font-bold",children:"Area:"})," ",ee,d.jsx("br",{}),d.jsx("span",{className:"font-bold",children:"Market:"})," ",te,d.jsx("br",{}),d.jsx("span",{className:"font-bold",children:"Initial Challenge:"}),' "',t,'"',se&&d.jsxs(d.Fragment,{children:[d.jsx("br",{}),d.jsx("span",{className:"font-bold",children:"Provided Solution:"}),' "',se,'"']})]})]}),d.jsxs("main",{className:"max-w-4xl mx-auto p-8",children:[k&&d.jsx(kY,{data:k,isPrintable:!0}),(V==null?void 0:V.executiveSummary)&&d.jsx(Il,{title:"Executive Summary",children:d.jsx("p",{className:"text-gray-600 whitespace-pre-line leading-relaxed text-lg",children:V.executiveSummary})}),O&&d.jsx(Il,{title:"Investment Memo",children:d.jsx(PT,{data:O,isPrintable:!0})}),(s||w||(i==null?void 0:i.some(le=>le.analysisProfile)))&&d.jsxs(Il,{title:"Founder & Team Strategy",children:[s&&d.jsx(LR,{analysis:s,founders:i,isPrintable:!0}),i==null?void 0:i.map(le=>le.analysisProfile&&d.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:d.jsx(HR,{profile:le.analysisProfile,isPrintable:!0})},le.id)),w&&d.jsx(RR,{data:w,isPrintable:!0}),(w==null?void 0:w.teamCapabilityAnalysis)&&d.jsx(MR,{data:w,isPrintable:!0})]}),(c||o||l||a)&&d.jsxs(Il,{title:"Problem Space & Customer Insights",children:[c&&d.jsx(_T,{data:c,isPrintable:!0}),o&&d.jsx(ET,{data:o,isPrintable:!0}),l&&d.jsx(BT,{data:l,isPrintable:!0}),((a==null?void 0:a.marketAnalysis)||(k==null?void 0:k.marketSize))&&d.jsx(UR,{researchData:a,financialData:k,isPrintable:!0})]}),(y||S||B)&&d.jsxs(Il,{title:"Solution & Business Model",children:[u&&d.jsx(NT,{data:u,isPrintable:!0}),g&&d.jsx(OT,{data:g,allSolutions:f,isPrintable:!0}),y&&d.jsx(TT,{data:y,allSolutions:f,allCritiques:p,isPrintable:!0}),x&&d.jsx(PR,{data:x,isPrintable:!0}),S&&d.jsx(FT,{data:S,isPrintable:!0}),B&&d.jsx(IT,{data:B,isPrintable:!0})]}),F&&d.jsx(Il,{title:"Customer Journey Storyboard",children:d.jsx(kT,{data:F,isPrintable:!0})}),re&&d.jsxs(Il,{title:"Strategic Advantages",children:[d.jsx(RT,{data:re,isPrintable:!0}),(a==null?void 0:a.competitiveLandscape)&&a.competitiveLandscape.length>0&&d.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[d.jsx("h4",{className:"text-2xl font-bold mb-4 text-gray-700",children:"Initial Competitive Landscape"}),d.jsx(DR,{data:a,isPrintable:!0})]})]}),Q&&d.jsx(Il,{title:"Go-to-Market Strategy",children:d.jsx(MT,{data:Q,isPrintable:!0})}),R&&d.jsxs(Il,{title:"Risk Analysis & Mitigation",children:[d.jsx(UT,{data:R,isPrintable:!0}),(a==null?void 0:a.ethicalConsiderations)&&a.ethicalConsiderations.length>0&&d.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[d.jsx("h4",{className:"text-2xl font-bold mb-4 text-gray-700",children:"Initial Ethical Considerations"}),d.jsx(jR,{data:a,isPrintable:!0})]})]}),D&&d.jsx(Il,{title:"Operational & Technical Blueprint",children:d.jsx(DT,{data:D,isPrintable:!0})}),k&&d.jsx(Il,{title:"Financial Plan & Projections",children:d.jsx(LT,{data:k,isPrintable:!0})}),P&&d.jsx(Il,{title:"Red Team Analysis",children:d.jsx(OR,{data:P,isPrintable:!0})}),H&&d.jsx(Il,{title:"Ethics & Compliance Audit",children:d.jsx(GR,{data:H,isPrintable:!0})}),X&&d.jsxs(Il,{title:"Venture Success Score",children:[d.jsx(kR,{data:X,isPrintable:!0}),d.jsx("div",{className:"mt-8",children:d.jsx(VR,{data:X,isPrintable:!0})})]}),(a==null?void 0:a.sources)&&a.sources.length>0&&d.jsx(Il,{title:"References",children:d.jsx(QR,{sources:a.sources,isPrintable:!0})})]})]})})}),PLe=({persona:t,onClose:e})=>{const[r,n]=Xe.useState([]),[i,s]=Xe.useState(""),[a,o]=Xe.useState(!1),[l,c]=Xe.useState(null),u=Xe.useRef(null),f=Xe.useRef(null);Xe.useEffect(()=>{if(t){const g=new TL({apiKey:"PLACEHOLDER_API_KEY"}),y=`You are playing the role of ${t.name}, a ${t.age}-year-old ${t.occupation}.
Your personality and background:
- Bio: ${t.bio}
- Your main goals in life are: ${t.goals.join(", ")}
- Your biggest frustrations are: ${t.frustrations.join(", ")}
You must answer all questions strictly from the perspective of ${t.name}. Be friendly, conversational, and embody this persona completely. Keep your answers concise and natural-sounding. Never break character or mention that you are an AI.`;u.current=g.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:y}}),n([]),c(null)}},[t]),Xe.useEffect(()=>{var g;(g=f.current)==null||g.scrollIntoView({behavior:"smooth"})},[r]);const p=async g=>{if(g.preventDefault(),!i.trim()||!u.current||a)return;const y={role:"user",text:i};n(x=>[...x,y]),s(""),o(!0),c(null);try{const x=await u.current.sendMessageStream({message:i});let w="";n(S=>[...S,{role:"model",text:"..."}]);for await(const S of x)w+=S.text,n(B=>{const F=[...B];return F[F.length-1]={role:"model",text:w},F})}catch(x){console.error(x),c("Sorry, I'm having trouble responding right now."),n(w=>{const S=[...w];return S[S.length-1].role==="model"&&S.pop(),S})}finally{o(!1)}};return t?d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:d.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl max-w-xl w-full h-[80vh] max-h-[700px] flex flex-col animate-fade-in",onClick:g=>g.stopPropagation(),children:[d.jsxs("header",{className:"p-4 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[t.avatarB64?d.jsx("img",{src:`data:image/jpeg;base64,${t.avatarB64}`,alt:t.name,className:"w-12 h-12 rounded-full object-cover"}):d.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-700"}),d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-white",children:["Interview with ",t.name]}),d.jsx("p",{className:"text-sm text-gray-400",children:t.occupation})]})]}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Wd,{className:"w-8 h-8"})})]}),d.jsxs("div",{className:"flex-grow p-4 overflow-y-auto space-y-4",children:[r.map((g,y)=>d.jsxs("div",{className:`flex items-end gap-2 ${g.role==="user"?"justify-end":"justify-start"}`,children:[g.role==="model"&&d.jsx("img",{src:`data:image/jpeg;base64,${t.avatarB64}`,alt:t.name,className:"w-8 h-8 rounded-full object-cover flex-shrink-0"}),d.jsx("div",{className:`max-w-xs md:max-w-md px-4 py-2 rounded-2xl text-white ${g.role==="user"?"bg-blue-600 rounded-br-none":"bg-gray-700 rounded-bl-none"}`,children:d.jsx("p",{className:"text-sm whitespace-pre-wrap",children:g.text})})]},y)),d.jsx("div",{ref:f})]}),d.jsxs("footer",{className:"p-4 border-t border-gray-700 flex-shrink-0",children:[l&&d.jsx("p",{className:"text-red-400 text-xs text-center mb-2",children:l}),d.jsxs("form",{onSubmit:p,className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:i,onChange:g=>s(g.target.value),placeholder:`Ask ${t.name} a question...`,disabled:a,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 themed-focus-ring focus:outline-none transition-all duration-300 text-gray-200 placeholder-gray-500 disabled:opacity-50"}),d.jsx("button",{type:"submit",disabled:a||!i.trim(),className:"p-3 bg-blue-600 text-white rounded-lg disabled:opacity-50 hover:bg-blue-700 transition-colors",children:a?d.jsx(vs,{}):d.jsx(mG,{className:"w-6 h-6"})})]})]})]})}):null},HLe=()=>d.jsx("div",{className:"my-6 p-4 bg-gray-900/50 rounded-lg",children:d.jsxs("svg",{viewBox:"0 0 420 120",className:"w-full font-sans",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"diamondGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[d.jsx("stop",{offset:"0%",stopColor:"rgba(96, 165, 250, 0.1)"}),d.jsx("stop",{offset:"100%",stopColor:"rgba(167, 139, 250, 0.3)"})]}),d.jsx("marker",{id:"arrowhead",markerWidth:"6",markerHeight:"4",refX:"5",refY:"2",orient:"auto",children:d.jsx("polygon",{points:"0 0, 6 2, 0 4",fill:"#a78bfa"})})]}),d.jsx("path",{d:"M10 60 L60 10 L110 60 L60 110 Z",fill:"url(#diamondGrad)",stroke:"#60a5fa",strokeWidth:"1.5"}),d.jsx("path",{d:"M150 60 L200 10 L250 60 L200 110 Z",fill:"url(#diamondGrad)",stroke:"#a78bfa",strokeWidth:"1.5"}),d.jsx("path",{d:"M60 10 L60 110",stroke:"#60a5fa",strokeWidth:"0.5",strokeDasharray:"2,2"}),d.jsx("path",{d:"M200 10 L200 110",stroke:"#a78bfa",strokeWidth:"0.5",strokeDasharray:"2,2"}),d.jsx("text",{x:"35",y:"65",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Discover"}),d.jsx("text",{x:"85",y:"65",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Define"}),d.jsx("text",{x:"175",y:"65",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Develop"}),d.jsx("text",{x:"225",y:"65",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Deliver"}),d.jsx("text",{x:"60",y:"118",textAnchor:"middle",fill:"#60a5fa",fontSize:"10",fontWeight:"500",children:"PROBLEM SPACE"}),d.jsx("text",{x:"200",y:"118",textAnchor:"middle",fill:"#a78bfa",fontSize:"10",fontWeight:"500",children:"SOLUTION SPACE"}),d.jsx("path",{d:"M115 60 L145 60",stroke:"#a78bfa",strokeWidth:"1.5",markerEnd:"url(#arrowhead)"}),d.jsx("path",{d:"M255 60 L285 60",stroke:"#a78bfa",strokeWidth:"1.5",markerEnd:"url(#arrowhead)"}),d.jsx("rect",{x:"295",y:"40",width:"120",height:"40",rx:"8",fill:"rgba(255,255,255,0.1)",stroke:"white",strokeWidth:"1"}),d.jsx("text",{x:"355",y:"65",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Venture Plan"})]})}),QLe=({onExport:t})=>d.jsx("div",{className:"relative font-sans text-xs",children:d.jsxs("svg",{viewBox:"0 0 960 380",className:"w-full h-auto bg-gray-800/20 rounded-lg border border-gray-700 p-2",children:[d.jsx("title",{id:"ai-dd-title",children:"AI-Augmented Double Diamond Diagram"}),d.jsx("desc",{id:"ai-dd-desc",children:"A diagram showing how AI expands the discovery and solution development phases of the Double Diamond model."}),d.jsxs("defs",{children:[d.jsx("marker",{id:"arrowhead-diag",markerWidth:"5",markerHeight:"3.5",refX:"4.5",refY:"1.75",orient:"auto",children:d.jsx("polygon",{points:"0 0, 5 1.75, 0 3.5",fill:"currentColor"})}),d.jsxs("linearGradient",{id:"expansionGradient",x1:"0.5",y1:"0",x2:"0.5",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"rgba(96, 165, 250, 0.4)"}),d.jsx("stop",{offset:"100%",stopColor:"rgba(96, 165, 250, 0.15)"})]}),d.jsxs("filter",{id:"expansionGlow",children:[d.jsx("feGaussianBlur",{stdDeviation:"8",result:"coloredBlur"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"coloredBlur"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),d.jsxs("g",{filter:"url(#expansionGlow)",children:[d.jsx("path",{d:"M100 200 L 305 40 L 510 200 L 305 360 Z",fill:"url(#expansionGradient)",stroke:"none"}),d.jsx("path",{d:"M510 200 L 715 40 L 920 200 L 715 360 Z",fill:"url(#expansionGradient)",stroke:"none"})]}),d.jsx("text",{x:"25",y:"260",fill:"#9ca3af",className:"font-semibold",transform:"rotate(-90, 25, 200)",children:"AI-Augmented Double Diamond"}),d.jsx("text",{x:"305",y:"30",textAnchor:"middle",className:"font-bold text-base text-gray-200",children:"Problem Space"}),d.jsx("text",{x:"715",y:"30",textAnchor:"middle",className:"font-bold text-base text-gray-200",children:"Solution Space"}),[...Array(7)].map((e,r)=>d.jsxs("g",{className:"text-gray-500",children:[d.jsx("path",{d:`M105 200 L290 ${80+r*35}`,fill:"none",stroke:"currentColor",strokeWidth:"1",markerEnd:"url(#arrowhead-diag)"}),d.jsx("path",{d:`M290 ${80+r*35} L 495 200`,fill:"none",stroke:"currentColor",strokeWidth:"1",markerEnd:"url(#arrowhead-diag)"}),d.jsx("path",{d:`M515 200 L 690 ${80+r*35}`,fill:"none",stroke:"currentColor",strokeWidth:"1",markerEnd:"url(#arrowhead-diag)"}),d.jsx("path",{d:`M690 ${80+r*35} L 915 200`,fill:"none",stroke:"currentColor",strokeWidth:"1",markerEnd:"url(#arrowhead-diag)"})]},`arrow-set-1-${r}`)),d.jsx("circle",{cx:"100",cy:"200",r:"8",fill:"#e5e7eb"}),d.jsx("circle",{cx:"510",cy:"200",r:"8",fill:"#1f2937",stroke:"#e5e7eb",strokeWidth:"2"}),d.jsx("circle",{cx:"920",cy:"200",r:"8",fill:"#1f2937",stroke:"#e5e7eb",strokeWidth:"2"}),[...Array(11)].map((e,r)=>d.jsx("circle",{cx:"290",cy:100+r*20,r:"5",fill:"#facc15"},`node-col-1-${r}`)),[...Array(11)].map((e,r)=>d.jsx("circle",{cx:"315",cy:100+r*20,r:"5",fill:"#60a5fa"},`node-col-2-${r}`)),[...Array(11)].map((e,r)=>d.jsx("rect",{x:"685",y:100+r*20-5,width:"10",height:"10",fill:"#f87171"},`node-col-3-${r}`)),[...Array(11)].map((e,r)=>d.jsx("rect",{x:"710",y:100+r*20-5,width:"10",height:"10",fill:"#facc15"},`node-col-4-${r}`)),d.jsxs("g",{className:"cursor-pointer",children:[d.jsx("title",{children:"Define the context and stakeholders; surface initial assumptions."}),d.jsx("text",{x:"210",y:"340",textAnchor:"middle",className:"fill-gray-300 font-semibold",children:"Problem Articulation"})]}),d.jsxs("g",{className:"cursor-pointer",children:[d.jsx("title",{children:"Converge on precise needs and success criteria."}),d.jsx("text",{x:"400",y:"340",textAnchor:"middle",className:"fill-gray-300 font-semibold",children:"Problem Selection"})]}),d.jsxs("g",{className:"cursor-pointer",children:[d.jsx("title",{children:"Explore solution options and architectures."}),d.jsx("text",{x:"610",y:"340",textAnchor:"middle",className:"fill-gray-300 font-semibold",children:"Concept Generation"})]}),d.jsxs("g",{className:"cursor-pointer",children:[d.jsx("title",{children:"Prioritize, test, and iterate toward delivery."}),d.jsx("text",{x:"810",y:"340",textAnchor:"middle",className:"fill-gray-300 font-semibold",children:"Concept Selection & Development"})]}),d.jsxs("g",{children:[d.jsx("rect",{x:"580",y:"360",width:"15",height:"15",fill:"rgba(96, 165, 250, 0.2)",stroke:"#60a5fa"}),d.jsx("text",{x:"600",y:"372",className:"fill-gray-400",children:"Expansion of the double diamond enabled by AI"})]})]})}),jLe={[Ne.FOUNDER_DNA]:{howItWorks:"It takes the founders' self-described backgrounds, work styles, and motivations as input. The AI analyzes this text to identify individual archetypes (e.g., 'Visionary,' 'Builder'), team-level strengths, potential skill gaps, and the most likely collaboration dynamic.",outcome:"A 'Founder DNA Profile' that includes a team archetype, a list of strengths and gaps, and individual profiles. This output can optionally be used to steer the ideation process towards concepts that align with the team's natural abilities."},[Ne.PROBLEM_RESEARCH]:{howItWorks:"This agent uses Google Search grounding to perform real-time web searches. It synthesizes information from multiple online sources to build a comprehensive report on the market, competitors, technology trends, and ethical considerations related to the problem.",outcome:"A detailed research report including a problem summary, market analysis, competitive landscape, and a list of cited web sources."},[Ne.CUSTOMER_PERSONA]:{howItWorks:"Using the research report, the agent identifies the primary user group affected by the problem. It then generates a fictional but representative individual, giving them a name, age, occupation, a biographical story, and specific goals and frustrations. It also generates a photorealistic avatar for the persona.",outcome:"A detailed Customer Persona card, which serves as a constant reminder of who the solution is being built for."},[Ne.EMPATHY_MAP]:{howItWorks:"The agent 'steps into the shoes' of the generated customer persona. It infers what the persona might be saying, thinking, doing, and feeling in relation to the problem space, based on their profile and the initial research. It also summarizes their key pains and potential gains.",outcome:"An Empathy Map Canvas, providing a deeper, more emotional understanding of the user's experience."},[Ne.PROBLEM_SYNTHESIZER]:{howItWorks:"A convergent thinking step. The agent takes all preceding outputs (research, persona, empathy map) and distills them into their essential components. It identifies the most critical user need and frames it as a 'How Might We...' question, an optimistic and actionable format for brainstorming.",outcome:"A focused Problem Statement that includes the 'How Might We...' question, the context, user impact, and key supporting insights. This becomes the precise target for the next phase."},[Ne.TECHNOLOGY_SCOUT]:{howItWorks:"This agent acts as a strategic technology intelligence analyst. It uses Google Search to deeply research the solution domain for the defined problem. It identifies relevant existing and emerging technologies, analyzes them for maturity (Technology Readiness Level - TRL) and implementation complexity, and uncovers prior art by searching for relevant patents. It also identifies leading academic experts and research labs in the field to provide avenues for deeper investigation.",outcome:"A 'Strategic Technology Intelligence' report. This includes a dashboard of key technologies with their TRL and complexity scores, a list of relevant patents that constitute prior art, and a list of leading experts and research hubs. This report provides critical context and constraints to ground the subsequent solution ideation phase in reality."},[Ne.SOLUTION_IDEATION]:{howItWorks:"A divergent thinking step. The agent generates three distinct solutions to the 'How Might We...' problem. It is prompted to think creatively and consider different angles to solve the problem. If Founder DNA is provided, the agent will tailor the ideas to fit the team's strengths.",outcome:"A list of three potential solutions, each with a title and a concise description."},[Ne.SOLUTION_CRITIQUE]:{howItWorks:"This agent embodies two sub-personas. The 'Devil's Advocate' persona looks for practical flaws and risks. The 'Steve Jobs' persona critiques the solution's ambition and user experience. It applies both critiques to all three generated solutions.",outcome:"A set of structured critiques for each solution, detailing weaknesses and raising tough questions from two different viewpoints."},[Ne.SOLUTION_SELECTION]:{howItWorks:"The agent weighs the original solutions against their critiques and the initial problem statement. It makes a strategic decision, selecting the single best path forward and providing a clear rationale for its choice, including pros and cons.",outcome:"A 'Selected Solution' card that contains the winning idea, its description, and a detailed justification for its selection."},[Ne.DEVILS_ADVOCATE]:{howItWorks:"Before committing to deliverables, this agent gives the user a chance to pause. It presents the critical 'Devil's Advocate' feedback for the selected solution. The user can then use this critique to have another AI agent enhance the solution before proceeding.",outcome:"A user decision point. The primary outcome is either the approval to proceed or the initiation of a solution enhancement cycle, resulting in a refined solution."},[Ne.IP_STRATEGIST]:{howItWorks:"This agent acts as an IP lawyer and strategist. It uses Google Search to perform a prior art search, looking for existing patents, products, and academic papers related to the solution. It assesses this landscape to provide an estimated 'Patentability Score' and a 'Freedom to Operate' signal (Green, Yellow, Red) indicating the risk of infringement.",outcome:"An 'IP & Defensibility' report. This includes the patentability score, a summary of key prior art found, the freedom to operate signal, and a high-level recommendation for an IP strategy (e.g., pursue a utility patent, rely on trade secrets, focus on branding)."},[Ne.VALUE_PROPOSITION]:{howItWorks:"The agent maps the features of the selected solution ('Products & Services') directly to the user's needs identified in the Empathy Map. It specifies how the solution creates gains ('Gain Creators') and alleviates pains ('Pain Relievers').",outcome:"A completed Value Proposition Canvas (VPC), which clarifies the product-market fit."},[Ne.LEAN_CANVAS]:{howItWorks:"Using the selected solution and the VPC, this agent fills out the nine blocks of the Lean Canvas. It outlines problems, solutions, key metrics, UVP, unfair advantage, channels, customer segments, cost structure, and revenue streams.",outcome:"A completed Lean Canvas, providing a holistic, one-page overview of the business model focused on problem-solution fit."},[Ne.STORYBOARDING]:{howItWorks:"The agent writes a five-panel story showing the customer's journey: 1. The initial problem, 2. Discovering the solution, 3. The 'aha!' moment of first use, 4. The positive long-term outcome, and 5. The user advocating for the solution. For each panel, it generates a scene description, narration, and an image prompt used to create a visual.",outcome:"A five-panel Storyboard that visually communicates the value of the solution from the user's perspective."},[Ne.FINANCIAL_MODELER]:{howItWorks:"This agent acts as a startup CFO. It analyzes the business model to create a high-level 5-year financial projection, estimates the market size (TAM, SAM, SOM), suggests a pre-money valuation, and brainstorms potential brand names.",outcome:"A comprehensive financial plan including projections, a cost breakdown, market sizing, and branding ideas."},[Ne.STRATEGY]:{howItWorks:"The agent performs a SWOT analysis (Strengths, Weaknesses, Opportunities, Threats) for the new venture. It synthesizes this with the competitive landscape to articulate the venture's 'Unfair Advantage'the key differentiator.",outcome:"A strategy canvas that clearly defines the venture's competitive positioning and unique strengths."},[Ne.RISK_ANALYSIS]:{howItWorks:"The agent scans the entire business plan for potential pitfalls. It identifies market, technical, financial, and operational risks, assesses their likelihood and impact, and proposes concrete steps to mitigate them.",outcome:"A Risk Analysis matrix, providing a clear-eyed view of potential challenges and a proactive plan to address them."},[Ne.TECHNICAL_BLUEPRINT]:{howItWorks:"The agent acts as a CTO. It recommends a suitable technology stack, designs a system architecture diagram using Mermaid.js syntax, and lays out a phased development roadmap (MVP, V1, V2).",outcome:"A Technical Blueprint that provides a clear plan for the engineering team to begin development."},[Ne.GO_TO_MARKET]:{howItWorks:"The agent creates a comprehensive marketing plan. This includes defining target channels, crafting key messaging and a slogan, outlining a launch timeline, and even writing sample ad copy and a content calendar.",outcome:"A GTM (Go-to-Market) plan that provides an actionable strategy for launching and promoting the new venture."},[Ne.PITCH_DECK]:{howItWorks:"The agent synthesizes all the key information from the previous steps into a classic, multi-slide investor pitch deck format, including slides for the problem, solution, market, team, financials, and the ask.",outcome:"A structured pitch deck with an executive summary and slide-by-slide content, ready to be presented to investors."},[Ne.ETHICS_ORACLE]:{howItWorks:"This agent acts as an independent ethics auditor. It reviews the entire venture plan and scores it across several key dimensions (e.g., Data Privacy, Bias, Sustainability). It provide an explanation for each score and offers actionable recommendations.",outcome:"An Ethics & Compliance Audit report that helps ensure responsible innovation."}},GLe=({agent:t,index:e,openIndex:r,setOpenIndex:n})=>{const i=r===e,s=jLe[t.role],a=t.avatar;return s?d.jsxs("div",{className:"border-b border-gray-700 last:border-b-0",children:[d.jsxs("button",{className:"w-full flex justify-between items-center text-left p-4 hover:bg-gray-700/50 focus:outline-none focus-visible:ring focus-visible:ring-blue-500 focus-visible:ring-opacity-75 transition-colors",onClick:()=>n(i?null:e),"aria-expanded":i,"aria-controls":`agent-details-${e}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(a,{className:"w-6 h-6 text-gray-400 flex-shrink-0"}),d.jsx("span",{className:"font-semibold text-white",children:t.name})]}),d.jsx(bm,{className:`w-5 h-5 text-gray-400 transition-transform ${i?"rotate-90":""}`})]}),i&&d.jsx("div",{id:`agent-details-${e}`,className:"px-4 pb-4 bg-gray-900/20 text-sm text-gray-400 animate-fade-in",children:d.jsxs("div",{className:"pt-4 space-y-3",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-200",children:"Mission"}),d.jsx("p",{children:t.description})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-200",children:"How it Works"}),d.jsx("p",{children:s.howItWorks})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-200",children:"Outcome"}),d.jsx("p",{children:s.outcome})]})]})})]}):null},VLe=({onClose:t})=>{const[e,r]=Xe.useState(null),n=Xe.useRef(null),i=s=>{if(!n.current)return;const a=n.current.querySelector("svg");if(a)if(s==="svg"){const o=new XMLSerializer().serializeToString(a),l=new Blob([o],{type:"image/svg+xml"}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download="ai-augmented-double-diamond.svg",document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c)}else s==="png"&&H_(n.current,{backgroundColor:null,scale:3}).then(o=>{const l=document.createElement("a");l.href=o.toDataURL("image/png"),l.download="ai-augmented-double-diamond.png",document.body.appendChild(l),l.click(),document.body.removeChild(l)})};return d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:t,children:d.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] flex flex-col animate-fade-in",onClick:s=>s.stopPropagation(),children:[d.jsxs("header",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 flex-shrink-0 rounded-full flex items-center justify-center p-1 bg-gray-900 border border-gray-600",children:d.jsx(hw,{className:"w-8 h-8 text-blue-400"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-white",children:"The Science Behind Xinovates"}),d.jsx("p",{className:"text-sm text-gray-400",children:"Our structured approach to innovation."})]})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Wd,{className:"w-8 h-8"})})]}),d.jsxs("div",{className:"p-6 overflow-y-auto flex-grow bg-black/20 text-gray-300 space-y-6",children:[d.jsx("div",{children:d.jsx("p",{className:"text-gray-300",children:"Xinovates is built on a scientifically-validated framework that combines established design thinking principles with advanced AI collaboration. Our goal is to structure the chaotic process of innovation into a repeatable, robust, and transparent system, turning abstract ideas into concrete venture plans."})}),d.jsxs("div",{className:"p-4 bg-gray-900/30 rounded-lg",children:[d.jsx("h3",{className:"font-semibold text-lg text-white mb-2",children:"Core Concept 1: Multi-Agent System (MAS)"}),d.jsx("p",{className:"text-sm text-gray-400",children:"At its heart, Xinovates simulates a diverse team of experts working on a new venture. Each AI agent has a unique rolefrom a researcher and strategist to a designer and financial planner. They collaborate, challenge each other, and build upon prior work, mirroring the dynamics of a high-performing human innovation team. This Multi-Agent System approach ensures that ideas are evaluated from multiple perspectives, reducing individual cognitive biases and leading to more robust, well-rounded outcomes."})]}),d.jsxs("div",{className:"p-4 bg-gray-900/30 rounded-lg",children:[d.jsx("h3",{className:"font-semibold text-lg text-white mb-2",children:"Core Concept 2: The Double Diamond Model"}),d.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"We guide our AI agents through the Double Diamond, a renowned design process model from the UK's Design Council. This ensures we don't jump to solutions prematurely. The process has four distinct phases:"}),d.jsxs("ul",{className:"text-sm text-gray-400 space-y-2 list-disc list-inside",children:[d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Discover:"})," The first diamond begins by exploring the problem space widely, gathering insights about the user and the market."]}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Define:"})," The insights are then analyzed and synthesized to frame a clear and actionable problem statement."]}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Develop:"})," The second diamond opens up again to brainstorm and develop multiple potential solutions to the defined problem."]}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Deliver:"})," Finally, the process converges on a single, well-defined solution, which is then built out into a comprehensive venture plan with all necessary business deliverables."]})]}),d.jsx(HLe,{})]}),d.jsxs("section",{id:"ai-dd","aria-labelledby":"ai-dd-title",className:"p-4 bg-gray-900/30 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("h3",{className:"font-semibold text-lg text-white",children:"Core Concept 3: AI-Augmented Double Diamond"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>i("svg"),title:"Export as SVG",className:"text-gray-400 hover:text-white transition-colors p-1",children:[d.jsx(BI,{className:"w-4 h-4"})," SVG"]}),d.jsxs("button",{onClick:()=>i("png"),title:"Export as PNG",className:"text-gray-400 hover:text-white transition-colors p-1",children:[d.jsx(BI,{className:"w-4 h-4"})," PNG"]})]})]}),d.jsx("div",{ref:n,children:d.jsx(QLe,{onExport:i})}),d.jsx("p",{className:"text-sm text-gray-400 mt-4 leading-relaxed",children:"AI expands both halves of the Double Diamond. In the problem space, it widens discovery (faster landscape scans, richer user insight) and sharpens definition (risk/ethics checks, acceptance criteria). In the solution space, it multiplies ideation (design variants, data/market synthesis) and speeds convergence (unit economics, KPI modeling, validation). Xinovates orchestrates these AI agents while keeping human judgment in the loop, turning wider exploration into faster, better-founded decisions."})]}),d.jsxs("div",{className:"p-4 bg-gray-900/30 rounded-lg",children:[d.jsxs("h3",{className:"font-semibold text-lg text-white mb-2 flex items-center gap-2",children:[d.jsx(Sle,{className:"w-5 h-5"}),"Core Concept 4: Agent Adjacency & Tuning"]}),d.jsx("p",{className:"text-sm text-gray-400 mb-4",children:`Each agent's behavior is not fixed. It can be tuned using adjacency parameters that control what information it "sees" from other agents. This allows for different strategic outcomes from the same initial challenge.`}),d.jsxs("div",{className:"space-y-3 text-sm",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-200",children:"Look-back Horizon (L)"}),d.jsx("p",{className:"text-gray-400",children:"An integer determining how many direct predecessor agents are included in the context. A lower 'L' promotes focus and creativity, while a higher 'L' promotes consistency and grounding."})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-200",children:"Cross-Diamond Reference (C)"}),d.jsx("p",{className:"text-gray-400",children:"A boolean (0 or 1) allowing an agent in the Solution Space to reference key artifacts from the Problem Space (e.g., initial research). This helps ground solutions in market reality but can sometimes limit divergent thinking."})]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("h4",{className:"font-semibold text-base text-gray-200 mb-2",children:"Default Parameter Examples"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left text-sm",children:[d.jsx("thead",{className:"bg-gray-900/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-2 font-semibold",children:"Agent"}),d.jsx("th",{className:"p-2 font-semibold text-center",children:"L"}),d.jsx("th",{className:"p-2 font-semibold text-center",children:"C"}),d.jsx("th",{className:"p-2 font-semibold",children:"Rationale"})]})}),d.jsxs("tbody",{className:"text-gray-400",children:[d.jsxs("tr",{className:"border-t border-gray-700",children:[d.jsx("td",{className:"p-2",children:"Problem Synthesizer"}),d.jsx("td",{className:"p-2 text-center",children:"3"}),d.jsx("td",{className:"p-2 text-center text-gray-500",children:"N/A"}),d.jsx("td",{className:"p-2",children:"Consolidates Research, Persona, and Empathy Map."})]}),d.jsxs("tr",{className:"border-t border-gray-700",children:[d.jsx("td",{className:"p-2",children:"Solution Ideation"}),d.jsx("td",{className:"p-2 text-center",children:"1"}),d.jsx("td",{className:"p-2 text-center",children:"0"}),d.jsx("td",{className:"p-2",children:"Focuses solely on the Problem Statement for maximum creativity."})]}),d.jsxs("tr",{className:"border-t border-gray-700",children:[d.jsx("td",{className:"p-2",children:"Financial Planner"}),d.jsx("td",{className:"p-2 text-center",children:"2"}),d.jsx("td",{className:"p-2 text-center",children:"1"}),d.jsx("td",{className:"p-2",children:"Uses Lean Canvas & VPC, plus initial Market Research for grounding."})]})]})]})})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("h4",{className:"font-semibold text-base text-gray-200 mb-2",children:"Tuning for Different Strategies"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[d.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:[d.jsx("h5",{className:"font-bold text-purple-400",children:"High-Creativity / High-Risk"}),d.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Set ",d.jsx("code",{className:"bg-gray-900 px-1 rounded",children:"Solution Ideation (L=1, C=0)"}),". This generates ideas based only on the core problem, ignoring market constraints found in research. This can lead to breakthrough concepts but may risk poor market fit."]})]}),d.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:[d.jsx("h5",{className:"font-bold text-blue-400",children:"Grounded & Market-Fit"}),d.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Set ",d.jsx("code",{className:"bg-gray-900 px-1 rounded",children:"Solution Ideation (L=3, C=1)"}),". This forces the agent to consider the persona and empathy map, and cross-reference the initial market research, leading to safer, more incremental ideas that are easier to validate."]})]})]})]})]}),d.jsxs("div",{className:"p-4 bg-gray-900/30 rounded-lg",children:[d.jsx("h3",{className:"font-semibold text-lg text-white mb-3",children:"The Agent Team in Detail"}),d.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Each agent in the Multi-Agent System has a specific function. Click on any agent to learn more about its role in the innovation process."}),d.jsx("div",{className:"border border-gray-700 rounded-lg overflow-hidden bg-gray-800/20",children:q2.map((s,a)=>d.jsx(GLe,{agent:s,index:a,openIndex:e,setOpenIndex:r},s.role))})]}),d.jsxs("div",{className:"mt-6 p-6 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:[d.jsx("h3",{className:"font-semibold text-lg text-white mb-3 text-center",children:"Further Reading & Academic Foundation"}),d.jsx("p",{className:"text-sm text-gray-400 mb-6 text-center max-w-xl mx-auto",children:"This methodology is grounded in academic research on innovation, strategy, and artificial intelligence. For a deeper dive, please see the following resources."}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-center",children:[d.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg flex flex-col justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-blue-300",children:"Future of Innovation by the Impact of AI"}),d.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Reza Kalantarinejad & Marc J Ventresca"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Sad Business School, University of Oxford"})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"(Academic Paper)"})]}),d.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg flex flex-col justify-between",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-blue-300",children:"Accessible Overview"}),d.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"For a summary of the research and its implications, read the feature on Oxford Answers."})]}),d.jsx("div",{className:"mt-4",children:d.jsxs("a",{href:"https://www.sbs.ox.ac.uk/oxford-answers/how-ai-transforming-innovation-three-scenarios",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 text-sm primary-button text-white font-bold rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg",children:[d.jsx(GB,{className:"w-4 h-4"}),"Read on Oxford Answers"]})})]})]})]})]})]})})},pJ=t=>{switch(t){case"working":return"#60a5fa";case"done":return"#4ade80";case"error":return"#f87171";case"idle":default:return"#6b7280"}},gJ=t=>{switch(t){case"working":return"text-blue-400";case"done":return"text-green-400";case"error":return"text-red-400";case"idle":default:return"text-gray-500"}},bu=({agent:t,onAgentClick:e,position:r,overrideName:n})=>{if(!t)return null;const i=pJ(t.status),s=gJ(t.status),a=t.status==="done"&&t.output,o=t.avatar;return d.jsxs("div",{className:`absolute flex flex-col items-center w-28 text-center transition-transform duration-200 ${a?"cursor-pointer hover:scale-105":"cursor-default"}`,style:{...r,transform:"translate(-50%, -50%)"},onClick:()=>a&&e(t),children:[d.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center border-2 bg-gray-800",style:{borderColor:i},children:d.jsx(o,{className:`w-6 h-6 ${s}`})}),d.jsx("p",{className:"mt-1 text-xs font-semibold text-gray-300 leading-tight",children:n||t.name})]})},$Le=({agents:t,onAgentClick:e,selectedDeliverables:r,onDeliverableToggle:n,isRefinementEnabled:i})=>{const a=[Ne.IP_STRATEGIST,Ne.TALENT_STRATEGIST,Ne.VALUE_PROPOSITION,Ne.LEAN_CANVAS,Ne.STORYBOARDING,Ne.FINANCIAL_MODELER,Ne.RISK_ANALYSIS,Ne.TECHNICAL_BLUEPRINT,Ne.GO_TO_MARKET,Ne.STRATEGY].map(o=>t.find(l=>l.role===o)).filter(Boolean);return d.jsxs("div",{className:"p-4 border themed-border rounded-lg bg-gray-800/60 backdrop-blur-sm",children:[d.jsx("h3",{className:"text-base font-bold text-gray-200 text-center mb-3",children:"Deliverables"}),d.jsx("ul",{className:"space-y-1",children:a.map(o=>{const l=pJ(o.status),c=gJ(o.status),u=o.status==="done"&&o.output,f=o.avatar,p=o.role===Ne.DEVILS_ADVOCATE,g=p?i:r.has(o.role);return d.jsx("li",{children:d.jsxs("label",{className:`flex items-center gap-2 text-xs font-semibold p-1.5 rounded-md transition-colors ${g?"bg-blue-500/10":""} ${p?"cursor-not-allowed opacity-70":"cursor-pointer hover:bg-gray-700/50"}`,title:p?"Controlled by the 'Enable Devil's Advocate Loop' toggle":`Click to toggle ${o.name}`,children:[d.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-500 bg-gray-700 text-blue-500 themed-focus-ring focus:ring-offset-gray-800",checked:g,disabled:p,onChange:()=>!p&&n(o.role)}),d.jsx("div",{className:`w-5 h-5 flex-shrink-0 rounded-full border flex items-center justify-center ${u?"cursor-pointer":""}`,style:{borderColor:l},onClick:y=>{u&&(y.preventDefault(),e(o))},children:d.jsx(f,{className:`w-3 h-3 ${c}`})}),d.jsx("span",{className:g?"text-white":"text-gray-400",children:o.name})]})},o.role)})})]})},qLe=({agents:t,onAgentClick:e,selectedDeliverables:r,onDeliverableToggle:n,isRefinementEnabled:i})=>{const s=a=>t.find(o=>o.role===a);return d.jsxs("div",{className:"relative w-full h-[450px] my-4 p-6 bg-gray-900/50 backdrop-blur-sm border themed-border rounded-xl shadow-lg font-sans",children:[d.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0 z-0",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"diamond1-grad-dark",x1:"0",y1:"0",x2:"1",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"#3b82f6"}),d.jsx("stop",{offset:"100%",stopColor:"#14b8a6"})]}),d.jsxs("linearGradient",{id:"diamond2-grad-dark",x1:"0",y1:"0",x2:"1",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"#f97316"}),d.jsx("stop",{offset:"100%",stopColor:"#84cc16"})]}),d.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"8",refY:"3.5",orient:"auto",children:d.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#6b7280"})}),d.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[d.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"blur"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),d.jsx("path",{d:"M 40 205 L 200 60 L 360 205 L 200 350 Z",fill:"none",stroke:"url(#diamond1-grad-dark)",strokeWidth:"3",filter:"url(#glow)"}),d.jsx("path",{d:"M 380 205 L 560 60 L 740 205 L 560 350 Z",fill:"none",stroke:"url(#diamond2-grad-dark)",strokeWidth:"3",filter:"url(#glow)"}),d.jsxs("g",{stroke:"#6b7280",strokeWidth:"1.5",strokeDasharray:"4 4",markerEnd:"url(#arrowhead)",children:[d.jsx("path",{d:"M 64 205 L 96 205"})," ",d.jsx("path",{d:"M 142 195 L 163 154"})," ",d.jsx("path",{d:"M 142 215 L 163 256"})," ",d.jsx("path",{d:"M 180 251 L 180 159"})," ",d.jsx("path",{d:"M 200 145 L 285 185"})," ",d.jsx("path",{d:"M 200 265 L 285 200"})," ",d.jsx("path",{d:"M 142 205 L 285 195"})," ",d.jsx("path",{d:"M 322 195 L 385 205"})," ",d.jsx("path",{d:"M 430 205 L 510 115"})," ",d.jsx("path",{d:"M 528 110 L 528 270"})," ",d.jsx("path",{d:"M 550 105 L 595 180"})," ",d.jsx("path",{d:"M 550 285 L 595 210"})," ",d.jsx("path",{d:"M 625 190 L 670 115"})," ",d.jsx("path",{d:"M 620 195 L 740 190"})," ",d.jsx("path",{d:"M 780 190 L 800 190"})," "]}),d.jsx("path",{d:"M 680 120 C 700 150, 660 190, 630 195",stroke:"#a78bfa",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)"})]}),d.jsxs("div",{className:"relative w-full h-full text-gray-300",children:[d.jsx("p",{className:"absolute font-bold tracking-widest text-lg",style:{top:"20px",left:"120px",transform:"translateX(-50%)"},children:"DISCOVER"}),d.jsx("p",{className:"absolute font-bold tracking-widest text-lg",style:{top:"20px",left:"270px",transform:"translateX(-50%)"},children:"DEFINE"}),d.jsx("p",{className:"absolute font-bold tracking-widest text-lg text-yellow-300",style:{top:"20px",left:"470px",transform:"translateX(-50%)"},children:"THE CRUCIBLE"}),d.jsx("p",{className:"absolute font-bold tracking-widest text-lg",style:{top:"20px",left:"650px",transform:"translateX(-50%)"},children:"DELIVER"}),d.jsx(bu,{agent:s(Ne.FOUNDER_DNA),onAgentClick:e,position:{top:"205px",left:"40px"}}),d.jsx(bu,{agent:s(Ne.PROBLEM_RESEARCH),onAgentClick:e,position:{top:"205px",left:"120px"}}),d.jsx(bu,{agent:s(Ne.EMPATHY_MAP),onAgentClick:e,position:{top:"135px",left:"180px"}}),d.jsx(bu,{agent:s(Ne.CUSTOMER_PERSONA),onAgentClick:e,position:{top:"275px",left:"180px"},overrideName:"Persona Creator"}),d.jsx(bu,{agent:s(Ne.PROBLEM_SYNTHESIZER),onAgentClick:e,position:{top:"190px",left:"300px"}}),d.jsx(bu,{agent:s(Ne.TECHNOLOGY_SCOUT),onAgentClick:e,position:{top:"205px",left:"410px"}}),d.jsx(bu,{agent:s(Ne.SOLUTION_IDEATION),onAgentClick:e,position:{top:"100px",left:"530px"}}),d.jsx(bu,{agent:s(Ne.SOLUTION_CRITIQUE),onAgentClick:e,position:{top:"290px",left:"530px"},overrideName:"Solution Critics"}),d.jsx(bu,{agent:s(Ne.VENTURE_ANALYST),onAgentClick:e,position:{top:"195px",left:"600px"}}),d.jsx(bu,{agent:s(Ne.SOLUTION_EVOLUTION),onAgentClick:e,position:{top:"100px",left:"680px"}}),d.jsx(bu,{agent:s(Ne.SOLUTION_SELECTION),onAgentClick:e,position:{top:"190px",left:"760px"}}),d.jsx("div",{className:"absolute top-1/2 left-[88%] w-[20%] -translate-y-1/2 -translate-x-1/2",children:d.jsx($Le,{agents:t,onAgentClick:e,selectedDeliverables:r,onDeliverableToggle:n,isRefinementEnabled:i})})]})]})},zLe=({scoresData:t,solutions:e})=>{const i=t.some(p=>p.scores.FounderDnaAlignment&&p.scores.FounderDnaAlignment>0),s=["Innovation","Feasibility","MarketFit","Scalability","CapitalEfficiency"],a=i?[...s,"FounderDnaAlignment"]:s,o=a.length,l=Math.PI*2/o,c=150*.75,u=["#f87171","#60a5fa","#4ade80"],f=(p,g)=>{const y=l*g-Math.PI/2,x=p/10*c;return{x:150+x*Math.cos(y),y:150+x*Math.sin(y)}};return d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("svg",{width:300,height:300,viewBox:"0 0 300 300",children:[[...Array(5)].map((p,g)=>d.jsx("circle",{cx:150,cy:150,r:c/5*(g+1),fill:"none",stroke:"#4b5563",strokeWidth:"1"},g)),a.map((p,g)=>{const y=f(11.5,g),x=f(10,g);return d.jsxs("g",{children:[d.jsx("line",{x1:150,y1:150,x2:x.x,y2:x.y,stroke:"#4b5563",strokeWidth:"1"}),d.jsx("text",{x:y.x,y:y.y,textAnchor:"middle",dominantBaseline:"middle",fill:"#d1d5db",fontSize:"10",fontWeight:"bold",children:p.replace("Fit"," Fit").replace("Efficiency"," Eff.").replace("DnaAlignment"," DNA")})]},p)}),t.map((p,g)=>{const y=a.map((x,w)=>{const S=x,B=p.scores[S]||0,{x:F,y:k}=f(B,w);return`${F},${k}`}).join(" ");return d.jsx("polygon",{points:y,fill:u[g%u.length],fillOpacity:"0.3",stroke:u[g%u.length],strokeWidth:"2"},p.solutionId)})]}),d.jsx("div",{className:"flex justify-center gap-4 mt-4 text-xs",children:e.map((p,g)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u[g%u.length]}}),d.jsx("span",{className:"text-gray-300 font-semibold truncate max-w-[100px]",title:p.title,children:`S${p.id}: ${p.title}`})]},p.id))})]})},KLe=({solution:t,isRecommended:e,onSelect:r})=>{const[n,i]=Xe.useState(!1);return d.jsxs("div",{className:`p-4 rounded-xl border-2 transition-all duration-300 flex flex-col ${e?"bg-blue-900/30 border-blue-500":"bg-gray-800/60 border-gray-700"}`,children:[e&&d.jsx("div",{className:"text-xs font-bold text-blue-300 bg-blue-500/20 px-3 py-1 rounded-full self-start mb-2",children:"AI Recommended"}),d.jsx("h3",{className:"font-bold text-xl text-yellow-300",children:`Solution ${t.id}: ${t.title}`}),d.jsx("p",{className:"text-sm text-gray-400 mt-2 flex-grow",children:n?t.description:t.summary}),d.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[d.jsxs("button",{onClick:()=>i(!n),className:"text-sm text-blue-400 hover:text-blue-300 font-semibold flex items-center gap-1",children:[n?"Read Less":"Read More",d.jsx(bm,{className:`w-4 h-4 transition-transform ${n?"rotate-90":""}`})]}),d.jsxs("button",{onClick:r,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg transition-colors flex items-center gap-2",children:[d.jsx(Mp,{className:"w-5 h-5"}),"Select"]})]})]})},WLe=({metrics:t,solutions:e})=>{const r=["#f87171","#60a5fa","#4ade80"];return d.jsxs("div",{className:"p-4 rounded-xl bg-gray-800/60 border border-gray-700",children:[d.jsxs("h3",{className:"font-bold text-lg text-gray-200 mb-4 flex items-center gap-2",children:[d.jsx(Px,{className:"w-5 h-5 text-green-400"})," Tangible Advantages"]}),d.jsx("div",{className:"space-y-6",children:t.map((n,i)=>{const s=[n.baselineValue,...n.solutionValues.map(c=>c.value)],a=Math.max(...s),o=c=>a>0?c/a*100:0,l=c=>{if(n.baselineValue===0&&c>0)return d.jsx("span",{className:"font-semibold text-green-400",children:"+%"});if(n.baselineValue===0)return null;const u=(c-n.baselineValue)/n.baselineValue*100,f=u>0?"+":"",p=n.isHigherBetter&&u>0||!n.isHigherBetter&&u<0?"text-green-400":"text-red-400";return d.jsxs("span",{className:`font-semibold ${p}`,children:[f,u.toFixed(0),"%"]})};return d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-semibold text-gray-300",children:[n.metricName," ",d.jsxs("span",{className:"text-xs text-gray-500",children:["(",n.unit,") ",!n.isHigherBetter&&"(Lower is better)"]})]}),d.jsxs("div",{className:"space-y-3 mt-2 text-xs",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-20 text-right text-gray-400 font-semibold",children:"Baseline"}),d.jsx("div",{className:"flex-grow bg-gray-700 rounded-full h-5",children:d.jsx("div",{className:"bg-gray-500 h-5 rounded-full",style:{width:`${o(n.baselineValue)}%`}})}),d.jsx("span",{className:"w-12 text-left font-mono font-bold",children:n.baselineValue}),d.jsx("span",{className:"w-12 text-left"})]}),n.solutionValues.sort((c,u)=>c.solutionId-u.solutionId).map(c=>{const u=e.find(p=>p.id===c.solutionId);if(!u)return null;const f=r[(u.id-1)%r.length];return d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-20 text-right text-gray-300 font-semibold truncate",title:u.title,children:`S${u.id}`}),d.jsxs("div",{className:"flex-grow bg-gray-700 rounded-full h-5 relative",children:[d.jsx("div",{className:"h-5 rounded-full",style:{width:`${o(c.value)}%`,backgroundColor:f}}),d.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-white font-bold leading-none",children:c.value})]}),d.jsx("span",{className:"w-12 text-left font-mono",children:l(c.value)})]},c.solutionId)})]})]},i)})})]})},YLe=({allSolutions:t,solutionScores:e,onSelectIdea:r,onRegenerateIdeas:n})=>d.jsx("div",{className:"w-full max-w-7xl mx-auto my-8 animate-fade-in",children:d.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm p-6 rounded-xl shadow-2xl border themed-border",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-3xl font-semibold main-title text-transparent bg-clip-text",children:"AI-Powered Solution Analysis"}),d.jsx("p",{className:"text-gray-400 mt-2 max-w-3xl mx-auto",children:"Compare the AI-generated concepts, review the analysis, and select the best path forward for your venture."}),d.jsxs("button",{onClick:n,className:"mt-4 flex items-center gap-2 px-4 py-2 text-sm bg-gray-600 hover:bg-gray-500 text-white font-semibold rounded-lg transition-colors mx-auto",children:[d.jsx(lG,{className:"w-5 h-5"}),"Regenerate Ideas"]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[d.jsx("div",{className:"lg:col-span-3 space-y-6",children:t.solutions.map(i=>d.jsx(KLe,{solution:i,isRecommended:i.id===e.recommendedSolutionId,onSelect:()=>r(i.id)},i.id))}),d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"p-4 rounded-xl bg-gray-800/60 border border-gray-700",children:[d.jsx("h3",{className:"font-bold text-lg text-gray-200 text-center mb-2",children:"Strategic Scoring"}),d.jsx(zLe,{scoresData:e.scores,solutions:t.solutions})]}),e.keyAdvantageMetrics&&e.keyAdvantageMetrics.length>0&&d.jsx(WLe,{metrics:e.keyAdvantageMetrics,solutions:t.solutions}),d.jsxs("div",{className:"p-4 rounded-xl bg-gray-800/60 border border-gray-700",children:[d.jsxs("h3",{className:"font-bold text-lg text-gray-200 mb-2 flex items-center gap-2",children:[d.jsx(xC,{className:"w-5 h-5 text-blue-400"})," AI Recommendation"]}),d.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:e.recommendationText})]})]})]})]})}),XLe=({suggestedNames:t,onSelect:e})=>{const[r,n]=Xe.useState(""),i=s=>{s.preventDefault(),r.trim()&&e(r.trim())};return d.jsx("div",{className:"w-full max-w-4xl mx-auto my-8 animate-fade-in",children:d.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm p-8 rounded-xl shadow-2xl border themed-border",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-3xl font-semibold main-title text-transparent bg-clip-text",children:"Name Your Venture"}),d.jsx("p",{className:"text-gray-400 mt-2 max-w-2xl mx-auto",children:"Based on your solution, here are a few brand names suggested by our AI. Choose one, or enter your own."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:t.slice(0,3).map((s,a)=>d.jsx("button",{onClick:()=>e(s),className:"p-4 bg-gray-800/60 rounded-lg border border-gray-700 hover:border-blue-500 hover:bg-gray-700/80 transition-all duration-300 transform hover:-translate-y-1 text-white font-semibold text-lg",children:s},a))}),d.jsxs("div",{className:"border-t themed-border pt-6",children:[d.jsx("h3",{className:"text-center text-lg font-semibold text-gray-300 mb-4",children:"Or, enter your own brand name:"}),d.jsxs("form",{onSubmit:i,className:"flex flex-col sm:flex-row items-center justify-center gap-4 max-w-lg mx-auto",children:[d.jsx("input",{type:"text",value:r,onChange:s=>n(s.target.value),placeholder:"e.g., InnovateX",className:"flex-grow w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 themed-focus-ring focus:outline-none transition-all duration-300 text-gray-200 placeholder-gray-500"}),d.jsxs("button",{type:"submit",disabled:!r.trim(),className:"w-full sm:w-auto px-6 py-3 primary-button text-white font-bold rounded-lg disabled:opacity-50 transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center gap-2",children:[d.jsx(Mp,{className:"w-5 h-5"}),"Use this Name"]})]})]})]})})},JLe=({suggestedChallenges:t,onSelectChallenge:e})=>d.jsx("div",{className:"w-full max-w-7xl mx-auto my-8 animate-fade-in",children:d.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm p-6 rounded-xl shadow-2xl border themed-border",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-3xl font-semibold main-title text-transparent bg-clip-text",children:"Select a Challenge for Your Solution"}),d.jsx("p",{className:"text-gray-400 mt-2 max-w-3xl mx-auto",children:"The Market-Fit Analyst has identified the following potential problems that your solution could address. Choose the one that represents the best market opportunity to build your venture plan around."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((r,n)=>d.jsxs("div",{className:"bg-gray-800/60 p-6 rounded-lg border themed-border flex flex-col",children:[d.jsx("h3",{className:"font-bold text-lg text-blue-300 mb-2",children:r.problemStatement}),d.jsx("p",{className:"text-sm text-gray-400 flex-grow mb-4",children:r.context}),d.jsxs("button",{onClick:()=>e(r),className:"w-full mt-auto px-6 py-3 primary-button text-white font-bold rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center gap-2",children:[d.jsx(Mp,{className:"w-5 h-5"}),"Select This Challenge"]})]},n))})]})}),ZLe=({frames:t})=>{const i=["Reach","Impact","Confidence","Feasibility"],s=Math.PI*2/i.length,a=[{fill:"rgba(59, 130, 246, 0.2)",stroke:"#3b82f6"},{fill:"rgba(168, 85, 247, 0.2)",stroke:"#a855f7"},{fill:"rgba(34, 197, 94, 0.2)",stroke:"#22c55e"}],o=(l,c)=>{const u=s*c-Math.PI/2,f=l/10*120;return{x:150+f*Math.cos(u),y:150+f*Math.sin(u)}};return d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("svg",{width:300,height:300,viewBox:"0 0 300 300",children:[[2,4,6,8,10].map(l=>d.jsx("circle",{cx:150,cy:150,r:l/10*120,fill:"none",stroke:"#374151",strokeWidth:"1",strokeDasharray:"4 4"},l)),i.map((l,c)=>{const{x:u,y:f}=o(10,c),p=o(11.5,c);return d.jsxs("g",{children:[d.jsx("line",{x1:150,y1:150,x2:u,y2:f,stroke:"#4b5563",strokeWidth:"1"}),d.jsx("text",{x:p.x,y:p.y,textAnchor:"middle",dominantBaseline:"middle",fill:"#9ca3af",fontSize:"10",fontWeight:"bold",children:l})]},c)}),t.map((l,c)=>{const f=[l.validationScores.reach,l.validationScores.impact,l.validationScores.confidence,l.validationScores.feasibility].map((p,g)=>{const{x:y,y:x}=o(p,g);return`${y},${x}`}).join(" ");return d.jsx("polygon",{points:f,fill:a[c%a.length].fill,stroke:a[c%a.length].stroke,strokeWidth:"2"},l.id)})]}),d.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-2",children:t.map((l,c)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a[c%a.length].stroke}}),d.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:l.coreProblem})]},l.id))})]})},eRe=({frames:t,onSelectFrame:e})=>{const r=["border-blue-500/30 hover:border-blue-500","border-purple-500/30 hover:border-purple-500","border-green-500/30 hover:border-green-500"];return d.jsx("div",{className:"w-full max-w-7xl mx-auto my-8 animate-fade-in",children:d.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm p-8 rounded-xl shadow-2xl border themed-border",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsx("h2",{className:"text-3xl font-bold main-title text-transparent bg-clip-text",children:"Define the Problem Scope"}),d.jsx("p",{className:"text-gray-400 mt-3 max-w-3xl mx-auto text-lg",children:"Our research has identified three distinct root causes. Compare their R.I.C.E. scores (Reach, Impact, Confidence, Feasibility) below to choose the most strategic opportunity."})]}),d.jsxs("div",{className:"mb-10 bg-gray-800/40 p-6 rounded-xl flex flex-col items-center justify-center border border-gray-700/50",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-300 mb-4 flex items-center gap-2",children:[d.jsx(Px,{className:"w-5 h-5 text-blue-400"}),"Opportunity Comparison (R.I.C.E. Model)"]}),d.jsx(ZLe,{frames:t})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:t.map((n,i)=>d.jsxs("div",{className:`bg-gray-800/60 p-6 rounded-lg border ${r[i%r.length]} transition-all duration-300 flex flex-col h-full group relative overflow-hidden`,children:[n.strategicLabel&&d.jsx("div",{className:"absolute top-0 right-0 bg-gray-900/80 text-gray-300 text-xs font-bold px-3 py-1 rounded-bl-lg border-b border-l border-gray-700",children:n.strategicLabel}),d.jsxs("div",{className:"mb-4 pr-4",children:[d.jsx("h3",{className:"font-bold text-xl text-white mb-2 leading-tight",children:n.coreProblem}),d.jsxs("div",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 mb-4 flex items-center gap-2",children:[d.jsx(vC,{className:"w-4 h-4"}),n.targetSegment]})]}),d.jsxs("div",{className:"flex-grow space-y-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-gray-500 font-semibold mb-1",children:"Root Cause"}),d.jsx("p",{className:"text-sm text-gray-300",children:n.rootCause})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-gray-500 font-semibold mb-1",children:"Rationale"}),d.jsxs("p",{className:"text-sm text-gray-400 italic",children:['"',n.rationale,'"']})]}),d.jsxs("div",{className:"pt-3 border-t border-gray-700/50",children:[d.jsxs("p",{className:"text-xs text-blue-400 font-semibold mb-1 flex items-center gap-1",children:[d.jsx(pm,{className:"w-3 h-3"})," Evidence / Data Anchor"]}),d.jsx("p",{className:"text-xs text-gray-400 leading-relaxed bg-blue-900/10 p-2 rounded border border-blue-500/20",children:n.evidence})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-400 mb-6 bg-gray-900/50 p-3 rounded-lg",children:[d.jsxs("div",{children:["Reach: ",d.jsx("span",{className:"text-white font-bold",children:n.validationScores.reach})]}),d.jsxs("div",{children:["Impact: ",d.jsx("span",{className:"text-white font-bold",children:n.validationScores.impact})]}),d.jsxs("div",{children:["Conf.: ",d.jsx("span",{className:"text-white font-bold",children:n.validationScores.confidence})]}),d.jsxs("div",{children:["Feas.: ",d.jsx("span",{className:"text-white font-bold",children:n.validationScores.feasibility})]})]}),d.jsxs("button",{onClick:()=>e(n),className:"w-full mt-auto px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg transition-colors flex items-center justify-center gap-2 shadow-lg",children:[d.jsx(Mp,{className:"w-5 h-5"}),"Select This Scope"]})]},n.id))})]})})},tRe=({completed:t,total:e,activeTaskName:r,modelMode:n})=>{const i=e>0?t/e*100:0,s=e-t,a=xG[n],o=s*a,l=Math.floor(o/60),c=Math.floor(o%60);return d.jsxs("div",{className:"w-full",children:[d.jsxs("div",{className:"flex justify-between items-baseline mb-1 text-sm",children:[d.jsx("span",{className:"font-semibold text-gray-200",children:"Overall Progress"}),d.jsxs("span",{className:"text-gray-400",children:[t," / ",e," Tasks Completed"]})]}),d.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-4 relative overflow-hidden border border-gray-600",children:[d.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-400 h-full rounded-full transition-all duration-500 ease-out",style:{width:`${i}%`}}),d.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-white drop-shadow-md",children:[Math.round(i),"%"]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsxs("p",{className:"text-xs text-gray-400",children:["Current Task: ",d.jsx("span",{className:"font-semibold text-blue-300",children:r})]}),o>0&&d.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[d.jsx(pG,{className:"w-4 h-4"}),d.jsxs("span",{children:["Est. time remaining: ",l>0&&`${l}m `,c,"s"]})]})]})]})},rRe=({activeAgent:t,phase:e,completedAgents:r,totalAgentsToRun:n,modelMode:i})=>{if(!t)return null;const s=t.avatar;return d.jsx("div",{className:"w-full max-w-3xl mx-auto my-6 animate-fade-in",children:d.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm p-5 rounded-xl shadow-2xl border themed-border",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"relative w-16 h-16 flex-shrink-0",children:[d.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-blue-500/50"}),d.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-blue-500/50 animate-ping"}),d.jsx("div",{className:"relative w-16 h-16 rounded-full flex items-center justify-center p-2 bg-gray-900/80",children:d.jsx(s,{className:"w-full h-full text-blue-400"})})]}),d.jsxs("div",{className:"flex-grow",children:[d.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-2",children:[d.jsxs("h3",{className:"text-xl font-bold text-white",children:[t.name," is at work..."]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-300 px-3 py-1 bg-blue-500/10 rounded-full",children:[d.jsx(vs,{}),d.jsx("span",{children:"Executing"})]})]}),d.jsx("p",{className:"text-sm text-gray-400 mt-1",children:t.description}),d.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Current Phase: ",d.jsx("span",{className:"font-semibold text-gray-400",children:e})]})]})]}),n>0&&d.jsx("div",{className:"mt-4 pt-4 border-t themed-border",children:d.jsx(tRe,{completed:r,total:n,activeTaskName:t.name,modelMode:i})})]})})},nRe=({slide:t,brandName:e,totalSlides:r})=>d.jsxs("div",{className:"h-full flex bg-white text-gray-900 relative overflow-hidden",style:{width:"1123px",height:"794px"},children:[d.jsxs("div",{className:"w-1/2 p-12 flex flex-col relative z-10",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8 border-b-2 border-gray-100 pb-4",children:[d.jsx("span",{className:"text-sm font-bold text-gray-400 tracking-widest uppercase",children:e||"Venture Deck"}),d.jsxs("span",{className:"text-sm font-bold text-gray-400",children:[t.slideNumber," / ",r]})]}),d.jsxs("div",{className:"flex-shrink-0 mb-8",children:[d.jsx("h2",{className:"text-5xl font-extrabold text-gray-900 leading-tight tracking-tight",children:t.title}),d.jsx("div",{className:"w-24 h-2 mt-6 bg-blue-600"})]}),d.jsx("div",{className:"flex-grow space-y-8 pr-4",children:t.content.map((n,i)=>!n.points||n.points.length===0?d.jsx("p",{className:"text-2xl text-gray-700 leading-relaxed font-medium",children:n.heading},i):d.jsxs("div",{children:[n.heading&&d.jsx("h3",{className:"font-bold text-2xl text-gray-800 mb-3",children:n.heading}),d.jsx("ul",{className:"space-y-3",children:n.points.map((s,a)=>d.jsxs("li",{className:"flex items-start gap-4",children:[d.jsx("span",{className:"mt-2.5 w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"}),d.jsx("span",{className:"text-xl text-gray-600 leading-relaxed",children:s})]},a))})]},i))}),d.jsx("div",{className:"absolute bottom-12 left-12 text-gray-300 font-bold text-xl select-none",children:"Xinovates"})]}),d.jsxs("div",{className:"w-1/2 h-full relative",children:[t.imageB64&&d.jsx("img",{src:`data:image/jpeg;base64,${t.imageB64}`,alt:"Slide Visual",className:"absolute inset-0 w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-y-0 left-0 w-16 bg-gradient-to-r from-black/5 to-transparent"})]})]}),iRe=hC.forwardRef(({pitchDeck:t,brandName:e},r)=>{var n;return(n=t==null?void 0:t.slides)!=null&&n.length?d.jsx("div",{ref:r,className:"bg-white",children:d.jsx("div",{className:"flex flex-col",children:t.slides.map(i=>d.jsx("div",{className:"break-after-page",children:d.jsx(nRe,{slide:i,brandName:e,totalSlides:t.slides.length})},i.slideNumber))})}):null}),sRe=({slide:t,brandName:e})=>d.jsxs("div",{className:"w-full h-full bg-white text-gray-800 flex overflow-hidden",children:[d.jsxs("div",{className:"w-1/2 p-8 sm:p-12 flex flex-col relative z-10",children:[d.jsxs("div",{className:"flex justify-between items-center text-xs font-semibold text-gray-400 uppercase tracking-widest mb-8",children:[d.jsx("span",{children:e||"Venture Plan"}),d.jsx("span",{children:t.slideNumber<10?`0${t.slideNumber}`:t.slideNumber})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 leading-tight",children:t.title}),d.jsx("div",{className:"w-20 h-1.5 mt-4 bg-gradient-to-r from-blue-600 to-purple-600"})]}),d.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-6",children:t.content.map((r,n)=>d.jsxs("div",{children:[r.heading&&d.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:r.heading}),r.points&&r.points.length>0&&d.jsx("ul",{className:"space-y-2",children:r.points.map((i,s)=>d.jsxs("li",{className:"flex items-start gap-3 text-base text-gray-600 leading-relaxed",children:[d.jsx("span",{className:"mt-2 w-1.5 h-1.5 rounded-full bg-blue-500 flex-shrink-0"}),d.jsx("span",{children:i})]},s))})]},n))})]}),d.jsxs("div",{className:"w-1/2 bg-gray-100 relative overflow-hidden",children:[t.imageB64?d.jsx("img",{src:`data:image/jpeg;base64,${t.imageB64}`,alt:`Visual for ${t.title}`,className:"absolute inset-0 w-full h-full object-cover"}):d.jsxs("div",{className:"flex items-center justify-center h-full text-gray-400 flex-col gap-2",children:[d.jsx(K_,{className:"w-12 h-12 opacity-50"}),d.jsx("span",{className:"text-sm",children:"Generating visual..."})]}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent pointer-events-none"})]})]}),aRe=({pitchDeck:t,brandName:e})=>{const[r,n]=Xe.useState(0),i=()=>{r<t.slides.length-1&&n(o=>o+1)},s=()=>{r>0&&n(o=>o-1)},a=t.slides[r];return d.jsxs("div",{className:"flex flex-col items-center animate-fade-in",children:[d.jsxs("div",{className:"w-full max-w-6xl flex justify-between items-center mb-4 px-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-white",children:[d.jsx(_I,{className:"w-5 h-5 text-blue-400"}),d.jsx("span",{className:"font-semibold",children:"Investor Deck"})]}),d.jsxs("div",{className:"text-sm text-gray-400",children:["Slide ",r+1," of ",t.slides.length]})]}),d.jsxs("div",{className:"w-full max-w-6xl aspect-video bg-gray-800 rounded-xl shadow-2xl overflow-hidden border border-gray-700 relative group",children:[d.jsx(sRe,{slide:a,brandName:e}),d.jsx("button",{onClick:s,disabled:r===0,className:"absolute left-0 top-0 bottom-0 w-16 md:w-24 flex items-center justify-center bg-gradient-to-r from-black/20 to-transparent hover:from-black/40 transition-all opacity-0 group-hover:opacity-100 disabled:hidden focus:opacity-100 z-20",children:d.jsx(bm,{className:"w-10 h-10 text-white rotate-180 drop-shadow-lg"})}),d.jsx("button",{onClick:i,disabled:r===t.slides.length-1,className:"absolute right-0 top-0 bottom-0 w-16 md:w-24 flex items-center justify-center bg-gradient-to-l from-black/20 to-transparent hover:from-black/40 transition-all opacity-0 group-hover:opacity-100 disabled:hidden focus:opacity-100 z-20",children:d.jsx(bm,{className:"w-10 h-10 text-white drop-shadow-lg"})})]}),d.jsx("div",{className:"mt-6 flex flex-wrap justify-center gap-2 max-w-4xl",children:t.slides.map((o,l)=>d.jsx("button",{onClick:()=>n(l),className:`w-3 h-3 rounded-full transition-all duration-300 ${l===r?"bg-blue-500 w-8":"bg-gray-600 hover:bg-gray-500"}`,title:o.title},o.slideNumber))}),d.jsxs("div",{className:"w-full max-w-6xl mt-12 bg-gray-900/50 border themed-border rounded-xl p-6",children:[d.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[d.jsx(pm,{className:"w-5 h-5 text-gray-400"}),"Executive Summary"]}),d.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-line",children:t.executiveSummary})]})]})},oRe=({isOpen:t,onClose:e,initialMarket:r,onSelectChallenge:n,onGenerate:i})=>{var y;const[s,a]=Xe.useState(r),[o,l]=Xe.useState(null),[c,u]=Xe.useState(!1),[f,p]=Xe.useState(null),g=async()=>{u(!0),p(null),l(null);try{const x=await i(s);l(x)}catch{p("Failed to identify trends. Please try again.")}finally{u(!1)}};return t?d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:d.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl max-w-2xl w-full flex flex-col animate-fade-in overflow-hidden",onClick:x=>x.stopPropagation(),children:[d.jsxs("header",{className:"p-5 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-yellow-500/20 border border-yellow-500/30",children:d.jsx(zu,{className:"w-6 h-6 text-yellow-400"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-white",children:"Trend Spotter"}),d.jsx("p",{className:"text-xs text-gray-400",children:"Discover urgent market opportunities with AI."})]})]}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Wd,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"p-6 flex-grow bg-black/20 text-gray-300",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Market to Analyze"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsxs("div",{className:"relative flex-grow",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(vC,{className:"w-5 h-5 text-gray-500"})}),d.jsx("select",{value:s,onChange:x=>a(x.target.value),className:"w-full pl-10 p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 themed-focus-ring focus:outline-none text-gray-200 appearance-none",disabled:c,children:mc.map(x=>d.jsx("option",{value:x.value,children:x.label},x.value))})]}),d.jsxs("button",{onClick:g,disabled:c,className:"flex items-center justify-center gap-2 px-5 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:[c?d.jsx(vs,{}):d.jsx(uw,{className:"w-5 h-5"}),c?"Scanning...":"Spot Opportunities"]})]})]}),f&&d.jsx("div",{className:"p-3 bg-red-900/30 border border-red-500/30 rounded-lg text-red-300 text-sm text-center mb-4",children:f}),c&&d.jsxs("div",{className:"text-center py-8 space-y-3",children:[d.jsx(vs,{}),d.jsxs("p",{className:"text-sm text-gray-400 animate-pulse",children:["Analyzing market signals and emerging needs in ",(y=mc.find(x=>x.value===s))==null?void 0:y.label,"..."]})]}),o&&!c&&d.jsxs("div",{className:"space-y-3 animate-fade-in-up",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"High-Priority Innovation Challenges"}),o.map((x,w)=>d.jsx("button",{onClick:()=>n(x),className:"w-full text-left p-4 bg-gray-700/40 hover:bg-blue-900/20 border border-gray-600 hover:border-blue-500/50 rounded-xl transition-all duration-200 group",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("span",{className:"flex-shrink-0 flex items-center justify-center w-6 h-6 rounded-full bg-gray-800 text-xs font-bold text-gray-500 group-hover:bg-blue-600 group-hover:text-white transition-colors",children:w+1}),d.jsx("span",{className:"text-sm text-gray-200 group-hover:text-white",children:x})]})},w))]}),!o&&!c&&!f&&d.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:'Select a market and click "Spot Opportunities" to see what the AI discovers.'})]})]})}):null},lRe=({onClose:t,currentUser:e})=>{const[r,n]=Xe.useState([]),[i,s]=Xe.useState(!0);Xe.useEffect(()=>{a()},[]);const a=async()=>{s(!0);const u=await xs.getAllUsers();n(u),s(!1)},o=async u=>{const f=u.status==="active"?"pending":"active",p={...u,status:f};await xs.updateUser(p),n(g=>g.map(y=>y.username===u.username?p:y))},l=async(u,f)=>{const p={...u,maxRuns:f};await xs.updateUser(p),n(g=>g.map(y=>y.username===u.username?p:y))},c=async u=>{confirm(`Are you sure you want to delete user ${u}? This action cannot be undone.`)&&(await xs.deleteUser(u),n(f=>f.filter(p=>p.username!==u)))};return d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:t,children:d.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] flex flex-col animate-fade-in",onClick:u=>u.stopPropagation(),children:[d.jsxs("header",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gray-900/50 rounded-t-2xl",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Ex,{className:"w-6 h-6 text-yellow-400"}),d.jsx("h2",{className:"text-xl font-bold text-white",children:"Admin Dashboard"})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Wd,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"p-6 overflow-y-auto flex-grow bg-black/20 text-gray-300",children:[d.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[d.jsx(Cm,{className:"w-5 h-5 text-blue-400"}),d.jsx("h3",{className:"text-lg font-semibold text-white",children:"User Management"})]}),i?d.jsx("div",{className:"text-center py-10",children:"Loading users..."}):d.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-700",children:d.jsxs("table",{className:"w-full text-left text-sm text-gray-400",children:[d.jsx("thead",{className:"bg-gray-700/50 text-xs uppercase text-gray-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3",children:"Username / Display Name"}),d.jsx("th",{className:"px-4 py-3",children:"Role"}),d.jsx("th",{className:"px-4 py-3",children:"Status"}),d.jsx("th",{className:"px-4 py-3",children:"Usage"}),d.jsx("th",{className:"px-4 py-3",children:"Quota (Max Runs)"}),d.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-700",children:r.map(u=>d.jsxs("tr",{className:"hover:bg-gray-700/30 transition-colors",children:[d.jsxs("td",{className:"px-4 py-3",children:[d.jsx("div",{className:"font-medium text-white",children:u.displayName}),d.jsx("div",{className:"text-xs text-gray-500",children:u.username})]}),d.jsx("td",{className:"px-4 py-3",children:d.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${u.role==="admin"?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:u.role.toUpperCase()})}),d.jsx("td",{className:"px-4 py-3",children:u.status==="active"?d.jsxs("span",{className:"flex items-center gap-1 text-green-400",children:[d.jsx(Mp,{className:"w-4 h-4"})," Active"]}):d.jsxs("span",{className:"flex items-center gap-1 text-yellow-400",children:[d.jsx(AG,{className:"w-4 h-4"})," Pending"]})}),d.jsxs("td",{className:"px-4 py-3",children:[u.runCount," Runs"]}),d.jsx("td",{className:"px-4 py-3",children:d.jsx("input",{type:"number",value:u.maxRuns,onChange:f=>l(u,parseInt(f.target.value)),className:"w-20 bg-gray-900 border border-gray-600 rounded px-2 py-1 text-white focus:outline-none focus:border-blue-500"})}),d.jsx("td",{className:"px-4 py-3 text-right",children:d.jsx("div",{className:"flex items-center justify-end gap-2",children:u.role!=="admin"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>o(u),className:`px-3 py-1 rounded text-xs font-bold transition-colors ${u.status==="active"?"bg-yellow-600/80 hover:bg-yellow-600 text-white":"bg-green-600/80 hover:bg-green-600 text-white"}`,children:u.status==="active"?"Suspend":"Approve"}),d.jsx("button",{onClick:()=>c(u.username),className:"p-1 text-red-400 hover:text-red-300 transition-colors",title:"Delete User",children:d.jsx(W_,{className:"w-5 h-5"})})]})})})]},u.username))})]})})]})]})})},cRe="https://esm.sh/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs";ole.workerSrc=cRe;const HH=["Innovative","Learning","Organising","Futurist","Strategic","Initiating","Developing","Individualising","Empathic","Thinking","Adaptable"],ARe=t=>{switch(t){case Ne.FOUNDER_DNA:case Ne.MARKET_FIT_ANALYST:return"Pre-Simulation Analysis";case Ne.PROBLEM_RESEARCH:case Ne.CUSTOMER_PERSONA:case Ne.EMPATHY_MAP:return"Discover";case Ne.PROBLEM_SYNTHESIZER:return"Define";case Ne.TECHNOLOGY_SCOUT:case Ne.SOLUTION_IDEATION:case Ne.SOLUTION_CRITIQUE:case Ne.VENTURE_ANALYST:case Ne.SOLUTION_EVOLUTION:case Ne.SOLUTION_SELECTION:case Ne.DEVILS_ADVOCATE:return"Develop";default:return"Deliver"}},uRe=[Ne.IP_STRATEGIST,Ne.TALENT_STRATEGIST,Ne.VALUE_PROPOSITION,Ne.LEAN_CANVAS,Ne.STORYBOARDING,Ne.FINANCIAL_MODELER,Ne.RISK_ANALYSIS,Ne.TECHNICAL_BLUEPRINT,Ne.GO_TO_MARKET,Ne.STRATEGY,Ne.PITCH_DECK,Ne.INVESTMENT_MEMO],hRe=({modelMode:t,isRefinementEnabled:e,founderCount:r})=>{const a=19+((e?1:0)+(r>0?1:0)),o=xG[t],l=a*o,c=Math.floor(l/60),u=l%60,p=a*1500/1e3*M0;return d.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-between items-center gap-4 p-3 bg-gray-900/50 border themed-border rounded-lg text-xs",children:[d.jsx("h4",{className:"font-bold text-gray-300",children:"Metrics Snapshot (Est.)"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-400",title:"Estimated total run time for all phases.",children:[d.jsx(pG,{className:"w-4 h-4 text-blue-400"}),d.jsxs("span",{children:["~",c,"m ",u.toFixed(0),"s"]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-400",title:"Estimated Carbon Dioxide equivalent for this simulation run.",children:[d.jsx(Nle,{className:"w-4 h-4 text-green-400"}),d.jsxs("span",{children:["~",p.toFixed(2),"g COe"]})]})]})]})},n2=t=>{const e={...t};return e.research=null,e.technologyScoutReport=null,e.allSolutions=null,e.allCritiques=null,e.solutionScoring=null,e.ventureAnalysis=null,e.empathyMap=null,e.storyboard=null,e.userContext=null,e.founders&&(e.founders=e.founders.map(r=>({...r,description:"",reportText:null,photoB64:null}))),e},fRe=()=>{const[t,e]=Xe.useState(null),[r,n]=Xe.useState(!1),[i,s]=Xe.useState(!1),[a,o]=Xe.useState(q2),[l,c]=Xe.useState("problemFirst"),[u,f]=Xe.useState(""),[p,g]=Xe.useState(""),[y,x]=Xe.useState(O0[0].value),[w,S]=Xe.useState(mc[0].value),[B,F]=Xe.useState([{id:crypto.randomUUID(),name:"",description:"",photoB64:null,reportText:null,reportFileName:null,analysisProfile:null,manualTraits:{}}]),[k,O]=Xe.useState("quality"),[R,D]=Xe.useState("BALANCED"),[Q,V]=Xe.useState(!0),[re,P]=Xe.useState(!1),[H,q]=Xe.useState(!1),[Z,se]=Xe.useState(!1),[X,ee]=Xe.useState(!1),[te,Ce]=Xe.useState(!1),[ke,le]=Xe.useState(null),[M,G]=Xe.useState(!1),[W,J]=Xe.useState(null),[ae,ve]=Xe.useState(!1),[Fe,Ie]=Xe.useState([]),[He,at]=Xe.useState(null),[lt,St]=Xe.useState(!1),[Nt,it]=Xe.useState(!1),[Be,xt]=Xe.useState(!1),[Dt,vt]=Xe.useState(null),[Ft,Lt]=Xe.useState([]),[Ut,ir]=Xe.useState(!1),[Vt,_r]=Xe.useState(!1),[tr,kr]=Xe.useState(new Set(uRe)),[zr,xr]=Xe.useState(!1),[vr,Mt]=Xe.useState(null),[Ti,Ur]=Xe.useState(null),[mn,Br]=Xe.useState(!1),[Gr,Wi]=Xe.useState(null),Jr=Xe.useRef(null),[Ao,fn]=Xe.useState(null),[Yi,Is]=Xe.useState(null),[rn,Cr]=Xe.useState({}),[an,Mn]=Xe.useState({}),[Hn,ks]=Xe.useState(null),[ls,dr]=Xe.useState(null),[Ls,cs]=Xe.useState({}),[ws,cn]=Xe.useState({}),[yn,oe]=Xe.useState(null),[_e,xe]=Xe.useState({}),[pe,be]=Xe.useState(null),[we,qe]=Xe.useState(null),[tt,ze]=Xe.useState(null),[We,Me]=Xe.useState(null),[ye,Qe]=Xe.useState(null),[rt,ft]=Xe.useState(null),[wt,It]=Xe.useState(null),[nr,Kr]=Xe.useState(null),[Dr,Pi]=Xe.useState(null),[Tr,Rs]=Xe.useState(null),[pi,Po]=Xe.useState(null),[$n,ni]=Xe.useState(null),[es,$s]=Xe.useState(null),[Ca,XA]=Xe.useState(null),[bs,Va]=Xe.useState(null),[Lr,Ms]=Xe.useState(null),[gi,oA]=Xe.useState(null),[$a,lA]=Xe.useState(null),[qs,JA]=Xe.useState(null),[qa,Ho]=Xe.useState(null),[Yl,sh]=Xe.useState(null),[Xl,uo]=Xe.useState(null),[zs,cA]=Xe.useState(null),[ia,ci]=Xe.useState(null),[gl,AA]=Xe.useState(null),[cr,sa]=Xe.useState(null),[Sa,wr]=Xe.useState(0),[ZA,Jl]=Xe.useState(!1),[za,Zl]=Xe.useState([]),[Us,Qo]=Xe.useState(null),[Cf,Ka]=Xe.useState(null),ml=Xe.useRef(null),aa=Xe.useRef(!1),[ah,ec]=Xe.useState(0),[Ds,ho]=Xe.useState(0),[uA,Un]=Xe.useState(null),[Sf,eu]=Xe.useState(!1),[fo,Wa]=Xe.useState(!1),[tu,tc]=Xe.useState(!1),[yl,ru]=Xe.useState(!1),[hA,nu]=Xe.useState(null),[oh,e0]=Xe.useState(!1),[_f,lh]=Xe.useState(!1),[t0,Fc]=Xe.useState(!1),[Ef,ch]=Xe.useState(!1),[Bf,r0]=Xe.useState(!1),[fA,dA]=Xe.useState(!1),[Ah,jo]=Xe.useState([]),[uh,L]=Xe.useState(null),[ne,Te]=Xe.useState(!1),[Le,Ge]=Xe.useState("overview"),[ht,Bt]=Xe.useState(null),[$t,gr]=Xe.useState(!1),[Vr,Rr]=Xe.useState(null),[An,Ai]=Xe.useState(!1),[Ni,Hi]=Xe.useState(null),[Cs,ts]=Xe.useState(!1),[Ks,_a]=Xe.useState(null),[xl,hh]=Xe.useState(!1),[fh,pA]=Xe.useState(null);Xe.useRef({});const rc=Xe.useRef(null),po=Xe.useRef(null),iu=Xe.useRef(null),vl=Xe.useRef(null),Tn=Nt,wl=t&&(t.status==="active"||t.role==="admin");Xe.useEffect(()=>{const Ee=`theme-${k}`;return document.body.className=Ee,()=>{document.body.className=""}},[k]),Xe.useEffect(()=>{const Ee=xs.getCurrentUser();Ee&&(xs.getUser(Ee.username).then(Ve=>{if(Ve){const{passwordHash:At,...ot}=Ve;e(ot)}else console.warn("User session invalid. Logging out."),xs.clearCurrentUser(),e(null)}),(async()=>{const Ve=await xs.getRuns(Ee.username);jo(Ve)})())},[]),Xe.useEffect(()=>{if(i){const Ee=setTimeout(()=>s(!1),500);return()=>clearTimeout(Ee)}},[i]),Xe.useEffect(()=>{if(H||lt){const Ee=a.filter(Ke=>Ke.status==="done").length;ec(Ee)}},[a,H,lt]),Xe.useEffect(()=>{Z&&!Tn&&!Q&&!lt&&!H&&(Rt(Ne.DEVILS_ADVOCATE,"done"),on())},[Z,Tn,Q,lt,H]),Xe.useEffect(()=>{Z&&Q&&Rt(Ne.DEVILS_ADVOCATE,"working")},[Z,Q]),Xe.useEffect(()=>()=>{Us&&Us.startsWith("blob:")&&URL.revokeObjectURL(Us)},[Us]);const gA=Ee=>{kr(Ke=>{const Ve=new Set(Ke);return Ve.has(Ee)?Ve.delete(Ee):Ve.add(Ee),Ve})},mA=async(Ee,Ke=!0)=>{n(!0),setTimeout(async()=>{xs.setCurrentUser(Ee,Ke),e(Ee);const Ve=await xs.getRuns(Ee.username);if(jo(Ve),s(!0),navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||(await navigator.storage.persist()?console.log("Persistent storage permission granted."):console.warn("Persistent storage permission was not granted."))}catch(At){console.error("Failed to request or check persistent storage:",At)}},500)},dh=()=>{xs.clearCurrentUser(),e(null),n(!1),jo([]),Ya()},Ea=Ee=>{const Ke=Ee.report;f(Ee.challenge),g(Ke.userSolution||""),D(Ke.strategicDirective||"BALANCED"),x(Ke.ideaArea||O0[0].value),S(Ke.targetMarket||mc[0].value),Mt(Ke.userContext||null),F(Ke.founders||[{id:crypto.randomUUID(),name:"",description:"",photoB64:null,reportText:null,reportFileName:null,analysisProfile:null,manualTraits:{}}]),be(Ke.founderDna),qe(Ke.research),ze(Ke.customerPersona),Me(Ke.empathyMap),Qe(Ke.problemStatement),ft(Ke.technologyScoutReport),It(Ke.allSolutions),Kr(Ke.allCritiques),Pi(Ke.solutionScoring),Rs(Ke.selectedSolution),Po(Ke.ipStrategy),ni(Ke.talentStrategy||null),$s(Ke.valueProposition),XA(Ke.leanCanvas),Va(Ke.storyboard),Ms(Ke.financialPlan),oA(Ke.riskAnalysis),lA(Ke.technicalBlueprint),JA(Ke.goToMarket),Ho(Ke.strategy),sh(Ke.redTeam),uo(Ke.ethicsReport),cA(Ke.pitchDeck),ci(Ke.investmentMemo||null),AA(Ke.successScore),sa(Ke.usageMetrics||null),L(Ee.id),Te(!0),Ge("overview"),o(q2.map(Ve=>({...Ve,status:"done"}))),q(!1),se(!0),it(!0),Un(null),oe(null),xe({})},n0=Ee=>{if(!t)return;const Ke=Ah.find(Ve=>Ve.id===Ee);Ke&&(Ea(Ke),Fc(!1))},Tf=async Ee=>{if(!t)return;await xs.deleteRun(Ee);const Ke=await xs.getRuns(t.username);jo(Ke)},Rt=(Ee,Ke,Ve)=>{o(At=>At.map(ot=>ot.role===Ee?{...ot,status:Ke,output:Ve||ot.output,tokenUsage:Ve==null?void 0:Ve.tokenUsage}:ot))},Ya=()=>{o(q2),f(""),g(""),x(O0[0].value),S(mc[0].value),F([{id:crypto.randomUUID(),name:"",description:"",photoB64:null,reportText:null,reportFileName:null,analysisProfile:null,manualTraits:{}}]),D("BALANCED"),V(!0),P(!1),q(!1),se(!1),it(!1),ee(!1),Ce(!1),le(null),G(!1),J(null),ve(!1),Ie([]),at(null),St(!1),xt(!1),vt(null),Un(null),ru(!1),nu(null),L(null),Te(!1),Ge("overview"),Bt(null),wr(0),ec(0),ho(0),Mt(null),Ur(null),Br(!1),Wi(null),Jr.current&&(Jr.current.value=""),gr(!1),Rr(null),Ai(!1),Hi(null),ts(!1),_a(null),hh(!1),pA(null),fn(null),Cr({}),Is(null),Mn({}),ks(null),oe(null),xe({}),dr(null),cs({}),cn({}),Us&&Us.startsWith("blob:")&&URL.revokeObjectURL(Us),Qo(null),Jl(!1),Zl([]),Ka(null),be(null),qe(null),ze(null),Me(null),Qe(null),ft(null),It(null),Kr(null),Pi(null),Rs(null),Po(null),ni(null),$s(null),XA(null),Va(null),Ms(null),oA(null),lA(null),JA(null),Ho(null),sh(null),uo(null),cA(null),ci(null),AA(null),sa(null)},ph=()=>{if(!Tn)return;const Ee={strategicDirective:R,ideaArea:y,targetMarket:w,userContext:vr,userSolution:p,founders:B,founderDna:pe,research:we,customerPersona:tt?{...tt,avatarB64:void 0}:null,empathyMap:We,problemStatement:ye,technologyScoutReport:rt,allSolutions:wt,allCritiques:nr,ventureAnalysis:null,solutionScoring:Dr,selectedSolution:Tr,ipStrategy:pi,talentStrategy:$n,valueProposition:es,leanCanvas:Ca,storyboard:bs?{...bs,panels:bs.panels.map(Ke=>({...Ke,imageB64:void 0}))}:null,financialPlan:Lr?{...Lr,elevatorPitchImageB64:void 0}:null,investmentMemo:ia,riskAnalysis:gi,technicalBlueprint:$a,goToMarket:qs,strategy:qa,redTeam:Yl,ethicsReport:Xl,pitchDeck:zs,successScore:gl,usageMetrics:cr};navigator.clipboard.writeText(JSON.stringify({challenge:u,report:Ee},null,2)),ru(!0),setTimeout(()=>ru(!1),2e3)},i0=async()=>{if(!po.current){console.error("Report component is not available.");return}eu(!0);try{const Ee=await H_(po.current,{scale:2,useCORS:!0,backgroundColor:"#ffffff",windowWidth:po.current.scrollWidth,windowHeight:po.current.scrollHeight}),Ke=Ee.toDataURL("image/png"),Ve=new Qr("p","mm","a4"),At=Ve.internal.pageSize.getWidth(),ot=Ve.internal.pageSize.getHeight(),kt=Ee.height*At/Ee.width;let jt=kt,Ar=0;Ve.addImage(Ke,"PNG",0,Ar,At,kt),jt-=ot;let Or=1;for(;jt>0;)Ar=-ot*Or,Ve.addPage(),Or++,Ve.addImage(Ke,"PNG",0,Ar,At,kt),jt-=ot;for(let Wn=1;Wn<=Or;Wn++)Ve.setPage(Wn),Ve.setFontSize(8),Ve.setTextColor(150),Wn>1&&(Ve.text(` ${new Date().getFullYear()} Xinovates | Sad Business School, University of Oxford`,At/2,ot-10,{align:"center"}),Ve.text(`Page ${Wn-1} of ${Or-1}`,At-25,ot-10));const Qn=(Lr==null?void 0:Lr.selectedBrandName)||"Xinovates";Ve.save(`${Qn}-Report.pdf`)}catch(Ee){console.error("Failed to generate PDF:",Ee),Un("Could not generate the PDF report. Please try again.")}finally{eu(!1)}},oa=async()=>{if(!vl.current||!zs){Un("Pitch deck content is not available.");return}tc(!0);try{const Ee=Array.from(vl.current.querySelectorAll(".break-after-page > div")),Ke=new Qr("l","mm","a4"),Ve=Ke.internal.pageSize.getWidth(),At=Ke.internal.pageSize.getHeight();for(let kt=0;kt<Ee.length;kt++){const jt=Ee[kt],Ar=await H_(jt,{scale:2,useCORS:!0,backgroundColor:"#ffffff"});kt>0&&Ke.addPage();const Or=Ar.toDataURL("image/png");Ke.addImage(Or,"PNG",0,0,Ve,At)}const ot=(Lr==null?void 0:Lr.selectedBrandName)||"Xinovates";Ke.save(`${ot}-Pitch-Deck.pdf`)}catch(Ee){console.error("Failed to generate Pitch Deck PDF:",Ee),Un("Could not generate the Pitch Deck PDF. Please try again.")}finally{tc(!1)}},Go=()=>{if(!iu.current||!Tn||!Lr){Un("Cannot generate shareable page, data is missing.");return}Wa(!0);try{const Ee=iu.current.innerHTML,Ve=`
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>${(Lr==null?void 0:Lr.selectedBrandName)||"Xinovates Venture Plan"}</title>
        <script src="https://cdn.tailwindcss.com"><\/script>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
        <style>
            body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
            .printable-section { break-inside: avoid; }
            img { max-width: 100%; height: auto; border-radius: 0.5rem; }
            table { min-width: 100%; }
        </style>
    </head>
    <body class="bg-gray-50 text-gray-800">
        ${Ee}
    </body>
    </html>
            `,At=new Blob([Ve],{type:"text/html"}),ot=URL.createObjectURL(At),kt=document.createElement("a");kt.href=ot,kt.download=`${Lr.selectedBrandName}-Venture-Plan.html`,document.body.appendChild(kt),kt.click(),document.body.removeChild(kt),URL.revokeObjectURL(ot)}catch(Ee){console.error("Failed to generate shareable HTML:",Ee),Un("Could not generate the shareable HTML page. Please try again.")}finally{Wa(!1)}},yA=async()=>{if(!t||!Tn)return;const Ee={strategicDirective:R,ideaArea:y,targetMarket:w,userContext:vr,userSolution:p,founders:B,founderDna:pe,research:we,customerPersona:tt,empathyMap:We,problemStatement:ye,technologyScoutReport:rt,allSolutions:wt,allCritiques:nr,ventureAnalysis:null,solutionScoring:Dr,selectedSolution:Tr,ipStrategy:pi,talentStrategy:$n,valueProposition:es,leanCanvas:Ca,storyboard:bs,financialPlan:Lr,riskAnalysis:gi,technicalBlueprint:$a,goToMarket:qs,strategy:qa,redTeam:Yl,ethicsReport:Xl,pitchDeck:zs,investmentMemo:ia,successScore:gl,usageMetrics:cr},Ke={id:uh||crypto.randomUUID(),username:t.username,savedAt:new Date().toISOString(),challenge:u,title:Lr==null?void 0:Lr.selectedBrandName,report:Ee};await xs.saveRun(Ke);const Ve=await xs.getRuns(t.username);jo(Ve),L(Ke.id),Te(!0)},Ba=async Ee=>{var At;if(!wl)return Un("Unauthorized access."),[];const{data:Ke,usage:Ve}=await rpe(((At=mc.find(ot=>ot.value===Ee))==null?void 0:At.label)||Ee,k);return Ke.challenges},la=Ee=>{f(Ee),xr(!1)},Xa=(Ee,Ke,Ve)=>{F(At=>At.map(ot=>ot.id===Ee?{...ot,[Ke]:Ve}:ot))},bl=(Ee,Ke,Ve)=>{F(At=>At.map(ot=>{if(ot.id===Ee){const kt={...ot.manualTraits||{},[Ke]:Ve};return{...ot,manualTraits:kt}}return ot}))},Ic=()=>{F(Ee=>[...Ee,{id:crypto.randomUUID(),name:"",description:"",photoB64:null,reportText:null,reportFileName:null,analysisProfile:null,manualTraits:{}}])},Cl=Ee=>{F(Ke=>Ke.filter(Ve=>Ve.id!==Ee))},Sl=(Ee,Ke)=>{var At;const Ve=(At=Ee.target.files)==null?void 0:At[0];if(Ve){const ot=new FileReader;ot.onloadend=()=>{Xa(Ke,"photoB64",ot.result)},ot.readAsDataURL(Ve)}},mi=async(Ee,Ke)=>{var At;const Ve=(At=Ee.target.files)==null?void 0:At[0];if(Ve){cs(ot=>({...ot,[Ke]:null})),dr(Ke);try{let ot="";if(Ve.type==="application/pdf"){const Or=await Ve.arrayBuffer(),Qn=await E8(Or).promise;for(let Wn=1;Wn<=Qn.numPages;Wn++){const Dn=await(await Qn.getPage(Wn)).getTextContent();ot+=Dn.items.map(qt=>"str"in qt?qt.str:"").join(" ")+`
`}}else if(Ve.type==="text/plain")ot=await Ve.text();else throw new Error("Unsupported file type. Please upload a PDF or TXT file.");const kt=B.find(Or=>Or.id===Ke);if(!kt)throw new Error("Founder not found");const{data:jt,usage:Ar}=await epe(kt.name,ot,k);Xa(Ke,"description",jt.summary),wr(Or=>Or+Ar.total)}catch(ot){console.error("Error processing CV:",ot);const kt=ot instanceof Error?ot.message:"Failed to process CV.";cs(jt=>({...jt,[Ke]:kt}))}finally{dr(null)}Ee.target&&(Ee.target.value="")}},su=async(Ee,Ke,Ve)=>{Is(Ee),Mn(At=>({...At,[Ee]:null}));try{const{data:At,usage:ot}=await Epe(Ke,Ve,k);F(kt=>kt.map(jt=>jt.id===Ee?{...jt,analysisProfile:At}:jt)),cn(kt=>({...kt,[Ee]:!0})),wr(kt=>kt+ot.total),setTimeout(()=>{cn(kt=>({...kt,[Ee]:!1}))},5e3)}catch(At){console.error("Founder analysis failed:",At);const ot=At instanceof Error?At.message:"Failed to analyze the report.";Mn(kt=>({...kt,[Ee]:ot}))}finally{Is(null)}},ca=async Ee=>{const Ke=B.find(At=>At.id===Ee);if(!Ke||!Ke.name.trim())return;const Ve=`Founder Self-Assessment for ${Ke.name}:
`+HH.map(At=>{var ot;return`- ${At}: Score ${((ot=Ke.manualTraits)==null?void 0:ot[At])||50}`}).join(`
`);await su(Ee,Ke.name,Ve),ks(null)},Os=async Ee=>{const Ke=B.find(Ve=>Ve.id===Ee);if(!(!Ke||!Ke.name.trim())){fn(Ee),Cr(Ve=>({...Ve,[Ee]:null}));try{const{data:Ve,usage:At}=await _pe(Ke.name,k);Ve.summary?Xa(Ee,"description",Ve.summary):Xa(Ee,"description","No professional information found online."),wr(ot=>ot+At.total)}catch(Ve){console.error("Founder search failed:",Ve);const At=Ve instanceof Error?Ve.message:"Failed to search for founder information.";Cr(ot=>({...ot,[Ee]:At}))}finally{fn(null)}}},_l=async Ee=>{var Ve;const Ke=(Ve=Ee.target.files)==null?void 0:Ve[0];if(Ke){if(Ke.type!=="application/pdf"){Wi("Please upload a valid PDF file.");return}Mt(null),Ur(null),Wi(null),Br(!0);try{const At=new FileReader;At.onload=async ot=>{var kt;try{const jt=(kt=ot.target)==null?void 0:kt.result;if(!jt||!(jt instanceof ArrayBuffer))throw new Error("Could not read file into ArrayBuffer.");const Ar=await E8(jt).promise;let Or="";for(let Qn=1;Qn<=Ar.numPages;Qn++){const Dn=(await(await Ar.getPage(Qn)).getTextContent()).items.map(qt=>"str"in qt?qt.str:"").join(" ");Or+=Dn+`

`}Mt(Or),Ur(Ke.name)}catch(jt){console.error("Error parsing PDF:",jt),Wi(jt instanceof Error?jt.message:"Failed to parse PDF."),Mt(null),Ur(null)}finally{Br(!1)}},At.onerror=()=>{Wi("Failed to read file."),Br(!1)},At.readAsArrayBuffer(Ke)}catch(At){console.error("Error with file reader:",At),Wi(At instanceof Error?At.message:"An unexpected error occurred."),Br(!1)}Ee.target&&(Ee.target.value="")}},gh=()=>{Mt(null),Ur(null),Wi(null),Jr.current&&(Jr.current.value="")},mh=Xe.useCallback(async()=>{var ou,lu;if(!t)return;if(!wl){Un("Account is pending approval. Please wait for an administrator to activate your account.");return}if(t.runCount>=t.maxRuns){Un(`Run limit reached (${t.maxRuns}). Please contact support or upgrade.`);return}const Ee=l==="problemFirst";if(!u){Un(`Please enter ${Ee?"an innovation challenge":"your solution description"} to start.`);return}try{const zn=await xs.incrementRunCount(t.username);e(nc=>nc?{...nc,runCount:zn}:null)}catch(zn){console.error("Failed to increment run count",zn),zn==="Quota exceeded"||typeof zn=="string"&&zn.includes("Quota")?Un(`Run limit reached (${t.maxRuns}). You cannot run another simulation.`):Un("Failed to verify usage limits. Please try again.");return}const Ve=u,At=l==="solutionFirst"?u:p,ot=y,kt=w,jt=Q,Ar=R,Or=B,Qn=re,Wn=vr,_s=tr,Dn=l;Ya(),f(Ve),g(At),x(ot),S(kt),V(jt),D(Ar),F(Or),P(Qn),Mt(Wn),kr(_s),c(Dn);let qt=0;Or.some(zn=>zn.description.trim()!=="")&&qt++,Dn==="problemFirst"?(qt+=5,At.trim()===""?qt+=4:jt&&(qt+=1)):(qt+=1,qt+=4),jt&&qt++,qt+=_s.size,ho(qt),ec(0),q(!0);let Er=0;const rs=B.filter(zn=>zn.description.trim()!==""),ji=((ou=O0.find(zn=>zn.value===ot))==null?void 0:ou.label)||ot,Es=((lu=mc.find(zn=>zn.value===kt))==null?void 0:lu.label)||kt;try{let zn=null;if(rs.length>0){Rt(Ne.FOUNDER_DNA,"working"),await Cn(500);const{data:nc,usage:Xi}=await Z0e(rs,k,R);zn=nc,be(zn),Er+=Xi.total,wr(Er),Rt(Ne.FOUNDER_DNA,"done",{output:zn,tokenUsage:Xi})}Ee?await go(Ve,At,ji,Es,Wn,Qn,Er,zn):await xA(At,ji,Es,Er)}catch(zn){console.error(zn),Un(zn instanceof Error?zn.message:"An unknown error occurred."),o(nc=>nc.map(Xi=>Xi.status==="working"?{...Xi,status:"error"}:Xi)),q(!1)}},[u,p,y,w,k,R,Q,B,re,vr,l,tr,t,wl]),go=async(Ee,Ke,Ve,At,ot,kt,jt,Ar)=>{let Or=jt;Rt(Ne.PROBLEM_RESEARCH,"working"),await Cn(500);const{data:Qn,usage:Wn}=await cP(Ee,Ve,At,k,R,ot);if(Rt(Ne.PROBLEM_RESEARCH,"done",{output:Qn,tokenUsage:Wn}),Or+=Wn.total,wr(Or),qe(Qn),Ke.trim()===""){const{data:_s,usage:Dn}=await npe(Ee,Qn,k);Or+=Dn.total,wr(Or),J(_s.problemFrames),G(!0),q(!1);return}await kc(null,Ee,Ke,At,kt,Or,Ar)},kc=async(Ee,Ke,Ve,At,ot,kt,jt)=>{q(!0);let Ar=kt;if(!we){Un("Critical error: Research data missing."),q(!1);return}Rt(Ne.CUSTOMER_PERSONA,"working"),await Cn(500);const{data:Or,usage:Qn}=await AP(Ke,we,At,k,R,Ee);Rt(Ne.CUSTOMER_PERSONA,"done",{output:Or,tokenUsage:Qn}),Ar+=Qn.total,wr(Ar),ze(Or),Rt(Ne.EMPATHY_MAP,"working"),await Cn(500);const{data:Wn,usage:_s}=await uP(Ke,we,Or,k,R,Ee);Rt(Ne.EMPATHY_MAP,"done",{output:Wn,tokenUsage:_s}),Ar+=_s.total,wr(Ar),Me(Wn),Rt(Ne.PROBLEM_SYNTHESIZER,"working"),await Cn(500);const{data:Dn,usage:qt}=await ipe(Ke,we,Or,Wn,k,R,Ee);Rt(Ne.PROBLEM_SYNTHESIZER,"done",{output:Dn,tokenUsage:qt}),Ar+=qt.total,wr(Ar),Qe(Dn),Rt(Ne.TECHNOLOGY_SCOUT,"working"),await Cn(500);const{data:Er,usage:rs}=await hP(Dn,k,R);if(Rt(Ne.TECHNOLOGY_SCOUT,"done",{output:Er,tokenUsage:rs}),Ar+=rs.total,wr(Ar),ft(Er),Ve.trim()!==""){Rt(Ne.SOLUTION_IDEATION,"done",{output:{solutions:[]},tokenUsage:Dl()}),Rt(Ne.SOLUTION_CRITIQUE,"done",{output:[],tokenUsage:Dl()}),Rt(Ne.VENTURE_ANALYST,"done",{output:null,tokenUsage:Dl()}),Rt(Ne.SOLUTION_EVOLUTION,"done",{output:null,tokenUsage:Dl()}),Rt(Ne.SOLUTION_SELECTION,"working"),await Cn(500);const{data:ji,usage:Es}=await fP(Ve,Dn.problemStatement,k,R);Ar+=Es.total,wr(Ar),Ie(ji.suggestedNames),ve(!0)}else{Rt(Ne.SOLUTION_IDEATION,"working"),await Cn(500);const{data:ji,usage:Es}=await dP(Dn,Er,k,R,ot?jt:null);Rt(Ne.SOLUTION_IDEATION,"done",{output:ji,tokenUsage:Es}),Ar+=Es.total,wr(Ar),It(ji),Rt(Ne.SOLUTION_CRITIQUE,"working"),await Cn(500);const{data:ou,usage:lu}=await Y3(ji,k,R);Rt(Ne.SOLUTION_CRITIQUE,"done",{output:ou,tokenUsage:lu}),Ar+=lu.total,wr(Ar),Kr(ou),Rt(Ne.VENTURE_ANALYST,"working"),await Cn(500);const{data:zn,usage:nc}=await pP(Dn,ji,ou,k,R,jt);Rt(Ne.VENTURE_ANALYST,"done",{output:zn,tokenUsage:nc}),Ar+=nc.total,wr(Ar),Pi(zn),ee(!0)}q(!1)},Lc=async Ee=>{var Ve;G(!1);const Ke=((Ve=mc.find(At=>At.value===w))==null?void 0:Ve.label)||w;await kc(Ee,u,p,Ke,re,Sa,pe)},xA=async(Ee,Ke,Ve,At)=>{let ot=At;Rt(Ne.MARKET_FIT_ANALYST,"working"),await Cn(500);const{data:kt,usage:jt}=await tpe(Ee,Ke,Ve,k,R);Rt(Ne.MARKET_FIT_ANALYST,"done",{output:kt,tokenUsage:jt}),ot+=jt.total,wr(ot),le(kt.challenges),Ce(!0),q(!1)},yh=async Ee=>{var ot,kt;Ce(!1),Qe(Ee),f(Ee.problemStatement),q(!0);let Ke=Sa;const Ve=((ot=O0.find(jt=>jt.value===y))==null?void 0:ot.label)||y,At=((kt=mc.find(jt=>jt.value===w))==null?void 0:kt.label)||w;try{Rt(Ne.MARKET_FIT_ANALYST,"done"),Rt(Ne.PROBLEM_RESEARCH,"working"),await Cn(500);const{data:jt,usage:Ar}=await cP(Ee.problemStatement,Ve,At,k,R,vr);Rt(Ne.PROBLEM_RESEARCH,"done",{output:jt,tokenUsage:Ar}),Ke+=Ar.total,wr(Ke),qe(jt),Rt(Ne.CUSTOMER_PERSONA,"working"),await Cn(500);const{data:Or,usage:Qn}=await AP(Ee.problemStatement,jt,At,k,R,null);Rt(Ne.CUSTOMER_PERSONA,"done",{output:Or,tokenUsage:Qn}),Ke+=Qn.total,wr(Ke),ze(Or),Rt(Ne.EMPATHY_MAP,"working"),await Cn(500);const{data:Wn,usage:_s}=await uP(Ee.problemStatement,jt,Or,k,R,null);Rt(Ne.EMPATHY_MAP,"done",{output:Wn,tokenUsage:_s}),Ke+=_s.total,wr(Ke),Me(Wn),Rt(Ne.PROBLEM_SYNTHESIZER,"done",{output:Ee,tokenUsage:Dl()}),Rt(Ne.SOLUTION_IDEATION,"done",{output:{solutions:[]},tokenUsage:Dl()}),Rt(Ne.SOLUTION_CRITIQUE,"done",{output:[],tokenUsage:Dl()}),Rt(Ne.VENTURE_ANALYST,"done",{output:null,tokenUsage:Dl()}),Rt(Ne.TECHNOLOGY_SCOUT,"working"),await Cn(500);const{data:Dn,usage:qt}=await hP(Ee,k,R);Rt(Ne.TECHNOLOGY_SCOUT,"done",{output:Dn,tokenUsage:qt}),Ke+=qt.total,wr(Ke),ft(Dn),Rt(Ne.SOLUTION_SELECTION,"working");const{data:Er,usage:rs}=await fP(p,Ee.problemStatement,k,R);Ke+=rs.total,wr(Ke),Ie(Er.suggestedNames),ve(!0)}catch(jt){console.error(jt),Un(jt instanceof Error?jt.message:"An unknown error occurred."),o(Ar=>Ar.map(Or=>Or.status==="working"?{...Or,status:"error"}:Or))}finally{q(!1)}},au=async Ee=>{at(Ee);const Ke={selectedSolutionId:1,solutionTitle:"User-Provided Solution",solutionDescription:p,justification:"This solution was provided directly by the user to serve as the basis for the venture plan.",pros:["Clear initial vision provided by the founder.","Bypasses brainstorming for faster path to planning."],cons:["The solution has not been subjected to AI-driven critique or compared against other alternatives."]};if(Rs(Ke),Rt(Ne.SOLUTION_EVOLUTION,"done",{output:Ke,tokenUsage:Dl()}),Rt(Ne.SOLUTION_SELECTION,"done",{output:Ke,tokenUsage:Dl()}),ve(!1),p.trim()!==""&&Q){q(!0),Rt(Ne.SOLUTION_CRITIQUE,"working");try{const Ve={solutions:[{id:1,title:Ke.solutionTitle,summary:"User-provided solution.",description:Ke.solutionDescription}]},{data:At,usage:ot}=await Y3(Ve,k,R);wr(kt=>kt+ot.total),Rt(Ne.SOLUTION_CRITIQUE,"done",{output:At,tokenUsage:ot}),Kr(At)}catch(Ve){console.error("Error generating critique for user solution:",Ve),Un(Ve instanceof Error?Ve.message:"Failed to generate critique for the provided solution."),Rt(Ne.SOLUTION_CRITIQUE,"error"),q(!1);return}finally{q(!1)}}se(!0)},vA=async Ee=>{if(!(!Dr||!wt||!nr)){ee(!1),q(!0);try{Rt(Ne.SOLUTION_EVOLUTION,"working"),await Cn(500);const Ke={rankedSolutions:Dr.scores.map((ot,kt)=>{var jt;return{id:ot.solutionId,title:((jt=wt.solutions.find(Ar=>Ar.id===ot.solutionId))==null?void 0:jt.title)||`Solution ${ot.solutionId}`,rank:kt+1,justification:""}}),debateSummary:Dr.recommendationText,recommendedSolutionId:Ee},{data:Ve,usage:At}=await spe(Ke,wt,nr,k,R);wr(ot=>ot+At.total),Rt(Ne.SOLUTION_EVOLUTION,"done",{output:Ve,tokenUsage:At}),Rs(Ve),Rt(Ne.SOLUTION_SELECTION,"done",{output:Ve,tokenUsage:Dl()}),se(!0)}catch(Ke){console.error("Error during solution evolution:",Ke),Un(Ke instanceof Error?Ke.message:"Failed to evolve the selected solution."),Rt(Ne.SOLUTION_EVOLUTION,"error")}finally{q(!1)}}},xh=Xe.useCallback(async()=>{if(!ye||!rt){Un("Cannot regenerate ideas without a problem statement and tech research.");return}q(!0),Un(null);let Ee=Sa,Ke=pe;try{Rt(Ne.SOLUTION_IDEATION,"working"),await Cn(500);const{data:Ve,usage:At}=await dP(ye,rt,k,R,re?Ke:null);Rt(Ne.SOLUTION_IDEATION,"done",{output:Ve,tokenUsage:At}),Ee+=At.total,It(Ve),Rt(Ne.SOLUTION_CRITIQUE,"working"),await Cn(500);const{data:ot,usage:kt}=await Y3(Ve,k,R);Rt(Ne.SOLUTION_CRITIQUE,"done",{output:ot,tokenUsage:kt}),Ee+=kt.total,Kr(ot),Rt(Ne.VENTURE_ANALYST,"working"),await Cn(500);const{data:jt,usage:Ar}=await pP(ye,Ve,ot,k,R,pe);Rt(Ne.VENTURE_ANALYST,"done",{output:jt,tokenUsage:Ar}),Ee+=Ar.total,Pi(jt),wr(Ee)}catch(Ve){console.error(Ve),Un(Ve instanceof Error?Ve.message:"An unknown error occurred during regeneration."),o(At=>At.map(ot=>ot.status==="working"?{...ot,status:"error"}:ot))}finally{q(!1)}},[ye,rt,k,R,re,pe,Sa]),mo=Xe.useCallback(()=>{aa.current=!0,xt(!1),vt("Solution enhancement cancelled by user."),Lt(Ee=>[...Ee,"Process cancelled."])},[]),Ja=Xe.useCallback(async()=>{if(!ye||!Tr||!nr)return;const Ee=nr.find(Ve=>Ve.solutionId===Tr.selectedSolutionId);if(!Ee){vt("Could not find critique for the selected solution.");return}aa.current=!1,xt(!0),vt(null),Lt([]),Rt(Ne.DEVILS_ADVOCATE,"working");const Ke=Ve=>{aa.current||Lt(At=>[...At,Ve])};try{const{data:Ve,usage:At}=await ape(ye.problemStatement,Tr,Ee.devilsAdvocate,k,R,Ke);if(aa.current){console.log("Enhancement was cancelled, ignoring result.");return}wr(ot=>ot+At.total),Rt(Ne.DEVILS_ADVOCATE,"working",{output:Ve,tokenUsage:At}),Rs(ot=>{if(!ot)return null;const kt=[...ot.history||[],{title:ot.solutionTitle,description:ot.solutionDescription,justification:ot.justification}];return{...ot,solutionTitle:Ve.refinedSolutionTitle,solutionDescription:Ve.refinedSolutionDescription,justification:Ve.justificationForChange,history:kt}})}catch(Ve){aa.current||(console.error("Enhancement failed:",Ve),vt(Ve instanceof Error?Ve.message:"Failed to enhance solution."))}finally{aa.current||xt(!1)}},[ye,Tr,nr,k,R]),on=Xe.useCallback(async()=>{var Ve;if(!ye||!Tr||!tt||!we){Un("Core simulation data is missing. Please start over.");return}St(!0),Rt(Ne.DEVILS_ADVOCATE,"done"),Un(null);let Ee=Sa;const Ke=((Ve=mc.find(At=>At.value===w))==null?void 0:Ve.label)||w;try{const At={problemStatement:ye.problemStatement,solution:Tr.solutionDescription,targetMarket:Ke};let ot=null;if(tr.has(Ne.IP_STRATEGIST)){Rt(Ne.IP_STRATEGIST,"working"),await Cn(500);const{data:qt,usage:Er}=await ope(Tr.solutionDescription,k,R);Ee+=Er.total,wr(Ee),Rt(Ne.IP_STRATEGIST,"done",{output:qt,tokenUsage:Er}),Po(qt),ot=qt}if(tr.has(Ne.TALENT_STRATEGIST)&&pe){Rt(Ne.TALENT_STRATEGIST,"working"),await Cn(500);const{data:qt,usage:Er}=await lpe(Tr,pe,k,R);Ee+=Er.total,wr(Ee),Rt(Ne.TALENT_STRATEGIST,"done",{output:qt,tokenUsage:Er}),ni(qt)}let kt=null;if(tr.has(Ne.VALUE_PROPOSITION)){Rt(Ne.VALUE_PROPOSITION,"working"),await Cn(500);const{data:qt,usage:Er}=await Ape(At,k,R);Ee+=Er.total,wr(Ee),Rt(Ne.VALUE_PROPOSITION,"done",{output:qt,tokenUsage:Er}),$s(qt),kt=qt}let jt=null;if(tr.has(Ne.LEAN_CANVAS)&&kt){Rt(Ne.LEAN_CANVAS,"working"),await Cn(500);const{data:qt,usage:Er}=await upe(At,kt,k,R);Ee+=Er.total,wr(Ee),Rt(Ne.LEAN_CANVAS,"done",{output:qt,tokenUsage:Er}),XA(qt),jt=qt}let Ar=null;if(tr.has(Ne.STORYBOARDING)&&kt&&jt){Rt(Ne.STORYBOARDING,"working"),await Cn(500);const{data:qt,usage:Er}=await hpe(At,tt,kt,jt,k,R);Ee+=Er.total,wr(Ee),Rt(Ne.STORYBOARDING,"done",{output:qt,tokenUsage:Er}),Va(qt),Ar=qt}let Or=null;if(tr.has(Ne.FINANCIAL_MODELER)&&jt){Rt(Ne.FINANCIAL_MODELER,"working"),await Cn(500);const{data:qt,usage:Er}=await fpe(At,jt,k,R,He);Ee+=Er.total,wr(Ee),Rt(Ne.FINANCIAL_MODELER,"done",{output:qt,tokenUsage:Er}),Ms(qt),Or=qt}if(tr.has(Ne.STRATEGY)&&jt){Rt(Ne.STRATEGY,"working"),await Cn(500);const{data:qt,usage:Er}=await dpe(At,jt,we,k,R);Ee+=Er.total,wr(Ee),Rt(Ne.STRATEGY,"done",{output:qt,tokenUsage:Er}),Ho(qt)}if(tr.has(Ne.RISK_ANALYSIS)){Rt(Ne.RISK_ANALYSIS,"working"),await Cn(500);const{data:qt,usage:Er}=await ppe(At,k,R);Ee+=Er.total,wr(Ee),Rt(Ne.RISK_ANALYSIS,"done",{output:qt,tokenUsage:Er}),oA(qt)}if(tr.has(Ne.TECHNICAL_BLUEPRINT)){Rt(Ne.TECHNICAL_BLUEPRINT,"working"),await Cn(500);const{data:qt,usage:Er}=await gpe(At,k,R);Ee+=Er.total,wr(Ee),Rt(Ne.TECHNICAL_BLUEPRINT,"done",{output:qt,tokenUsage:Er}),lA(qt)}if(tr.has(Ne.GO_TO_MARKET)){Rt(Ne.GO_TO_MARKET,"working"),await Cn(500);const{data:qt,usage:Er}=await mpe(At,k,R);Ee+=Er.total,wr(Ee),Rt(Ne.GO_TO_MARKET,"done",{output:qt,tokenUsage:Er}),JA(qt)}const Qn={strategicDirective:R,ideaArea:y,targetMarket:w,userContext:vr,userSolution:p,founders:B,founderDna:pe,research:we,customerPersona:tt,empathyMap:We,problemStatement:ye,technologyScoutReport:rt,allSolutions:wt,allCritiques:nr,ventureAnalysis:null,solutionScoring:Dr,selectedSolution:Tr,ipStrategy:pi,talentStrategy:$n,valueProposition:es,leanCanvas:Ca,storyboard:Ar,financialPlan:Or,riskAnalysis:gi,technicalBlueprint:$a,goToMarket:qs,strategy:qa,redTeam:null,ethicsReport:null,pitchDeck:null,investmentMemo:null,successScore:null},Wn=n2(Qn);let _s=null;if(tr.has(Ne.PITCH_DECK)){Rt(Ne.PITCH_DECK,"working"),await Cn(500);const{data:qt,usage:Er}=await ype(Wn,k,R);Ee+=Er.total,wr(Ee),Rt(Ne.PITCH_DECK,"done",{output:qt,tokenUsage:Er}),cA(qt),_s=qt}if(tr.has(Ne.INVESTMENT_MEMO)){Rt(Ne.INVESTMENT_MEMO,"working"),await Cn(500);const qt={...Qn,pitchDeck:_s},Er=n2(qt),{data:rs,usage:ji}=await xpe(Er,k,R);Ee+=ji.total,wr(Ee),Rt(Ne.INVESTMENT_MEMO,"done",{output:rs,tokenUsage:ji}),ci(rs)}const Dn=Ee/1e3*M0;sa({totalTokens:Ee,co2g:Dn})}catch(At){console.error(At),Un(At instanceof Error?At.message:"An unknown error occurred during deliverable generation."),o(ot=>ot.map(kt=>kt.status==="working"?{...kt,status:"error"}:kt))}finally{St(!1),it(!0)}},[u,k,R,ye,Tr,tt,we,Sa,w,He,tr,pe]),qn=async()=>{if(!(!Tn||$t)){gr(!0),Rr(null);try{const Ke=n2({strategicDirective:R,ideaArea:y,targetMarket:w,userContext:vr,userSolution:p,founders:B,founderDna:pe,research:we,customerPersona:tt,empathyMap:We,problemStatement:ye,technologyScoutReport:rt,allSolutions:wt,allCritiques:nr,ventureAnalysis:null,solutionScoring:Dr,selectedSolution:Tr,ipStrategy:pi,talentStrategy:$n,valueProposition:es,leanCanvas:Ca,storyboard:bs,financialPlan:Lr,riskAnalysis:gi,technicalBlueprint:$a,goToMarket:qs,strategy:qa,redTeam:null,ethicsReport:null,pitchDeck:zs,investmentMemo:ia,successScore:null}),{data:Ve,usage:At}=await vpe(Ke,k,R);sh(Ve),Ge("redteam");const ot=Sa+At.total;wr(ot);const kt=ot/1e3*M0;sa({totalTokens:ot,co2g:kt})}catch(Ee){console.error("Red Team analysis failed:",Ee),Rr(Ee instanceof Error?Ee.message:"The Red Team analysis failed. Please try again.")}finally{gr(!1)}}},Nn=async()=>{if(!(!Tn||An)){Ai(!0),Hi(null);try{const Ke=n2({strategicDirective:R,ideaArea:y,targetMarket:w,userContext:vr,userSolution:p,founders:B,founderDna:pe,research:we,customerPersona:tt,empathyMap:We,problemStatement:ye,technologyScoutReport:rt,allSolutions:wt,allCritiques:nr,ventureAnalysis:null,solutionScoring:Dr,selectedSolution:Tr,ipStrategy:pi,talentStrategy:$n,valueProposition:es,leanCanvas:Ca,storyboard:bs,financialPlan:Lr,riskAnalysis:gi,technicalBlueprint:$a,goToMarket:qs,strategy:qa,redTeam:Yl,ethicsReport:null,pitchDeck:zs,investmentMemo:ia,successScore:null}),{data:Ve,usage:At}=await wpe(Ke,k,R);uo(Ve),Ge("ethics");const ot=Sa+At.total;wr(ot);const kt=ot/1e3*M0;sa({totalTokens:ot,co2g:kt})}catch(Ee){console.error("Ethics audit failed:",Ee),Hi(Ee instanceof Error?Ee.message:"The Ethics audit failed. Please try again.")}finally{Ai(!1)}}},Fi=async()=>{if(!(!Tn||Cs)){ts(!0),_a(null);try{const Ke=n2({strategicDirective:R,ideaArea:y,targetMarket:w,userContext:vr,userSolution:p,founders:B,founderDna:pe,research:we,customerPersona:tt,empathyMap:We,problemStatement:ye,technologyScoutReport:rt,allSolutions:wt,allCritiques:nr,ventureAnalysis:null,solutionScoring:Dr,selectedSolution:Tr,ipStrategy:pi,talentStrategy:$n,valueProposition:es,leanCanvas:Ca,storyboard:bs,financialPlan:Lr,riskAnalysis:gi,technicalBlueprint:$a,goToMarket:qs,strategy:qa,redTeam:Yl,ethicsReport:Xl,pitchDeck:zs,investmentMemo:ia,successScore:null}),{data:Ve,usage:At}=await bpe(Ke,k,R);AA(Ve),Ge("success_score");const ot=Sa+At.total;wr(ot);const kt=ot/1e3*M0;sa({totalTokens:ot,co2g:kt})}catch(Ee){console.error("Success scoring failed:",Ee),_a(Ee instanceof Error?Ee.message:"The Success Score analysis failed. Please try again.")}finally{ts(!1)}}},El=async()=>{var Ee;if(!(!ye||!Tr||!Lr||xl)){hh(!0),pA(null);try{const Ke={problemStatement:ye.problemStatement,solution:Tr.solutionDescription,targetMarket:((Ee=mc.find(jt=>jt.value===w))==null?void 0:Ee.label)||w},{data:Ve,usage:At}=await Cpe(Ke,Lr,k,R);Ms(jt=>jt?{...jt,scenarios:Ve}:null);const ot=Sa+At.total;wr(ot);const kt=ot/1e3*M0;sa({totalTokens:ot,co2g:kt})}catch(Ke){console.error("Scenario modeling failed:",Ke),pA(Ke instanceof Error?Ke.message:"The scenario modeling failed. Please try again.")}finally{hh(!1)}}},wA=Xe.useCallback(async()=>{if(!bs||ZA)return;ml.current=new AbortController;const Ee=ml.current.signal;Jl(!0),Us&&Us.startsWith("blob:")&&URL.revokeObjectURL(Us),Qo(null),Zl([]),Ka(null);const Ke=Ve=>{Zl(At=>[...At,Ve])};try{const{data:Ve,usage:At}=await Spe(bs,k,Ke,Ee);Ke("Fetching video data...");const ot=await fetch(`${Ve.videoUrl}&key=PLACEHOLDER_API_KEY`);if(!ot.ok)throw new Error(`Failed to fetch video: ${ot.status} ${ot.statusText}`);const kt=await ot.blob(),jt=URL.createObjectURL(kt);Qo(jt);const Ar=Sa+At.total;if(wr(Ar),cr){const Or=Ar/1e3*M0;sa({totalTokens:Ar,co2g:Or})}}catch(Ve){if(Ve instanceof DOMException&&Ve.name==="AbortError")Ka("Video generation was cancelled by the user."),Zl(At=>[...At,"Process cancelled."]);else{const At=Ve instanceof Error?Ve.message:JSON.stringify(Ve);if(At.includes("404")||At.includes("NOT_FOUND")||At.includes("Requested entity was not found"))if(window.aistudio){Ke("Veo model requires a paid project key. Opening selection dialog...");try{await window.aistudio.openSelectKey(),Ka("API Key updated. Please try generating the video again.")}catch(ot){console.error(ot),Ka("Failed to update API key. Please refresh and try again.")}}else Ka("Video generation failed (404). Ensure your API key has access to the Veo model.");else console.error("Video generation failed in App:",Ve),Ka(At)}}finally{Jl(!1),ml.current=null}},[bs,ZA,Sa,cr,Us,k]),Rc=Xe.useCallback(()=>{var Ee;(Ee=ml.current)==null||Ee.abort()},[]),vh=async Ee=>{if(!Tr||yn)return;const Ke=Ee.roleTitle;oe(Ke),xe(Ve=>({...Ve,[Ke]:null}));try{const{data:Ve,usage:At}=await cpe(Ee,Tr,k,R);if(ni(ot=>{if(!ot)return null;const kt=ot.idealCoFounders.map(jt=>jt.roleTitle===Ke?{...jt,suggestedCandidates:Ve}:jt);return{...ot,idealCoFounders:kt}}),wr(ot=>ot+At.total),cr){const ot=cr.totalTokens+At.total,kt=ot/1e3*M0;sa({totalTokens:ot,co2g:kt})}}catch(Ve){console.error("Talent scouting failed:",Ve);const At=Ve instanceof Error?Ve.message:"Failed to suggest candidates.";xe(ot=>({...ot,[Ke]:At}))}finally{oe(null)}},ui=({tab:Ee,label:Ke,icon:Ve})=>{const At=Le===Ee;return d.jsxs("button",{onClick:()=>Ge(Ee),className:`flex items-center justify-center sm:justify-start gap-2 px-3 py-2 text-xs sm:text-sm font-semibold rounded-lg transition-all duration-200 w-full sm:w-auto ${At?"bg-blue-600 text-white shadow-md":"text-gray-300 hover:bg-gray-700"}`,children:[Ve,d.jsx("span",{className:"hidden sm:inline",children:Ke})]})};if(!t)return d.jsx("div",{className:r?"animate-login-exit":"",children:d.jsx(MLe,{onLogin:mA,isTransitioning:r})});const wh=B.some(Ee=>Ee.description.trim()!==""),Qi=l==="problemFirst",As=a.find(Ee=>Ee.status==="working"),s0=As?ARe(As.role):"Initializing...",Ss=Math.max(0,t.maxRuns-t.runCount),bh=t.runCount>=t.maxRuns;let Za="text-green-400 bg-green-900/30 border-green-500/50";return Ss<=2&&Ss>0&&(Za="text-yellow-400 bg-yellow-900/30 border-yellow-500/50"),Ss===0&&(Za="text-red-400 bg-red-900/30 border-red-500/50"),d.jsx("div",{className:`min-h-screen text-gray-100 font-sans p-4 sm:p-6 lg:p-8 flex flex-col ${i?"animate-main-enter":""}`,children:d.jsxs("div",{className:"max-w-7xl mx-auto w-full flex flex-col",children:[d.jsxs("header",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-2",children:[d.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[d.jsx(cG,{className:"w-12 h-12 sm:w-14 sm:h-14"}),d.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold",children:[d.jsx("span",{className:"text-transparent bg-clip-text logo-text-x-grad",children:"X"}),d.jsx("span",{className:"text-white",children:"inovates"})]})]}),d.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-sm",children:[d.jsxs("div",{className:"text-right",children:[d.jsxs("span",{className:"text-gray-300 font-semibold hidden sm:inline",children:["Welcome, ",t.displayName]}),t.role==="admin"&&d.jsx("span",{className:"text-xs text-yellow-400 block",children:"Admin"})]}),t.role==="admin"&&d.jsxs("button",{onClick:()=>dA(!0),className:"flex items-center gap-2 px-3 py-2 bg-yellow-600 hover:bg-yellow-700 rounded-lg transition-colors",children:[d.jsx(Ex,{className:"w-5 h-5"})," Admin Dashboard"]}),d.jsxs("button",{onClick:()=>e0(!0),className:"flex items-center gap-2 px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:[d.jsx(hw,{className:"w-5 h-5"})," Our Science"]}),d.jsxs("button",{onClick:()=>Fc(!0),className:"flex items-center gap-2 px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:[d.jsx(hG,{className:"w-5 h-5"})," My Runs"]}),d.jsxs("button",{onClick:dh,className:"flex items-center gap-2 px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:[d.jsx(Ble,{className:"w-5 h-5"})," Logout"]})]})]}),d.jsxs("div",{className:"flex justify-between items-baseline flex-wrap gap-2",children:[d.jsx("p",{className:"mt-2 text-lg text-gray-400 text-center sm:text-left",children:"Your AI Co-Founder for Venture Creation"}),d.jsxs("div",{className:"flex items-center gap-4",children:[t.role==="user"&&t.status==="active"&&d.jsxs("div",{className:`text-sm font-semibold px-3 py-1 rounded-full border ${Za} transition-colors duration-300`,children:["Runs Left: ",Ss," / ",t.maxRuns]}),d.jsxs("button",{onClick:()=>ch(!0),className:"text-sm text-gray-500 hover:text-gray-300 hover:underline transition-colors",children:["v",mL]})]})]})]}),t.status==="pending"&&d.jsxs("div",{className:"bg-yellow-900/50 border border-yellow-500/50 text-yellow-300 text-sm text-center p-3 rounded-lg mb-6 animate-fade-in",children:[d.jsx("strong",{children:"Account Pending Approval:"})," Your account is currently pending administrator review. You cannot run new simulations until approved."]}),!Tn&&!X&&!ae&&!te&&!M&&wl&&d.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-xl shadow-2xl border themed-border mb-8",children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsxs("div",{className:"bg-gray-700/50 p-1 rounded-lg flex gap-1 text-sm font-semibold",children:[d.jsx("button",{onClick:()=>c("problemFirst"),className:`px-4 py-2 rounded-md transition-colors ${Qi?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-600"}`,children:"Start with a Problem"}),d.jsx("button",{onClick:()=>c("solutionFirst"),className:`px-4 py-2 rounded-md transition-colors ${Qi?"text-gray-300 hover:bg-gray-600":"bg-blue-600 text-white"}`,children:"Start with a Solution"})]})}),d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-2xl font-semibold text-white",children:Qi?"Innovation Challenge":"Describe Your Solution"}),d.jsxs("div",{className:"flex items-center gap-2",children:[Qi&&d.jsx("button",{onClick:()=>xr(!0),className:"text-yellow-400 hover:text-yellow-300 transition-colors","aria-label":"Open Trend Spotter",title:"Trend Spotter: Identify Urgent Challenges",children:d.jsx(zu,{className:"w-8 h-8"})}),d.jsx("button",{onClick:()=>lh(!0),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Show help",children:d.jsx(uG,{className:"w-8 h-8"})})]})]}),d.jsx("textarea",{value:u,onChange:Ee=>f(Ee.target.value),placeholder:Qi?"e.g., Design a system to reduce plastic waste in oceans.":"e.g., An AI-powered drone swarm that can identify and collect plastic debris from ocean surfaces.",rows:3,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 themed-focus-ring focus:outline-none transition-all duration-300 text-gray-200 placeholder-gray-500",disabled:H||lt}),Qi&&d.jsxs("div",{className:"mt-4",children:[d.jsxs("button",{onClick:()=>_r(!Vt),className:"w-full text-left p-3 bg-gray-700/50 rounded-lg hover:bg-gray-700 transition-colors flex justify-between items-center",disabled:H||lt,children:[d.jsx("span",{className:"font-semibold text-gray-300",children:"I have a solution in mind (Optional)"}),d.jsx(bm,{className:`w-5 h-5 transition-transform ${Vt?"rotate-90":""}`})]}),Vt&&d.jsxs("div",{className:"mt-4 p-4 bg-gray-900/30 rounded-lg animate-fade-in-down",children:[d.jsx("h4",{className:"font-semibold text-lg text-gray-200 mb-2",children:"Describe Your Solution"}),d.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"If you provide a solution, the AI will skip the brainstorming phase and directly build a venture plan around your idea."}),d.jsx("textarea",{value:p,onChange:Ee=>g(Ee.target.value),placeholder:"e.g., A mobile app that uses image recognition to identify recyclable materials and connects users to local recycling centers.",rows:4,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 themed-focus-ring focus:outline-none transition-all duration-300 text-gray-200 placeholder-gray-500",disabled:H||lt})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Provide Context (Optional PDF)"}),d.jsxs("div",{className:"mt-2 flex flex-col gap-2 items-start",children:[!Ti&&d.jsxs("label",{htmlFor:"context-file-upload",className:"relative cursor-pointer bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(B8,{className:"w-5 h-5"}),"Upload Research or Brief"]}),d.jsx("input",{id:"context-file-upload",ref:Jr,name:"context-file-upload",type:"file",className:"sr-only",accept:".pdf",onChange:_l,disabled:mn})]}),mn&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[d.jsx(vs,{})," ",d.jsx("span",{children:"Parsing PDF..."})]}),Gr&&d.jsx("p",{className:"text-xs text-red-400",children:Gr}),Ti&&!mn&&d.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-900/50 rounded-lg",children:[d.jsx(pm,{className:"w-6 h-6 text-green-400"}),d.jsx("span",{className:"text-sm text-gray-300",children:Ti}),d.jsx("button",{onClick:gh,className:"text-red-400 hover:text-red-300",children:d.jsx(W_,{className:"w-5 h-5"})})]})]})]}),d.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"ideaArea",className:"block text-sm font-medium text-gray-300 mb-2",children:"Area of Innovation"}),d.jsx("select",{id:"ideaArea",value:y,onChange:Ee=>x(Ee.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 themed-focus-ring focus:outline-none transition-all duration-300 text-gray-200",disabled:H||lt,children:O0.map(Ee=>d.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"targetMarket",className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Market"}),d.jsx("select",{id:"targetMarket",value:w,onChange:Ee=>S(Ee.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 themed-focus-ring focus:outline-none transition-all duration-300 text-gray-200",disabled:H||lt,children:mc.map(Ee=>d.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"strategicDirective",className:"block text-sm font-medium text-gray-300 mb-2",children:"Strategic Directive"}),d.jsxs("select",{id:"strategicDirective",value:R,onChange:Ee=>D(Ee.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 themed-focus-ring focus:outline-none transition-all duration-300 text-gray-200",disabled:H||lt,children:[d.jsx("option",{value:"BALANCED",children:"Balanced Approach"}),d.jsx("option",{value:"TIME_TO_MARKET",children:"Time to Market"}),d.jsx("option",{value:"UNIQUE_VALUE_PROPOSITION",children:"Unique Value Proposition"}),d.jsx("option",{value:"CAPITAL_EFFICIENCY",children:"Capital Efficiency"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"modelMode",className:"block text-sm font-medium text-gray-300 mb-2",children:"Execution Mode"}),d.jsxs("select",{id:"modelMode",value:k,onChange:Ee=>O(Ee.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 themed-focus-ring focus:outline-none transition-all duration-300 text-gray-200",disabled:H||lt,children:[d.jsx("option",{value:"quality",children:"Quality (Best, Slower)"}),d.jsx("option",{value:"creative",children:"Creative (Most Novel)"}),d.jsx("option",{value:"fast",children:"Fast (Quickest, Lower Cost)"})]})]}),d.jsx("div",{className:"flex flex-col justify-end",children:d.jsxs("label",{className:"flex items-center cursor-pointer p-3 bg-gray-700/50 rounded-lg h-full",children:[d.jsx("input",{id:"enable-refinement",type:"checkbox",checked:Q,onChange:Ee=>V(Ee.target.checked),className:"h-5 w-5 rounded border-gray-500 bg-gray-700 text-blue-500 themed-focus-ring focus:ring-offset-gray-800",disabled:H||lt}),d.jsx("span",{className:"ml-3 text-sm font-medium text-gray-300",children:"Enable Devil's Advocate Loop"})]})}),d.jsx("div",{className:"flex flex-col justify-end",children:d.jsxs("label",{className:"flex items-center cursor-pointer p-3 bg-gray-700/50 rounded-lg h-full",children:[d.jsx("input",{id:"use-founder-dna",type:"checkbox",checked:re,onChange:Ee=>P(Ee.target.checked),disabled:!wh||H||lt||!Qi,className:"h-5 w-5 rounded border-gray-500 bg-gray-700 text-blue-500 themed-focus-ring focus:ring-offset-gray-800 disabled:cursor-not-allowed"}),d.jsx("span",{className:`ml-3 text-sm font-medium ${wh&&Qi?"text-gray-300":"text-gray-500"}`,children:"Use Founder DNA in Ideation"})]})})]}),d.jsxs("div",{className:"mt-4",children:[d.jsxs("button",{onClick:()=>ir(!Ut),className:"w-full text-left p-3 bg-gray-700/50 rounded-lg hover:bg-gray-700 transition-colors flex justify-between items-center",disabled:H||lt,children:[d.jsx("span",{className:"font-semibold text-gray-300",children:"Provide Founder DNA (Optional)"}),d.jsx(bm,{className:`w-5 h-5 transition-transform ${Ut?"rotate-90":""}`})]}),Ut&&d.jsxs("div",{className:"mt-4 p-4 bg-gray-900/30 rounded-lg animate-fade-in-down",children:[d.jsx("h4",{className:"font-semibold text-lg text-gray-200 mb-4",children:"Founder DNA Input"}),d.jsx("div",{className:"space-y-6",children:B.map((Ee,Ke)=>d.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-lg",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:Ee.name,onChange:Ve=>Xa(Ee.id,"name",Ve.target.value),placeholder:`Founder ${Ke+1} Name`,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md pr-10"}),d.jsx("button",{type:"button",onClick:()=>Os(Ee.id),disabled:!Ee.name.trim()||!!Ao,className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 text-gray-400 hover:text-white disabled:text-gray-600 disabled:cursor-not-allowed transition-colors","aria-label":`Search for ${Ee.name}`,title:`Search for ${Ee.name}`,children:Ao===Ee.id?d.jsx(vs,{}):d.jsx(uw,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("label",{htmlFor:`photo-upload-${Ee.id}`,className:"cursor-pointer bg-gray-600 hover:bg-gray-500 text-white text-sm font-medium py-2 px-3 rounded-md transition-colors",children:Ee.photoB64?"Change Photo":"Upload Photo"}),d.jsx("input",{id:`photo-upload-${Ee.id}`,type:"file",className:"sr-only",onChange:Ve=>Sl(Ve,Ee.id),accept:"image/*"}),Ee.photoB64&&d.jsx("img",{src:Ee.photoB64,alt:Ee.name||`Founder ${Ke+1}`,className:"w-10 h-10 rounded-full object-cover"})]})]}),d.jsx("textarea",{value:Ee.description,onChange:Ve=>Xa(Ee.id,"description",Ve.target.value),placeholder:Ee.name?`Describe ${Ee.name}'s professional background, work style, and motivations... or upload a CV.`:`Describe Founder ${Ke+1}'s professional background... or upload a CV.`,rows:3,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md mt-3 text-sm"}),rn[Ee.id]&&d.jsx("p",{className:"text-xs text-red-400 mt-1",children:rn[Ee.id]}),d.jsxs("div",{className:"mt-3",children:[d.jsxs("label",{htmlFor:`cv-upload-${Ee.id}`,className:"relative cursor-pointer bg-gray-600 hover:bg-gray-500 text-white text-sm font-medium py-2 px-3 rounded-md transition-colors inline-flex items-center gap-2",children:[d.jsx(B8,{className:"w-4 h-4"}),d.jsx("span",{children:"Generate from CV"})]}),d.jsx("input",{id:`cv-upload-${Ee.id}`,type:"file",className:"sr-only",onChange:Ve=>mi(Ve,Ee.id),accept:".pdf,.txt",disabled:!Ee.name.trim()||!!ls}),ls===Ee.id&&d.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-gray-400 ml-3",children:[d.jsx(vs,{})," ",d.jsx("span",{children:"Analyzing CV..."})]}),Ls[Ee.id]&&d.jsx("p",{className:"text-xs text-red-400 mt-1",children:Ls[Ee.id]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-600/50",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Founder Personality/Strengths Analysis"}),d.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Analyze founder strengths by manually rating predefined traits. This helps the AI understand the team's dynamics."}),d.jsx("button",{type:"button",onClick:()=>ks(Hn===Ee.id?null:Ee.id),className:"text-sm text-blue-400 hover:text-blue-300 font-semibold",children:Hn===Ee.id?"Hide Manual Trait Input":"Enter Traits Manually"}),an[Ee.id]&&d.jsx("p",{className:"text-xs text-red-400 mt-2",children:an[Ee.id]}),Hn===Ee.id&&d.jsxs("div",{className:"mt-4 p-4 bg-gray-900/50 rounded-lg animate-fade-in",children:[d.jsx("h5",{className:"font-semibold text-gray-200 mb-3",children:"Self-Assessed Traits"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4",children:HH.map(Ve=>{var At,ot;return d.jsxs("div",{children:[d.jsxs("label",{htmlFor:`${Ee.id}-${Ve}`,className:"text-sm text-gray-300 flex justify-between",children:[d.jsx("span",{children:Ve}),d.jsx("span",{className:"font-bold",children:((At=Ee.manualTraits)==null?void 0:At[Ve])||50})]}),d.jsx("input",{id:`${Ee.id}-${Ve}`,type:"range",min:"0",max:"100",value:((ot=Ee.manualTraits)==null?void 0:ot[Ve])||50,onChange:kt=>bl(Ee.id,Ve,parseInt(kt.target.value,10)),className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer"})]},Ve)})}),ws[Ee.id]?d.jsxs("span",{className:"text-green-400 flex items-center gap-2 text-sm font-semibold mt-4 animate-fade-in",children:[d.jsx(Mp,{className:"w-5 h-5"}),"Soft Skills Analyzed"]}):d.jsxs("button",{type:"button",onClick:()=>ca(Ee.id),disabled:!!Yi||!Ee.name,className:"mt-4 flex items-center gap-2 px-3 py-2 text-sm bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:Ee.name?"":"Please enter a founder name first",children:[Yi===Ee.id&&Hn?d.jsx(vs,{}):d.jsx(zu,{className:"w-4 h-4"}),"Analyze Manual Input"]})]})]}),d.jsx("div",{className:"flex justify-end mt-4",children:d.jsx("button",{type:"button",onClick:()=>Cl(Ee.id),disabled:B.length<=1,className:"text-red-500 hover:text-red-400 disabled:text-gray-600 disabled:cursor-not-allowed transition-colors","aria-label":"Remove founder",children:d.jsx(W_,{className:"w-5 h-5"})})})]},Ee.id))}),d.jsx("button",{type:"button",onClick:Ic,className:"mt-4 px-4 py-2 text-sm bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:"Add Founder"})]})]}),d.jsx(hRe,{modelMode:k,isRefinementEnabled:Q,founderCount:B.filter(Ee=>Ee.description.trim()!=="").length})]}),d.jsxs("div",{ref:rc,className:"relative",children:[d.jsx(qLe,{agents:a,onAgentClick:nu,selectedDeliverables:tr,onDeliverableToggle:gA,isRefinementEnabled:Q}),(H||lt)&&As&&d.jsx(rRe,{activeAgent:As,phase:s0,completedAgents:ah,totalAgentsToRun:Ds,modelMode:k})]}),!Tn&&!X&&!ae&&!te&&!M&&wl&&d.jsxs("div",{className:"mt-8 text-center",children:[d.jsx("button",{onClick:mh,disabled:H||!u||lt||Z||bh,className:"px-8 py-4 primary-button text-white font-bold rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center text-lg mx-auto",children:H||lt?d.jsxs(d.Fragment,{children:[d.jsx(vs,{}),d.jsx("span",{className:"ml-3",children:"Simulating..."})]}):bh?"Run Limit Reached":"Innovate"}),bh&&d.jsxs("p",{className:"mt-2 text-sm text-red-400 font-semibold",children:["You have used ",t.maxRuns,"/",t.maxRuns," runs. Please contact admin to upgrade."]}),uA&&d.jsx("p",{className:"mt-4 text-red-400 text-sm",children:uA})]}),te&&ke&&d.jsx(JLe,{suggestedChallenges:ke,onSelectChallenge:yh}),M&&W&&d.jsx(eRe,{frames:W,onSelectFrame:Lc}),ae&&d.jsx(XLe,{suggestedNames:Fe,onSelect:au}),X&&wt&&nr&&Dr&&d.jsx(YLe,{allSolutions:wt,allCritiques:nr,solutionScores:Dr,onSelectIdea:vA,onRegenerateIdeas:xh}),Z&&!Tn&&Q&&!ae&&d.jsx(DLe,{problemStatement:ye,customerPersona:tt,selectedSolution:Tr,allCritiques:nr,onApprove:on,onEnhance:Ja,onCancelEnhancement:mo,onRestart:Ya,isGenerating:lt,isEnhancing:Be,enhancementProgress:Ft,error:Dt}),Tn&&d.jsxs("div",{className:"mt-8 animate-fade-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-3xl font-bold text-white",children:["Venture Plan: ",Lr==null?void 0:Lr.selectedBrandName]}),d.jsx("p",{className:"text-gray-400",children:"Your comprehensive venture creation report is ready."})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[d.jsxs("button",{onClick:yA,disabled:ne,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[ne?d.jsx(EI,{className:"w-5 h-5"}):d.jsx(Tle,{className:"w-5 h-5"}),ne?"Saved":"Save Run"]}),d.jsxs("button",{onClick:ph,className:"flex items-center gap-2 px-3 py-2 text-sm bg-gray-700 text-white font-semibold rounded-lg hover:bg-gray-600 transition-colors",children:[yl?d.jsx(EI,{className:"w-5 h-5 text-green-400"}):d.jsx(Ele,{className:"w-5 h-5"}),"Copy JSON"]}),d.jsxs("button",{onClick:Go,disabled:fo,className:"flex items-center gap-2 px-3 py-2 text-sm bg-gray-700 text-white font-semibold rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:[fo?d.jsx(vs,{}):d.jsx(pm,{className:"w-5 h-5"}),"Download HTML"]}),d.jsxs("button",{onClick:i0,disabled:Sf,className:"flex items-center gap-2 px-3 py-2 text-sm bg-gray-700 text-white font-semibold rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:[Sf?d.jsx(vs,{}):d.jsx(BI,{className:"w-5 h-5"}),"Download PDF"]}),d.jsxs("button",{onClick:oa,disabled:tu,className:"flex items-center gap-2 px-3 py-2 text-sm bg-gray-700 text-white font-semibold rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:[tu?d.jsx(vs,{}):d.jsx(_I,{className:"w-5 h-5"}),"Download Pitch Deck"]})]})]}),d.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl shadow-2xl border themed-border overflow-hidden",children:[d.jsxs("div",{className:"flex border-b border-gray-700 overflow-x-auto no-scrollbar",children:[d.jsx(ui,{tab:"overview",label:"Overview",icon:d.jsx(dG,{className:"w-4 h-4"})}),(pe||$n||B.some(Ee=>Ee.analysisProfile))&&d.jsx(ui,{tab:"founder_dna",label:"Founder & Team",icon:d.jsx(Cm,{className:"w-4 h-4"})}),d.jsx(ui,{tab:"problem",label:"Problem Space",icon:d.jsx(uw,{className:"w-4 h-4"})}),d.jsx(ui,{tab:"solution",label:"Solution",icon:d.jsx(xC,{className:"w-4 h-4"})}),rt&&d.jsx(ui,{tab:"tech_research",label:"Tech Intelligence",icon:d.jsx(hw,{className:"w-4 h-4"})}),pi&&d.jsx(ui,{tab:"ip_strategy",label:"IP Strategy",icon:d.jsx(Bx,{className:"w-4 h-4"})}),d.jsx(ui,{tab:"financials",label:"Financials",icon:d.jsx(Px,{className:"w-4 h-4"})}),ia&&d.jsx(ui,{tab:"investment_memo",label:"Memo",icon:d.jsx(pm,{className:"w-4 h-4"})}),d.jsx(ui,{tab:"advantages",label:"Advantages",icon:d.jsx(fw,{className:"w-4 h-4"})}),d.jsx(ui,{tab:"gtm",label:"Go-to-Market",icon:d.jsx(fL,{className:"w-4 h-4"})}),d.jsx(ui,{tab:"risk",label:"Risks",icon:d.jsx(Ex,{className:"w-4 h-4"})}),d.jsx(ui,{tab:"ops",label:"Ops & Tech",icon:d.jsx(dL,{className:"w-4 h-4"})}),d.jsx(ui,{tab:"references",label:"References",icon:d.jsx(GB,{className:"w-4 h-4"})}),d.jsx(ui,{tab:"redteam",label:"Red Team",icon:d.jsx(T8,{className:"w-4 h-4"})}),d.jsx(ui,{tab:"ethics",label:"Ethics Audit",icon:d.jsx(Y_,{className:"w-4 h-4"})}),d.jsx(ui,{tab:"success_score",label:"Success Score",icon:d.jsx(_x,{className:"w-4 h-4"})}),d.jsx(ui,{tab:"pitch_deck",label:"Pitch Deck",icon:d.jsx(_I,{className:"w-4 h-4"})}),d.jsx(ui,{tab:"usage_metrics",label:"Usage",icon:d.jsx(pL,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"p-6",children:[Le==="overview"&&d.jsx(NBe,{financialPlan:Lr,leanCanvas:Ca,problemStatement:ye,selectedSolution:Tr,customerPersona:tt,strategy:qa,research:we,technicalBlueprint:$a,successScore:gl,storyboard:bs}),Le==="founder_dna"&&d.jsxs("div",{className:"space-y-8",children:[pe&&d.jsx(LR,{analysis:pe,founders:B}),B.map(Ee=>Ee.analysisProfile&&d.jsx(HR,{profile:Ee.analysisProfile},Ee.id)),$n&&d.jsx(RR,{data:$n,onSuggestCandidates:vh,isScouting:yn,scoutError:_e}),$n&&$n.teamCapabilityAnalysis&&d.jsx(MR,{data:$n})]}),Le==="problem"&&d.jsxs("div",{className:"space-y-6",children:[ye&&d.jsx(_T,{data:ye}),tt&&d.jsx(ET,{data:tt,onInterview:()=>Bt(tt)}),We&&d.jsx(BT,{data:We}),((we==null?void 0:we.marketAnalysis)||(Lr==null?void 0:Lr.marketSize))&&d.jsx(UR,{researchData:we,financialData:Lr})]}),Le==="solution"&&d.jsxs("div",{className:"space-y-6",children:[Dr&&wt&&d.jsx(OT,{data:Dr,allSolutions:wt}),Tr&&d.jsx(TT,{data:Tr,allSolutions:wt,allCritiques:nr}),es&&d.jsx(FT,{data:es}),Ca&&d.jsx(IT,{data:Ca}),bs&&d.jsx(kT,{data:bs,onGenerateVideo:wA,onCancelVideoGeneration:Rc,isGeneratingVideo:ZA,videoGenerationProgress:za,generatedVideoUrl:Us,videoGenerationError:Cf})]}),Le==="tech_research"&&rt&&d.jsx(NT,{data:rt}),Le==="ip_strategy"&&pi&&d.jsx(PR,{data:pi}),Le==="financials"&&Lr&&d.jsx(LT,{data:Lr,isModelingScenarios:xl,scenarioError:fh,handleRunScenarioModeling:El,onOpenCashFlowModel:()=>r0(!0)}),Le==="investment_memo"&&ia&&d.jsx(PT,{data:ia}),Le==="advantages"&&d.jsxs("div",{className:"space-y-6",children:[qa&&d.jsx(RT,{data:qa}),(we==null?void 0:we.competitiveLandscape)&&we.competitiveLandscape.length>0&&d.jsx(DR,{data:we})]}),Le==="gtm"&&qs&&d.jsx(MT,{data:qs}),Le==="risk"&&d.jsx("div",{className:"space-y-6",children:gi&&d.jsx(UT,{data:gi})}),Le==="ops"&&$a&&d.jsx(DT,{data:$a}),Le==="references"&&(we==null?void 0:we.sources)&&d.jsx(QR,{sources:we.sources}),Le==="redteam"&&d.jsx("div",{className:"space-y-6",children:Yl?d.jsx(OR,{data:Yl}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"bg-red-900/20 p-6 rounded-full inline-block mb-4",children:d.jsx(T8,{className:"w-12 h-12 text-red-500"})}),d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Stress-Test Your Strategy"}),d.jsx("p",{className:"text-gray-400 mb-6 max-w-md mx-auto",children:'Deploy a "Red Team" AI agent to simulate a ruthless competitor. It will attack your business plan to expose weaknesses you might have missed.'}),d.jsxs("button",{onClick:qn,disabled:$t,className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-bold rounded-lg transition-colors flex items-center gap-2 mx-auto disabled:opacity-50",children:[$t?d.jsx(vs,{}):d.jsx(fw,{className:"w-5 h-5"}),"Launch Red Team Attack"]}),Vr&&d.jsx("p",{className:"mt-4 text-red-400",children:Vr})]})}),Le==="ethics"&&d.jsxs("div",{className:"space-y-6",children:[Xl?d.jsx(GR,{data:Xl}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"bg-blue-900/20 p-6 rounded-full inline-block mb-4",children:d.jsx(Bx,{className:"w-12 h-12 text-blue-400"})}),d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Ethics & Compliance Audit"}),d.jsx("p",{className:"text-gray-400 mb-6 max-w-md mx-auto",children:"Run an AI audit to evaluate your venture against key ethical frameworks (privacy, bias, sustainability) and identify potential risks early."}),d.jsxs("button",{onClick:Nn,disabled:An,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg transition-colors flex items-center gap-2 mx-auto disabled:opacity-50",children:[An?d.jsx(vs,{}):d.jsx(Y_,{className:"w-5 h-5"}),"Run Ethics Audit"]}),Ni&&d.jsx("p",{className:"mt-4 text-red-400",children:Ni})]}),(we==null?void 0:we.ethicalConsiderations)&&d.jsx(jR,{data:we})]}),Le==="success_score"&&d.jsx("div",{className:"space-y-6",children:gl?d.jsx(VR,{data:gl}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"bg-yellow-900/20 p-6 rounded-full inline-block mb-4",children:d.jsx(_x,{className:"w-12 h-12 text-yellow-400"})}),d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Get Your Innovation Success Score"}),d.jsx("p",{className:"text-gray-400 mb-6 max-w-md mx-auto",children:"Have the AI evaluate your entire venture plan against VC criteria (Desirability, Feasibility, Viability) to generate a predictive success score."}),d.jsxs("button",{onClick:Fi,disabled:Cs,className:"px-6 py-3 bg-yellow-600 hover:bg-yellow-700 text-white font-bold rounded-lg transition-colors flex items-center gap-2 mx-auto disabled:opacity-50",children:[Cs?d.jsx(vs,{}):d.jsx(zu,{className:"w-5 h-5"}),"Calculate Score"]}),Ks&&d.jsx("p",{className:"mt-4 text-red-400",children:Ks})]})}),Le==="pitch_deck"&&zs&&d.jsx(aRe,{pitchDeck:zs,brandName:Lr==null?void 0:Lr.selectedBrandName}),Le==="usage_metrics"&&cr&&d.jsx(LY,{agents:a,metrics:cr})]})]})]}),d.jsxs("div",{style:{position:"absolute",top:"-20000px",left:"-20000px",width:"1px",height:"1px",overflow:"hidden"},children:[d.jsx("div",{ref:po,children:Tn&&d.jsx(HBe,{challenge:u,report:{strategicDirective:R,ideaArea:y,targetMarket:w,userContext:vr,userSolution:p,founders:B,founderDna:pe,research:we,customerPersona:tt,empathyMap:We,problemStatement:ye,technologyScoutReport:rt,allSolutions:wt,allCritiques:nr,solutionScoring:Dr,selectedSolution:Tr,ipStrategy:pi,talentStrategy:$n,valueProposition:es,leanCanvas:Ca,storyboard:bs,financialPlan:Lr,riskAnalysis:gi,technicalBlueprint:$a,goToMarket:qs,strategy:qa,redTeam:Yl,ethicsReport:Xl,pitchDeck:zs,investmentMemo:ia,usageMetrics:cr,successScore:gl,ventureAnalysis:null},agents:a})}),d.jsx("div",{ref:iu,children:Tn&&d.jsx(OLe,{challenge:u,report:{strategicDirective:R,ideaArea:y,targetMarket:w,userContext:vr,userSolution:p,founders:B,founderDna:pe,research:we,customerPersona:tt,empathyMap:We,problemStatement:ye,technologyScoutReport:rt,allSolutions:wt,allCritiques:nr,solutionScoring:Dr,selectedSolution:Tr,ipStrategy:pi,talentStrategy:$n,valueProposition:es,leanCanvas:Ca,storyboard:bs,financialPlan:Lr,riskAnalysis:gi,technicalBlueprint:$a,goToMarket:qs,strategy:qa,redTeam:Yl,ethicsReport:Xl,pitchDeck:zs,investmentMemo:ia,usageMetrics:cr,successScore:gl,ventureAnalysis:null},agents:a})}),d.jsx("div",{ref:vl,children:Tn&&zs&&d.jsx(iRe,{pitchDeck:zs,brandName:Lr==null?void 0:Lr.selectedBrandName})})]}),hA&&d.jsx(QBe,{agent:hA,onClose:()=>nu(null)}),oh&&d.jsx(VLe,{onClose:()=>e0(!1)}),_f&&d.jsx(LLe,{onClose:()=>lh(!1)}),t0&&d.jsx(ULe,{runs:Ah,onLoad:n0,onDelete:Tf,onClose:()=>Fc(!1)}),Ef&&d.jsx(dJ,{onClose:()=>ch(!1)}),fA&&d.jsx(lRe,{onClose:()=>dA(!1),currentUser:t}),ht&&d.jsx(PLe,{persona:ht,onClose:()=>Bt(null)}),zr&&d.jsx(oRe,{isOpen:zr,onClose:()=>xr(!1),initialMarket:w,onSelectChallenge:la,onGenerate:Ba}),Bf&&Lr&&d.jsx(ILe,{isOpen:Bf,onClose:()=>r0(!1),baseFinancialPlan:Lr,modelMode:k,strategicDirective:R,onSave:Ee=>Ms(Ke=>Ke?{...Ke,cashFlowModel:Ee}:null)})]})})},mJ=document.getElementById("root");if(!mJ)throw new Error("Could not find root element to mount to");const dRe=DZ.createRoot(mJ);dRe.render(d.jsx(hC.StrictMode,{children:d.jsx(fRe,{})}));export{MV as $,K2 as A,Rpe as B,tme as C,fR as D,Al as E,EV as F,kbe as G,Rxe as H,gP as I,Hve as J,gge as K,Fx as L,yRe as M,dT as N,Mge as O,kL as P,TP as Q,_xe as R,v_ as S,Ibe as T,bC as U,Gge as V,wC as W,or as X,Ir as Y,Cbe as Z,j as _,Wge as a,aR as a$,wxe as a0,KP as a1,zP as a2,NRe as a3,SRe as a4,BRe as a5,ERe as a6,bRe as a7,I1 as a8,$L as a9,qCe as aA,bxe as aB,mRe as aC,fT as aD,BE as aE,Ez as aF,$k as aG,NC as aH,VCe as aI,GCe as aJ,QL as aK,Q0 as aL,QP as aM,tye as aN,gw as aO,Xwe as aP,Sz as aQ,mz as aR,twe as aS,SE as aT,rwe as aU,BC as aV,sg as aW,qwe as aX,d7 as aY,jm as aZ,nwe as a_,TRe as aa,CRe as ab,IRe as ac,FRe as ad,_Re as ae,mSe as af,RW as ag,QRe as ah,jve as ai,Ga as aj,Op as ak,nR as al,aK as am,$m as an,kz as ao,Yr as ap,pf as aq,l5e as ar,HRe as as,jRe as at,ORe as au,pr as av,PRe as aw,VSe as ax,PSe as ay,OSe as az,Kge as b,ewe as b0,awe as b1,qx as b2,Ywe as b3,xbe as b4,uwe as b5,hbe as b6,iR as b7,z7 as b8,fr as b9,Dk as bA,gRe as bB,_i as bC,Sn as bD,hz as ba,Cc as bb,K1e as bc,HL as bd,WV as be,SC as bf,JV as bg,wRe as bh,Lpe as bi,ybe as bj,ube as bk,vbe as bl,cT as bm,J2e as bn,sR as bo,Cz as bp,bbe as bq,$x as br,nbe as bs,I5e as bt,EC as bu,EE as bv,Dp as bw,c7 as bx,oR as by,xz as bz,fi as c,Vn as d,RV as e,Qa as f,Xge as g,Vd as h,KA as i,Kve as j,Gx as k,_t as l,Rz as m,xRe as n,VRe as o,Jge as p,Zge as q,GRe as r,Yge as s,Qve as t,Vu as u,MSe as v,Mbe as w,kRe as x,zge as y,vRe as z};
